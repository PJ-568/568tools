!function(){function t(){this.Mo={},this.ca={}}function e(){t.call(this),this.FQ={},this.eN={},this.eB={},e.NW=this}t.Ex=[],t.DP=function(e){var i=t.Ex;if(0!=i.length)for(var n=new xt(bt.E.Gn),r=0;r<i.length;r++)i[r].N(n);window.requestAnimationFrame(t.DP)},window.requestAnimationFrame(t.DP),t.prototype.tHp=function(t){var e=this.Mo[t];return null!=e&&e.length>0},t.prototype.addEventListener=function(t,e){this.O(t,e,null)},t.prototype.O=function(e,i,n){if(null==this.Mo[e]&&(this.Mo[e]=[],this.ca[e]=[]),this.Mo[e].push(i),this.ca[e].push(n),e==bt.E.Gn){var r=t.Ex;-1==r.indexOf(this)&&r.push(this)}},t.prototype.removeEventListener=function(e,i){var n=this.Mo[e];if(null!=n){var r=n.indexOf(i);if(!(r<0)){var s=this.ca[e];if(n.splice(r,1),s.splice(r,1),e==bt.E.Gn&&0==n.length){var a=t.Ex;a.splice(a.indexOf(this),1)}}}},t.prototype.N=function(t){t.currentTarget=this,null==t.target&&(t.target=this);var e=this.Mo[t.type];if(null!=e)for(var i=this.ca[t.type],n=0;n<e.length;n++)null==i[n]?e[n](t):e[n].call(i[n],t)},e.prototype=new t,e.trg=function(t,i){for(var n=0,r=e.Ee;n<r.length&&1!=(i>>>n&1);)n++;return 0!=i&&""!=r[n][1]||(n=(0!=(15&i)&&e.Dd(t,[33,126]),0)),r[n][1]},e.Ek=120,e.jg=20,e.cols=8,e.jv=function(t){var e=t.name.postScriptName;return null==e?null:e.replace(/ /g,"-")},e.tyK=function(t){for(var e=t.name,i=e.typoFamilyName?e.typoFamilyName:e.fontFamily,n=e.typoSubfamilyName?e.typoSubfamilyName:e.fontSubfamily,r="JUICE,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Libre Caslon,Londrina,Panefresco,Perspective Sans,Plasma Drip,SF Shai Fontai,SF Toontime,SF Wasabi,SF Wonder Comic,Sansumi,Solveig,Theano,UnifrakturMaguntia,Varela,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,itsadzoke,Noto Sans JP,Noto Sans KR,Noto Serif JP,Noto Serif KR,Mplus 1p,Rounded Mplus 1c,Abhaya Libre,Bai Jamjuree,Gothic A1,Cairo,Chakra Petch,Clear Sans,Colaborate,Diner,El Messiri,Exo 2,Exo,Fahkwang,Gaegu,IBM Plex Mono,IBM Plex Sans Condensed,IBM Plex Sans,IBM Plex Serif,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,K2D,Karnivore,Knigthings Petrock,KoHo,Kodchasan,Krub,Libre Barcode,Lunchtype,Mada,Mali,Mirza,Mukta Malar,NanumMyeongjo,Newt Serif,Niramit,Proclamate,Tajawal,Teutonic".split(","),s=0;s<r.length;s++)if(i.startsWith(r[s])){var a=i.slice(r[s].length);i=r[s],(a.startsWith(" ")||a.startsWith("-"))&&(a=a.slice(1)),""!=a&&(n="Regular"==n?a:a+" "+n);break}return[i,n]},e.prototype.jq=function(t){if(this.FQ[t])return this.FQ[t];if(this.eN[t])return null;var e=null,i=this.g_();if(null!=i[t]&&(e=i[t][5]),null==e){var r;if(this.Dx[t])r=this.Dx[t];else{var s="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),a=t.toLowerCase(),h=0;-1!=a.indexOf("sans")?h=0:-1!=a.indexOf("serif")&&(h=4);var o=-1!=a.indexOf("bold"),l=-1!=a.indexOf("italic")||-1!=a.indexOf("oblique")||a.endsWith("-it");o&&l?h+=3:l?h+=2:o&&(h+=1),r=s[h]}return null==this.eB[r]&&alert(n.get([22,6,0])+" "+t+" "+n.get([22,6,1])+". "+n.get([22,6,2])+" "+r+"."),this.eB[r]=!0,this.jq(r)}this.eN[t]="a";var u=new xt(bt.E.Y,!0);u.data={X:bt.m.UF,gg:{url:"rsrc/fonts/"+e}},this.N(u)},e.prototype.ttL=function(t){alert(n.get([22,6,0])+" "+t.name.fullName+" "+n.get([23,0])+".");for(var i=e.jv(t),r=!1,s=FNTS.list,a=0;a<s.length;a++)s[a][2]==i&&(r=!0);if(!r){var h=e.tHf(t),o=document.createElement("canvas"),l=o.getContext("2d");o.width=e.Ek,o.height=e.jg;var u=.75*e.jg/t.head.unitsPerEm;l.translate(5,.75*e.jg),l.scale(u,-u),l.fillStyle="#000000";var f=Typr.U.stringToGlyphs(t,e.trg(t,h[3]));Typr.U.pathToContext(Typr.U.glyphsToPath(t,f),l),l.fill(),h.eZ=o.toDataURL(),this.DM(h,s.length),s.push(h)}delete this.eN[i],this.FQ[i]=t},e.tTM=function(){for(var t=e.Ee,i=[],n=0;n<t.length;n++)i.push(t[n][0]);return i},e.Ee=[["Latin-1","Preview",[160,255],.7],["Latin Ext. A","",[256,383],.7],["Greek","",[913,929,931,969],.7],["Cyrillic","",[1040,1119],.7],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7],["Arabic","",[1569,1594,1600,1749],.7],["Hangul","예고편",[12592,12687,44032,42927],.7],["Chi-Jap-Kor","預習",[19968,40895],.05],["Tibetan","ཐུགས་རྗེ་ཆེ།",[3840,4044],.7],["Devanagari","पूर्वावलोकन",[2304,2431],.7]],e.tHf=function(t,i,n){t.name;var r=0;if(null==e.jv(t))throw console.log(t),"No postScriptName!";for(var s=e.Ee,a=[],h=0;h<s.length;h++){var o=s[h][2],l=s[h][3];a[h]=e.Dd(t,o)>l?1:0}for(h=0;h<a.length;h++)r+=a[h]<<h;var u=e.tyK(t);return[u[0],u[1],e.jv(t),r,n,i]},e.Dd=function(t,e){for(var i=0,n=0,r=0;r<e.length;r+=2)for(var s=e[r];s<=e[r+1];s++){0==Typr.U.codeToGlyph(t,s)?n++:i++}return i/(i+n)},e.tTS=function(t,e){return t[2]<e[2]?-1:t[2]>e[2]?1:0},e.prototype.Dx={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DeajVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""},e.prototype.g_=function(){if(null==FNTS.map)for(var t=FNTS.list,e=0;e<t.length;e++)this.DM(t[e],e);return FNTS.map},e.prototype.DM=function(t,e){var i=t[0],n=t[1];t.U_=e,null==FNTS.map&&(FNTS.map={}),FNTS.map[t[2]]=t,null==FNTS.mapFS&&(FNTS.mapFS={}),FNTS.mapFS[i+"---"+n]=t,null==FNTS.mapSub&&(FNTS.mapSub={});var r=FNTS.mapSub[i];null==r&&(r=FNTS.mapSub[i]=[]),-1==r.indexOf(n)&&r.push(n)},e.tHK=function(t,i){return e.KH(t)-e.KH(i)},e.KH=function(t){t=t.toLowerCase();var i=e.tIK(t)+(e.t$h(t)<<1);return-1==t.indexOf("cond")&&(i+=1<<25),i},e.tIK=function(t){return-1!=t.indexOf("italic")||-1!=t.indexOf("oblique")?1:0},e.t$h=function(t){for(var e=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"],i=-1,n=-1,r=0;r<e.length;r++){var s=e[r];if(s instanceof Array)for(var a=0;a<s.length;a++){var h=s[a];-1!=t.indexOf(h)&&(-1==i||n<h.length)&&(i=r,n=h.length)}else-1!=t.indexOf(s)&&(-1==i||n<s.length)&&(i=r,n=s.length)}return-1==i&&(i=8),i},e.Da=function(t,i){for(var n=1e9,r=null,s=e.KH(i),a=0;a<t.length;a++){var h=Math.abs(e.KH(t[a])-s);h<n&&(n=h,r=t[a])}return r},e.prototype.EN=function(t,e){return this.g_(),FNTS.mapFS[t+"---"+e]},e.prototype.DS=function(t){return this.g_(),FNTS.mapSub[t]},e.prototype.ttx=function(){return this.g_(),FNTS.mapSub};var i={lC:0,FP:null,jo:null,DE:null,Dh:null,hr:null,DO:!0,Dn:0,hG:!1};i.TQ=function(){return null!=i.trB()},i.PS=function(){return i.hr},i.sA=function(t){window.addEventListener("message",i.trp,!1),setInterval(i.Df,5e3),i.TQ()?(i.FP=t,i.KW()):setTimeout(t,1)},i.Df=function(){i.TQ()&&i.hG&&(i.DU(i.hK()),i.hG=!1)},i.hg=function(t){i.FP=t;var e="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);i.DE=window.open(e,"_blank")},i.tRn=function(){localStorage.removeItem(i.lC+"_uid"),localStorage.removeItem(i.lC+"_provider"),localStorage.removeItem(i.lC+"_token"),i.hr=null},i.trp=function(t){if(!(t.data instanceof ArrayBuffer)&&"{"==t.data.charAt(0)){var e=JSON.parse(t.data);if(null!=e.prms){var n=e.prms.split(",");"papi_logged_in"==n[0]&&(localStorage[i.lC+"_uid"]=n[1],i.KE(n[2]),localStorage[i.lC+"_provider"]=n[3],i.DE.close(),i.KW()),"payment_complete"==n[0]&&(i.Dh.close(),i.KW())}}},i.trB=function(){var t=localStorage[i.lC+"_token"];return null!=t&&.001*Date.now()+10<parseInt(t.split("-")[0])?t:null},i.KE=function(t){var e=localStorage[i.lC+"_token"];null!=e&&parseInt(t.split("-")[0])<parseInt(e.split("-")[0])||(localStorage[i.lC+"_token"]=t,clearTimeout(i.Dn),i.Dn=setTimeout(i.tcb,Math.min(1e9,1e3*parseInt(t.split("-")[0])-Date.now()-2e4)))},i.tcb=function(){var t=new XMLHttpRequest;t.open("POST","https://www.photopea.com/papi/record_new.php",!0),t.onload=i.tIf;var e=i.hS()+"&read=2";t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(e)},i.KW=function(){var t=new XMLHttpRequest;t.open("POST","https://www.photopea.com/papi/record_new.php",!0),t.onload=i.t$Q;var e=i.hS()+"&read=1";t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(e)},i.DU=function(t){var e=new XMLHttpRequest;e.open("POST","https://www.photopea.com/papi/record_new.php",!0),e.onload=i.tyY;var n=i.hS()+"&read=0&score=0&spublic="+i.DO+"&record="+encodeURIComponent(JSON.stringify(t));e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(n)},i.t$Q=function(t){var e=JSON.parse(t.target.response);if(e.error);else{i.hr=e.user;var n=i.hK(),r=e.record;e.record?(i.DO=e.spublic,i.Dk(r)):n&&i.DU(n)}i.KE(e.token),i.FP&&(i.FP(),i.FP=null),i.jo&&(i.jo(),i.jo=null)},i.tIf=function(t){var e=JSON.parse(t.target.response);i.KE(e.token)},i.tyY=function(t){var e=JSON.parse(t.target.response);i.KE(e.token),i.jo&&i.KW()},i.hS=function(){return"app="+i.lC+"&uid="+localStorage[i.lC+"_uid"]+"&token="+localStorage[i.lC+"_token"]},i.jf=function(){return i.hK()},i.hn=function(t,e){i.Dk(t),i.hG=!0,e&&(i.jo=e,i.Df())},i.hK=function(){var t,e=localStorage[i.lC+"_stateLocal"];if(null==e)return null;try{t=JSON.parse(e)}catch(t){return null}return t},i.Dk=function(t){var e=JSON.stringify(t);localStorage[i.lC+"_stateLocal"]=e},i.order=function(t,e,n){i.FP=n;var r="https://www.photopea.com/papi/order.php?ptype="+e+"&param="+t+"&uid="+localStorage[i.lC+"_uid"]+"&token="+localStorage[i.lC+"_token"];i.Dh=window.open(r,"_blank")};var n={Kz:0,hY:{},get:function(t){var e=JSON.stringify(t);if(null!=n.hY[e])return n.hY[e];var i=LNG.tables[0],r=LNG.tables[n.Kz],s=n.De(t,r);return null!=s?s:n.De(t,i)},De:function(t,e){for(var i=0;i<t.length;i++)if(null==(e=e[t[i]]))return null;return e.split("::")[0]},DN:function(){return LNG.langs},tR$:function(t){n.Kz=t},tGY:function(t){for(var e=0;e<LNG.langs.length;e++)LNG.langs[e].code==t&&(n.Kz=e)},DF:function(){return LNG.langs[n.Kz].code},tJv:function(t){for(var e=0;e<t.length;e+=2)n.hY[JSON.stringify(t[e])]=t[e+1]},Dm:function(t){for(var e=-1,i=n.DN(),r=0;r<i.length;r++)i[r].code==t&&(e=r);return e}},r={yq:0,YV:{expires_at:0},hb:[]};function s(){}function a(){}function h(t){this.MX=new Uint32Array(t),this.list=[],this.Cz=0,this.Mn=4294967295}r.KV=function(t){if(t&&r.hb.splice(0,0,t),1!=r.yq)if(r.YV.expires_at>.001*Date.now()+30)for(;r.hb.length>0;)r.hb.pop()();else 0==r.yq&&(r.yq=1),gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:2!=r.yq},r.tck)},r.tck=function(t){t&&!t.error?(r.YV=t,r.yq=!1,r.KV()):1==r.yq?(r.yq=2,r.KV()):alert("Error: "+t.error)},r.hz=function(){return"access_token="+r.YV.access_token+"&token_type="+r.YV.token_type},s.cR={tTQ:["PNG","JPG","SVG","GIF","PDF"],tGU:"EMF WEBP BMP PPM TIFF ICO DDS".split(" ")},s.Uw=function(t){t instanceof ArrayBuffer||console.log("Input is not ArrayBuffer");var e,i=new Uint8Array(t),n=s.t$F;if(n(i,[56,66,80,83])&&(e="psd"),n(i,[103,105,109,112,32,120,99,102,32])&&(e="xcf"),n(i,[137,80,78,71,13,10,26,10])&&(e="png"),n(i,[87,76])&&(e="cdr"),n(i,[82,73,70,70])){var r=q.Fp(i).aw;e="WEBP"==r?"webp":"CDR"==r.slice(0,3)?"cdr":r}if(n(i,[255,216,255])&&(e="jpg"),n(i,[0,0,0,12,106,80,32,32])&&(e="jpg"),n(i,[0,0,0,0,48,0,1,0])&&(e="jpg"),n(i,[71,73,70,56])&&(e="gif"),n(i,[0,0,0,2,121,102,113,76])&&(e="msh"),n(i,[0,0,0,3,121,102,113,76])&&(e="msh"),n(i,[0,1])&&(e="aco"),n(i,[0,2])&&(e="aco"),n(i,[0,2,56,66,83,76])&&(e="asl"),n(i,[0,6,0,1])&&(e="abr"),n(i,[0,6,0,2])&&(e="abr"),n(i,[0,9,0,2])&&(e="abr"),n(i,[0,10,0,2])&&(e="abr"),n(i,[56,66,70,83])&&(e="shc"),n(i,[56,66,80,84])&&(e="pat"),n(i,[0,4,0,5])&&(e="acv"),n(i,[56,66,71,82])&&(e="grd"),n(i,[99,117,115,104])&&(e="csh"),n(i,[0,1,0,0,0])&&(e="otf"),n(i,[79,84,84,79])&&(e="otf"),n(i,[116,116,99,102])&&(e="otf"),n(i,[68,68,83,32])&&(e="dds"),n(i,[80,86,82,3])&&(e="pvr"),n(i,[0,0,1,0])&&(e="ico"),n(i,[66,77])&&(e="bmp"),n(i,[80,49])&&(e="ppm"),n(i,[80,50])&&(e="ppm"),n(i,[80,51])&&(e="ppm"),n(i,[80,52])&&(e="ppm"),n(i,[80,53])&&(e="ppm"),n(i,[80,54])&&(e="ppm"),n(i,[73,73,42,0])&&(e="tiff"),n(i,[77,77,0,42])&&(e="tiff"),n(i,[83,81,76,105])&&(e="sketch"),n(i,[80,75])){var a=UZIP.parse(t,!0);a["document.json"]&&(e="sketch"),a.manifest&&(e="xd")}return n(i,[123])&&(e="json"),n(i,[60,115,118,103])&&(e="svg"),n(i,[60,63,120,109])&&(e="svg"),n(i,[60,33,100,111])&&(e="html"),n(i,[60,33,68,79])&&(e="html"),n(i,[13,10,60,33])&&(e="html"),n(i,[37,33])&&(e="eps"),n(i,[37,80,68,70])&&(e="pdf"),n(i,[32,32,32,37,80,68,70])&&(e="pdf"),n(i,[215,205,198,154])&&(e="wmf"),n(i,[1,0,0,0])&&(e="emf"),e},s.t$F=function(t,e){for(var i=0;i<e.length;i++)if(t[i]!=e[i])return!1;return!0},s.aD=function(t){return s[t.toUpperCase()]},s.aL=function(t){var e,i=s.cR.tTQ,n=s.cR.tGU,r=[];e=null==t?i.concat(n):0==t?i:n;for(t=0;t<e.length;t++)s[e[t]].Dz&&r.push(e[t]);return r},s.c$=function(t,e,i,n,r){var a=new Uint8Array(t),h=bt.B("canvas","");h.width=e,h.height=i;for(var o=h.getContext("2d"),l=o.getImageData(0,0,e,i),u=0;u<e*i*4;u++)l.data[u]=a[u];o.putImageData(l,0,0);var f=h.toDataURL("image/"+n,r);return s.cr(f).buffer},s.cr=function(t){for(var e=atob(t.split(",").pop()),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},s.Km=function(t,e,i){var n=new Uint8Array(s.PNG.Dz([[t.buffer,0]],e,i));return"data:image/png;base64,"+s.Yw(n.buffer)},s.tIU=function(t,e,i,n,r){null==r&&(r=0);var a='<svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  width="128"  height="128"> <defs> \t<filter id="sofGlow" height="300%" width="300%" x="-75%" y="-75%"> \t\t\x3c!-- Thicken out the original shape --\x3e \t<feMorphology operator="dilate" radius="3" in="SourceAlpha" result="thicken" /> \t\t\x3c!-- Use a gaussian blur to create the soft blurriness of the glow --\x3e\t\t<feGaussianBlur in="thicken" stdDeviation="4" result="blurred" />\t\t\x3c!-- Change the colour --\x3e\t\t<feFlood flood-color="rgb(255,255,255)" result="glowColor" />\t\t\x3c!-- Color in the glows --\x3e\t\t<feComposite in="glowColor" in2="blurred" operator="in" result="softGlow_colored" />\t\t\x3c!--\tLayer the effects together --\x3e\t\t<feMerge>\t\t\t<feMergeNode in="softGlow_colored"/>\t\t\t<feMergeNode in="SourceGraphic"/>\t\t</feMerge>\t</filter></defs><g transform="translate(64 64) scale('+.25*Math.round(bt.h())+')">';1==t&&(a+='<g transform="scale(0.07 0.07) translate(-550 -112)"  style="fill:#ffffff; stroke:#000000; stroke-width:60px;"><path d="m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z"/></g>'),a+='<g filter="url(#sofGlow)"><image transform="rotate('+r+')" xlink:href="'+e+'" x="'+80*i+'" y="'+80*n+'" height="80" width="80"/></g></g></svg>';var h=new Uint8Array(a.length);return $.aX(a,h,0),"data:image/svg+xml;base64,"+s.Yw(h.buffer)},s.Yw=function(t){for(var e=new Uint8Array(t),i="",n=0;n<e.length;n++)i+=String.fromCharCode(e[n]);return btoa(i)},s.YL=function(t,e,i,n,r){null==i&&(i=t.$),null==n&&(n=t.z);var a=s[e.toUpperCase()];if(a.Ht)return a.Dz(t,i,n,r);for(var h=[],o=[],l=0;l<t.b.length;l++){var u=t.b[l];"_a_"==u.getName().slice(0,3)&&(h.push(l),o.push(u.op()))}if(0==h.length){if(i==t.$&&n==t.z)p=t.cn().buffer;else p=j._.Qk([t.cn(),new L(0,0,t.$,t.z)],new c(i/(t.$+.001),0,0,n/(t.z+.001),0,0)).buffer;return a.Dz([[p,0,t.go]],i,n,r)}var f=[];for(l=0;l<h.length;l++){for(var p,v=h[l],d=0;d<h.length;d++)t.b[h[d]].cE(h[d]==v);if(t.f$(),t.r(),t.LD(),i==t.$&&n==t.z)p=t.cn().buffer.slice(0);else p=j._.Qk([t.cn(),new L(0,0,t.$,t.z)],new c(i/(t.$+.001),0,0,n/(t.z+.001),0,0)).buffer;var y=t.b[v].getName().split(",");f.push([p,y[1]?parseInt(y[1]):50,t.go])}for(l=0;l<h.length;l++)t.b[h[l]].cE(o[l]);return t.r(),t.LD(),a.Dz(f,i,n,r)},s.PNG={},s.PNG.Dz=function(t,e,i,n){null==n&&(n=[100,!1]);var r={sRGB:1};if(null!=t[0][2]){var s=Math.round(t[0][2]*(1e4/254));r.pHYs=[s,s,1]}for(var a=n[0],h=100==a?0:Math.max(2,Math.floor(5*a)),o=[],l=[],u=0;u<t.length;u++)o.push(t[u][0]),l.push(t[u][1]);return UPNG.encode(o,e,i,h,l,r,n[1])},s.PNG.cA=function(t){Date.now();var e=UPNG.decode(t),i=UPNG.toRGBA8(e),n=e.width,r=e.height,s=0;if(e.tabs.pHYs&&(s=Math.round(254*e.tabs.pHYs[0]/1e4)),1==i.length)return[{MD:new L(0,0,n,r),data:i[0],go:s}];for(var a=[],h=0;h<i.length;h++)a.push({pA:"_a_frm"+h+","+e.frames[h].delay,MD:new L(0,0,n,r),data:i[h],go:s});return a},s.PPM={},s.PPM.Dz=function(t,e,i,n){for(var r=new Uint8Array(t[0][0]),s=e*i,h=3*s,o="P6\n"+e+" "+i+"\n255\n",l=o.length,u=a.I(l+h,!0),f=0;f<l;f++)u[f]=o.charCodeAt(f);for(f=0;f<s;f++){var c=4*f,p=3*f+l;u[p]=r[c],u[p+1]=r[c+1],u[p+2]=r[c+2]}return u.buffer},s.PPM.cA=function(t){t=new Uint8Array(t);var e=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],i=0,n=String.fromCharCode(t[0])+String.fromCharCode(t[1]),r=[],s=0,h="P1"==n||"P4"==n?2:3;for(i=2;i<t.length;i++){var o=t[i],l=String.fromCharCode(o);if(o!="#".charCodeAt(0)){var u=-1!=e.indexOf(o);if(0!=s||u)if(1!=s||u)if(1==s&&u){if(s=0,r.length==h)break}else;else r[r.length-1]+=l;else r.push(l),s=1}else for(;t[i]!="\n".charCodeAt(0);)i++}var f=parseInt(r[0]),c=parseInt(r[1]),p=f*c*4,v="P1"==n||"P4"==n?1:255/parseInt(r[2]),d=a.I(p);if("P1"==n||"P2"==n||"P3"==n)for(var y="",g=0,m=(s=0,"#".charCodeAt(0)),w=i;w<t.length;w++){o=t[w],l=String.fromCharCode(o),u=-1!=e.indexOf(o);if(o==m)for(;t[w]!="\n".charCodeAt(0);)w++;else if(0!=s||u){if(1==s)if(u){s=0;var b=parseInt(y);y="","P1"==n&&(d[g]=d[g+1]=d[g+2]=255*(1-b),d[g+3]=255,g+=4),"P2"==n&&(d[g]=d[g+1]=d[g+2]=Math.round(b*v),d[g+3]=255,g+=4),"P3"==n&&(d[g]=Math.round(b*v),3==(3&++g)&&(d[g]=255,g++))}else y+=l}else y=l,s=1}var x=f*c;if("P4"==n)for(var M=0;M<c;M++)for(var S=8*M*Math.ceil(f/8),A=0;A<f;A++){var k=t[i+1+((w=S+A)>>3)];k=k>>7-(7&w)&1,d[C=M*f+A<<2]=d[C+1]=d[C+2]=255*(1-k),d[C+3]=255}if("P5"==n)for(w=0;w<x;w++){d[C=4*w]=d[C+1]=d[C+2]=Math.round(t[i+1+w]*v),d[C+3]=255}if("P6"==n)for(w=0;w<x;w++){var C,T=i+1+3*w;d[C=4*w]=Math.round(t[T]*v),d[C+1]=Math.round(t[T+1]*v),d[C+2]=Math.round(t[T+2]*v),d[C+3]=255}return[{MD:new L(0,0,f,c),data:d.buffer}]},s.DDS={},s.DDS.Dz=function(t,e,i,n){var r=new Uint8Array(t[0][0]);if(0!=(3&e)||0!=(3&i)){var s=e+(4-(3&e)),h=i+(4-(3&i)),o=new Uint8Array(s*h*4);a.Mw(o,4278190080),a.Pg(r,new L(0,0,e,i),o,new L(0,0,s,h)),r=o,e=s,i=h}return UTEX.DDS.encode(r.buffer,e,i)},s.DDS.cA=function(t){var e=UTEX.DDS.decode(t)[0];return[{MD:new L(0,0,e.width,e.height),data:e.image}]},s.JPG={},s.JPG.Dz=function(t,e,i,n){null==n&&(n=[70]);var r=new Uint8Array(t[0][0].byteLength),h=new L(0,0,e,i),o=0;a.Mw(r,4294967295),a.a.MR("norm",new Uint8Array(t[0][0]),h,r,h,h,1);var l=new Uint8Array(s.c$(r,e,i,"jpeg",n[0]/100));if(null!=t[0][2]){o=s.JPG.markerOffset(l,224)+2;l[o+=9]=1,O.Ag(l,o+1,t[0][2]),O.Ag(l,o+3,t[0][2])}return l.buffer},s.JPG.markerOffset=function(t,e){for(var i=0;i<t.length;){for(;255==t[i];)i++;var n=t[i];if(i++,n==e)return i-2;if(216!=n){if(217==n)break;if(224<=n&&n<=239||218==n||219==n||192==n||194==n||196==n||221==n){if(i+=O.NU(t,i),218==n)for(;255!=t[i]||0==t[i+1]||208<=t[i+1]&&t[i+1]<=215;)i++}else console.log("unknown marker ",n.toString(16))}}return-1},s.JPG.t$i=function(t){if(255!=(t=new Uint8Array(t))[0])return t.buffer;var e=s.JPG.cH(t);if(4!=e.numComponents)return t.buffer;var i=e.width,n=e.height,r=s.JPG.cI(e,!0);return s.JPG.Dz([[r[0].data]],i,n,[85])},s.JPG.cH=function(t){var e=new PDFJS.JpegImage;e.parse(t);var i=s.JPG.markerOffset(t,225);if(-1!=i){i+=2;var n=O.NU(t,i);if(i+=2,"Exif"==O.sx(t,i,4)){i+=6;var r=t.slice(i,i+n-8);e.exif=UTIF.decode(r.buffer)}}return e},s.JPG.cI=function(t,e){for(var i=t.width,n=t.height,r=i*n,s=t.getData({width:i,height:n,forceRGB:!0,isSourcePDF:e}),h=a.I(4*r),o=72,l=0;l<r;l++){var u=l<<2,f=u-l;h[u]=s[f+0],h[u+1]=s[f+1],h[u+2]=s[f+2],h[u+3]=255}return t.jfif&&0!=t.jfif.densityUnits?o=Math.round([72,1,2.54][t.jfif.densityUnits]*t.jfif.xDensity):t.exif&&null!=t.exif[0].t282&&(o=t.exif[0].t282[0]),[{MD:new L(0,0,i,n),data:h.buffer,go:o}]},s.JPG.cA=function(t){if(255==(t=new Uint8Array(t))[0]){var e=s.JPG.cH(t);return s.JPG.cI(e,!1)}if(0==t[3]){for(var i=new Uint8Array(t.length+1),n=0;n<t.length;n++)i[n]=t[n];e=new PDFJS.Jbig2Image;var r={data:i,start:0,end:i.length},h=e.parseChunks([r]);for(n=0;n<h.length;n++)h[n]^=255;for(var o=O.j(t,11),l=O.j(t,15),u=Math.ceil(o/8),f=a.I(o*l*4),c=0;c<l;c++)for(var p=c*u,v=0;v<o;v++){var d=4*(c*o+v),y=255*(h[p+(v>>3)]>>(7-(7&v)<<0)&1);f[d]=y,f[d+1]=y,f[d+2]=y,f[d+3]=255}return[{MD:new L(0,0,o,l),data:f.buffer}]}(e=new PDFJS.JpxImage).parse(t);o=e.width,l=e.height;var g=e.tiles,m=e.componentsCount,w=new Uint8Array(o*l*4),b=new L(0,0,o,l);for(e=0;e<g.length;e++){var x=g[e],M=x.width,S=x.height,A=M*S,k=x.items,C=new L(x.left,x.top,M,S),T=new Uint8Array(4*A);if(1==m)for(n=0;n<A;n++){var U=k[n];T[d=4*n]=U,T[d+1]=U,T[d+2]=U,T[d+3]=255}else if(3==m)for(n=0;n<A;n++){var _=3*n;T[d=4*n]=k[_],T[d+1]=k[_+1],T[d+2]=k[_+2],T[d+3]=255}else console.log("Unknown number of components: "+m);a.Pg(T,C,w,b)}return[{MD:b,data:w.buffer}]},s.WEBP={},s.WEBP.Dz=function(t,e,i,n){return null==n&&(n=[70]),s.c$(t[0][0],e,i,"webp",n[0]/100)},s.WEBP.cA=function(t){(new Date).getTime();var e=new Uint8Array(t),i=new WebPDecoder;e=s.WEBP.tHX(e);var n=i.WebPDecoderConfig,r=n.j;i.WEBP_CSP_MODE;r.J=4;i.WebPDecode(e,e.length,n);for(var a=new Uint8Array(r.c.RGBA.ma),h=0;h<a.length;h+=4){var o=a[h+1],l=a[h+2],u=a[h+3],f=a[h];a[h]=o,a[h+1]=l,a[h+2]=u,a[h+3]=f}return[{MD:new L(0,0,n.j.width,n.j.height),data:a.buffer}]},s.WEBP.tHX=function(t){var e,i=new Array,n=t.length;for(e=0;e<n;++e)i.push(t[e]);return i},s.BMP={},s.BMP.Dz=function(t,e,i,n){var r=new Uint8Array(t[0][0]),a={JX:e,ht:i,S_:24,cv:0,e_:0},h=new Qi,o=4*Math.floor((a.S_*a.JX+31)/32),l=0;O.np(h,l,"BM"),l+=2,O.GI(h,l,o*i+16+40),l+=4,O.GI(h,l,0),l+=4,O.GI(h,l,54),l+=4,h.VX(l,40),O.GI(h,l,40),l+=4,s.BMP.tDu(h.data,l,a),l+=36,h.VX(l,o*i);for(var u=0;u<i;u++)for(var f=l+(i-1-u)*o,c=0;c<e;c++){var p=4*(u*e+c),v=r[p+3]*(1/255);h.data[f+3*c+2]=r[p]*v,h.data[f+3*c+1]=r[p+1]*v,h.data[f+3*c+0]=r[p+2]*v}l+=o*i+2;for(var d=new Uint8Array(l),y=0;y<l;y++)d[y]=h.data[y];return d.buffer},s.BMP.cA=function(t){t=new Uint8Array(t);var e=0,i=O.sx(t,e,2);if(e+=2,"BM"==i){O.UD(t,e);e+=4,e+=4;O.UD(t,e);return e+=4,[s.BMP.cy(t.buffer,e)]}alert("Unsupported BMP format: "+i)},s.BMP.cy=function(t,e){t=new Uint8Array(t);var i,n=O.UD(t,e);if(e+=4,40==n){if(i=s.BMP.tHQ(t,e),e+=n-4,0==i.cv){var r=e,h=4*Math.floor((i.S_*i.JX+31)/32),o=new Uint8Array(i.JX*i.ht*4);a.set(o,255);var l=e;if(i.S_<24&&(l+=4*Math.pow(2,i.S_)),32==i.S_)for(var u=0;u<i.ht;u++)for(var f=l+(i.ht-1-u)*h,c=0;c<i.JX;c++){o[p=4*(u*i.JX+c)]=t[f+4*c+2],o[p+1]=t[f+4*c+1],o[p+2]=t[f+4*c+0],o[p+3]=t[f+4*c+3]}if(24==i.S_)for(u=0;u<i.ht;u++)for(f=l+(i.ht-1-u)*h,c=0;c<i.JX;c++){o[p=4*(u*i.JX+c)]=t[f+3*c+2],o[p+1]=t[f+3*c+1],o[p+2]=t[f+3*c+0]}if(8==i.S_)for(u=0;u<i.ht;u++)for(f=l+(i.ht-1-u)*h,c=0;c<i.JX;c++){var p=4*(u*i.JX+c),v=t[f+c];o[p]=t[r+4*v+2],o[p+1]=t[r+4*v+1],o[p+2]=t[r+4*v+0]}if(4==i.S_)for(u=0;u<i.ht;u++)for(f=l+(i.ht-1-u)*h,c=0;c<i.JX;c++){p=4*(u*i.JX+c),v=t[f+(c>>1)];v>>=4-4*(1&c),v&=15,o[p]=t[r+4*v+2],o[p+1]=t[r+4*v+1],o[p+2]=t[r+4*v+0]}if(1==i.S_)for(u=0;u<i.ht;u++)for(f=l+(i.ht-1-u)*h,c=0;c<i.JX;c++){p=4*(u*i.JX+c);var d=t[f+(c>>3)];d>>=7-(7&c),d&=1,o[p]=t[r+4*d+2],o[p+1]=t[r+4*d+1],o[p+2]=t[r+4*d+0]}return{MD:new L(0,0,i.JX,i.ht),data:o.buffer}}alert("Unsupported BMP compression: "+i.cv)}else alert("Unsupported BMP header format: "+n+" Bytes")},s.BMP.tHQ=function(t,e){var i={};i.JX=O.eC(t,e),e+=4,i.ht=O.eC(t,e),e+=4;var n=O.$R(t,e);e+=2,1!=n&&alert("unsupported number of color planes: "+n),i.S_=O.$R(t,e),e+=2,i.cv=O.UD(t,e),e+=4;O.UD(t,e);e+=4;O.UD(t,e);e+=4;O.UD(t,e);return e+=4,i.e_=O.UD(t,e),e+=4,e+=4,i},s.BMP.tDu=function(t,e,i){O.Fc(t,e,i.JX),e+=4,O.Fc(t,e,i.ht),e+=4,O.ey(t,e,1),e+=2,O.ey(t,e,i.S_),e+=2,O.Fc(t,e,i.cv),e+=4;var n=4*Math.floor((i.S_*i.JX+31)/32);O.Fc(t,e,n*i.ht+2),e+=4,O.Fc(t,e,2834),e+=4,O.Fc(t,e,2834),e+=4,O.Fc(t,e,i.e_),e+=4,e+=4},s.GIF={},s.GIF.Dz=function(t,e,i,n){null==n&&(n=[100,!1]),n[1]&&(t=t.slice(0)).reverse();for(var r=[],s=[],a=null,h=0;h<t.length;h++)r.push(t[h][0]),s.push(t[h][1]);var o=Math.round(2+254*n[0]/100),l=UPNG.encode.compress(r,e,i,o,!0),u=l.plte,f=new Uint8Array(4),c=new Uint32Array(f.buffer);for(h=0;h<u.length;h++){c[0]=u[h];var p=f[0];f[0]=f[2],f[2]=p,u[h]=c[0],0==c[0]&&(a=h)}for(;u.length<256;)u.push(0);var v=new Uint8Array(2e3+e*i*t.length),d=new GifWriter(v,e,i,{palette:u,loop:0});for(h=0;h<t.length;h++){var y=l.frames[h],g=y.rect,m=(y.blend,y.dispose);d.addFrame(g.x,g.y,g.width,g.height,y.img,{transparent:a,disposal:m+1,delay:Math.round(s[h]/10)})}return v.slice(0,d.end()).buffer},s.GIF.cA=function(t){for(var e=new Uint8Array(t),i=new GifReader(e),n=[],r=i.numFrames(),s=i.width,h=i.height,o=a.I(s*h*4),l=new L(0,0,s,h),u=0,f=0;f<r;f++){var c=i.frameInfo(f);if(i.decodeAndBlitFrameRGBA(f,o),n.push({MD:l.clone(),pA:"_a_frm"+f+","+10*c.delay,data:o.slice(0).buffer}),2==c.disposal){var p=a.I(c.width*c.height*4);a.Pg(p,new L(c.x,c.y,c.width,c.height),o,l)}if(3==c.disposal)for(var v=new Uint8Array(n[u].data),d=0;d<o.length;d++)o[d]=v[d];3!=c.disposal&&(u=f)}return n},s.ICO={},s.ICO.Dz=function(t,e,i,n){if(!(e>256||i>256)){var r=new Qi,a=0,h=n&&1==n[0];O.Fl(r,a,0),a+=2,O.Fl(r,a,h?2:1),a+=2,O.Fl(r,a,1),a+=2;var o=new Uint8Array(s.PNG.Dz(t,e,i));r.VX(a,16),r.data[a]=256==e?0:e,a++,r.data[a]=256==i?0:i,a++,a+=2,O.Fl(r,a,h?Math.round(e/2):1),a+=2,O.Fl(r,a,h?Math.round(i/2):32),a+=2,O.GI(r,a,o.length),a+=4,O.GI(r,a,22),a+=4,r.VX(a,o.length);for(var l=0;l<o.length;l++)r.data[a+l]=o[l];a+=o.length;var u=new Uint8Array(a);for(l=0;l<a;l++)u[l]=r.data[l];return u.buffer}alert("Maximum ICO size is 256x256 px.")},s.ICO.cA=function(t){t=new Uint8Array(t);var e=4,i=O.$R(t,e);e+=2;for(var n=[],r=0;r<i;r++){var h=s.ICO.tti(t,e+16*r),o=t.buffer.slice(h.offset,h.offset+h.size),l=s.Uw(o);if("png"==(l=l||"bmp"))return s.aD(l).cA(o);var u=s.BMP.cy(o,0);o=a.I(h.JX*h.ht*4);a.Pg(new Uint8Array(u.data),new L(0,0,u.MD.$,u.MD.z),o,new L(0,h.ht,h.JX,h.ht)),u.data=o.buffer,u.MD.z=h.ht,h.eu=u,n.push(h)}return n.sort((function(t,e){return t.JX!=e.JX?t.JX-e.JX:t.NR-e.NR})),[n.pop().eu]},s.ICO.tti=function(t,e){var i={};return i.JX=t[e],e++,0==i.JX&&(i.JX=256),i.ht=t[e],e++,0==i.ht&&(i.ht=256),i.tCF=t[e],e++,e++,i.tTR=O.$R(t,e),e+=2,i.NR=O.$R(t,e),e+=2,i.size=O.UD(t,e),e+=4,i.offset=O.UD(t,e),e+=4,i},s.TIFF={},s.TIFF.cA=function(t){Date.now();var e=UTIF.decode(t);UTIF.decodeImages(t,e);for(var i=0;i<e.length;i++)var n=e[i];for(i=0;i<e.length;i++){if(null!=(n=e[i]).t37724)n.t37724;if(null!=n.t33421){if(e[0]!=n)for(var r in e[0])"t"==r[0]&&null==n[r]&&(n[r]=e[0][r]);return n.tCC=e[0].t274[0],e[0].t34665&&(n.NT=e[e.length-1]),[n]}}var s=[];for(i=0;i<e.length;i++){if(null!=(n=e[i]).width){var a=UTIF.toRGBA8(n).buffer;s.push({MD:new L(0,0,n.width,n.height),data:a})}}return s},s.TIFF.Dz=function(t,e,i,n){return UTIF.encodeImage(t[0][0],e,i)},s.PSD={},s.PSD.Ht=!0,s.PSD.cA=function(t,e){g.Fp(t,e)},s.PSD.Dz=function(t,e,i,n){null==n&&(n=[!1,!1]),n[0]||t.cn();var r=new Qi,s=g.nX(t,r,n);return new Uint8Array(r.data.buffer.slice(0,s)).buffer},s.SKETCH={},s.SKETCH.Ht=!0,s.SKETCH.cA=function(t,e){E.Fp(t,e)},s.XD={},s.XD.Ht=!0,s.XD.cA=function(t,e){P.Fp(t,e)},s.XCF={},s.XCF.Ht=!0,s.XCF.cA=function(t,e){N.Fp(t,e)},s.SVG={},s.SVG.Ht=!0,s.SVG.Dz=function(t,e,i,n){return null==n&&(n=[!0,!1,!1,!1,!0,!0]),J.QU(t,{tCd:n[0],hidden:n[1],LS:n[2],tCG:n[3],names:n[4],Nt:n[5],tCa:e,tCi:i})},s.SVG.cA=function(t,e){J.Fp(t,e)},s.EPS={},s.EPS.Ht=!0,s.EPS.cA=function(t,e){var i=new c(1,0,0,-1,0,0);i.scale(150/72,150/72),e.go=150;var n=new V(e,i,!0);FromPS.Parse(t,n)},s.PDF={},s.PDF.Ht=!0,s.PDF.Dz=function(t,e,i,n){null==n&&(n=[!1,!1]),n[2]=["jpg"];var r=new ToPDF;return R.QU(t,n,r),r.buffer},s.PDF.cA=function(t,e){var i=new c(1,0,0,-1,0,0);i.scale(150/72,150/72),e.go=150;var n=new V(e,i,!0);FromPDF.Parse(t,n)},s.WMF={},s.WMF.Ht=!0,s.WMF.cA=function(t,e){var i=new c(1,0,0,1,0,0);i.scale(1,1),e.go=72;var n=new V(e,i,!1);FromWMF.Parse(t,n)},s.EMF={},s.EMF.cc=!0,s.EMF.Ht=!0,s.EMF.Dz=function(t,e,i,n){null==n&&(n=[!1,!1]),n[2]=[];var r=new ToEMF;return R.QU(t,n,r),r.buffer},s.EMF.cA=function(t,e){var i=new c(1,0,0,1,0,0);i.scale(1,1),e.go=72;var n=new V(e,i,!1);FromEMF.Parse(t,n)},s.CDR={},s.CDR.Ht=!0,s.CDR.cA=function(t,e){return H.Fp(t,e)},a.lZ=document.createElement("canvas"),a.C=a.lZ.getContext("2d"),a.Y$=function(t,e,i,n){n=Math.log(n)/Math.log(2),n=Math.round(n);for(var r=0;r<i;r++)for(var s=0;s<e;s++){var a=r*e+s<<2,h=(r>>n)+(s>>n)&!0?204:255;t[a]=t[a+1]=t[a+2]=h,t[a+3]=255}},a.fM=function(t){for(var e=t.toString(16);e.length<6;)e="0"+e;return e},a.ttO=function(t){return parseInt(t,16)},a.If=function(t){return.3*t.T+.59*t.q+.11*t.H},a.YH=function(t){return Math.max(t.T,t.q,t.H)-Math.min(t.T,t.q,t.H)},a.YK=function(t,e,i){return.3*t+.59*e+.11*i},a.tTh=function(t,e,i){return Math.max(t,e,i)-Math.min(t,e,i)},a.Y_=function(t,e){var i=e-t,n=Math.abs(i),r=i-1,s=i+1;return Math.abs(r)<n?i=r:Math.abs(s)<n&&(i=s),i},a.Fh=function(t,e,i,n){return(e-i)*n/(t-i)},a.hU=function(t){return t<.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055},a.tVM=function(t){return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},a.tTi=function(t,e,i,n){return i<e&&(i+=n),t<e&&(t+=n),(t-e)/(i-e)},a.trq=function(t,e){for(var i=Math.min(t.length,e.length),n=0;n<i;n+=4){var r=t[n],s=t[n+1],a=t[n+2];e[n]=16+Math.floor(65.481/255*r+128.553/255*s+24.966/255*a+.5),e[n+1]=128-Math.floor(37.797/255*r-74.203/255*s+112/255*a+.5),e[n+2]=128+Math.floor(112/255*r-93.786/255*s-18.214/255*a+.5),e[n+3]=t[n+3]}},a.pI=function(t,e,i){var n,r,s=Math.max(t,e,i),a=Math.min(t,e,i),h=.5*(s+a);if(s==a)n=r=0;else{var o=s-a;switch(r=h>.5?o/(2-s-a):o/(s+a),s){case t:n=(e-i)/o+(e<i?6:0);break;case e:n=(i-t)/o+2;break;case i:n=(t-e)/o+4}n*=1/6}return{ht:n,_u:r,NK:h}},a.yU=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},a.En=function(t,e,i){var n,r,s;if(0==e)n=r=s=i;else{var h=i<.5?i*(1+e):i+e-i*e,o=2*i-h;n=a.yU(o,h,t+1/3),r=a.yU(o,h,t),s=a.yU(o,h,t-1/3)}return{T:n,q:r,H:s}},a.sM=function(t,e,i){var n,r,s=Math.max(t,e,i),a=Math.min(t,e,i),h=s,o=s-a;if(r=0==s?0:o/s,s==a)n=0;else{switch(s){case t:n=(e-i)/o+(e<i?6:0);break;case e:n=(i-t)/o+2;break;case i:n=(t-e)/o+4}n/=6}return{ht:n,_u:r,Dq:h}},a.pq=function(t,e,i){var n,r,s,a,h,o,l,u;switch(o=i*(1-e),l=i*(1-(h=6*t-(a=Math.floor(6*t)))*e),u=i*(1-(1-h)*e),a%6){case 0:n=i,r=u,s=o;break;case 1:n=l,r=i,s=o;break;case 2:n=o,r=i,s=u;break;case 3:n=o,r=l,s=i;break;case 4:n=u,r=o,s=i;break;case 5:n=i,r=o,s=l}return{T:n,q:r,H:s}},a.sg=function(t,e,i){var n=e-a.If(t);i.T=t.T+n,i.q=t.q+n,i.H=t.H+n,a.tt_(i)},a.YG=function(t,e,i){var n=t.T,r=t.q,s=t.H;n==r&&r==s?i.T=i.q=i.H=0:n>r?n>s?r>s?(i.T=e,i.q=a.Fh(n,r,s,e),i.H=0):(i.T=e,i.H=a.Fh(n,s,r,e),i.q=0):(i.H=e,i.T=a.Fh(s,n,r,e),i.q=0):n<s?r>s?(i.q=e,i.H=a.Fh(r,s,n,e),i.T=0):(i.H=e,i.q=a.Fh(s,r,n,e),i.T=0):(i.q=e,i.T=a.Fh(r,n,s,e),i.H=0)},a.tt_=function(t){var e,i=t.T,n=t.q,r=t.H,s=a.YK(i,n,r),h=Math.min(i,n,r),o=Math.max(i,n,r);h<0&&(i=s+(i-s)*(e=s/(s-h)),n=s+(n-s)*e,r=s+(r-s)*e);o>1&&(i=s+(i-s)*(e=(1-s)/(o-s)),n=s+(n-s)*e,r=s+(r-s)*e);t.T=i,t.q=n,t.H=r},a.by=function(t,e,i,n,r,s){var a=new Uint32Array(t.buffer),h=0;n=Math.log(n)/Math.log(2),n=Math.round(n);for(var o=0;o<i;o++)for(var l=0;l<e;l++)a[h++]=(o+s>>n)+(l+r>>n)&!0?4291348680:4294967295},a.tTn=function(t,e,i){return(t>>i)+(e>>i)&!0?200:255},a.BS=function(t,e){for(var i=t.length,n=0;n<i;n+=4)e[n>>2]=Math.floor(.3*t[n+0]+.59*t[n+1]+.11*t[n+2]+.5)},a.tH$=function(t,e){for(var i=e.length,n=0;n<i;n+=4){var r=t[n>>2];e[n]=r,e[n+1]=r,e[n+2]=r}},a.GL=function(t,e){for(var i=t.o,n=t.T,r=t.q,s=t.H,a=Math.min(t.o.length,e.buffer.byteLength>>>2),h=4*Math.floor(a/4),o=new Uint32Array(e.buffer),l=new Uint32Array(i.buffer),u=new Uint32Array(n.buffer),f=new Uint32Array(r.buffer),c=new Uint32Array(s.buffer),p=0;p<h;p+=4){var v=l[p>>2],d=c[p>>2],y=f[p>>2],g=u[p>>2];o[p]=v<<24|(255&d)<<16|(255&y)<<8|255&g,o[p+1]=(65280&v)<<16|(65280&d)<<8|65280&y|(65280&g)>>>8,o[p+2]=(16711680&v)<<8|16711680&d|(16711680&y)>>>8|(16711680&g)>>>16,o[p+3]=4278190080&v|(4278190080&d)>>>8|(4278190080&y)>>>16|(4278190080&g)>>>24}for(p=h;p<a;p++)o[p]=i[p]<<24|s[p]<<16|r[p]<<8|n[p]},a.tTf=function(t,e,i,n){for(var r=t.o,s=t.T,a=t.q,h=t.H,o=new Uint32Array(e.buffer),l=n.x-i.x,u=l+n.$,f=n.y-i.y,c=f+n.z,p=f;p<c;p++)for(var v=p*i.$+l,d=l;d<u;d++)o[v]=r[v]<<24|h[v]<<16|a[v]<<8|s[v],v++},a.GQ=function(t,e){for(var i=e.o,n=e.T,r=e.q,s=e.H,a=Math.min(e.o.length,t.buffer.byteLength>>>2),h=4*Math.floor(a/4),o=new Uint32Array(t.buffer),l=new Uint32Array(i.buffer),u=new Uint32Array(n.buffer),f=new Uint32Array(r.buffer),c=new Uint32Array(s.buffer),p=0;p<h;p+=4){var v=o[p],d=o[p+1],y=o[p+2],g=o[p+3];u[p>>2]=255&v|(255&d)<<8|(255&y)<<16|g<<24,f[p>>2]=(65280&v)>>8|65280&d|(65280&y)<<8|(65280&g)<<16,c[p>>2]=(16711680&v)>>16|(16711680&d)>>8|16711680&y|(16711680&g)<<8,l[p>>2]=v>>>24|d>>>24<<8|y>>>24<<16|4278190080&g}for(p=h;p<a;p++){var m=o[p];n[p]=m>>0&255,r[p]=m>>8&255,s[p]=m>>16&255,i[p]=m>>24&255}},a.rY=function(t,e,i){for(var n=new Uint8Array(t.buffer),r=Math.min(n.length/4,e.length),s=0;s<r;s++)e[s]=n[(s<<2)+i]},a.kw=function(t,e,i){for(var n=new Uint8Array(e.buffer),r=new Uint32Array(t.buffer),s=Math.min(n.length/4,t.length),a=0;a+4<s;){var h=r[a>>>2];n[(a<<2)+i]=255&h,n[(a<<2)+i+4]=h>>>8&255,n[(a<<2)+i+8]=h>>>16&255,n[(a<<2)+i+12]=h>>>24,a+=4}for(;a<s;)n[(a<<2)+i]=t[a],a++},a.clone=function(t){return t.slice(0)},a.sk=function(t,e){a.set(t.o,e),a.set(t.T,e),a.set(t.q,e),a.set(t.H,e)},a.set=function(t,e){for(var i=(e=Math.round(e))<<24|e<<16|e<<8|e,n=new Uint32Array(t.buffer),r=n.length,s=0;s<r;s++)n[s]=i},a.Mw=function(t,e,i){null==i&&(i=0);for(var n=new Uint32Array(t.buffer),r=n.length,s=0;s<r;s++)n[s]=n[s]&i|e},a.tTj=function(t,e,i,n,r){null==r&&(r=0);for(var s=new Uint32Array(t.buffer),a=(i=i.sj(e)).x-e.x,h=i.y-e.y,o=i.$,l=i.z,u=e.$,f=0;f<l;f++)for(var c=(h+f)*u+a,p=0;p<o;p++)s[c]=s[c]&r|n,c++},a.tTZ=function(t,e){a.sa(t.o,e.o),a.sa(t.T,e.T),a.sa(t.q,e.q),a.sa(t.H,e.H)},a.sa=function(t,e){var i=Math.min(t.buffer.byteLength,e.buffer.byteLength)>>>2;t=new Uint32Array(t.buffer,0,i);(e=new Uint32Array(e.buffer,0,i)).set(t)},a.tPt=function(t,e){return a.v$(t.o,e.o)&&a.v$(t.T,e.T)&&a.v$(t.q,e.q)&&a.v$(t.H,e.H)},a.v$=function(t,e){var i=t.buffer.byteLength,n=e.buffer.byteLength,r=new Uint32Array(t.buffer,0,i>>2),s=new Uint32Array(e.buffer,0,n>>2);if(i!=n)return!1;for(var a=r.length,h=0;h<a;h++)if(s[h]!=r[h])return!1;return!0},a.UK=function(t){for(var e=new Uint32Array(t.buffer),i=e.length,n=0;n<i;n++)e[n]=~e[n]},a.tPJ=function(t){for(var e=t.length,i=3;i<e;i+=4)t[i]=~t[i]},a.tDh=function(t){return t+(t%4==0?0:4-t%4)},a.I=function(t,e){null==e&&(e=!1),e||(t=a.tDh(t));try{var i=new Uint8Array(t)}catch(e){throw alert("Not enough RAM! (need "+Math.round(t/(1<<20))+" MB)",7e3),e}return i},a.cG=function(t){for(var e=t.length,i=t[e-2],n=t[e-1];n.$>=2||n.z>=2;){var r=a.Ef(i,n);t.push(r.nn,r.rect),i=r.nn,n=r.rect}},a.Ef=function(t,e,i){var n=e.$,r=n>>1,s=e.z>>1,h=new L(e.x,e.y,r,s);if(null==t)return{rect:h};for(var o=i&&i.length==r*s*4?i:a.I(r*s*4),l=new Uint32Array(t.buffer),u=new Uint32Array(o.buffer),f=0;f<s;f++)for(var c=0;c<r;c++){var p=f*r+c,v=(f<<1)*n+(c<<1),d=l[v],y=l[v+1],g=l[v+n],m=l[v+n+1],w=d>>>24,b=y>>>24,x=g>>>24,M=m>>>24,S=(d>>>0&255)*w+(y>>>0&255)*b+(g>>>0&255)*x+(m>>>0&255)*M,A=(d>>>8&255)*w+(y>>>8&255)*b+(g>>>8&255)*x+(m>>>8&255)*M,k=(d>>>16&255)*w+(y>>>16&255)*b+(g>>>16&255)*x+(m>>>16&255)*M,C=w+b+x+M;if(0==C)u[p]=0;else{var T=1/C;S=~~(S*T+.5),A=~~(A*T+.5),k=~~(k*T+.5),u[p]=C+2>>>2<<24|k<<16|A<<8|S}}return{rect:h,nn:o}},a.tLj=function(t,e,i){var n=e.$,r=n>>1,s=e.z>>1,h=new L(e.x,e.y,r,s);if(null==t)return{rect:h};for(var o=i&&i.length==r*s*4?i:a.I(r*s*4),l=new Uint32Array(t.buffer),u=new Uint32Array(o.buffer),f=0;f<s;f++)for(var c=0;c<r;c++){var p=f*r+c,v=(f<<1)*n+(c<<1),d=l[v],y=l[v+1],g=l[v+n],m=l[v+n+1],w=2+(d>>>0&255)+(y>>>0&255)+(g>>>0&255)+(m>>>0&255)>>>2,b=2+(d>>>8&255)+(y>>>8&255)+(g>>>8&255)+(m>>>8&255)>>>2,x=2+(d>>>16&255)+(y>>>16&255)+(g>>>16&255)+(m>>>16&255)>>>2;u[p]=4278190080|x<<16|b<<8|w}return{rect:h,nn:o}},a.tPI=function(t,e,i){var n=e.$,r=e.z,s=2*Math.floor(n/3),h=2*Math.floor(r/3),o=new L(e.x,e.y,s,h);if(null==t)return{rect:o};for(var l=i&&i.length==s*h*4?i:a.I(s*h*4),u=new Uint32Array(t.buffer),f=new Uint32Array(l.buffer),c=0;c<h;c+=2)for(var p=0;p<s;p+=2){var v=c*s+p,d=(3*c>>>1)*n+(3*p>>>1),y=u[d],g=u[d+1],m=u[d+2],w=u[d+n],b=u[d+1+n],x=u[d+2+n],M=u[d+n+n],S=u[d+1+n+n],A=u[d+2+n+n],k=y>>>24<<2,C=g>>>24<<1,T=(g>>>16&255)*C,U=(g>>>8&255)*C,_=(255&g)*C,F=m>>>24<<2,O=(m>>>16&255)*F,D=(m>>>8&255)*F,N=(255&m)*F,I=w>>>24<<1,E=(w>>>16&255)*I,P=(w>>>8&255)*I,J=(255&w)*I,B=b>>>24,X=(b>>>16&255)*B,z=(b>>>8&255)*B,$=(255&b)*B,V=x>>>24<<1,R=(x>>>16&255)*V,q=(x>>>8&255)*V,H=(255&x)*V,j=M>>>24<<2,G=(M>>>16&255)*j,Y=(M>>>8&255)*j,K=(255&M)*j,Q=S>>>24<<1,W=(S>>>16&255)*Q,Z=(S>>>8&255)*Q,tt=(255&S)*Q,et=A>>>24<<2,it=(A>>>16&255)*et,nt=(A>>>8&255)*et,rt=(255&A)*et,st=k+C+I+B,at=F+C+V+B,ht=j+Q+I+B,ot=et+Q+V+B,lt=0==st?0:1/st,ut=0==at?0:1/at,ft=0==ht?0:1/ht,ct=0==ot?0:1/ot,pt=0,vt=0,dt=0,yt=0;pt=~~(.5+((255&y)*k+_+J+$)*lt),vt=~~(.5+((y>>>8&255)*k+U+P+z)*lt),dt=~~(.5+((y>>>16&255)*k+T+E+X)*lt),yt=~~(.5+st*(1/9)),f[v]=yt<<24|dt<<16|vt<<8|pt,pt=~~(.5+(N+_+H+$)*ut),vt=~~(.5+(D+U+q+z)*ut),dt=~~(.5+(O+T+R+X)*ut),yt=~~(.5+at*(1/9)),f[v+1]=yt<<24|dt<<16|vt<<8|pt,pt=~~(.5+(K+tt+J+$)*ft),vt=~~(.5+(Y+Z+P+z)*ft),dt=~~(.5+(G+W+E+X)*ft),yt=~~(.5+ht*(1/9)),f[v+s]=yt<<24|dt<<16|vt<<8|pt,pt=~~(.5+(rt+tt+H+$)*ct),vt=~~(.5+(nt+Z+q+z)*ct),dt=~~(.5+(it+W+R+X)*ct),yt=~~(.5+ot*(1/9)),f[v+s+1]=yt<<24|dt<<16|vt<<8|pt}return{rect:o,nn:l}},a.tRP=function(t,e,i){var n=e.$,r=e.z,s=2*Math.floor(n/3),h=2*Math.floor(r/3),o=new L(e.x,e.y,s,h);if(null==t)return{rect:o};for(var l=i&&i.length==s*h*4?i:a.I(s*h*4),u=new Uint32Array(t.buffer),f=new Uint32Array(l.buffer),c=0;c<h;c+=2)for(var p=0;p<s;p+=2){var v=c*s+p,d=(3*c>>>1)*n+(3*p>>>1),y=u[d],g=u[d+1],m=u[d+2],w=u[d+n],b=u[d+1+n],x=u[d+2+n],M=u[d+n+n],S=u[d+1+n+n],A=u[d+2+n+n],k=(g>>>16&255)<<1,C=(g>>>8&255)<<1,T=(255&g)<<1,U=(m>>>16&255)<<2,_=(m>>>8&255)<<2,F=(255&m)<<2,O=(w>>>16&255)<<1,D=(w>>>8&255)<<1,N=(255&w)<<1,I=b>>>16&255,E=b>>>8&255,P=255&b,J=(x>>>16&255)<<1,B=(x>>>8&255)<<1,X=(255&x)<<1,z=(M>>>16&255)<<2,$=(M>>>8&255)<<2,V=(255&M)<<2,R=(S>>>16&255)<<1,q=(S>>>8&255)<<1,H=(255&S)<<1,j=(A>>>16&255)<<2,G=(A>>>8&255)<<2,Y=(255&A)<<2,K=0,Q=0,W=0;K=~~(.5+(((255&y)<<2)+T+N+P)*(1/9)),Q=~~(.5+(((y>>>8&255)<<2)+C+D+E)*(1/9)),W=~~(.5+(((y>>>16&255)<<2)+k+O+I)*(1/9)),f[v]=255<<24|W<<16|Q<<8|K,K=~~(.5+(F+T+X+P)*(1/9)),Q=~~(.5+(_+C+B+E)*(1/9)),W=~~(.5+(U+k+J+I)*(1/9)),f[v+1]=255<<24|W<<16|Q<<8|K,K=~~(.5+(V+H+N+P)*(1/9)),Q=~~(.5+($+q+D+E)*(1/9)),W=~~(.5+(z+R+O+I)*(1/9)),f[v+s]=255<<24|W<<16|Q<<8|K,K=~~(.5+(Y+H+X+P)*(1/9)),Q=~~(.5+(G+q+B+E)*(1/9)),W=~~(.5+(j+R+J+I)*(1/9)),f[v+s+1]=255<<24|W<<16|Q<<8|K}return{rect:o,nn:l}},a.Yp=function(t,e,i,n){var r,s=a.Ef,h=a.tPI,o=0;if(t){var l=255,u=t.length;u-=(u>>>3&7)<<3;for(var f=3;f<u;f+=32)l=l&t[f]&t[f+4]&t[f+8]&t[f+12]&t[f+16]&t[f+20]&t[f+24]&t[f+28];255==l&&(s=a.tLj,h=a.tRP)}for(var c=i;c<.499;)o++,c*=2;r=c<.5001?s(t,e,n):h(t,e,n);for(f=0;f<o;f++)r=s(r.nn,r.rect,n);return r},a.Jg=function(t,e,i,n){for(var r=e.sj(n),s=Math.max(0,r.x-e.x),a=Math.max(0,r.x-n.x),h=Math.max(0,r.y-e.y),o=Math.max(0,r.y-n.y),l=r.$,u=r.z,f=0;f<u;f++)for(var c=(h+f)*e.$+s,p=(o+f)*n.$+a,v=0;v<l;v++)i[p+v]=t[c+v]},a.cl=function(t,e,i,n){if(e.v$(n))a.kw(t,i,3);else for(var r=e.sj(n),s=Math.max(0,r.x-e.x),h=Math.max(0,r.x-n.x),o=Math.max(0,r.y-e.y),l=Math.max(0,r.y-n.y),u=r.$,f=r.z,c=0;c<f;c++)for(var p=(o+c)*e.$+s,v=(l+c)*n.$+h,d=0;d<u;d++)i[3+(v+d<<2)]=t[p+d]},a.he=function(t,e,i,n){for(var r=e.sj(n),s=Math.max(0,r.x-e.x),a=Math.max(0,r.x-n.x),h=Math.max(0,r.y-e.y),o=Math.max(0,r.y-n.y),l=r.$,u=r.z,f=0;f<u;f++)for(var c=(h+f)*e.$+s,p=(o+f)*n.$+a,v=0;v<l;v++)i[p+v]=t[3+(c+v<<2)]},a.tPr=function(t,e,i,n){for(var r=e.sj(n),s=Math.max(0,r.x-e.x),a=Math.max(0,r.x-n.x),h=Math.max(0,r.y-e.y),o=Math.max(0,r.y-n.y),l=r.$,u=r.z,f=0;f<u;f++)for(var c=(h+f)*e.$+s,p=(o+f)*n.$+a,v=0;v<l;v++)i[p++]=t[c++]},a.Pg=function(t,e,i,n,r){if(!e.v$(n)||null!=r&&!r.v$(n)){t=new Uint32Array(t.buffer),i=new Uint32Array(i.buffer);var s=e.sj(n);r&&(s=s.sj(r));for(var h=Math.max(0,s.x-e.x),o=Math.max(0,s.x-n.x),l=Math.max(0,s.y-e.y),u=Math.max(0,s.y-n.y),f=s.$,c=s.z,p=3&f,v=0==p?f:f-p,d=0;d<c;d++){for(var y=(l+d)*e.$+h,g=(u+d)*n.$+o,m=0;m<v;)i[g+m]=t[y+m],i[g+m+1]=t[y+m+1],i[g+m+2]=t[y+m+2],i[g+m+3]=t[y+m+3],m+=4;1==p?i[g+m]=t[y+m]:2==p?(i[g+m]=t[y+m],i[g+m+1]=t[y+m+1]):3==p&&(i[g+m]=t[y+m],i[g+m+1]=t[y+m+1],i[g+m+2]=t[y+m+2])}}else a.sa(t,i)},a.h_=function(t,e,i,n){for(var r=e.sj(n),s=Math.max(0,r.x-e.x),a=Math.max(0,r.x-n.x),h=Math.max(0,r.y-e.y),o=Math.max(0,r.y-n.y),l=r.$,u=r.z,f=t.o,c=t.T,p=t.q,v=t.H,d=i.o,y=i.T,g=i.q,m=i.H,w=0;w<u;w++)for(var b=(h+w)*e.$+s,x=(o+w)*n.$+a,M=0;M<l;M++)d[x+M]=f[b+M],y[x+M]=c[b+M],g[x+M]=p[b+M],m[x+M]=v[b+M]},a.cf=function(t){for(var e=t.length,i=0;i<e;i+=4){var n=t[i+3];255!=n&&(t[i]=a.qi(t[i]*n),t[i+1]=a.qi(t[i+1]*n),t[i+2]=a.qi(t[i+2]*n))}},a.cY=function(t){for(var e=t.length,i=0;i<e;i+=4){var n=t[i+3];if(0!=n&&255!=n){var r=255/n;t[i]=~~(t[i]*r+.5),t[i+1]=~~(t[i+1]*r+.5),t[i+2]=~~(t[i+2]*r+.5)}}},a.tPw=function(){for(var t=new Uint8Array(65536),e=0;e<256;e++)for(var i=0;i<256;i++)t[256*i+e]=Math.round(255*e/i);return t}(),a.Wt=function(t,e){for(var i=0;i<t.length;i++)if(t[i]!=e)return!1;return!0},a.qi=function(t){return t+1+(t>>>8)>>>8},a.round=function(t,e){null==e&&(e=128);for(var i=t.length,n=0;n<i;n++)t[n]=t[n]<e?0:255},a.Yi=function(t,e){for(var i=t.length,n=0;n<i;n++)t[n]=Math.round(t[n]*e)},a.tPL=function(t,e){for(var i=t.length,n=0;n<i;n+=4)t[n+3]=Math.round(t[n+3]*e)},a.Yj=function(t,e){for(var i=new Uint32Array(t.buffer),n=new Uint32Array(e.buffer),r=i.length,s=0;s<r;s++){var h=i[s],o=n[s];n[s]=a.qi((h>>>24)*(o>>>24))<<24|a.qi((h>>>16&255)*(o>>>16&255))<<16|a.qi((h>>>8&255)*(o>>>8&255))<<8|a.qi((255&h)*(255&o))}},a.tV$=function(t,e){for(var i=t.length,n=0;n<i;n++)e[3+(n<<2)]=a.qi(e[3+(n<<2)]*t[n])},a.tJS=function(t,e,i,n){for(var r=Math.max(0,n.x-e.x),s=Math.max(0,e.x-n.x),h=Math.max(0,n.y-e.y),o=Math.max(0,e.y-n.y),l=Math.min(e.x+e.$,n.x+n.$)-Math.max(e.x,n.x),u=Math.min(e.y+e.z,n.y+n.z)-Math.max(e.y,n.y),f=0;f<u;f++)for(var c=(h+f)*e.$+r,p=(o+f)*n.$+s,v=0;v<l;v++)i[p]=a.qi(i[p]*t[c]),c++,p++},a.Sm=function(t,e,i,n){for(var r=Math.max(0,n.x-e.x),s=Math.max(0,e.x-n.x),h=Math.max(0,n.y-e.y),o=Math.max(0,e.y-n.y),l=Math.min(e.x+e.$,n.x+n.$)-Math.max(e.x,n.x),u=Math.min(e.y+e.z,n.y+n.z)-Math.max(e.y,n.y),f=0;f<u;f++)for(var c=(h+f)*e.$+r,p=3+((o+f)*n.$+s<<2),v=0;v<l;v++)i[p]=a.qi(i[p]*t[c]),c++,p+=4},a.WJ=function(t,e,i,n){for(var r=Math.max(0,n.x-e.x),s=Math.max(0,e.x-n.x),h=Math.max(0,n.y-e.y),o=Math.max(0,e.y-n.y),l=Math.min(e.x+e.$,n.x+n.$)-Math.max(e.x,n.x),u=Math.min(e.y+e.z,n.y+n.z)-Math.max(e.y,n.y),f=0;f<u;f++)for(var c=3+((h+f)*e.$+r<<2),p=3+((o+f)*n.$+s<<2),v=0;v<l;v++)i[p]=a.qi(i[p]*t[c]),c+=4,p+=4},a.tPT=function(t,e,i,n){for(var r=Math.max(0,n.x-e.x),s=Math.max(0,e.x-n.x),a=Math.max(0,n.y-e.y),h=Math.max(0,e.y-n.y),o=Math.min(e.x+e.$,n.x+n.$)-Math.max(e.x,n.x),l=Math.min(e.y+e.z,n.y+n.z)-Math.max(e.y,n.y),u=0;u<l;u++)for(var f=(a+u)*e.$+r,c=(h+u)*n.$+s,p=0;p<o;p++)i[c]=.00392156862745098*i[c]*(255-t[f]),f++,c++},a.tPd=function(t,e){for(var i=[],n=0;n<256;n++)i.push(0);var r=t.length;for(n=0;n<r;n++)i[t[n]]+=.00392156862745098*e[n];return i},a.Yk=function(t){for(var e=new Float64Array(256),i=new Float64Array(256),n=new Float64Array(256),r=new Float64Array(256),s=t.length,a=0;a<s;a+=4){var h=t[a+3]*(1/255);i[t[a+0]]+=h,n[t[a+1]]+=h,r[t[a+2]]+=h}for(a=0;a<256;a++)e[a]=i[a]+n[a]+r[a];return[e,i,n,r]},a.vs=function(t,e){for(var i=new Uint32Array(t.buffer),n=i.length,r=0;r<n;r++){var s=i[r],a=255&s,h=s>>8&255,o=s>>16&255,l=s>>24&255;i[r]=e[a]|e[h]<<8|e[o]<<16|e[l]<<24}},a.tJA=function(t,e,i,n,r,s,h){for(var o=new Uint32Array(t.buffer),l=new Uint32Array(e.buffer),u=o.length,f=0;256<<f<i.length;)f++;if(h||s)for(d=0;d<u;d++){g=(255&(y=o[d]))<<f,m=(y>>>8&255)<<f,w=(y>>>16&255)<<f;s&&(g=m=w=Math.round(.3*g+.59*m+.11*w));b=i[g],x=n[m],M=r[w];if(h){var c=a.YK(g,m,w),p=a.YK(b,x,M);if(c>p)b+=(v=(c-p)/(255-p))*(255-b),x+=v*(255-x),M+=v*(255-M);else if(0==p)b=x=M=0;else{var v;b*=v=c/p,x*=v,M*=v}}l[d]=b|x<<8|M<<16|4278190080&y}else for(var d=0;d!=u;d++){var y,g,m=((y=o[d])>>>8&255)<<f,w=(y>>>16&255)<<f,b=i[g=(255&y)<<f],x=n[m],M=r[w];l[d]=b|x<<8|M<<16|4278190080&y}},a.tPG=function(t){for(var e=new Uint32Array(256),i=0,n=0;n<t.length;n++)e[t[n]]++;for(n=0;n<256;n++)e[n]>e[i]&&(i=n);return i},a.hV=function(t,e){var i=e.$,n=e.z,r=0,s=0,a=0,h=0,o=!1;o=!1;for(var l=0;l<n;l++){for(var u=l*i,f=0;f<i;f++)0!=t[u+f]&&(o=!0);if(o)break;r++}o=!1;for(l=n-1;l>=0;l--){for(u=l*i,f=0;f<i;f++)0!=t[u+f]&&(o=!0);if(o)break;a++}o=!1;for(f=0;f<i;f++){for(l=0;l<n;l++)0!=t[l*i+f]&&(o=!0);if(o)break;s++}o=!1;for(f=i-1;f>=0;f--){for(l=0;l<n;l++)0!=t[l*i+f]&&(o=!0);if(o)break;h++}var c=new L(e.x+s,e.y+r,i-s-h,n-r-a);return c.km()?new L(0,0,0,0):c},a.Wr=function(t,e,i){var n=new Uint32Array(t.buffer),r=e.$,s=e.z,a=0,h=0,o=0,l=0,u=!1,f=null==i?n[0]:i;u=!1;for(var c=0;c<s;c++){for(var p=c*r,v=0;v<r;v++)n[p+v]!=f&&(u=!0);if(u)break;a++}u=!1;for(c=s-1;c>=0;c--){for(p=c*r,v=0;v<r;v++)n[p+v]!=f&&(u=!0);if(u)break;o++}u=!1;for(v=0;v<r;v++){for(c=0;c<s;c++)n[c*r+v]!=f&&(u=!0);if(u)break;h++}u=!1;for(v=r-1;v>=0;v--){for(c=0;c<s;c++)n[c*r+v]!=f&&(u=!0);if(u)break;l++}var d=new L(e.x+h,e.y+a,r-h-l,s-a-o);return d.km()?new L(0,0,0,0):d},a.hJ=function(t){var e=a.hV(t.channel,t.rect);if(!e.v$(t.rect)){var i=a.I(e.f());a.Jg(t.channel,t.rect,i,e),t.channel=i,t.rect=e}},a.bt=function(t){var e=a.I(t.buffer.length>>2);a.rY(t.buffer,e,3);var i=a.hV(e,t.rect);if(!i.v$(t.rect)){var n=new a.I(4*i.f());a.Pg(t.buffer,t.rect,n,i),t.buffer=n,t.rect=i}},a.extend=function(t,e,i){if(!t.rect.pk(e)){var n=t.rect.Fv(e),r=a.I(n.f());null!=i&&a.set(r,i),a.Jg(t.channel,t.rect,r,n),t.rect=n,t.channel=r}},a.ttd=function(t,e){if(!e.km()&&!t.rect.pk(e)){var i=t.rect.Fv(e),n=a.I(4*i.f());a.Pg(t.buffer,t.rect,n,i),t.rect=i,t.buffer=n}},a.tPx=function(t,e,i){for(var n=e.clone(),r=i.f(),s=t.Fv(n);s.f()/t.f()<2&&s.f()<r;)n.FA(16,16),s=s.Fv(n).sj(i);return r/s.f()<2&&(s=i.clone()),s},a.oc=function(t,e,i){if(!i.Eo(t))return!1;var n=Math.floor(t.x)-i.x;return e[(Math.floor(t.y)-i.y)*i.$+n]>128},a.ttj=function(t,e,i){if(!i.Eo(t))return!1;var n=Math.floor(t.x)-i.x;return e[4*((Math.floor(t.y)-i.y)*i.$+n)+3]>128},a.cb=function(t){return a.bu.length<t&&(a.bu=a.I(t),a.set(a.bu,255)),a.bu},a.bu=a.I(0),a.kh=function(t){return a.Wo.length<t&&(a.Wo=a.I(t)),a.Wo},a.Wo=a.I(0),a.wf=function(t){this.o=a.I(t),this.T=a.I(t),this.q=a.I(t),this.H=a.I(t)},a.wf.prototype.clone=function(){this.o.length;var t=new a.wf(1);return t.o=a.clone(this.o),t.T=a.clone(this.T),t.q=a.clone(this.q),t.H=a.clone(this.H),t},a.a={},a.a.b_=new Float64Array(256),a.a.DR=new Uint8Array(65536),a.a.WX=new Uint8Array(65536),function(){for(var t=0;t<256;t++)a.a.b_[t]=255/t;for(t=0;t<256;t++)for(var e=0;e<256;e++)a.a.DR[256*t+e]=0==t?0:Math.round(255*e/t);for(t=0;t<256;t++)for(e=0;e<256;e++)a.a.WX[256*t+e]=Math.round(t*(255-e)/255)}(),a.a.MR=function(t,e,i,n,r,s,h,o){null==o&&(o=lt.wU()),-1=="idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(t)&&(h*=o.fill,o.fill=1,o.style=!1);var l="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),u="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),f=a.a[t+"F"];"norm"==t?a.a.tw$(e,i,n,r,s,h,f,o.VE?1:0):"diss"==t?a.a.tGl(e,i,n,r,s,h,f,o.VE?1:0):-1!=l.indexOf(t)?a.a.tcm(e,i,n,r,s,h,f,o):-1!=u.indexOf(t)&&a.a.tCL(e,i,n,r,s,h,f,o.VE?1:0)},a.a.tVK=function(t,e,i){return 0==t?0:1-Math.min(1,(1-e)/(t*i+1-i))},a.a.tHy=function(t,e,i){return t*i==1?1:Math.min(1,e/(1-t*i))},a.a.oI=function(t){return t<=.25?((16*t-12)*t+4)*t:Math.sqrt(t)},a.a.normF=function(t,e,i){return t},a.a.darkF=function(t,e,i){return Math.min(t,e)},a.a["mul F"]=function(t,e,i){return t*e},a.a.idivF=function(t,e,i){var n=t*i+1-i;return 1==e?1:1-e>=n?0:1-(1-e)/n},a.a.lbrnF=function(t,e,i){return Math.max(0,t*i+e-i)},a.a.dkClF=function(t,e,i){var n=a.If(t)<a.If(e)?t:e;return i.T=n.T,i.q=n.q,i.H=n.H,i},a.a.liteF=function(t,e,i){return Math.max(t,e)},a.a.scrnF=function(t,e,i){return e+t-e*t},a.a["div F"]=function(t,e,i){return t*=i,0==e?0:e>=1-t?1:e/(1-t)},a.a.lddgF=function(t,e,i){return t*=i,Math.min(1,t+e)},a.a.lgClF=function(t,e,i){var n=a.If(t)>a.If(e)?t:e;return i.T=n.T,i.q=n.q,i.H=n.H,i},a.a.overF=function(t,e,i){return a.a.hLitF(e,t,i)},a.a.sLitF=function(t,e,i){return t<=.5?e-(1-2*t)*e*(1-e):e+(2*t-1)*(a.a.oI(e)-e)},a.a.hLitF=function(t,e,i){return t<=.5?a.a["mul F"](2*t,e,i):a.a.scrnF(2*t-1,e,i)},a.a.vLitF=function(t,e,i){return t<=.5?a.a.tVK(2*t,e,i):a.a.tHy(2*t-1,e,i)},a.a.lLitF=function(t,e,i){return t<=.5?a.a.lbrnF(2*t,e,i):a.a.lddgF(2*t-1,e,i)},a.a.pLitF=function(t,e,i){return t<=.5?a.a.darkF(2*t,e,i):a.a.liteF(2*t-1,e,i)},a.a.hMixF=function(t,e,i){return i>.99?t+e<1?0:1:Math.min(1,Math.max(0,(e+t*i-i)/(1-i+1e-6)))},a.a.diffF=function(t,e,i){return t*=i,Math.abs(t-e)},a.a.smudF=function(t,e,i){return t+e-2*t*e},a.a.fsubF=function(t,e,i){return Math.max(e-t,0)},a.a.fdivF=function(t,e,i){return Math.min(e/t,1)},a.a["hue F"]=function(t,e,i){a.YG(t,a.YH(e),i),a.sg(i,a.If(e),i)},a.a["sat F"]=function(t,e,i){a.YG(e,a.YH(t),i),a.sg(i,a.If(e),i)},a.a.colrF=function(t,e,i){a.sg(t,a.If(e),i)},a.a["lum F"]=function(t,e,i){a.sg(e,a.If(t),i)},a.a.tw$=function(t,e,i,n,r,s,h,o){for(var l=e.sj(n).sj(r),u=Math.max(0,l.x-e.x),f=Math.max(0,l.x-n.x),c=Math.max(0,l.y-e.y),p=Math.max(0,l.y-n.y),v=l.$,d=l.z,y=e.$,g=n.$,m=a.a.DR,w=a.a.WX,b=new Uint32Array(t.buffer),x=new Uint32Array(i.buffer),M=0;M<d;M++)for(var S=(c+M)*y+u,A=(p+M)*g+f,k=0;k<v;k++){var C=b[S+k],T=255;if(C>>>24!=0)if(C>>>24!=255||1!=s||0!=o){var U=x[A+k],_=255*s&255;0==o&&(_=(C>>>24)*s&255,T=U>>>24);var F=w[T<<8|_],O=_+F,L=255&C,D=C>>>8&255,N=C>>>16&255,I=255&U,E=U>>>8&255,P=U>>>16&255;x[A+k]=o*(U>>>24)+(1-o)*O<<24|m[O<<8|a.qi(N*_+P*F)]<<16|m[O<<8|a.qi(D*_+E*F)]<<8|m[O<<8|a.qi(L*_+I*F)]}else x[A+k]=b[S+k]}},a.a.tDM=function(t,e,i,n,r,s){for(var h=e.sj(n).sj(r),o=Math.max(0,h.x-e.x),l=Math.max(0,h.x-n.x),u=Math.max(0,h.y-e.y),f=Math.max(0,h.y-n.y),c=h.$,p=h.z,v=e.$,d=n.$,y=(a.a.DR,a.a.WX,new Uint32Array(t.buffer)),g=new Uint32Array(i.buffer),m=Math.floor(16777215*Math.random()),w=0,b=0;b<p;b++)for(var x=(u+b)*v+o,M=(f+b)*d+l,S=0;S<c;S++){var A=y[x+S];if(A>>>24!=0)if(A>>24!=255||1!=s){var k=g[M+S],C=(A>>>24)*s*(1/255),T=1/255*(k>>>24)*(1-C),U=C+T,_=255&A,F=A>>>8&255,O=A>>>16&255,L=255&k,D=k>>>8&255,N=k>>>16&255;w>>>=8,0==(3&S)&&(w=a.a.zS(M+S+m));var I=0==U?0:1/U,E=Math.floor(65280*U)+(255&w)>>>8,P=Math.floor((O*C+N*T)*I+.5),J=Math.floor((F*C+D*T)*I+.5),B=Math.floor((_*C+L*T)*I+.5);g[M+S]=E<<24|P<<16|J<<8|B}else g[M+S]=A}},a.a.tcm=function(t,e,i,n,r,s,a,h){for(var o=1/255,l=o*s,u=h.VE?1:0,f=h.fill,c=h.style,p=e.sj(n).sj(r),v=Math.max(0,p.x-e.x),d=Math.max(0,p.x-n.x),y=Math.max(0,p.y-e.y),g=Math.max(0,p.y-n.y),m=p.$,w=p.z,b=e.$,x=n.$,M=new Uint32Array(t.buffer),S=new Uint32Array(i.buffer),A=0;A<w;A++)for(var k=(y+A)*b+v,C=(g+A)*x+d,T=0;T<m;T++,k++,C++){var U=M[k],_=1;if(U>>>24!=0){var F=S[C],O=s;0==u&&(O=(U>>>24)*l,_=(F>>>24)*o);var L=O+_*(1-O),D=255/L,N=(255&U)*o,I=(U>>>8&255)*o,E=(U>>>16&255)*o,P=(255&F)*o,J=(F>>>8&255)*o,B=(F>>>16&255)*o,X=c?1:O,z=((1-_)*O*N+(1-X)*_*P+X*_*a(N,P,(1+O-X)*f))*D,$=((1-_)*O*I+(1-X)*_*J+X*_*a(I,J,(1+O-X)*f))*D,V=((1-_)*O*E+(1-X)*_*B+X*_*a(E,B,(1+O-X)*f))*D;L=O*f+_*(1-O*f);var R=Math.round(255*L);S[C]=u*(F>>>24)+(1-u)*R<<24|V<<16|$<<8|z}}},a.a.tCL=function(t,e,i,n,r,s,a,h){for(var o=1/255,l=o*s,u=e.sj(n).sj(r),f=Math.max(0,u.x-e.x),c=Math.max(0,u.x-n.x),p=Math.max(0,u.y-e.y),v=Math.max(0,u.y-n.y),d=u.$,y=u.z,g=new Uint32Array(t.buffer),m=new Uint32Array(i.buffer),w={T:0,q:0,H:0},b={T:0,q:0,H:0},x={T:0,q:0,H:0},M=0;M<y;M++)for(var S=(p+M)*e.$+f,A=(v+M)*n.$+c,k=0;k<d;k++,S++,A++){var C=g[S],T=m[A],U=s,_=1;0==h&&(U=(C>>>24)*l,_=(T>>>24)*o);var F=_*(1-U),O=U+F,L=255/O,D=(255&C)*o,N=(C>>>8&255)*o,I=(C>>>16&255)*o,E=(255&T)*o,P=(T>>>8&255)*o,J=(T>>>16&255)*o;w.T=D,w.q=N,w.H=I,b.T=E,b.q=P,b.H=J,a(w,b,x);var B=(((1-_)*D+_*x.T)*U+E*F)*L,X=(((1-_)*N+_*x.q)*U+P*F)*L,z=(((1-_)*I+_*x.H)*U+J*F)*L,$=h*(T>>>24)+(1-h)*Math.round(255*O);m[A]=$<<24|z<<16|X<<8|B}},a.a.LC=function(t){return t=61^t^t>>16,t+=t<<3,t^=t>>4,t*=668265261,1/16777215*(16777215&(t^=t>>15))},a.a.zS=function(t){return t=61^t^t>>16,t+=t<<3,t^=t>>4,t*=668265261,t^=t>>15},a.a.tGl=function(t,e,i,n,r,s,h,o){for(var l=Math.round(s*(16777216/255)),u=e.sj(n).sj(r),f=Math.max(0,u.x-e.x),c=Math.max(0,u.x-n.x),p=Math.max(0,u.y-e.y),v=Math.max(0,u.y-n.y),d=u.$,y=u.z,g=new Uint32Array(t.buffer),m=new Uint32Array(i.buffer),w=0;w<y;w++)for(var b=(p+w)*e.$+f,x=(v+w)*n.$+c,M=0;M<d;M++,b++,x++){var S=g[b],A=m[x],k=255*o+(1-o)*(S>>>24);(16777215&a.a.zS(b))>=k*l||(m[x]=16777215&S|o*(A>>>24)+255*(1-o)<<24)}},a.a.tPi=function(t,e,i){for(var n=0;n<t.length;n+=4){var r=i[n>>>2];if(0!=r){var s=r*(1/255),a=1/s,h=e[n],o=e[n+1],l=e[n+2],u=t[n],f=t[n+1],c=t[n+2];e[n]=Math.min(255,Math.max(0,Math.round((h-(1-s)*u)*a))),e[n+1]=Math.min(255,Math.max(0,Math.round((o-(1-s)*f)*a))),e[n+2]=Math.min(255,Math.max(0,Math.round((l-(1-s)*c)*a))),e[n+3]=255}}},a.a.fX=function(t,e,i,n,r,s,h,o,l,u){if(null==u&&(u=!1),r&&!e.v$(s)){var f=a.I(4*e.f());a.set(f,h),a.Jg(r,s,f,e),r=f,s=e}u?null==r?a.a.tRM(t,e,i,n,r,o,l):a.a.trm(t,e,i,n,r,o,l):null==r?a.a.tRx(t,e,i,n,r,o,l):a.a.ttZ(t,e,i,n,r,o,l)},a.a.tRx=function(t,e,i,n,r,s,h){for(var o=e.sj(n).sj(s),l=Math.max(0,o.x-e.x),u=Math.max(0,o.x-n.x),f=Math.max(0,o.y-e.y),c=Math.max(0,o.y-n.y),p=o.$,v=o.z,d=new Uint32Array(t.buffer),y=new Uint32Array(i.buffer),g=a.a.DR,m=255*h&255,w=0;w<v;w++)for(var b=(f+w)*e.$+l,x=(c+w)*n.$+u,M=0;M<p;M++,b++,x++){var S=d[b],A=y[x],k=S>>>24,C=A>>>24,T=a.qi(m*k+(255-m)*C),U=a.qi(k*m),_=a.qi(C*(255-m)),F=U*(255&S)+(255&A)*_,O=U*(S>>>8&255)+(A>>>8&255)*_,L=U*(S>>>16&255)+(A>>>16&255)*_;F=g[T<<8|a.qi(F)],O=g[T<<8|a.qi(O)],L=g[T<<8|a.qi(L)],y[x]=T<<24|L<<16|O<<8|F}},a.a.tRM=function(t,e,i,n,r,s,h){for(var o=e.sj(n).sj(s),l=Math.max(0,o.x-e.x),u=Math.max(0,o.x-n.x),f=Math.max(0,o.y-e.y),c=Math.max(0,o.y-n.y),p=o.$,v=o.z,d=new Uint32Array(t.buffer),y=new Uint32Array(i.buffer),g=(a.a.DR,16777215*h&16777215),m=0;m<v;m++)for(var w=(f+m)*e.$+l,b=(c+m)*n.$+u,x=0;x<p;x++,w++,b++)(16777215&a.a.zS(w))<g&&(y[b]=d[w])},a.a.ttZ=function(t,e,i,n,r,s,h){for(var o=e.sj(n).sj(s),l=Math.max(0,o.x-e.x),u=Math.max(0,o.x-n.x),f=Math.max(0,o.y-e.y),c=Math.max(0,o.y-n.y),p=o.$,v=o.z,d=new Uint32Array(t.buffer),y=new Uint32Array(i.buffer),g=a.a.DR,m=0;m<v;m++)for(var w=(f+m)*e.$+l,b=(c+m)*n.$+u,x=0;x<p;x++,w++,b++){var M=r[w]*h&255;if(0!=M)if(255!=M){var S=d[w],A=y[b],k=S>>>24,C=A>>>24,T=a.qi(M*k+(255-M)*C),U=a.qi(k*M),_=a.qi(C*(255-M)),F=255&S,O=S>>>8&255,L=S>>>16&255,D=255&A,N=A>>>8&255,I=A>>>16&255,E=g[T<<8|a.qi(U*F+D*_)],P=g[T<<8|a.qi(U*O+N*_)],J=g[T<<8|a.qi(U*L+I*_)];y[b]=T<<24|J<<16|P<<8|E}else y[b]=d[w]}},a.a.trm=function(t,e,i,n,r,s,h){for(var o=e.sj(n).sj(s),l=Math.max(0,o.x-e.x),u=Math.max(0,o.x-n.x),f=Math.max(0,o.y-e.y),c=Math.max(0,o.y-n.y),p=o.$,v=o.z,d=new Uint32Array(t.buffer),y=new Uint32Array(i.buffer),g=(a.a.DR,Math.round(257*h)),m=0;m<v;m++)for(var w=(f+m)*e.$+l,b=(c+m)*n.$+u,x=0;x<p;x++,w++,b++){var M=r[w]*g;(65535&a.a.zS(w))<M&&(y[b]=d[w])}},a.a.Lq=function(t,e,i,n,r,s,h){for(var o=e.sj(n).sj(s),l=Math.max(0,o.x-e.x),u=Math.max(0,o.x-n.x),f=Math.max(0,o.y-e.y),c=Math.max(0,o.y-n.y),p=o.$,v=o.z,d=new Uint32Array(t.buffer),y=new Uint32Array(i.buffer),g=Math.floor(Math.random()*n.f()),m=(a.a.tDS,0);m<v;m++)for(var w=(f+m)*e.$+l,b=(c+m)*n.$+u,x=0;x<p;x++){var M=r[w+x]*h;if(0!=M)if(255!=M){var S=d[w+x],A=y[b+x],k=(S>>>24)*M*(1/255),C=(A>>>24)*(255-M)*(1/255),T=255&S,U=S>>>8&255,_=S>>>16&255,F=255&A,O=A>>>8&255,L=A>>>16&255,D=a.a.zS(b+x+g),N=Math.floor(256*(k+C)+.5)+(D>>>0&255)>>>8,I=0==N?0:256/(k+C),E=T*k+F*C,P=U*k+O*C,J=_*k+L*C,B=Math.floor(E*I+.5)+(D>>>8&255)>>>8,X=Math.floor(P*I+.5)+(D>>>16&255)>>>8,z=Math.floor(J*I+.5)+(D>>>21&248)>>>8;y[b+x]=N<<24|z<<16|X<<8|B}else y[b+x]=d[w+x]}},a.a.tDS=function(t){return Math.floor(t+Math.random())},a.a.sF=function(t,e,i,n,r,s,a){for(var h=e.sj(n).sj(s),o=Math.max(0,h.x-e.x),l=Math.max(0,h.x-n.x),u=Math.max(0,h.y-e.y),f=Math.max(0,h.y-n.y),c=h.$,p=h.z,v=0;v<p;v++)for(var d=(u+v)*e.$+o,y=(f+v)*n.$+l,g=0;g<c;g++,d++,y++){var m=a*r[d]*.00392156862745098;0!=m&&(i[y]=1!=m?t[d]*m+i[y]*(1-m):t[d])}},a.blur={},a.blur.Zw=function(t){return a.blur.Bt.length<t&&(a.blur.Bt=a.I(t)),a.blur.Bt},a.blur.Bt=a.I(0),a.blur.Lf=function(t){return a.blur.Wn.length<t&&(a.blur.Wn=new Float32Array(t)),a.blur.Wn},a.blur.Wn=new Float32Array(0),a.blur.ur=function(t,e,i,n){var r=i.$,s=i.z;a.blur.tGa(t,e,r,s,n)},a.blur.tDU=function(t,e,i){var n=e.$,r=e.z;a.blur.tGA(t,n,r,i)},a.blur.Wl=function(t,e,i,n){var r=i.$,s=i.z;a.blur.tRX(t,e,r,s,n)},a.blur.tcs=function(t,e,i,n){var r=i.$,s=i.z;n=Math.round(n);var h=a.blur.Zw(r*s);a.sa(t,e),a.blur.BJ(e,h,r,s,n)},a.blur.Lj=function(t,e,i){var n=e.$,r=e.z;i=Math.round(i);var s=a.blur.Zw(n*r*4);a.blur.BL(t,s,n,r,i)},a.blur.Wf=function(t,e,i,n){var r=i.$,s=i.z;n=Math.round(n);var h=a.blur.Lf(r*s);a.sa(t,e),a.blur.Bp(e,h,r,s,n)},a.blur.LK=function(t,e,i){var n=e.$,r=e.z;i=Math.round(i);var s=a.blur.Zw(n*r*4);a.blur.LY(t,s,n,r,i),a.sa(s,t)},a.blur.Wj=function(t,e){var i=Math.sqrt(12*t*t/e+1),n=Math.floor(i);n%2==0&&n--;for(var r=n+2,s=(12*t*t-e*n*n-4*e*n-3*e)/(-4*n-4),a=Math.round(s),h=[],o=0;o<e;o++)h.push(o<a?n:r);return h},a.blur.tGa=function(t,e,i,n,r){var s=a.blur.Wj(r,3),h=a.blur.Zw(i*n);a.sa(t,e),a.blur.BJ(e,h,i,n,s[0]-1>>1),a.blur.BJ(e,h,i,n,s[1]-1>>1),a.blur.BJ(e,h,i,n,s[2]-1>>1)},a.blur.tGA=function(t,e,i,n){var r=a.blur.Wj(n,3),s=a.blur.Zw(e*i*4);a.blur.BL(t,s,e,i,r[0]-1>>1),a.blur.BL(t,s,e,i,r[1]-1>>1),a.blur.BL(t,s,e,i,r[2]-1>>1)},a.blur.tRX=function(t,e,i,n,r){var s=a.blur.Wj(r,3),h=a.blur.Lf(i*n);a.sa(t,e),a.blur.Bp(e,h,i,n,(s[0]-1)/2),a.blur.Bp(e,h,i,n,(s[1]-1)/2),a.blur.Bp(e,h,i,n,(s[2]-1)/2)},a.blur.BJ=function(t,e,i,n,r){a.blur.tRQ(t,e,i,n,r),a.blur.tHu(e,t,i,n,r)},a.blur.BL=function(t,e,i,n,r){a.blur.LY(t,e,i,n,r),a.blur.tDD(e,t,i,n,r)},a.blur.Bp=function(t,e,i,n,r){a.blur.tHj(t,e,i,n,r),a.blur.tLK(e,t,i,n,r)},a.blur.Wb=[],a.blur.Bk=function(t){if(a.blur.Wb[t])return a.blur.Wb[t];for(var e=1/(t+t+1),i=256*(t+t+1),n=a.I(i),r=0;r<i;r++)n[r]=Math.round(r*e);return a.blur.Wb[t]=n,n},a.blur.tRQ=function(t,e,i,n,r){for(var s=i-r-r-1,h=a.blur.Bk(r),o=0;o<n;o++){for(var l=o*i,u=l,f=l+r,c=t[l],p=t[l+i-1],v=(r+1)*c,d=0;d<r;d++)v+=t[l+d];for(d=0;d<=r;d++)v+=t[f+d]-c,e[l+d]=h[v];f+=r+1,l+=r+1;for(d=0;d<s;d++)v+=t[f+d]-t[u+d],e[l+d]=h[v];f+=s,u+=s,l+=s;for(d=i-r;d<i;d++)v+=p-t[u++],e[l++]=h[v]}},a.blur.LY=function(t,e,i,n,r){for(var s=i<<2,h=r<<2,o=i-r-r-1<<2,l=a.blur.Bk(r),u=0;u<n;u++){for(var f=u*s,c=f,p=f+h,v=f+s,d=t[f],y=t[f+1],g=t[f+2],m=t[f+3],w=(r+1)*d,b=(r+1)*y,x=(r+1)*g,M=(r+1)*m,S=0;S<h;S+=4)w+=t[f+S],b+=t[f+S+1],x+=t[f+S+2],M+=t[f+S+3];for(S=0;S<=h;S+=4)w+=t[p]-d,e[f]=l[w],b+=t[p+1]-y,e[f+1]=l[b],x+=t[p+2]-g,e[f+2]=l[x],M+=t[p+3]-m,e[f+3]=l[M],p+=4,f+=4;for(S=0;S<o;S+=4)w+=t[p+S]-t[c+S],e[f+S]=l[w],b+=t[p+S+1]-t[c+S+1],e[f+S+1]=l[b],x+=t[p+S+2]-t[c+S+2],e[f+S+2]=l[x],M+=t[p+S+3]-t[c+S+3],e[f+S+3]=l[M];p+=o,c+=o,f+=o,d=t[v-4],y=t[v-3],g=t[v-2],m=t[v-1];for(S=i-r;S<i;S++)w+=d-t[c],e[f]=l[w],b+=y-t[c+1],e[f+1]=l[b],x+=g-t[c+2],e[f+2]=l[x],M+=m-t[c+3],e[f+3]=l[M],c+=4,f+=4}},a.blur.tHj=function(t,e,i,n,r){for(var s=1/(r+r+1),a=i-r-r-1,h=0,o=0,l=0,u=0;u<n;u++){o=h=u*i,l=h+r;for(var f=t[h],c=t[h+i-1],p=(r+1)*f,v=0;v<r;v++)p+=t[h+v];for(v=0;v<=r;v++)p+=t[l++]-f,e[h++]=p*s;for(v=0;v<a;v++)p+=t[l+v]-t[o+v],e[h+v]=p*s;l+=a,o+=a,h+=a;for(v=i-r;v<i;v++)p+=c-t[o++],e[h++]=p*s}},a.blur.tHu=function(t,e,i,n,r){for(var s=n-r-r-1,h=a.blur.Bk(r),o=0;o<i;o++){for(var l=o,u=l,f=l+r*i,c=t[l],p=t[l+i*(n-1)],v=(r+1)*c,d=0;d<r;d++)v+=t[l+d*i];for(d=0;d<=r;d++)v+=t[f]-c,e[l]=h[v],f+=i,l+=i;for(d=0;d<s;d++){var y=d*i;v+=t[f+y]-t[u+y],e[l+y]=h[v]}u+=s*i,f+=s*i,l+=s*i;for(d=n-r;d<n;d++)v+=p-t[u],e[l]=h[v],u+=i,l+=i}},a.blur.tDD=function(t,e,i,n,r){for(var s=i<<2,h=n-r-r-1,o=a.blur.Bk(r),l=0;l<i;l++){for(var u=l<<2,f=u,c=u+r*s,p=u+s*(n-1),v=t[u],d=t[u+1],y=t[u+2],g=t[u+3],m=(r+1)*v,w=(r+1)*d,b=(r+1)*y,x=(r+1)*g,M=0;M<r;M++){var S=u+M*s;m+=t[S],w+=t[S+1],b+=t[S+2],x+=t[S+3]}for(M=0;M<=r;M++)m+=t[c]-v,e[u]=o[m],w+=t[c+1]-d,e[u+1]=o[w],b+=t[c+2]-y,e[u+2]=o[b],x+=t[c+3]-g,e[u+3]=o[x],c+=s,u+=s;for(M=0;M<h;M++){var A=M*s;m+=t[c+A]-t[f+A],e[u+A]=o[m],w+=t[c+A+1]-t[f+A+1],e[u+A+1]=o[w],b+=t[c+A+2]-t[f+A+2],e[u+A+2]=o[b],x+=t[c+A+3]-t[f+A+3],e[u+A+3]=o[x]}f+=h*s,c+=h*s,u+=h*s,v=t[p],d=t[p+1],y=t[p+2],g=t[p+3];for(M=n-r;M<n;M++)m+=v-t[f],e[u]=o[m],w+=d-t[f+1],e[u+1]=o[w],b+=y-t[f+2],e[u+2]=o[b],x+=g-t[f+3],e[u+3]=o[x],f+=s,u+=s}},a.blur.tLK=function(t,e,i,n,r){for(var s=1/(r+r+1),a=n-r-r-1,h=0;h<i;h++){for(var o=h,l=o,u=o+r*i,f=t[o],c=t[o+i*(n-1)],p=(r+1)*f,v=0;v<r;v++)p+=t[o+v*i];for(v=0;v<=r;v++)p+=t[u]-f,e[o]=p*s,u+=i,o+=i;for(v=0;v<a;v++){var d=v*i;p+=t[u+d]-t[l+d],e[o+d]=p*s}l+=a*i,u+=a*i,o+=a*i;for(v=n-r;v<n;v++)p+=c-t[l],e[o]=p*s,l+=i,o+=i}},a.nH={},a.nH.I=function(t,e,i,n){for(var r=[],s=0;s<4;s++)for(var a=0;a<4;a++)r.push(t+i*a/3,e+n*s/3);return r},a.nH.LB=function(t,e){for(var i=t.slice(0),n=0;n<4;n++)for(var r=0;r<4;r++){var s=2*(4*n+r),a=2*(4*r+(3-n));if(e){var h=s;s=a,a=h}i[a]=t[s],i[a+1]=t[s+1]}return i},a.nH.tRt=new Float64Array(16),a.nH.drawImage=function(t,e,i,n,r,s,h){null==h&&(h=!1);var o=s.$,l=s.z;r=new Uint32Array(r.buffer),e=new Uint32Array(e.buffer);for(var u=a.nH.D.Le(t,0,1,0,1,i,n),f=u.CJ,c=u.cK,p=.5,v=a.nH.Bs,d=(new Float64Array(2),new Uint32Array(30)),y=0;y<l;y++)for(var g=0;g<o;g++){var m=g+s.x+.5,w=y+s.y+.5,b=a.nH.D.tVQ(f,c,m,w,d),x=0,M=0,S=0,A=0;if(0!=b){var k=y*o+g,C=a.nH.oc(t,m,w,f,d,b,!0),T=v[0]*i,U=v[1]*n;if(h){if(-1!=C&&0<T&&T<i&&0<U&&U<n){var _=Math.floor(U)*i+Math.floor(T);r[k]=e[_]}}else{if(f[C+8]<.95)a.F.ui(T,U,e,i,n,r,k,0);else{for(var F=0;F<2;F++)for(var O=0;O<2;O++){m=g+s.x+(F+.5)*p,w=y+s.y+(O+.5)*p,C=0;if(-1!=(C=a.nH.oc(t,m,w,f,d,b,!0))){T=v[0],U=v[1],T=Math.floor(T*i);var L=e[(U=Math.floor(U*n))*i+T],D=L>>>24;x+=(255&L)*D,M+=(L>>>8&255)*D,S+=(L>>>16&255)*D,A+=D}}if(0!=A){var N=1/A;x=~~(x*N+.5),M=~~(M*N+.5),S=~~(S*N+.5),A=~~(A*p*p+.5),r[k]=A<<24|S<<16|M<<8|x}}}}}},a.nH.Bs=new Float64Array(100),a.nH.tRC=new Uint32Array(500),a.nH.oc=function(t,e,i,n,r,s,h){for(var o=a.nH.Bs,l=a.nH.tRC,u=0,f=0,c=0;c<s;c++){var p=r[c],v=u;(u=a.nH.Wm(t,e,i,n,p+4,h,o,u))!=v&&(l[f]=p,f+=5)}if(0==u)return-1;if(5==u)return l[0];var d=0;for(c=0;c<u;c+=5)o[c+4]<o[d+4]&&(d=c);return o[0]=o[d],o[1]=o[d+1],o[2]=o[d+2],o[3]=o[d+3],l[d]},a.nH.uH=new Array(10),a.nH.Wm=function(t,e,i,n,r,s,h,o){for(var l=a.nH.uH,u=0,f=0,c=0,p=0,v=0,d=0,y=0,g=n[r],m=n[r+1],w=n[r+2],b=n[r+3],x=(w-e)*(w-e)+(b-i)*(b-i),M=0;M<5&&x>.05;M++)a.nH.hN(l,0,m),a.nH.uM(l,4,g),a.nH.cM(t,l),u=l[8],f=l[9],a.nH.uM(l,0,m),a.nH.hN(l,4,g),a.nH.cM(t,l),c=l[8],g+=-(p=l[9])*(d=(w-e)*(v=1/(u*p-f*c)))+c*(y=(b-i)*v),m+=+f*d-u*y,a.nH.qV(t,g,m,l),x=((w=l[8])-e)*(w-e)+((b=l[9])-i)*(b-i);return s&&(g<0||g>1||m<0||m>1||x>.25)?o:(h[o]=g,h[o+1]=m,h[o+2]=w,h[o+3]=b,h[o+4]=u*p-f*c,o+5)},a.nH.apply=function(t,e,i){for(var n=i.x,r=i.y,s=1/i.$,h=1/i.z,o=a.nH.uH,l=0;l<e.length;l+=2){var u=(e[l]-n)*s,f=(e[l+1]-r)*h;a.nH.qV(t,u,f,o),e[l]=o[8],e[l+1]=o[9]}},a.nH.qV=function(t,e,i,n){a.nH.hN(n,0,i),a.nH.hN(n,4,e),a.nH.cM(t,n)},a.nH.uM=function(t,e,i){var n=1-i;t[e]=n*n*-3,t[e+1]=n*n*3-i*n*6,t[e+2]=i*n*6-i*i*3,t[e+3]=i*i*3},a.nH.hN=function(t,e,i){var n=1-i;t[e]=n*(n*n),t[e+1]=3*i*(n*n),t[e+2]=i*i*3*n,t[e+3]=i*i*i},a.nH.cM=function(t,e){var i=0,n=0,r=0;r=e[0]*e[4],i+=t[0]*r,n+=t[1]*r,r=e[0]*e[5],i+=t[2]*r,n+=t[3]*r,r=e[0]*e[6],i+=t[4]*r,n+=t[5]*r,r=e[0]*e[7],i+=t[6]*r,n+=t[7]*r,r=e[1]*e[4],i+=t[8]*r,n+=t[9]*r,r=e[1]*e[5],i+=t[10]*r,n+=t[11]*r,r=e[1]*e[6],i+=t[12]*r,n+=t[13]*r,r=e[1]*e[7],i+=t[14]*r,n+=t[15]*r,r=e[2]*e[4],i+=t[16]*r,n+=t[17]*r,r=e[2]*e[5],i+=t[18]*r,n+=t[19]*r,r=e[2]*e[6],i+=t[20]*r,n+=t[21]*r,r=e[2]*e[7],i+=t[22]*r,n+=t[23]*r,r=e[3]*e[4],i+=t[24]*r,n+=t[25]*r,r=e[3]*e[5],i+=t[26]*r,n+=t[27]*r,r=e[3]*e[6],i+=t[28]*r,n+=t[29]*r,r=e[3]*e[7],i+=t[30]*r,n+=t[31]*r,e[8]=i,e[9]=n},a.nH.D={},a.nH.D.oI=12,a.nH.D.LA=new Uint32Array(50),a.nH.D.tVQ=function(t,e,i,n,r){var s=0,h=a.nH.D.LA,o=1;for(h[0]=0;0!=o;){var l=h[--o];t[l+0]<=i&&t[l+1]<=n&&i<t[l+2]&&n<t[l+3]&&(0==e[l+l+18]?(r[s]=l,s++):(h[o]=e[l+l+18],h[o+1]=e[l+l+19],o+=2))}return s},a.nH.D.tVO=function(t,e,i,n,r){var s=0,h=a.nH.D.trZ,o=a.nH.D.LA,l=1,u=0,f=999999999999;for(o[0]=0;0!=l;){var c=o[--l],p=h(i,n,t[c+0],t[c+1]),v=h(i,n,t[c+0],t[c+3]),d=h(i,n,t[c+2],t[c+1]),y=h(i,n,t[c+2],t[c+3]),g=Math.min(p,Math.min(v,Math.min(d,y))),m=Math.max(p,Math.max(v,Math.max(d,y)));g>f||(0==e[c+c+18]?m<f&&(f=m,u=c):(o[l]=e[c+c+18],o[l+1]=e[c+c+19],l+=2))}return r[s]=u,++s},a.nH.D.trZ=function(t,e,i,n){return(i-t)*(i-t)+(n-e)*(n-e)},a.nH.D.Za=null,a.nH.D.LU=null,a.nH.D.Le=function(t,e,i,n,r,s,h){null==s&&(s=1,h=1),a.nH.D.LU=t,null==a.nH.D.Za&&(a.nH.D.Za={CJ:new Float64Array(12e4),cK:null},a.nH.D.Za.cK=new Uint32Array(a.nH.D.Za.CJ.buffer));var o=a.nH.D.Za;return a.nH.D.qH(t,e,i,n,r,0,o.CJ,o.cK,0,s,h),o},a.nH.D.qH=function(t,e,i,n,r,s,h,o,l,u,f){var c,p,v,d=a.K.jm(t),y=l,g=a.nH.D.LU,m=(e+i)/2,w=(n+r)/2,b=a.nH.uH,x=a.nH.Bs,M=a.nH.tRt;a.nH.qV(g,m,w,b);var S=b[8],A=b[9];M[0]=m,M[1]=w,M[2]=S,M[3]=A,a.nH.Wm(g,S+1,A,M,0,!1,x,0);var k=(m-x[0])*u,C=(w-x[1])*f,T=Math.sqrt(k*k+C*C);a.nH.Wm(g,S,A+1,M,0,!1,x,0);var U=(m-x[0])*u,_=(w-x[1])*f,F=Math.sqrt(U*U+_*_);h[y]=d.x,h[y+1]=d.y,h[y+2]=d.x+d.$,h[y+3]=d.y+d.z,h[y+4]=m,h[y+5]=w,h[y+6]=S,h[y+7]=A,h[y+8]=.5*(T+F),o[y+y+18]=0,o[y+y+19]=0,l+=10,a.nH.hN(b,0,.1),a.nH.uM(b,4,.1),a.nH.cM(t,b);var O=b[8],L=b[9];a.nH.uM(b,0,.1),a.nH.hN(b,4,.7),a.nH.cM(t,b);var D=b[8],N=b[9];a.nH.hN(b,0,.8),a.nH.uM(b,4,.8),a.nH.cM(t,b);var I=b[8],E=b[9];a.nH.uM(b,0,.9),a.nH.hN(b,4,.2),a.nH.cM(t,b);var P=b[8],J=b[9],B=(I-O)*(I-O)+(P-D)*(P-D)+(E-L)*(E-L)+(J-N)*(J-N);if(l>=h.length)throw console.log("Buffer not long enough"),"e";if(s==a.nH.D.oI||B<2)return l;var X=a.nH.D.LN(t,!0),z=a.K.jm(X[0]),$=a.K.jm(X[1]),V=a.nH.D.LN(t,!1),R=a.K.jm(V[0]),q=a.K.jm(V[1]);z.$+z.z+$.$+$.z<R.$+R.z+q.$+q.z?(v=!0,c=X[0],p=X[1]):(v=!1,c=V[0],p=V[1]);var H=e,j=n,G=i,Y=r,K=e,Q=n,W=i,Z=r;v?G=K=(e+i)/2:Y=Q=(n+r)/2,o[y+y+18]=l,l=a.nH.D.qH(c,H,G,j,Y,s+1,h,o,l,u,f),o[y+y+19]=l,l=a.nH.D.qH(p,K,W,Q,Z,s+1,h,o,l,u,f);var tt=o[y+y+18],et=o[y+y+19];return h[y]=Math.min(h[tt],h[et]),h[y+1]=Math.min(h[tt+1],h[et+1]),h[y+2]=Math.max(h[tt+2],h[et+2]),h[y+3]=Math.max(h[tt+3],h[et+3]),l},a.nH.D.LN=function(t,e){for(var i=0,n=0,r=0,s=0,a=0,h=0,o=0,l=0,u=t.slice(0),f=t.slice(0),c=0;c<4;c++){i=e?t[8*c+0]:t[0+2*c],n=e?t[8*c+0+1]:t[0+2*c+1];var p=(i+(r=e?t[8*c+2]:t[8+2*c]))/2,v=(n+(s=e?t[8*c+2+1]:t[8+2*c+1]))/2,d=(r+(a=e?t[8*c+4]:t[16+2*c]))/2,y=(s+(h=e?t[8*c+4+1]:t[16+2*c+1]))/2,g=(a+(o=e?t[8*c+6]:t[24+2*c]))/2,m=(h+(l=e?t[8*c+6+1]:t[24+2*c+1]))/2,w=(p+d)/2,b=(v+y)/2,x=(d+g)/2,M=(y+m)/2,S=(w+x)/2,A=(b+M)/2;e?(u[8*c+0]=i,u[8*c+0+1]=n,u[8*c+2]=p,u[8*c+2+1]=v,u[8*c+4]=w,u[8*c+4+1]=b,u[8*c+6]=S,u[8*c+6+1]=A,f[8*c+0]=S,f[8*c+0+1]=A,f[8*c+2]=x,f[8*c+2+1]=M,f[8*c+4]=g,f[8*c+4+1]=m,f[8*c+6]=o,f[8*c+6+1]=l):(u[0+2*c]=i,u[0+2*c+1]=n,u[8+2*c]=p,u[8+2*c+1]=v,u[16+2*c]=w,u[16+2*c+1]=b,u[24+2*c]=S,u[24+2*c+1]=A,f[0+2*c]=S,f[0+2*c+1]=A,f[8+2*c]=x,f[8+2*c+1]=M,f[16+2*c]=g,f[16+2*c+1]=m,f[24+2*c]=o,f[24+2*c+1]=l)}return[u,f]},a.Px={},a.Px.twP=function(t,e,i){var n=a.Px.tRr(e,i);return{eo:n,NK:a.Px.txx(n,t,e,i)}},a.Px.twx=function(t,e,i){var n=Math.round(t.length/8),r=new Uint32Array(n),s=new Uint8Array(n),o=new Uint32Array(n);a.Mw(r,4294967295,0),r[i]=0;var l=new h(n);return l.push(i,r[i]),{eo:t,NK:e,SL:r,cB:s,NL:o,VN:l,tTt:i}},a.Px.qD=function(t,e){for(var i=t.eo,n=t.NK,r=t.SL,s=t.cB,a=t.NL,h=t.VN;!h.km()&&(null==e||0==s[e]);){var o=h.pop();s[o]=1;for(var l=0;l<8;l++){var u=i[8*o+l];if(-1!=u&&!s[u]){var f=r[o]+n[8*o+l];h.contains(u)&&f<r[u]&&h.remove(u,r[u]),h.contains(u)||(r[u]=f,a[u]=o,h.push(u,r[u]))}}}},h.prototype.km=function(){return 0==this.Cz},h.prototype.push=function(t,e){var i=this.list;null==i[e]&&(i[e]=[]),i[e].push(t),this.Cz++,this.MX[t]=i[e].length-1+1,this.Mn=Math.min(this.Mn,e)},h.prototype.pop=function(){this.Cz--;var t=this.list,e=this.Mn,i=t[e].pop();return 0==t[e].length&&(t[e]=null),this.Ct(),this.MX[i]=0,i},h.prototype.contains=function(t){return 0!=this.MX[t]},h.prototype.remove=function(t,e){this.Cz--;var i=this.list,n=this.MX[t]-1;if(n==i[e].length-1)i[e].pop();else{var r=i[e].pop();i[e][n]=r,this.MX[r]=n+1}0==i[e].length&&(i[e]=null),this.MX[t]=0,this.Ct()},h.prototype.Ct=function(){if(0!=this.Cz){for(var t=this.Mn,e=this.list;null==e[t];)t++;this.Mn=t}else this.Mn=4294967295},a.Px.tCx=function(t,e,i){for(var n=new Float32Array(e*i),r=0;r<i;r++)for(var s=0;s<e;s++){var a=r*e+s,h=-16*t[a];1<s&&s<e-2&&1<r&&r<i-2&&(h+=t[a-e-e],h+=t[a-e-1]+2*t[a-e]+t[a-e+1],h+=t[a-2]+2*t[a-1]+2*t[a+1]+t[a+2],h+=t[a+e-1]+2*t[a+e]+t[a+e+1],h+=t[a+e+e]),n[a]=h/16}return n},a.Px.tPZ=function(t,e,i){for(var n=new Float32Array(e*i),r=0,s=0,a=0;a<i;a++)for(var h=0;h<e;h++){var o=0,l=0;0<h&&h<e-1&&(o=t[r+1]-t[r-1]),0<a&&a<i-1&&(l=t[r+e]-t[r-e]),n[r]=Math.sqrt(o*o+l*l),n[r]>s&&(s=n[r]),r++}var u=e*i,f=0==s?0:1/s;for(r=0;r<u;r++)n[r]=1-n[r]*f;return n},a.Px.txT=function(t,e,i){for(var n=new Float32Array(e*i*2),r=0,s=0;s<i;s++)for(var a=0;a<e;a++){var h=0,o=0;0<a&&a<e-1&&0<s&&s<i-1&&(h=2*t[r+1]-2*t[r-1],o=2*t[r+e]-2*t[r-e]);var l=Math.sqrt(h*h+o*o);0!=l?(n[2*r]=h/l,n[2*r+1]=o/l):(n[2*r]=h,n[2*r+1]=o),r++}return n},a.Px.txx=function(t,e,i,n){for(var r=a.Px.tCx(e,i,n),s=a.Px.tPZ(e,i,n),h=a.Px.txT(e,i,n),o=256,l=new Float32Array(o),u=0;u<o;u++)l[u]=Math.acos(2*u/255-1);for(var f=[-1,0,1,1,1,0,-1,-1],c=[-1,-1,-1,0,1,1,1,0],p=1/Math.sqrt(2),v=new Uint8Array(i*n*8),d=i*n,y=0;y<d;y++)for(var g=r[y],m=h[2*y+1],w=-h[2*y],b=0;b<8;b++){var x=8*y+b,M=t[x];if(-1==M)v[x]=-1;else{var S=0==(1&b),A=g*r[M]>=0?0:1,k=s[M]*(S?1:p),C=1,T=h[2*M+1],U=-h[2*M];if(!(0==m&&0==w||0==T&&0==U)){var _=f[b],F=c[b];m*f[b]+w*c[b]<0&&(_=-_,F=-F),S&&(_*=p,F*=p);var O=m*_+w*F,L=T*_+U*F;C=2/(3*Math.PI)*(l[Math.floor(255*(.5+.5*O))]+l[Math.floor(255*(.5+.5*L))])}var D=Math.round(20*(.43*A+.43*C+.14*k));v[x]=Math.max(1,Math.min(255,D))}}return console.log(v),v},a.Px.tRr=function(t,e){var i=new Int32Array(t*e*8),n=i,r=0,s=0;n.fill(-1);for(var a=0;a<e;a++)for(var h=0;h<t;h++)a>0&&h>0&&(n[s+0]=r-t-1),a>0&&(n[s+1]=r-t),a>0&&h<t-1&&(n[s+2]=r-t+1),h<t-1&&(n[s+3]=r+1),a<e-1&&h<t-1&&(n[s+4]=r+t+1),a<e-1&&(n[s+5]=r+t),a<e-1&&h>0&&(n[s+6]=r+t-1),h>0&&(n[s+7]=r-1),r++,s+=8;return i},a.HW={},a.HW.tPo=function(t,e){for(var i=t.slice(0),n=0;n<t.length;n++)i[n]*=e;return i},a.HW.Cr=function(t){for(var e=t.slice(0),i=0,n=0;n<t.length;n++)i+=t[n];for(n=0;n<t.length;n++)e[n]/=i;return e},a.HW.zV=function(t,e,i,n,r,s,a){for(var h=s-1>>1,o=new Uint32Array(t.buffer),l=(e=new Uint8ClampedArray(e.buffer),0);l<n;l++)for(var u=0;u<i;u++){for(var f=0,c=0,p=0,v=0,d=0;d<s;d++)for(var y=0;y<s;y++){var g=r[d*s+y];if(0!=g){var m=Math.min(i-1,Math.max(0,u-h+y)),w=o[Math.min(n-1,Math.max(0,l-h+d))*i+m];f+=(255&w)*g,c+=(w>>8&255)*g,p+=(w>>16&255)*g,v+=(w>>24&255)*g}}f<0&&(f=-f),c<0&&(c=-c),p<0&&(p=-p),v<0&&(v=-v);var b=l*i+u<<2;e[b]=~~(.5+f),e[b+1]=~~(.5+c),e[b+2]=~~(.5+p),e[b+3]=255-a&e[b+3]|a&~~(.5+v)}},a.HW.gr=function(t,e,i,n,r,s,h,o){s<=10?a.HW.tRs(t,e,i,n,r,s,h,o):a.HW.tRo(t,e,i,n,r,s,h,o)},a.HW.tRo=function(t,e,i,n,r,s,h,o){for(var l=0,u=new Uint32Array(16),f=new Uint32Array(256),c=new Uint32Array(1*n),p=new Uint32Array(16*n),v=new Uint32Array(256*n),d=Math.min(s,n),y=Math.min(s,r),g=0;g<y;g++)a.HW.zJ(v,p,c,t,e,n,g);for(g=0;g<r;g++){g+s<r&&a.HW.zJ(v,p,c,t,e,n,g+s),g-s-1>=0&&a.HW.twL(v,p,c,t,e,n,g-s-1),a.set(f,0),a.set(u,0),l=0;for(var m=0;m<d;m++)a.HW.CH(f,u,v,p,m),l+=c[m];for(m=0;m<n;m++){m+s<n&&0!=c[m+s]&&(l+=c[m+s],a.HW.CH(f,u,v,p,m+s)),m-s-1>=0&&0!=c[m-s-1]&&(l-=c[m-s-1],a.HW.tcu(f,u,v,p,m-s-1));var w=0==l?0:h(f,u,t[g*n+m],l,o);i[g*n+m]=w}}},a.HW.tRs=function(t,e,i,n,r,s,h,o){for(var l=0,u=new Uint32Array(16),f=new Uint32Array(256),c=0;c<r;c++){a.set(f,0),a.set(u,0),l=0;for(var p=Math.max(c-s,0),v=Math.min(r,c+s+1),d=0;d<s;d++)l+=a.HW.qc(f,u,t,e,p*n+d,n,v*n+d,1);for(d=0;d<n;d++){d+s<n&&(l+=a.HW.qc(f,u,t,e,p*n+d+s,n,v*n+d+s,1)),d-s-1>=0&&(l+=a.HW.qc(f,u,t,e,p*n+d-s-1,n,v*n+d-s-1,-1));var y=0==l?0:h(f,u,t[c*n+d],l,o);i[c*n+d]=y}}},a.HW.qc=function(t,e,i,n,r,s,a,h){for(var o=0;r<a;){var l=n[r]*h,u=i[r];t[u]+=l,e[u>>>4]+=l,o+=l,r+=s}return o},a.HW.t$V=function(t,e,i,n,r){for(var s=15;0==e[s]&&s>0;)s--;for(s=15+(s<<4);0==t[s]&&s>0;)s--;return s},a.HW.tJq=function(t,e,i,n,r){for(var s=0;0==e[s]&&s<15;)s++;for(s<<=4;0==t[s]&&s<255;)s++;return s},a.HW.tHG=function(t,e,i,n,r){for(var s=n>>>1,a=0,h=0;a<=s;)a+=e[h++];for(h>0&&(a-=e[--h]),h<<=4;a<=s;)a+=t[h++];return h-1},a.HW.ug=function(t,e,i,n,r){for(var s=r[0],a=0,h=0,o=Math.max(0,i-s),l=Math.min(256,i+s+1);o<l;)a+=o*t[o],h+=t[o],o++;return 0==h?0:a/h},a.HW.zJ=function(t,e,i,n,r,s,a){for(var h=a*s,o=0;o<s;o++,h++){var l=r[h],u=n[h];t[o<<8|u]+=l,e[o<<4|u>>>4]+=l,i[o]+=l}},a.HW.twL=function(t,e,i,n,r,s,a){for(var h=a*s,o=0;o<s;o++,h++){var l=r[h],u=n[h];t[o<<8|u]-=l,e[o<<4|u>>>4]-=l,i[o]-=l}},a.HW.vc=function(t){for(var e=t.length,i=0,n=0;n<e;n++)i+=t[n];return i},a.HW.CH=function(t,e,i,n,r){for(var s=0;s<16;s++)if(0!=n[r<<4|s]){e[s]+=n[r<<4|s];var a=s<<4,h=r<<8|a;t[a]+=i[h],t[a+1]+=i[h+1],t[a+2]+=i[h+2],t[a+3]+=i[h+3],t[a+4]+=i[h+4],t[a+5]+=i[h+5],t[a+6]+=i[h+6],t[a+7]+=i[h+7],t[a+8]+=i[h+8],t[a+9]+=i[h+9],t[a+10]+=i[h+10],t[a+11]+=i[h+11],t[a+12]+=i[h+12],t[a+13]+=i[h+13],t[a+14]+=i[h+14],t[a+15]+=i[h+15]}},a.HW.tcu=function(t,e,i,n,r){for(var s=0;s<16;s++)if(0!=n[r<<4|s]){e[s]-=n[r<<4|s];var a=s<<4,h=r<<8|a;t[a]-=i[h],t[a+1]-=i[h+1],t[a+2]-=i[h+2],t[a+3]-=i[h+3],t[a+4]-=i[h+4],t[a+5]-=i[h+5],t[a+6]-=i[h+6],t[a+7]-=i[h+7],t[a+8]-=i[h+8],t[a+9]-=i[h+9],t[a+10]-=i[h+10],t[a+11]-=i[h+11],t[a+12]-=i[h+12],t[a+13]-=i[h+13],t[a+14]-=i[h+14],t[a+15]-=i[h+15]}},a.F={},a.F.Cw=function(t){var e=j._.HV(t.Trnf),i=t.Sz.v,n=a.F.tn(e,new L(0,0,i.Wdth.v,i.Hght.v));return a.F.od(n)},a.F.tn=function(t,e){var i=(t=t.slice(0))[0],n=t[1],r=t[2],s=t[3],h=t[6],o=t[7],l=t[4],u=t[5],f=0,c=0,p=1,v=0,d=0,y=1,g=1,m=1;e&&(f=e.x,c=e.y,p=e.x+e.$,v=e.y,d=e.x,y=e.y+e.z,g=e.x+e.$,m=e.y+e.z);var w=[[f,c,1,0,0,0,-f*i,-c*i,i],[0,0,0,f,c,1,-f*n,-c*n,n],[p,v,1,0,0,0,-p*r,-v*r,r],[0,0,0,p,v,1,-p*s,-v*s,s],[d,y,1,0,0,0,-d*h,-y*h,h],[0,0,0,d,y,1,-d*o,-y*o,o],[g,m,1,0,0,0,-g*l,-m*l,l],[0,0,0,g,m,1,-g*u,-m*u,u]],b=[0,0,0,0,0,0,0,0];return 0!=a.kv.WK.UU(w,b)&&(b=[0,0,0,0,0,0,0,0]),b},a.F.CI=function(t){return Math.abs(t[6])<1e-10&&Math.abs(t[7])<1e-10},a.F.od=function(t){return new c(t[0],t[3],t[1],t[4],t[2],t[5])},a.F.Wq=function(t){return[t.o,t.lA,t.DX,t.H,t.KI,t.Ug,0,0]},a.F.apply=function(t,e){for(var i=new Float64Array(2),n=0;n<e.length;n+=2){var r=e[n],s=e[n+1];a.F.LH(r,s,t,i),e[n]=i[0],e[n+1]=i[1]}},a.F.LH=function(t,e,i,n){var r=1/(i[6]*t+i[7]*e+1);n[0]=(i[0]*t+i[1]*e+i[2])*r,n[1]=(i[3]*t+i[4]*e+i[5])*r},a.F.Cy=function(t,e){var i=new Float64Array(2);return a.F.LH(e.x,e.y,t,i),new f(i[0],i[1])},a.F.zC=function(t,e,i,n){t=new Uint32Array(t.buffer),e=new Uint32Array(e.buffer);for(var r=0;r<n;r++)for(var s=0;s<i;s++)e[s*n+r]=t[r*i+s]},a.F.CD=function(t){return Math.abs(t[6])<1e-9&&Math.abs(t[7])<1e-9},a.F.Cc=function(t){return Math.abs(t[0])<1e-9&&Math.abs(t[4])<1e-9||Math.abs(t[1])<1e-9&&Math.abs(t[3])<1e-9},a.F.drawImage=function(t,e,i,n,r,s,h,o){null==h&&(h=!1),null==o&&(o=!1);for(var l=a.F.UK(t),u=!0,f=0,c=0;c<8;c++){var p=Math.round(t[c]);2!=c&&5!=c&&(f+=Math.abs(p)),Math.abs(p-t[c])>1e-9&&(u=!1)}var v=a.F.CD(t),d=a.F.Cc(t)&&v;if(h||u&&f==i+n&&v)a.F.tLR(l,e,i,n,r,s,o);else{var y=s.$,g=s.z,m=new Float64Array(2);r=new Uint32Array(r.buffer),e=new Uint32Array(e.buffer);for(var w=0;w<g;w++)for(var b=0;b<y;b++){var x=w*y+b,M=0,S=0,A=0,k=0,C=0,T=0;r[x]=0;var U=b+s.x+.5,_=w+s.y+.5;a.F.LH(U,_,l,m);var F=m[0],O=m[1],L=O*n,D=($=F*i)<-1||$>i+1||L<-1||L>n+1;if(o)$=Math.max(.001,Math.min(i-1,$)),L=Math.max(.001,Math.min(n-1,L));else if(D)continue;a.F.LH(F+1/i,O,t,m);var N=(M=m[0]-U)*M+(S=m[1]-_)*S;a.F.LH(F,O+1/n,t,m);var I=(M=m[0]-U)*M+(S=m[1]-_)*S,E=1/Math.sqrt(Math.max(N,I));if(E<.8)a.F.ui($,L,e,i,n,r,x,d?1:0);else{var P=Math.round(3*E);!o&&($<.6||$>i-.6||L<.6||L>n-.6)&&(P=Math.max(P,5)),o&&D&&(P=1);var J=1/P;for(c=0;c<P;c++)for(var B=0;B<P;B++){var X=b+s.x+(c+.5)*J,z=w+s.y+(B+.5)*J;a.F.LH(X,z,l,m);var $=m[0];L=m[1];if(o)$=Math.max(.001,Math.min(.999,$)),L=Math.max(.001,Math.min(.999,L));else if($<0||$>=1||L<0||L>=1)continue;$=Math.floor($*i);var V=e[(L=Math.floor(L*n))*i+$],R=V>>>24;A+=(255&V)*R,k+=(V>>>8&255)*R,C+=(V>>>16&255)*R,T+=R}if(0!=T){var q=1/T;A=~~(A*q+.5),k=~~(k*q+.5),C=~~(C*q+.5),T=~~(T*J*J+.5),r[x]=T<<24|C<<16|k<<8|A}}}}},a.F.tLR=function(t,e,i,n,r,s,a){for(var h=s.x+s.$,o=s.y+s.z,l=0,u=new Uint32Array(r.buffer),f=new Uint32Array(e.buffer),c=t[0]*i,p=t[1]*i,v=t[2]*i,d=t[3]*n,y=t[4]*n,g=t[5]*n,m=t[6],w=t[7],b=s.y+.5;b<o;b++)for(var x=s.x+.5;x<h;x++){var M=1/(m*x+w*b+1),S=(c*x+p*b+v)*M,A=(d*x+y*b+g)*M;if(a&&(S=Math.max(.001,Math.min(i-1,S)),A=Math.max(.001,Math.min(n-1,A))),0<S&&S<i&&0<A&&A<n){var k=Math.floor(A)*i+Math.floor(S);u[l]=f[k]}else u[l]=0;l++}},a.F.UK=function(t){var e=t[4]-t[5]*t[7],i=t[2]*t[7]-t[1],n=t[1]*t[5]-t[2]*t[4],r=t[5]*t[6]-t[3],s=t[0]-t[2]*t[6],a=t[3]*t[2]-t[0]*t[5],h=t[3]*t[7]-t[4]*t[6],o=t[1]*t[6]-t[0]*t[7],l=1/(t[0]*t[4]-t[1]*t[3]);return[e*l,i*l,n*l,r*l,s*l,a*l,h*l,o*l]},a.F.NE=function(t,e){for(var i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],h=t[5],o=t[6],l=t[7],u=e[0],f=e[1],c=e[2],p=e[3],v=e[4],d=e[5],y=e[6],g=e[7],m=[i*u+n*p+r*y,i*f+n*v+r*g,i*c+n*d+r,s*u+a*p+h*y,s*f+a*v+h*g,s*c+a*d+h,o*u+l*p+y,o*f+l*v+g],w=1/(o*c+l*d+1),b=0;b<8;b++)m[b]*=w;return m},a.F.ui=function(t,e,i,n,r,s,a,h){var o=0,l=0,u=0,f=0;t-=.499999,e-=.499999;var c=Math.floor(t),p=Math.floor(e);if(0==h){var v=p*n+c,d=c>=0&&c<n,y=c+1>=0&&c+1<n,g=p>=0&&p<r,m=p+1>=0&&p+1<r;d&&g&&(o=i[v]),y&&g&&(l=i[v+1]),d&&m&&(u=i[v+n]),y&&m&&(f=i[v+n+1])}else if(1==h){var w=c<-1?0:c>n-2?n-1:c+1,b=p<-1?0:p>r-2?r-1:p+1;o=i[(M=p<0?0:p>r-1?r-1:p)*n+(x=c<0?0:c>n-1?n-1:c)],l=i[M*n+w],u=i[b*n+x],f=i[b*n+w]}else{var x,M;w=(c+1+n)%n,b=(p+1+r)%r;o=i[(M=(p+r)%r)*n+(x=(c+n)%n)],l=i[M*n+w],u=i[b*n+x],f=i[b*n+w]}var S=t-c,A=e-p,k=(1-A)*(1-S)*(o>>>24),C=(1-A)*S*(l>>>24),T=A*(1-S)*(u>>>24),U=A*S*(f>>>24),_=k+C+T+U,F=k*(255&o)+C*(255&l)+T*(255&u)+U*(255&f),O=k*(o>>>8&255)+C*(l>>>8&255)+T*(u>>>8&255)+U*(f>>>8&255),L=k*(o>>>16&255)+C*(l>>>16&255)+T*(u>>>16&255)+U*(f>>>16&255);if(0==_)s[a]=0;else{var D=1/_;F=~~(F*D+.5),O=~~(O*D+.5),L=~~(L*D+.5),_=~~(_+.5),s[a]=_<<24|L<<16|O<<8|F}},a.F.CL=function(t,e,i,n,r,s,a,h,o,l,u,f){for(var c=new Uint32Array(t.buffer),p=new Uint32Array(n.buffer),v=(1+2*l)/r,d=[],y=0;y<r;y++){var g=-.25+l-y*v;d.push(Math.cos(2*Math.PI*g)*f/u),d.push(Math.sin(2*Math.PI*g)/u)}a*=e,h*=i;for(var m=0;m<s;m++){var w=Math.pow(m/s,o)*s;for(y=0;y<r;y++){var b=a+d[y<<1]*w,x=h+d[1+(y<<1)]*w,M=~~(.5+(b<0?0:b>e-1?e-1:b)),S=~~(.5+(x<0?0:x>i-1?i-1:x));p[m*r+y]=c[S*e+M]}}},a.F.CC=function(t,e,i,n,r,s,h,o,l,u,f,c){for(var p=new Uint32Array(t.buffer),v=new Uint32Array(n.buffer),d=1/c,y=[],g=4*i,m=1/g,w=0;w<g;w++)y.push(Math.pow(w*m,1/l)*i*f);h*=r,o*=s;for(w=0;w<s;w++)for(var b=0;b<r;b++){var x=d*(b-h),M=w-o,S=1.75-Math.atan2(M,x)*(1/(2*Math.PI));S=((S-=~~S)+u)*(1/(1+2*u));var A=Math.sqrt(x*x+M*M);A=y[~~(4*A)],a.F.ui(S*e+.5,A+.5,p,e,i,v,w*r+b,1)}},a.e={},a.e.tPX=function(t,e){return t+.5},a.e.tPK=function(t,e){return 2*Math.sqrt(t*t+e*e)},a.e.tP_=function(t,e){return(Math.PI+Math.atan2(-e,-t))/(2*Math.PI)},a.e.tdV=function(t,e){return Math.abs(2*t)},a.e.tdr=function(t,e){return 2*(Math.abs(t)+Math.abs(e))},a.e.AH=function(t,e,i,n,r,s,h,o,l,u,f){var c=i.$,p=i.z,v=i.x,d=i.y,y=n[0],g=n[1],m=n[2],w=n[3],b=512;if(null!=t.Clrs){var x=a.e.zp(t.Clrs.v,l,u),M=h?0:1,S=a.e.CT(t,x,b),A=new Uint8Array(S.buffer);new Uint32Array(e.buffer);if(o<5)for(var k=0,C=0;k<p;k++)for(var T=0;T<c;T++,C+=4){var U=T-r+v,_=k-s+d,F=y*U+g*_,O=m*U+w*_,L=0;0==o?L=F+.5:1==o?L=2*Math.sqrt(F*F+O*O):2==o?L=(Math.PI+Math.atan2(-O,-F))/(2*Math.PI):3==o?L=Math.abs(2*F):4==o&&(L=2*(Math.abs(F)+Math.abs(O))),L=M*L+(1-M)*(1-L);var D=Math.max(0,Math.min(511,Math.round(L*b)))<<2;e[C]=A[D],e[C+1]=A[D+1],e[C+2]=A[D+2],e[C+3]=A[D+3]}else{var N=1/(f.uA-f.oG),I=f.EK.$-i.$>>1,E=f.EK.z-i.z>>1,P=f.EK.$,J=-.6*N,B=(.4-.6)*N,X=(.8-.6)*N,z=(3*.4-.6)*N;for(k=0,C=0;k<p;k++)for(T=0;T<c;T++,C+=4){var $=0,V=0,R=0,q=0,H=(k+E)*P+T+I;D=0;(L=M*(L=(f.TR[H]-f.oG)*N)+(1-M)*(1-L))<=0||L>=1?(D=(L<=0?0:511)<<2,e[C]=A[D],e[C+1]=A[D+1],e[C+2]=A[D+2],e[C+3]=A[D+3]):(V+=A[D=Math.max(0,Math.min(511,Math.round((L+J)*b)))<<2],R+=A[D+1],q+=A[D+2],$+=A[D+3],V+=A[D=Math.max(0,Math.min(511,Math.round((L+B)*b)))<<2],R+=A[D+1],q+=A[D+2],$+=A[D+3],V+=A[D=Math.max(0,Math.min(511,Math.round((L+X)*b)))<<2],R+=A[D+1],q+=A[D+2],$+=A[D+3],V+=A[D=Math.max(0,Math.min(511,Math.round((L+z)*b)))<<2],R+=A[D+1],q+=A[D+2],$+=A[D+3],e[C]=V>>2,e[C+1]=R>>2,e[C+2]=q>>2,e[C+3]=$>>2)}}}},a.e.zp=function(t,e,i){for(var n=[],r=0;r<t.length;r++){var s;s="FrgC"==t[r].v.Type.v.Clry?{T:e>>16&255,q:e>>8&255,H:255&e}:"BckC"==t[r].v.Type.v.Clry?{T:i>>16&255,q:i>>8&255,H:255&i}:a.e.NG(t[r].v.Clr.v),n.push(s)}return n},a.e.NG=function(t){var e,i=t.classID;if("RGBC"==i)e={T:t.Rd.v,q:t.Grn.v,H:t.Bl.v};else if("HSBC"==i)(e=a.pq(t.H.v.val/360,t.Strt.v/100,t.Brgh.v/100)).T*=255,e.q*=255,e.H*=255;else if("CMYC"==i){var n=100-t.Cyn.v,r=100-t.Mgnt.v,s=100-t.Ylw.v,h=100-t.Blck.v;e={T:255*n*h*1e-4,q:255*(.2*n+.8*r)*h*1e-4,H:255*(.2*r+.8*s)*h*1e-4}}else"Grsc"==i?e={T:255-t.Gry.v,q:255-t.Gry.v,H:255-t.Gry.v}:console.log(t);return e},a.e.Ta=function(t){return{classID:"RGBC",Rd:{t:"doub",v:t.T},Grn:{t:"doub",v:t.q},Bl:{t:"doub",v:t.H}}},a.e.CT=function(t,e,i){for(var n=new Uint32Array(i),r=1/(i-0),s=0;s<i;s++)n[s]=a.e.rz(t,e,s*r);return n},a.e.rz=function(t,e,i){for(var n=t.Intr.v/4096,r=4096,s=1/r,h=t.Clrs.v.length-1,o=t.Trns.v.length-1,l=-1,u=0,f=0,c=0,p=0;l<o&&t.Trns.v[l+1].v.Lctn.v<=i*r;)l++;if(-1==l)u=2.55*t.Trns.v[0].v.Opct.v.val;else if(l==o)u=2.55*t.Trns.v[l].v.Opct.v.val;else{var v=a.e.CP(t.Trns.v,s,l,i,n);u=2.55*(v*t.Trns.v[l].v.Opct.v.val+(1-v)*t.Trns.v[l+1].v.Opct.v.val)}for(l=-1;l<h&&t.Clrs.v[l+1].v.Lctn.v<=i*r;)l++;if(-1==l)f=(d=e[0]).T,c=d.q,p=d.H;else if(l==h){var d;f=(d=e[l]).T,c=d.q,p=d.H}else{var y=e[l],g=e[l+1],m=a.e.CP(t.Clrs.v,s,l,i,n);f=m*y.T+(1-m)*g.T,c=m*y.q+(1-m)*g.q,p=m*y.H+(1-m)*g.H}return(u+=.5)<<24|(p+=.5)<<16|(c+=.5)<<8|(f+=.5)},a.e.CP=function(t,e,i,n,r){2==t.length&&(r*=.5);var s,a=t[i].v.Lctn.v*e,h=t[i+1].v.Lctn.v*e,o=a+.01*t[i+1].v.Mdpn.v*(h-a);return s=n<o?.5*(n-a)/(o-a):.5+.5*(n-o)/(h-o),s=.5+.5*(r*Math.cos(Math.PI*s)+(1-r)*(1-2*s))},a.e.qL=function(t,e){var i=Math.PI*t.Angl.v.val/180,n=t.Scl.v.val/100,r=t.Ofst.v,s=r.Hrzn.v.val/100,a=r.Vrtc.v.val/100,h=Math.cos(i),o=-Math.sin(i),l=.5*e.z,u=l*(h/o),c=Math.sqrt(l*l+u*u),p=.5*e.$,v=p*(o/h),d=Math.sqrt(p*p+v*v),y=Math.min(c,d)*n,g=e.x+e.$/2+s*e.$,m=e.y+e.z/2+a*e.z;return[new f(g,m),new f(g+h*y,m+o*y)]},a.e.qa=function(t,e,i,n){var r=e.x-t.x,s=-(e.y-t.y),a=Math.sqrt(r*r+s*s),h=Math.atan2(s,r),o=Math.cos(h),l=-Math.sin(h),u=.5*i.z,f=u*(o/l),c=Math.sqrt(u*u+f*f),p=.5*i.$,v=p*(l/o),d=Math.sqrt(p*p+v*v),y=a/Math.min(c,d),g=(t.x-i.x-i.$/2)/i.$,m=(t.y-i.y-i.z/2)/i.z;n.Angl.v.val=180*h/Math.PI,n.Scl.v.val=100*y;var w=n.Ofst.v;w.Hrzn.v.val=100*g,w.Vrtc.v.val=100*m},a.e.zO=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=Math.round(4096*n[0]),s=n[1],h=n[2];null==h&&(h=1);var o=a.e.Ta({T:255*s[0],q:255*s[1],H:255*s[2]});e.Clrs.v[i]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:r},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:o},Type:{t:"enum",v:{Clry:"UsrS"}}}},e.Trns.v[i]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:r},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*h)}}}}}},a.te={},a.te.zZ=function(t,e,i,n,r){var s=!1,h=1,o=0,l=0,u=0;if(!e.pk(r)){var f=e.Fv(r),c=a.I(4*f.f());a.Pg(t,e,c,f),t=c,e=f}var p=a.I(e.f());a.Jg(i,r,p,e),a.round(p);var v=(r=r.sj(e)).$,d=r.z,y=3*v<d?2:1,g=3*d<v?2:1;if(r.f()*(2*y+1)*(2*g+1)<e.f()){f=new L(r.x-v*y,r.y-d*y,v*(2*y+1),d*(2*g+1)).sj(e),c=a.I(4*f.f());a.Pg(t,e,c,f);var m=a.I(f.f());a.Jg(p,e,m,f),e=f,t=c,p=m}for(;(e.$+e.z)/2/h>400;)h++;var w=t,b=e,x=p,M=Math.floor(b.$/h),S=Math.floor(b.z/h);t=a.I(M*S*4),a.scale.ke(w,b.$,b.z,t,M,S,1/h),p=a.I(M*S),a.scale.in(x,b.$,b.z,p,M,S,1/h),a.round(p,1);var A=a.hV(p,new L(0,0,M,S));if(!A.km()){var k=Math.round((A.$+A.z)/2/15),C=(Date.now(),a.I(M*S*4));a.trq(t,C);for(var T=Int16Array,U=new T(M*S*24),_=new T(64),F=new T(64),O=new T(64),D=new T(64),N=3;N<S-4;N++)for(var I=3;I<M-4;I++){if(255!=p[N*M+I]&&0==a.te.tJd(C,p,I,N,M,S,_,F,O)){a.te.qA(_,D),U[o]=I,U[o+1]=N,a.te.sa(_,U,o+4,12),o+=16,a.te.qA(F,D),a.te.sa(F,U,o,4),o+=4,a.te.qA(O,D),a.te.sa(O,U,o,4);var E=U[(o+=4)-24+5],P=U[o-24+6];U[o-24+5]=U[o-24+20],U[o-24+6]=U[o-24+16],U[o-24+16]=E,U[o-24+20]=P,l++}}if(0!=l){s,Date.now();var J=[];a.te.qS(0,l-1,J,U,new T(48)),Date.now();for(var B=new Float32Array(M*S*4),X=0;X<l;X++){var z=X,$=a.te.t$W(z,U,J,k);if(-1!=$){var V=24*z,R=24*$,q=U[V],H=U[V+1],j=U[R],G=U[R+1];a.te.getError(R,V,U,1e99),B[2*(S+(G-H))*M+(M+(j-q))]+=1}}s,Date.now();var Y=[],K=1/(2*M);for(X=0;X<B.length;X++)if(B[X]>0){I=X-2*(N=Math.floor(X*K))*M;Y.push({x:I-M,y:N-S,R:B[X],NS:-1})}Y.sort((function(t,e){return e.R-t.R}));var Q=new Int32Array(M*S),W=[];for(X=0;X<M*S;X++)255==p[X]?(Q[X]=u,W.push(X%M,Math.floor(X/M)),u++):t[3+(X<<2)]<200?Q[X]=-2:Q[X]=-1;var Z=a.te.ttY(M,S,Y,Q,W,u);if(null!=Z){var tt=Z.TC,et=Z.top;tt=a.te.tLw(tt,t,M,S,et,Q,W,u),Date.now(),(f=r.clone()).FA(1,1),f=f.sj(b);var it=a.I(4*f.f()),nt=a.I(f.f());a.Pg(w,b,it,f);var rt=b.$,st=b.z;for(N=0;N<st;N++)for(I=0;I<rt;I++)if(0!=x[N*rt+I]){var at=Math.min(Math.floor(I/h),M-1),ht=tt[Q[Math.min(Math.floor(N/h),S-1)*M+at]],ot=et[ht],lt=I+ot.x*h,ut=(N+ot.y*h)*rt+lt<<2,ft=(N-f.y+b.y)*f.$+(I-f.x+b.x)<<2;it[ft]=w[ut],it[ft+1]=w[ut+1],it[ft+2]=w[ut+2],it[ft+3]=w[ut+3],it[ft+3]=w[ut+3],nt[ft>>2]=ht+1}s,Date.now(),a.ih.zZ(it,nt,f,null,1e3),Date.now(),a.Pg(it,f,n,r)}}}},a.te.Cd=function(t,e,i,n,r,s){return a.te.zk(t+r.x,e+r.y,i,n)&&-1==s[(e+r.y)*i+(t+r.x)]?0:1e9},a.te.tLw=function(t,e,i,n,r,s,h,o){for(var l=Date.now(),u=[-1,0,0,-1,1,0,0,1],f=1e99,c=[],p=[],v=0,d=1e99;Date.now()<l+12e3;){v++;for(var y=null,g=f,m=0;m<r.length;m++){for(var w=r[m],b=0,x=o+2,M=0,S=0;S<o;S++){for(var A=h[2*S],k=h[2*S+1],C=r[t[S]],T=a.te.Cd(A,k,i,n,w,s),U=t[S]==m?1e9:a.te.Cd(A,k,i,n,C,s),_=0;_<4;_++)if(!(0==_&&0==A||1==_&&0==k||2==_&&A==i-1||3==_&&k==n-1)){var F=u[2*_],O=u[2*_+1],L=A+F,D=k+O;if(-2==(V=s[D*i+L]));else if(-1==V)T+=3*a.te.Nh(L+w.x,D+w.y,L,D,i,n,e,s),T+=2*a.te.Nh(L+w.x+F,D+w.y+O,L+F,D+O,i,n,e,s),U+=3*a.te.Nh(L+C.x,D+C.y,L,D,i,n,e,s),U+=2*a.te.Nh(L+C.x+F,D+C.y+O,L+F,D+O,i,n,e,s);else if(_>1)if(t[S]==t[V]){var N=0;N+=a.te.Nh(A+C.x,k+C.y,A+w.x,k+w.y,i,n,e,s),N+=a.te.Nh(L+C.x,D+C.y,L+w.x,D+w.y,i,n,e,s),c[b]=S,c[b+1]=V,p[b]=N,p[b+1]=N,b+=2}else{var I=r[t[V]],E=x,P=0,J=0,B=0;x++,P+=a.te.Nh(A+C.x,k+C.y,A+w.x,k+w.y,i,n,e,s),P+=a.te.Nh(L+C.x,D+C.y,L+w.x,D+w.y,i,n,e,s),J+=a.te.Nh(A+I.x,k+I.y,A+w.x,k+w.y,i,n,e,s),J+=a.te.Nh(L+I.x,D+I.y,L+w.x,D+w.y,i,n,e,s),B+=a.te.Nh(A+I.x,k+I.y,A+C.x,k+C.y,i,n,e,s),B+=a.te.Nh(L+I.x,D+I.y,L+C.x,D+C.y,i,n,e,s),c[b]=S,c[b+1]=E,p[b]=P,p[b+1]=P,c[b+=2]=V,c[b+1]=E,p[b]=J,p[b+1]=J,c[b+=2]=E,c[b+1]=o+1,p[b]=B,p[b+1]=0,b+=2}}c[b]=o,c[b+1]=S,p[b]=T,p[b+1]=0,c[b+=2]=S,c[b+1]=o+1,p[b]=U,p[b+1]=0,b+=2,M+=Math.min(T,U)}if(!(M>g)){var X=a.ef.UU(x,b,o,o+1,c,p,g);if(X.SL<g){g=X.SL;var z=t.slice(0);a.te.tGK(z,b,c,X.Ml,m,o),y=z}}}if(1*g>=f)break;if(f=g,t=y,0==(3&v)){if(1.03*g>=d)break;d=g}if(0==(3&v)){var $=0*r.length;for(S=0;S<r.length&&r.length>$;S++)if(-1==t.indexOf(S)){r.splice(S,1);for(var V=0;V<t.length;V++)t[V]>S&&t[V]--;S--}}}return t},a.te.tGK=function(t,e,i,n,r,s){for(var a=0;a<n.length;a++){var h=n[a]<<1,o=0,l=0;h<e?(o=i[h],l=i[h+1]):(l=i[h],o=i[h+1]),o==s&&t[l]!=r&&(t[l]=r)}},a.te.CG=function(t,e,i,n,r,s,h,o,l){for(var u=0;u<i.length;u++){var f=i[u],c=!0;if((null==o||a.te.zk(o+f.x,l+f.y,s,h)&&-1==n[s*(l+f.y)+o+f.x])&&(-1==f.NS&&(f.NS=a.te.txK(f,n,r,s,h)),!(f.NS<=0))){for(var p=0;p<t.length;p++){var v=t[p],d=f.x-v.x,y=f.y-v.y;if(d*d+y*y<e){c=!1;break}}if(c)return f}}return null},a.te.txK=function(t,e,i,n,r){for(var s=0,h=0;h<i.length;h+=2){var o=i[h]+t.x,l=i[h+1]+t.y;a.te.zk(o,l,n,r)&&-1==e[n*l+o]&&s++}return s/(i.length>>1)},a.te.ttY=function(t,e,i,n,r,s){for(var h=[],o=0;o<60;o++){if(null==(m=a.te.CG(h,25,i,n,r,t,e)))break;h.push(m)}if(0==h.length)return null;var l=[];for(o=0;o<s;o++){for(var u=r[2*o],f=r[2*o+1],c=-1,p=0;;){p++;var v=Math.random(),d=h[c=Math.floor(.99999*v*h.length)],y=u+d.x,g=f+d.y;if(a.te.zk(y,g,t,e)&&-1==n[g*t+y])break;if(p>100){var m;if(null==(m=a.te.CG(h,0,i,n,r,t,e,u,f)))return null;h.push(m),p=0}}l.push(c)}return{top:h,TC:l}},a.te.Nh=function(t,e,i,n,r,s,a,h){if(t==i&&e==n)return 0;if(t<0||e<0||t>=r||e>=s||i<0||n<0||i>=r||n>=s||-1!=h[e*r+t]||-1!=h[n*r+i])return 1e7;var o=e*r+t<<2,l=n*r+i<<2,u=a[o]-a[l],f=a[o+1]-a[l+1],c=a[o+2]-a[l+2];return u*u+f*f+c*c+1},a.te.zk=function(t,e,i,n){return t>=0&&t<i&&e>=0&&e<n},a.te.t$W=function(t,e,i,n){for(var r=24*t,s=e[r],h=e[r+1],o=n*n,l=0,u=1e9;99!=i[l];)l=e[r+i[l]]<i[l+1]?i[l+2]:i[l+3];for(var f=i[l+1],c=i[l+2],p=-1,v=f;v<=c;v++){var d=24*(l=v),y=e[d],g=e[d+1];if(!((y-s)*(y-s)+(g-h)*(g-h)<o)){var m=a.te.getError(d,r,e,u);m<u&&(u=m,p=l)}}return p},a.te.getError=function(t,e,i,n){for(var r=0,s=4;s<24;s+=4){var a=i[e+s]-i[t+s],h=i[e+s+1]-i[t+s+1],o=i[e+s+2]-i[t+s+2],l=i[e+s+3]-i[t+s+3];if((r+=a*a+h*h+o*o+l*l)>=n)return r+1}return r},a.te.qS=function(t,e,i,n,r){var s=0;if(e-t<=16)i.push(99,t,e);else{a.te.jm(t,e,n,r);for(var h=-1,o=-1,l=4;l<24;l++){var u=r[2*l+1]-r[2*l];u>o&&(o=u,h=l)}var f=t+e>>1,c=a.te.tJP(f,t,e,n,h),p=-1;for(l=t;l<=e;l++)n[24*l+h]==c&&(-1==p&&(p=l),s=l);if(t+8<p&&p-t>e-s)f=p;else if(s+1<e-8)f=s+1;else if(e-t<64)return void i.push(99,t,e);var v=i.length;i.push(h,c,0,0),i[v+2]=v+4,a.te.qS(t,f-1,i,n,r),i[v+3]=i.length,a.te.qS(f,e,i,n,r)}},a.te.jm=function(t,e,i,n){for(var r=0;r<48;r+=4)n[r]=3e4,n[r+1]=-3e4,n[r+2]=3e4,n[r+3]=-3e4;for(r=t;r<=e;r++)for(var s=24*r,a=0;a<24;a++){var h=i[s+a],o=n[a<<1],l=n[1+(a<<1)];h<o&&(n[a<<1]=h),h>l&&(n[1+(a<<1)]=h)}},a.te.qW=function(t,e,i){var n=0,r=0;n=i[t+r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,n=i[t+ ++r],i[t+r]=i[e+r],i[e+r]=n,r++},a.te.qZ=function(t,e,i,n){for(var r=t[24*(i+n>>>1)+e];i<=n;){for(;t[24*i+e]<r;)i++;for(;t[24*n+e]>r;)n--;i<=n&&(t[24*i+e]!=t[24*n+e]&&a.te.qW(24*i,24*n,t),i++,n--)}return i},a.te.tJP=function(t,e,i,n,r){for(var s=0;e!=i;)t<(s=a.te.qZ(n,r,e,i))?i=s-1:e=s;return n[24*t+r]},a.te.sa=function(t,e,i,n){for(var r=0;r<n;r++)e[i+r]=t[r]},a.te.tJd=function(t,e,i,n,r,s,a,h,o){for(var l=(n-3)*r+(i-3),u=l<<2,f=0;f<8;f++){if(e[l]+e[l+1]+e[l+2]+e[l+3]+e[l+4]+e[l+5]+e[l+6]+e[l+7]!=0||t[u+3]<200||t[u+7]<200||t[u+11]<200||t[u+15]<200||t[u+19]<200||t[u+23]<200||t[u+27]<200||t[u+31]<200)return 1;var c=f<<3;a[c+0]=t[u+0],h[c+0]=t[u+1],o[c+0]=t[u+2],a[c+1]=t[u+4],h[c+1]=t[u+5],o[c+1]=t[u+6],a[c+2]=t[u+8],h[c+2]=t[u+9],o[c+2]=t[u+10],a[c+3]=t[u+12],h[c+3]=t[u+13],o[c+3]=t[u+14],a[c+4]=t[u+16],h[c+4]=t[u+17],o[c+4]=t[u+18],a[c+5]=t[u+20],h[c+5]=t[u+21],o[c+5]=t[u+22],a[c+6]=t[u+24],h[c+6]=t[u+25],o[c+6]=t[u+26],a[c+7]=t[u+28],h[c+7]=t[u+29],o[c+7]=t[u+30],u+=r<<2,l+=r}return 0},a.te.qA=function(t,e){e[0]=t[32]+t[0],e[1]=t[33]+t[1],e[2]=t[34]+t[2],e[3]=t[35]+t[3],e[4]=t[36]+t[4],e[5]=t[37]+t[5],e[6]=t[38]+t[6],e[7]=t[39]+t[7],e[8]=t[40]+t[8],e[9]=t[41]+t[9],e[10]=t[42]+t[10],e[11]=t[43]+t[11],e[12]=t[44]+t[12],e[13]=t[45]+t[13],e[14]=t[46]+t[14],e[15]=t[47]+t[15],e[16]=t[48]+t[16],e[17]=t[49]+t[17],e[18]=t[50]+t[18],e[19]=t[51]+t[19],e[20]=t[52]+t[20],e[21]=t[53]+t[21],e[22]=t[54]+t[22],e[23]=t[55]+t[23],e[24]=t[56]+t[24],e[25]=t[57]+t[25],e[26]=t[58]+t[26],e[27]=t[59]+t[27],e[28]=t[60]+t[28],e[29]=t[61]+t[29],e[30]=t[62]+t[30],e[31]=t[63]+t[31],e[32]=t[0]-t[32],e[33]=t[1]-t[33],e[34]=t[2]-t[34],e[35]=t[3]-t[35],e[36]=t[4]-t[36],e[37]=t[5]-t[37],e[38]=t[6]-t[38],e[39]=t[7]-t[39],e[40]=t[8]-t[40],e[41]=t[9]-t[41],e[42]=t[10]-t[42],e[43]=t[11]-t[43],e[44]=t[12]-t[44],e[45]=t[13]-t[45],e[46]=t[14]-t[46],e[47]=t[15]-t[47],e[48]=t[16]-t[48],e[49]=t[17]-t[49],e[50]=t[18]-t[50],e[51]=t[19]-t[51],e[52]=t[20]-t[52],e[53]=t[21]-t[53],e[54]=t[22]-t[54],e[55]=t[23]-t[55],e[56]=t[24]-t[56],e[57]=t[25]-t[57],e[58]=t[26]-t[58],e[59]=t[27]-t[59],e[60]=t[28]-t[60],e[61]=t[29]-t[61],e[62]=t[30]-t[62],e[63]=t[31]-t[63],t[0]=e[16]+e[0],t[1]=e[17]+e[1],t[2]=e[18]+e[2],t[3]=e[19]+e[3],t[4]=e[20]+e[4],t[5]=e[21]+e[5],t[6]=e[22]+e[6],t[7]=e[23]+e[7],t[8]=e[24]+e[8],t[9]=e[25]+e[9],t[10]=e[26]+e[10],t[11]=e[27]+e[11],t[12]=e[28]+e[12],t[13]=e[29]+e[13],t[14]=e[30]+e[14],t[15]=e[31]+e[15],t[16]=e[0]-e[16],t[17]=e[1]-e[17],t[18]=e[2]-e[18],t[19]=e[3]-e[19],t[20]=e[4]-e[20],t[21]=e[5]-e[21],t[22]=e[6]-e[22],t[23]=e[7]-e[23],t[24]=e[8]-e[24],t[25]=e[9]-e[25],t[26]=e[10]-e[26],t[27]=e[11]-e[27],t[28]=e[12]-e[28],t[29]=e[13]-e[29],t[30]=e[14]-e[30],t[31]=e[15]-e[31],e[0]=t[8]+t[0],e[1]=t[9]+t[1],e[2]=t[10]+t[2],e[3]=t[11]+t[3],e[4]=t[12]+t[4],e[5]=t[13]+t[5],e[6]=t[14]+t[6],e[7]=t[15]+t[7],e[8]=t[0]-t[8],e[9]=t[1]-t[9],e[10]=t[2]-t[10],e[11]=t[3]-t[11],e[12]=t[4]-t[12],e[13]=t[5]-t[13],e[14]=t[6]-t[14],e[15]=t[7]-t[15],t[0]=e[4]+e[0],t[1]=e[5]+e[1],t[2]=e[6]+e[2],t[3]=e[7]+e[3],t[4]=e[0]-e[4],t[5]=e[1]-e[5],t[6]=e[2]-e[6],t[7]=e[3]-e[7],t[8]=e[12]+e[8],t[9]=e[13]+e[9],t[10]=e[14]+e[10],t[11]=e[15]+e[11],t[12]=e[8]-e[12],t[13]=e[9]-e[13],t[14]=e[10]-e[14],t[15]=e[11]-e[15],e[0]=t[2]+t[0],e[1]=t[3]+t[1],e[2]=t[0]-t[2],e[3]=t[1]-t[3],e[4]=t[6]+t[4],e[5]=t[7]+t[5],e[6]=t[4]-t[6],e[7]=t[5]-t[7],e[8]=t[10]+t[8],e[9]=t[11]+t[9],e[10]=t[8]-t[10],e[11]=t[9]-t[11],e[12]=t[14]+t[12],e[13]=t[15]+t[13],e[14]=t[12]-t[14],e[15]=t[13]-t[15],t[0]=e[1]+e[0],t[1]=e[0]-e[1],t[2]=e[3]+e[2],t[3]=e[2]-e[3],t[4]=e[5]+e[4],t[5]=e[4]-e[5],t[6]=e[7]+e[6],t[7]=e[6]-e[7],t[8]=e[9]+e[8],t[9]=e[8]-e[9],t[10]=e[11]+e[10],t[11]=e[10]-e[11],t[12]=e[13]+e[12],t[13]=e[12]-e[13],t[14]=e[15]+e[14],t[15]=e[14]-e[15]},a.te.tdD=function(){var t,e,i="",n="v",r="t",s="a",a=5;for(t=32;t>0;t>>=1,a--){for(e=0;e<64;e++)i+=0!=(e>>a&1)?r+"["+e+"] = "+n+"["+(-t+e)+"] - "+n+"["+e+"];  ":r+"["+e+"] = "+n+"["+(t+e)+"] + "+n+"["+e+"];  ";s=n,n=r,r=s,i+="\n"}console.log(i)},a.te.tdc=function(t,e,i){for(var n,r,s,a=e,h=i,o=a,l=0;t>>l!=2;)l++;var u=l;for(n=t>>1;n>0;n>>=1,l--){for(r=0;r<t;r++)s=0!=(r>>l&1),h[r]=s?a[-n+r]-a[r]:a[n+r]+a[r];o=a,a=h,h=o}if(1==(1&u))for(n=0;n<t;n++)i[n]=a[n]},a.oL={},a.oL.CS=function(t,e,i,n,r,s,h,o,l){Date.now();var u=new Uint32Array(t.buffer),f=new Uint32Array(e.buffer),c=h/i,p=o/n,v=1/c,d=1/p,y=new Float64Array(2),g=0,m=0,w=i,b=n;r&&(g=r.x,m=r.y,w=r.$,b=r.z);for(var x=0;x<b;x++)for(var M=0;M<w;M++){var S=g+M,A=m+x,k=A*i+S;a.oL.tJn(s,h,o,(S+.5)*c,(A+.5)*p,y);var C=y[0]*v,T=y[1]*d;0==C&&0==T?f[k]=u[k]:a.F.ui(S+C+.5,A+T+.5,u,i,n,f,k,l)}},a.oL.tJn=function(t,e,i,n,r,s){var a=~~(n-=.499999),h=~~(r-=.499999),o=n-a,l=r-h,u=(1-l)*(1-o),f=(1-l)*o,c=l*(1-o),p=l*o,v=a<e-1?a+1:a,d=h<i-1?h+1:h,y=h*e+a<<1,g=h*e+v<<1,m=d*e+a<<1,w=d*e+v<<1;s[0]=u*t[y]+f*t[g]+c*t[m]+p*t[w],s[1]=u*t[y+1]+f*t[g+1]+c*t[m+1]+p*t[w+1]},a.oL.qU=new Float32Array(512),a.oL.Cv=function(t){return a.oL.qU.length<t&&(a.oL.qU=new Float32Array(t)),a.oL.qU},a.oL.tJj=function(t,e,i,n,r){for(var s=1/t,h=n.length,o=a.oL.Cv(2*h),l=0;l<2;l++){for(var u=0;u<h;u++){var f=n[u],c=f<<1,p=u<<1,v=Math.floor(f*s),d=f-t*v,y=i[c],g=i[c+1],m=0,w=0;if(0!=d&&d!=t-1){var b=f+1<<1;m-=(y-.5*(i[x=f-1<<1]+i[b]))*r,w-=(g-.5*(i[x+1]+i[b+1]))*r}if(0!=v&&v!=e-1){var x;b=f+t<<1;m-=(y-.5*(i[x=f-t<<1]+i[b]))*r,w-=(g-.5*(i[x+1]+i[b+1]))*r}o[p]=y+m,o[p+1]=g+w}for(u=0;u<h;u++){p=u<<1;i[c=n[u]<<1]=o[p],i[c+1]=o[p+1]}}},a.oL.tri=function(t,e,i,n,r,s,h,o,l,u,f,c,p){for(var v=Math.max(0,Math.floor(r-h*o-1)),d=Math.min(e,Math.ceil(r+h*o+1)),y=Math.max(0,Math.floor(s-h-1)),g=Math.min(i,Math.ceil(s+h+1)),m=2*e,w=h*h,b=1/h,x=0,M=a.oL.Cv((d-v)*(g-y)*2),S=y;S<g;S++)for(var A=v;A<d;A++){var k=S*e+A,C=k<<1,T=(r-A)/o,U=s-S,_=T*T+U*U;if(_<w){c[x]=k;var F=Math.sqrt(_),O=F*b,L=0==F?1:O/F;T*=L,U*=L;var D=u*((1-l)*Math.exp(-4*O)+l*(.96*(1-O*O)));if(1==n)M[x<<1]=t[C]*(1-.05*D),M[1+(x<<1)]=t[C+1]*(1-.05*D);else{var N,I,E,P,J=0,B=0;0==n?(J=f.x*D,B=f.y*D):2==n||(3==n?(p&&(D=-D),J=D*U,B=-D*T):4==n?(J=D*T,B=D*U):5==n?(J=-D*T,B=-D*U):6==n&&(p&&(D=-D),J=f.y*D,B=-f.x*D));var X=t[C],z=t[C+1];0==A||A!=e-1&&J<0?(N=1+t[C+2]-X,E=t[C+3]-z):(N=X-t[C-2]+1,E=z-t[C-1]),0==S||S!=i-1&&B<0?(I=t[C+m]-X,P=1+t[C+m+1]-z):(I=X-t[C-m],P=z-t[C-m+1]+1),M[x<<1]=-(N*J+I*B-X),M[1+(x<<1)]=-(E*J+P*B-z)}x++}}for(var $=0;$<x;$++){var V=$<<1;t[C=c[$]<<1]=M[V],t[C+1]=M[V+1]}},a.oL.trQ=function(t){for(var e=t[0],i=t[0],n=t[1],r=t[1],s=0;s<t.length;s+=2){var a=t[s],h=t[s+1];a<e?e=a:a>i&&(i=a),h<n?n=h:h>r&&(r=h)}return[e,n,i,r]},a.oL.tdC=function(t,e){for(var i=[],n=Math.floor(e.length/3),r=0;r<n;r++)i.push(r);var s=a.oL.trQ(t);return a.oL.qk(t,e,i,i.length,s)},a.oL.qk=function(t,e,i,n,r){if(n<60)return i;var s=r,h=r.slice(0),o=[],l=[],u=0,f=0,c=0,p=.5*(r[0+(c=r[3]-r[1]>r[2]-r[0]?1:0)]+r[2+c]);s[2+c]=h[0+c]=p;for(var v=0;v<n;v++){var d=i[v],y=3*d,g=t[(e[y+0]<<1)+c],m=t[(e[y+1]<<1)+c],w=t[(e[y+2]<<1)+c];(g<=p||m<=p||w<=p)&&(o[u++]=d),(g>p||m>p||w>p)&&(l[f++]=d)}return u==n||f==n||u+f>1.3*n?i:{axis:c,NC:p,F$:a.oL.qk(t,e,o,u,s),tCm:a.oL.qk(t,e,l,f,h)}},a.oL.tdT=function(t,e,i,n,r){for(;null!=i.F$;)i=0==i.axis&&n<=i.NC||1==i.axis&&r<=i.NC?i.F$:i.tCm;return a.oL.twS(t,e,i,n,r)},a.oL.tdg=function(t,e,i){return i[0]<=t&&t<=i[2]&&i[1]<=e&&e<=i[3]},a.oL.twS=function(t,e,i,n,r){for(var s=0;s<i.length;s++){var a=3*i[s],h=e[a+0]<<1,o=e[a+1]<<1,l=e[a+2]<<1,u=t[h+0],f=t[h+1],c=t[o+0]-u,p=t[o+1]-f,v=t[l+0]-u,d=t[l+1]-f,y=n-u,g=r-f,m=c*d-v*p;if(0==m)return[h>>>1,o>>>1,l>>>1,1,0,0];var w=1/m,b=(y*d-v*g)*w,x=(c*g-y*p)*w;if(b>=0&&x>=0&&b+x<=1)return[h>>>1,o>>>1,l>>>1,1-b-x,b,x]}return null},a.Iw={},a.Iw.CE=function(t){var e=~~(t+.5);return e<0?0:e>255?255:e},a.Iw.transform=function(t,e,i){for(var n=a.Iw.CE,r=t.T.length,s=0;s<r;s++){var h=t.T[s],o=t.q[s],l=t.H[s];e.T[s]=n(i[0]*h+i[1]*o+i[2]*l+255*i[3]),e.q[s]=n(i[4]*h+i[5]*o+i[6]*l+255*i[7]),e.H[s]=n(i[8]*h+i[9]*o+i[10]*l+255*i[11])}},a.Iw.tyA=function(t,e,i){for(var n=a.Iw.CE,r=t.length,s=0;s<r;s+=4){var h=t[s],o=t[s+1],l=t[s+2];e[s]=n(i[0]*h+i[1]*o+i[2]*l+255*i[3]),e[s+1]=n(i[4]*h+i[5]*o+i[6]*l+255*i[7]),e[s+2]=n(i[8]*h+i[9]*o+i[10]*l+255*i[11])}},a.Iw.Am=function(t,e,i){return[1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1]},a.Iw.UH=function(t,e,i){return[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1]},a.Iw.tc_=function(t){return[t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10]]},a.Iw.Cg=function(t){return[t[0],t[1],t[2],0,t[3],t[4],t[5],0,t[6],t[7],t[8],0,0,0,0,1]},a.Iw.US=function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]]},a.Iw.zC=function(t){var e=[];return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e},a.Iw.multiply=function(t,e){var i=[];return i[0]=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12],i[1]=t[0]*e[1]+t[1]*e[5]+t[2]*e[9]+t[3]*e[13],i[2]=t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+t[3]*e[14],i[3]=t[0]*e[3]+t[1]*e[7]+t[2]*e[11]+t[3]*e[15],i[4]=t[4]*e[0]+t[5]*e[4]+t[6]*e[8]+t[7]*e[12],i[5]=t[4]*e[1]+t[5]*e[5]+t[6]*e[9]+t[7]*e[13],i[6]=t[4]*e[2]+t[5]*e[6]+t[6]*e[10]+t[7]*e[14],i[7]=t[4]*e[3]+t[5]*e[7]+t[6]*e[11]+t[7]*e[15],i[8]=t[8]*e[0]+t[9]*e[4]+t[10]*e[8]+t[11]*e[12],i[9]=t[8]*e[1]+t[9]*e[5]+t[10]*e[9]+t[11]*e[13],i[10]=t[8]*e[2]+t[9]*e[6]+t[10]*e[10]+t[11]*e[14],i[11]=t[8]*e[3]+t[9]*e[7]+t[10]*e[11]+t[11]*e[15],i[12]=t[12]*e[0]+t[13]*e[4]+t[14]*e[8]+t[15]*e[12],i[13]=t[12]*e[1]+t[13]*e[5]+t[14]*e[9]+t[15]*e[13],i[14]=t[12]*e[2]+t[13]*e[6]+t[14]*e[10]+t[15]*e[14],i[15]=t[12]*e[3]+t[13]*e[7]+t[14]*e[11]+t[15]*e[15],i},a.Iw.UK=function(t){var e=[];e[0]=t[5]*t[10]*t[15]-t[5]*t[14]*t[11]-t[6]*t[9]*t[15]+t[6]*t[13]*t[11]+t[7]*t[9]*t[14]-t[7]*t[13]*t[10],e[1]=-t[1]*t[10]*t[15]+t[1]*t[14]*t[11]+t[2]*t[9]*t[15]-t[2]*t[13]*t[11]-t[3]*t[9]*t[14]+t[3]*t[13]*t[10],e[2]=t[1]*t[6]*t[15]-t[1]*t[14]*t[7]-t[2]*t[5]*t[15]+t[2]*t[13]*t[7]+t[3]*t[5]*t[14]-t[3]*t[13]*t[6],e[3]=-t[1]*t[6]*t[11]+t[1]*t[10]*t[7]+t[2]*t[5]*t[11]-t[2]*t[9]*t[7]-t[3]*t[5]*t[10]+t[3]*t[9]*t[6],e[4]=-t[4]*t[10]*t[15]+t[4]*t[14]*t[11]+t[6]*t[8]*t[15]-t[6]*t[12]*t[11]-t[7]*t[8]*t[14]+t[7]*t[12]*t[10],e[5]=t[0]*t[10]*t[15]-t[0]*t[14]*t[11]-t[2]*t[8]*t[15]+t[2]*t[12]*t[11]+t[3]*t[8]*t[14]-t[3]*t[12]*t[10],e[6]=-t[0]*t[6]*t[15]+t[0]*t[14]*t[7]+t[2]*t[4]*t[15]-t[2]*t[12]*t[7]-t[3]*t[4]*t[14]+t[3]*t[12]*t[6],e[7]=t[0]*t[6]*t[11]-t[0]*t[10]*t[7]-t[2]*t[4]*t[11]+t[2]*t[8]*t[7]+t[3]*t[4]*t[10]-t[3]*t[8]*t[6],e[8]=t[4]*t[9]*t[15]-t[4]*t[13]*t[11]-t[5]*t[8]*t[15]+t[5]*t[12]*t[11]+t[7]*t[8]*t[13]-t[7]*t[12]*t[9],e[9]=-t[0]*t[9]*t[15]+t[0]*t[13]*t[11]+t[1]*t[8]*t[15]-t[1]*t[12]*t[11]-t[3]*t[8]*t[13]+t[3]*t[12]*t[9],e[10]=t[0]*t[5]*t[15]-t[0]*t[13]*t[7]-t[1]*t[4]*t[15]+t[1]*t[12]*t[7]+t[3]*t[4]*t[13]-t[3]*t[12]*t[5],e[11]=-t[0]*t[5]*t[11]+t[0]*t[9]*t[7]+t[1]*t[4]*t[11]-t[1]*t[8]*t[7]-t[3]*t[4]*t[9]+t[3]*t[8]*t[5],e[12]=-t[4]*t[9]*t[14]+t[4]*t[13]*t[10]+t[5]*t[8]*t[14]-t[5]*t[12]*t[10]-t[6]*t[8]*t[13]+t[6]*t[12]*t[9],e[13]=t[0]*t[9]*t[14]-t[0]*t[13]*t[10]-t[1]*t[8]*t[14]+t[1]*t[12]*t[10]+t[2]*t[8]*t[13]-t[2]*t[12]*t[9],e[14]=-t[0]*t[5]*t[14]+t[0]*t[13]*t[6]+t[1]*t[4]*t[14]-t[1]*t[12]*t[6]-t[2]*t[4]*t[13]+t[2]*t[12]*t[5],e[15]=t[0]*t[5]*t[10]-t[0]*t[9]*t[6]-t[1]*t[4]*t[10]+t[1]*t[8]*t[6]+t[2]*t[4]*t[9]-t[2]*t[8]*t[5];for(var i=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12],n=0;n<16;n++)e[n]/=i;return e},a.Iw.WQ=function(t){var e=t[5]*t[10]*t[15]-t[5]*t[14]*t[11]-t[6]*t[9]*t[15]+t[6]*t[13]*t[11]+t[7]*t[9]*t[14]-t[7]*t[13]*t[10],i=-t[4]*t[10]*t[15]+t[4]*t[14]*t[11]+t[6]*t[8]*t[15]-t[6]*t[12]*t[11]-t[7]*t[8]*t[14]+t[7]*t[12]*t[10],n=t[4]*t[9]*t[15]-t[4]*t[13]*t[11]-t[5]*t[8]*t[15]+t[5]*t[12]*t[11]+t[7]*t[8]*t[13]-t[7]*t[12]*t[9],r=-t[4]*t[9]*t[14]+t[4]*t[13]*t[10]+t[5]*t[8]*t[14]-t[5]*t[12]*t[10]-t[6]*t[8]*t[13]+t[6]*t[12]*t[9];return t[0]*e+t[1]*i+t[2]*n+t[3]*r},a.Iw.pR=a.Iw.Cg([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]),a.ef={},a.ef.Ch=new Uint32Array(1),a.ef.Cq=function(t,e,i,n,r,s){var h=new Uint32Array(t),o=0,l=a.ef.Ch;l.length<4*e&&(a.ef.Ch=l=new Uint32Array(4*e));for(var u=new Float64Array(l.buffer),f=0;f<e;f+=2){var c=r[f],p=r[f+1],v=s[f],d=s[f+1];l[o]=p,u[o+2>>1]=v,l[o+1]=h[c],h[c]=o+1,l[o+=4]=c,u[o+2>>1]=d,l[o+1]=h[p],h[p]=o+1,o+=4}return{cB:l,Fi:u,FZ:h}},a.ef.UU=function(t,e,i,n,r,s,h){var o=a.ef.Cq(t,e,i,n,r,s),l=o.cB,u=o.Fi,f=o.FZ,c=new Uint32Array(t),p=new a.ef.pX(t),v=1,d=0;p.push(i),p.push(n);var y=new a.ef.pX(t),g=new Uint8Array(t),m=new Uint32Array(t);g[i]=1,g[n]=2;var w=new Uint32Array(t),b=new Uint32Array(t);for(b[i]=b[n]=0,w[i]=w[n]=1;;){for(var x=-1,M=0,S=1e30;!p.zN()&&-1==x;){for(var A=g[D=p.top()],k=f[D]-1;-1!=k;){var C=g[N=l[k]];0!=u[(X=k^A-1<<2)+2>>1]&&(0==C?(a.ef.pC(D,k,N,g,m,b,w),p.push(N)):C==A&&w[N]<=w[D]&&b[N]>b[D]?a.ef.pC(D,k,N,g,m,b,w):C!=A&&(x=X)),k=l[k+1]-1}if(-1!=x)break;p.pop()}if(-1==x)break;v++;for(var T=x;-1!=T;)c[M]=T,M++,T=m[l[4^T]]-1;for(var U=M>>1,_=0;_<U;_++){var F=c[_];c[_]=c[M-_-1],c[M-_-1]=F}for(T=m[l[x]]-1;-1!=T;)c[M]=4^T,M++,T=m[l[4^T]]-1;for(_=0;_<M;_++)S=Math.min(S,u[c[_]+2>>1]);if((d+=S)>=h)return{Ml:null,SL:d};for(_=0;_<M;_++){var O=c[_],L=4^O,D=l[L],N=l[O];u[O+2>>1]-=S,u[L+2>>1]+=S,0==u[O+2>>1]&&g[D]==g[N]&&(1==g[D]&&(m[N]=0,y.push(N)),2==g[D]&&(m[D]=0,y.push(D)))}for(;!y.zN();){A=g[D=y.pop()],k=f[D]-1;for(var I=1==A?4:0,E=0,P=0,J=1e9;-1!=k;){var B=4^k,X=k^I;g[N=l[k]]==A&&u[X+2>>1]>0&&a.ef.tT_(N,i,n,m,l,v,w,b)+1<J&&(E=N,P=B,J=b[N]+1),k=l[k+1]-1}if(0==P){for(k=f[D]-1;-1!=k;){X=k^I;g[N=l[k]]==A&&(u[X+2>>1]>0&&p.push(N),m[N]==k+1&&(m[N]=0,y.push(N))),k=l[k+1]-1}g[D]=0,p.remove(D)}else a.ef.pC(E,P,D,g,m,b,w)}}var z=[];for(_=0;_<e;_+=2){D=r[_],N=r[_+1];1==g[D]&&1!=g[N]&&z.push(_>>1),1==g[N]&&1!=g[D]&&z.push(e+_>>1)}return{Ml:z,SL:d}},a.ef.pC=function(t,e,i,n,r,s,a){n[i]=n[t],r[i]=e+1,s[i]=s[t]+1,a[i]=a[t]},a.ef.tT_=function(t,e,i,n,r,s,a,h){for(var o=t,l=n[t]-1,u=0;-1!=l&&a[t]!=s;)l=n[t=r[4^l]]-1,u++;if(-1==l&&t!=e&&t!=i)return 1e9;var f=h[t]+u;for(u=0,l=n[o]-1;o!=t;)h[o]=f-u,u++,a[o]=s,l=n[o=r[4^l]]-1;return f},a.ef.tda=function(t,e,i,n,r,s){for(var h=a.ef.Cq(t,e,i,n,r,s),o=h.cB,l=h.Fi,u=h.FZ,f=0,c=new Uint32Array(2*t),p=new a.ef.Ci(t),v=0;;){p.reset(),p.push(i);for(var d=0;d<t;d++)c[d<<1]=0;for(;!p.zN();){for(var y=p.pop(),g=u[y]-1;-1!=g;)0==c[(v=o[g])<<1]&&l[g+2>>1]>0&&v!=i&&(c[v<<1]=y+1,c[1+(v<<1)]=g,p.push(v)),g=o[g+1]-1;if(0!=c[n<<1])break}if(0==c[n<<1])break;var m=1e30;for(v=n;;){if(-1==(M=c[v<<1]-1))break;var w=c[1+(v<<1)];m=Math.min(m,l[w+2>>1]),v=M}for(v=n;;){if(-1==(M=c[v<<1]-1))break;var b=4^(w=c[1+(v<<1)]);l[w+2>>1]-=m,l[b+2>>1]+=m,v=M}f+=m}var x=[];for(d=0;d<e;d+=2){var M=r[d];v=r[d+1];0==c[M<<1]&&M!=i||0!=c[v<<1]||v==i||x.push(d>>1),0==c[v<<1]&&v!=i||0!=c[M<<1]||M==i||x.push(e+d>>1)}return{Ml:x,SL:f}},a.ef.Ci=function(t){t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,this.kK=new Uint32Array(t+1),this.pU=t,this._W=0,this._n=0},a.ef.Ci.prototype={push:function(t){var e=this._n;this.kK[e]=t,this._n=e+1&this.pU},pop:function(){var t=this._W,e=this.kK[t];return this._W=t+1&this.pU,e},zN:function(){return this._W==this._n},reset:function(){this._W=0,this._n=0}},a.ef.pX=function(t){t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,this.kK=new Uint32Array(t+1),this.gt=new Uint32Array(t+1),this.pU=t,this._W=0,this._n=0},a.ef.pX.prototype={top:function(){return this.kK[this._W]},tdi:function(){return this.kK[this._n]},push:function(t){if(0==this.gt[t]){this.gt[t]=this._n+1;var e=this._n;this.kK[e]=t,this._n=e+1&this.pU}},pop:function(){var t=this._W,e=this.kK[t];return this.gt[e]=0,this._W=t+1&this.pU,e},zN:function(){return this._W==this._n},remove:function(t){var e=this.gt[t]-1;if(-1!=e)if(this.gt[t]=0,e!=this._W){var i=this.pop();this.kK[e]=i,this.gt[i]=e+1}else this.pop()},pV:function(t){return t+this.pU+1&this.pU}},a.ef.CX=function(t,e,i){var n=a.ef.qZ(t,e,i);e<n-1&&a.ef.CX(t,e,n-1),n<i&&a.ef.CX(t,n,i)},a.ef.qZ=function(t,e,i){for(var n=t[e+i>>>1];e<=i;){for(;t[e]<n;)e++;for(;t[i]>n;)i--;e<=i&&(a.ef.qW(t,e,i),e++,i--)}return e},a.ef.qW=function(t,e,i){var n=t[e];t[e]=t[i],t[i]=n},a.FU={},a.FU.tRT=function(t){for(var e=0;e<t.length;e++)a.FU.zs(t,e)},a.FU.zs=function(t,e){t[e].v.keyShapeInvalidated={t:"bool",v:!0}},a.FU.tRG=function(t){for(var e=0;e<t.length;e++)t[e].v.keyOriginIndex.v=e},a.FU.kh=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}},a.FU.Ne=function(t,e,i){var n=a.FU.kh(),r=n.v;delete r.keyShapeInvalidated;if(r.keyOriginType={t:"long",v:t},r.keyOriginResolution={t:"doub",v:75},r.keyOriginShapeBBox={t:"Objc",v:{classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}}},a.FU.pz(r,e),null!=i){r.keyOriginRRectRadii={t:"Objc",v:{classID:"radii",unitValueQuadVersion:{t:"long",v:1}}},a.FU.iC(r,i)}return n},a.FU.UC=function(t,e,i,n){for(var r=a.F.Cc(e),s=a.F.CD(e),h=Math.max(Math.abs(e[0]),Math.abs(e[1])),o=Math.max(Math.abs(e[3]),Math.abs(e[4])),l=0;l<t.length;l++){var u=t[l].v,f=u.keyShapeInvalidated;if((!f||!f.v)&&(0==i.length||-1!=i.indexOf(l))){var p=u.keyOriginType.v;if(!r||!s||n&&2==p&&Math.abs(1-h/o)>.01)a.FU.zs(t,l);else{var v=a.FU.zu(u);if(a.F.apply(e,v),a.FU.pz(u,[Math.min(v[0],v[2]),Math.min(v[1],v[3]),Math.max(v[0],v[2]),Math.max(v[1],v[3])]),2==p){var d=a.FU.iH(u),y=new c(e[0],e[1],e[3],e[4],0,0);if(y.dZ(),0==y.o&&(d.push(d.shift()),y.rotate(Math.PI/2),y.dZ()),y.o<0){var g=d[0];d[0]=d[1],d[1]=g,g=d[2],d[2]=d[3],d[3]=g}if(y.KI<0){g=d[0];d[0]=d[3],d[3]=g,g=d[1],d[1]=d[2],d[2]=g}if(n)for(var m=0;m<4;m++)d[m]=d[m]*h;a.FU.iC(u,d)}if(4==p){u.keyOriginLineWeight.v*=h;var w=a.FU.CQ(u);a.F.apply(e,w),a.FU.ttN(u,w)}}}}},a.FU.pB=function(t,e){for(var i=e.L,n=0;n<t.length;n++){var r,s=t[n].v,h=s.keyShapeInvalidated;if(!h||!h.v){var o=s.keyOriginType.v,l=a.FU.zu(s),u=l[0],f=l[1],c=l[2],p=l[3];if(1==o)r=a.A.FH.Rect(u,f,c-u,p-f,0);else if(2==o){var v=a.FU.iH(s);r=a.A.FH.Rect(u,f,c-u,p-f,v)}else if(4==o){var d=a.FU.CQ(s);r=a.A.FH.tu(d[0],d[1],d[2],d[3],s.keyOriginLineWeight.v)}else 5==o&&(r=a.A.FH.QJ(u,f,c-u,p-f));var y=a.A.T_(i,n),g=a.A.Tu(i,n);r[2].AY=i[y].AY;var m=i;i=i.slice(0,y);for(var w=2;w<r.length;w++)i.push(r[w]);for(w=y+g;w<m.length;w++)i.push(m[w])}}e.L=i,e.rb=!0},a.FU.tn=function(t){for(var e=1e9,i=-e,n=1e9,r=-n,s=null,h=0;h<t.g.length;h++){var o=t.b[t.g[h]],l=o.add.vogk;if(null!=l)for(var u=o.add.vmsk.g,f=0;f<l.length;f++){var c=l[f].v,p=c.keyShapeInvalidated;if((!p||!p.v)&&(1!=t.g.length||0==u.length||-1!=u.indexOf(f))){var v=c.keyOriginType.v;if(4!=v){var d=a.FU.zu(c);e=Math.min(e,d[0]),n=Math.min(n,d[1]),i=Math.max(i,d[2]),r=Math.max(r,d[3])}2==v&&null==s&&(s=a.FU.iH(c))}}}return[e<i?[e,n,i,r]:null,s]},a.FU.tto=function(t,e,i){var n,r=a.FU.tn(t)[0];if(r){var s=new c;s.translate(-r[0],-r[1]),s.scale(1/(r[2]-r[0]),1/(r[3]-r[1])),s.scale(e[2]-e[0],e[3]-e[1]),s.translate(e[0],e[1]),n=a.F.Wq(s)}for(var h=0;h<t.g.length;h++){var o=t.b[t.g[h]],l=o.add.vogk;if(null!=l)for(var u=o.add.vmsk.g,f=0;f<l.length;f++){var p=l[f].v,v=p.keyShapeInvalidated;if((!v||!v.v)&&(1!=t.g.length||0==u.length||-1!=u.indexOf(f))){var d=p.keyOriginType.v;if(4!=d&&null!=e[0]){e=a.FU.zu(p);a.F.apply(n,e),a.FU.pz(p,e)}2==d&&null!=i&&a.FU.iC(p,i)}}}},a.FU.zu=function(t){var e=t.keyOriginShapeBBox.v,i=e.Left.v.val,n=e.Rght.v.val;return[i,e.Top.v.val,n,e.Btom.v.val]},a.FU.pz=function(t,e){a.FU.Uk(t.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],e)},a.FU.iH=function(t){for(var e=[],i=["topLeft","topRight","bottomRight","bottomLeft"],n=0;n<4;n++)e.push(t.keyOriginRRectRadii.v[i[n]].v.val);return e},a.FU.iC=function(t,e){a.FU.Uk(t.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],e)},a.FU.Uk=function(t,e,i){for(var n=0;n<4;n++)null!=i[n]&&(t[e[n]]={t:"UntF",v:{type:"#Pxl",val:i[n]}})},a.FU.CQ=function(t){var e=t.keyOriginLineStart.v,i=t.keyOriginLineEnd.v;return[e.Hrzn.v,e.Vrtc.v,i.Hrzn.v,i.Vrtc.v]},a.FU.ttN=function(t,e){var i=t.keyOriginLineStart.v,n=t.keyOriginLineEnd.v;i.Hrzn.v=e[0],i.Vrtc.v=e[1],n.Hrzn.v=e[2],n.Vrtc.v=e[3]},a.K={},a.K.clone=function(t){return{lX:t.lX.slice(0),Z:t.Z.slice(0)}},a.K.CO=function(t){if(t.length<6)return!0;for(var e=t.length-4,i=0;i<e;i+=2)if(!a.K.iS(t[i],t[i+1],t[i+2],t[i+3],t[i+4],t[i+5]))return!1;return!!a.K.iS(t[e],t[e+1],t[e+2],t[e+3],t[0],t[1])&&!!a.K.iS(t[e+2],t[e+3],t[0],t[1],t[2],t[3])},a.K.iS=function(t,e,i,n,r,s){return(e-n)*(r-i)+(i-t)*(s-n)>=0},a.K.tVJ=function(t){for(var e={},i=null,n=0,r={M:2,L:2,Q:4,C:6},s=0;s<t.lX.length;s++){var a=t.lX[s];if("#"==a.charAt(0))null==e[a]&&(e[a]={Z:[],lX:[]}),i=e[a];else if("X"!=a){i.lX.push(a);var h=r[a];null==h&&(h=0);for(var o=0;o<h;o++)i.Z.push(t.Z[n+o]);n+=h}}return e},a.K.tVw=function(t){for(var e,i,n=[{type:6},{type:8,all:0}],r=t.Z,s=t.lX,a=0,h=!0,o=0;o<s.length;o++){var l=s[o];if("M"==l)null==e&&(e={type:0,length:0,AY:h?1:-1,Fz:2},n.push(e)),i={type:1,kM:(c=new f(r[a],r[a+1])).clone(),P:c,kq:c.clone()},n.push(i),a+=2,h=!1;if("C"==l){var u,c=new f(r[a+4],r[a+5]),p=n[n.length-1];"Z"==s[o+1]&&c.v$(i.P)?u=i:(u={type:1,kM:c.clone(),P:c,kq:c.clone()},n.push(u)),p.kq=new f(r[a],r[a+1]),u.kM=new f(r[a+2],r[a+3]),a+=6}"Z"==l&&(e.length=n.length-n.indexOf(e)-1,e=null),"X"==l&&(h=!0)}return e&&0==e.length&&(e.length=n.length-n.indexOf(e)-1),n},a.K.Cp=function(t){for(var e={Z:[],lX:[]},i=0;i<t.length;i++)if(!(t[i].type>5)){var n=t[i].length;if(i==t.length-1)break;var r=3==t[i].type;a.K.t$y(e,t,i+1,n,r),r||e.lX.push("Z"),i+=n}return e},a.K.t$y=function(t,e,i,n,r){var s=e[i],a=null;t.Z.push(s.P.x,s.P.y),t.lX.push("M");for(var h=i;h<i+n-1;h++)s=e[h],a=e[h+1],s.kq.v$(s.P)&&a.kM.v$(a.P)?(t.Z.push(a.P.x,a.P.y),t.lX.push("L")):(t.Z.push(s.kq.x,s.kq.y,a.kM.x,a.kM.y,a.P.x,a.P.y),t.lX.push("C"));r||(s=e[h],a=e[i],s.kq.v$(s.P)&&a.kM.v$(a.P)?(t.Z.push(a.P.x,a.P.y),t.lX.push("L")):(t.Z.push(s.kq.x,s.kq.y,a.kM.x,a.kM.y,a.P.x,a.P.y),t.lX.push("C")))},a.K.tdo=function(t){for(var e,i=t.Z,n=[],r=0,s=0;s<t.lX.length;s++){var a=t.lX[s];"C"==a?e.push(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]):"Z"==a||(e=[],"M"!=a&&(e.push(a),s++),e.push(i[r++],i[r++]),n.push(e))}return n},a.K.iv=function(t,e,i,n){for(var r=0;r<t.length;r+=2){var s=t[r],a=t[r+1],h=e[r],o=e[r+1];i[r]=s+(h-s)*n,i[r+1]=a+(o-a)*n}},a.K.UC=function(t,e,i){for(var n=0;n<t.length;n+=2){var r=t[n],s=t[n+1];i[n]=r*e.o+s*e.lA+e.DX,i[n+1]=r*e.H+s*e.KI+e.Ug}},a.K.jm=function(t){for(var e=99999999999,i=-e,n=99999999999,r=-n,s=0;s<t.length;s+=2){var a=t[s],h=t[s+1];e=Math.min(e,a),n=Math.min(n,h),i=Math.max(i,a),r=Math.max(r,h)}return new L(e,n,i-e,r-n)},a.K.Cb=function(t,e){var i=Math.max(e.x,Math.min(e.x+e.$,t.x)),n=Math.max(e.y,Math.min(e.y+e.z,t.y)),r=t.x-i,s=t.y-n;return Math.sqrt(r*r+s*s)},a.K.Cn=function(t){if(t.km())return new L(Math.floor(t.x),Math.floor(t.y),Math.ceil(t.$),Math.ceil(t.z));var e=Math.floor(t.x),i=Math.ceil(t.x+t.$),n=Math.floor(t.y);return new L(e,n,i-e,Math.ceil(t.y+t.z)-n)},a.K.TD=function(t){return a.K.Cn(a.K.jm(t))},a.K.DK=function(t){var e=t.x,i=t.y,n=t.x+t.$,r=t.y+t.z;return{lX:["M","L","L","L","L"],Z:[e,i,n,i,n,r,e,r,e,i]}},a.K.concat=function(t,e,i){null==i&&(i=new c);for(var n=0;n<e.Z.length;n+=2){var r=e.Z[n],s=e.Z[n+1];t.Z.push(r*i.o+s*i.lA+i.DX),t.Z.push(r*i.H+s*i.KI+i.Ug)}for(n=0;n<e.lX.length;n++)t.lX.push(e.lX[n])},a.K.kX=function(t){for(var e=t.Z,i=[],n=[],r=0,s=0,a=0,h=0,o=0,l=0,u=0,f=0,c=0,p=0;p<t.lX.length;p++){var v=t.lX[p];if("M"==v)s=e[r],a=e[r+1],r+=2,n.push(v),i.push(s,a);else if("C"==v)h=e[r],o=e[r+1],l=e[r+2],u=e[r+3],f=e[r+4],c=e[r+5],r+=6,n.push(v),i.push(h,o,l,u,f,c),s=f,a=c;else if("Q"==v){h=e[r],o=e[r+1],l=e[r+2],u=e[r+3],r+=4;var d=h-s,y=o-a,g=l-h,m=u-o;n.push("C"),i.push(s+2/3*d,a+2/3*y,h+1/3*g,o+1/3*m,l,u),s=l,a=u}else if("L"==v){h=e[r],o=e[r+1],r+=2;n.push("C"),i.push(s,a,h,o,h,o),s=h,a=o}else n.push(v)}return{lX:n,Z:i}},a.K.kb=function(t,e){for(var i=t.Z,n=[],r=[],s=0,h=0,o=0,l=0,u=0,f=0,c=0,p=0,v=0,d=0;d<t.lX.length;d++){var y=t.lX[d];"M"==y?(h=i[s],o=i[s+1],s+=2,r.push(y),n.push(h,o)):"C"==y?(l=i[s],u=i[s+1],f=i[s+2],c=i[s+3],p=i[s+4],v=i[s+5],s+=6,a.K.iE(h,o,l,u,f,c,p,v,e,r,n,0),h=p,o=v):r.push(y)}return{lX:r,Z:n}},a.K.iE=function(t,e,i,n,r,s,h,o,l,u,f,c){if((Math.sqrt((h-t)*(h-t)+(o-e)*(o-e))+(Math.sqrt((h-r)*(h-r)+(o-s)*(o-s))+Math.sqrt((r-i)*(r-i)+(s-n)*(s-n))+Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))))/2<=l)u.push("C"),f.push(i,n,r,s,h,o);else{var p,v,d,y,g,m,w,b,x,M,S,A;S=((w=((p=(t+i)/2)+(d=(i+r)/2))/2)+(x=(d+(g=(r+h)/2))/2))/2,A=((b=((v=(e+n)/2)+(y=(n+s)/2))/2)+(M=(y+(m=(s+o)/2))/2))/2,a.K.iE(t,e,p,v,w,b,S,A,l,u,f,c+1),a.K.iE(S,A,x,M,g,m,h,o,l,u,f,c+1)}},a.K.t$z=function(t,e){for(var i=e.slice(0),n=t.length/2,r=.553,s=[],a=[],h=0;h<n;h++){var o=(h+1)%n,l=t[2*h]-t[2*o],u=t[2*h+1]-t[2*o+1];a.push(Math.sqrt(l*l+u*u))}for(h=0;h<n;h++){var f=(h-1+n)%n,c=(o=(h+1)%n,e[h]),p=c+e[f],v=c+e[o];0!=p&&(i[h]=Math.min(i[h],a[f]*c/p)),0!=v&&(i[h]=Math.min(i[h],a[h]*c/v))}for(h=0;h<n;h++){o=(h+1)%n;var d=(h+2)%n,y=i[h],g=i[o],m=t[2*h],w=t[2*h+1],b=t[2*o],x=t[2*o+1],M=t[2*d],S=t[2*d+1],A=0,k=0,C=0,T=0;0!=a[h]&&(A=(b-m)/a[h],k=(x-w)/a[h]),0!=a[o]&&(C=(M-b)/a[o],T=(S-x)/a[o]),s.push(m+y*A,w+y*k,m+y*A,w+y*k,b-g*A,x-g*k),s.push(b-g*A,x-g*k,b-g*A*(1-r),x-g*k*(1-r),b+g*C*(1-r),x+g*T*(1-r))}return s},a.oC=function(){},a.oC.oC=function(t,e,i){for(var n=t,r=e,s=1;t.f()>12100;){var h=a.I(4*t.f());a.kw(i,h,3);var o=a.Ef(h,t),l=a.Ef(e,t);t=l.rect,e=l.nn,i=a.I(t.f()),a.rY(o.nn,i,3),s*=2}Date.now();var u=a.oC.CB(t,e,i);if(1!=s){Date.now();var f=a.I(4*t.f());a.kw(u,f,3);var p=j._.Qk([f,t],new c(n.$/t.$,0,0,n.z/t.z,0,0),!1);p.rect.x=n.x,p.rect.y=n.y,u=a.I(n.f()),a.he(p.buffer,p.rect,u,n);Date.now();u=a.oC.CB(n,r,u)}return u},a.oC.CB=function(t,e,i){for(var n,r,s=t.$,h=t.z,o=t.$*t.z,l=new Uint8Array(o),u=new Uint8Array(o),f=a.clone(e),c=a.clone(e),p=0,v=0;v<o;v++)0==i[v]?(l[v]=0,u[v]=0,c[3+(v<<2)]=0):255==i[v]?(l[v]=1,u[v]=2,f[3+(v<<2)]=0):(l[v]=0,u[v]=1,c[3+(v<<2)]=0);for(var d=0;d<2;d++){var y=0==d?f:c,g=[],m=a.clone(y);for(v=0;v<m.length;v+=4)0==m[v+3]&&(m[v]=m[v+1]=m[v+2]=0);var w=UPNG.quantize(m.buffer,6).plte;for(v=1;v<w.length;v++){var b=w[v].est;g.push({gJ:b.q,om:[0,0,0,0],eo:0,$M:null,ce:null,gc:0,WQ:0,Fm:null})}0==d?r=g:n=g}for(var x=new Float32Array(s*h*2),M=0;M<h;M++)for(var S=0;S<s;S++){var A=(v=M*s+S)<<2,k=0,C=0,T=0,U=0;if(S!=s-1){var _=(d=v+1)<<2;U=(k=e[A]-e[_])*k+(C=e[A+1]-e[_+1])*C+(T=e[A+2]-e[_+2])*T,x[v+v]=U,U}if(M!=h-1){var F=v+s<<2;U=(k=e[A]-e[F])*k+(C=e[A+1]-e[F+1])*C+(T=e[A+2]-e[F+2])*T,x[v+v+1]=U,U}}for(v=0;v<x.length;v++)x[v]=50*Math.exp(-.001*x[v]);for(var O=new Uint16Array(o),L=new Uint16Array(o),D=Date.now();p++,0!=n.length&&0!=r.length&&(a.oC.t$_(n,r,L,O,e,l),0!=n.length&&0!=r.length);){var N=[],I=[],E=(Date.now(),0),P=0;for(M=0;M<h;M++)for(S=0;S<s;S++){A=(v=M*s+S)<<2,l[v];var J=u[v];if(0!=J&&2!=J||0!=S&&u[v-1]!=J||S!=s-1&&u[v+1]!=J||0!=M&&u[v-s]!=J||M!=h-1&&u[v+s]!=J){S!=s-1&&(N.push(v,v+1),I.push(x[v+v],x[v+v])),M!=h-1&&(N.push(v,v+s),I.push(x[v+v+1],x[v+v+1]));t=e[A]*(1/255);var B=e[A+1]*(1/255),X=e[A+2]*(1/255),z=a.oC.CZ(r,O[v],t,B,X),$=a.oC.CZ(n,L[v],t,B,X);if(isNaN(z))throw"a";if(isNaN($))throw"b";0==J&&(z=0,$=1e9),2==J&&(z=1e9,$=0),N.push(o,v),I.push(z,0),N.push(v,o+1),I.push($,0)}}var V=a.ef.UU(o+2,N.length,o,o+1,N,I,1e20);if(null==V.Ml){console.log("no cut");break}for(v=0;v<V.Ml.length;v++){var R=V.Ml[v]<<1,q=0,H=0;R<N.length?(q=N[R],H=N[R+1],I[R]):(H=N[R],q=N[R+1],I[R+1]),q==o&&0!=l[H]&&(E++,l[H]=0),H==o+1&&1!=l[q]&&(P++,l[q]=1)}if(E+P<=.02*o||p>5||Date.now()-D>500)break}var j=a.I(4*o),G=a.I(o);for(v=0;v<e.length;v+=4)0!=l[v>>2]&&(j[v]=e[v],j[v+1]=e[v+1],j[v+2]=e[v+2],j[v+3]=e[v+3],G[v>>2]=255);return G},a.oC.CZ=function(t,e,i,n,r){var s=0,h=t[e],o=i-h.gJ[0],l=n-h.gJ[1],u=r-h.gJ[2];0==h.eo||h.WQ<1e-20?s+=.99:s+=h.gc*(1/Math.sqrt(h.WQ))*Math.exp(-.5*a.oC.tJh(o,l,u,h.Fm));var f=s>=1?0:-Math.log(s);if(isNaN(f))throw console.log(s),console.log(h),console.log(t),console.log(h.WQ,Math.sqrt(h.WQ),1/Math.sqrt(h.WQ)),"e";return f},a.oC.t$_=function(t,e,i,n,r,s){for(var h=0;h<2;h++)for(var o=0==h?e:t,l=0;l<o.length;l++){(b=o[l]).eo=0,b.om=[0,0,0,0],b.ce=[0,0,0,0,0,0,0,0,0]}for(l=0;l<r.length;l+=4){var u,f=r[l]*(1/255),c=r[l+1]*(1/255),p=r[l+2]*(1/255);n[l>>2]=a.oC.Ck(e,f,c,p),i[l>>2]=a.oC.Ck(t,f,c,p),0==s[l>>2]?(o=e,u=n[l>>2]):(o=t,u=i[l>>2]);var v=(b=o[u]).ce,d=b.gJ;b.eo++;var y=f-d[0],g=c-d[1],m=p-d[2];b.om[0]+=f,b.om[1]+=c,b.om[2]+=p,v[0]+=y*y,v[1]+=y*g,v[2]+=y*m,v[3]+=g*y,v[4]+=g*g,v[5]+=g*m,v[6]+=m*y,v[7]+=m*g,v[8]+=m*m}for(h=0;h<2;h++){o=0==h?t:e;var w=0;for(l=0;l<o.length;l++)w+=o[l].eo;if(0!=w)for(l=0;l<o.length;l++){var b,x=1/(b=o[l]).eo,M=b.$M=[];b.gJ=[b.om[0]*x,b.om[1]*x,b.om[2]*x],b.gc=b.eo/w;for(var S=[(y=b.om[0])*y,y*(g=b.om[1]),y*(m=b.om[2]),g*y,g*g,g*m,m*y,m*g,m*m],A=[],k=0;k<9;k++)A[k]=b.ce[k]-S[k]*x;for(k=0;k<9;k++)M[k]=b.ce[k]*x;var C=a.Iw.Cg(M);b.WQ=a.Iw.WQ(C),b.Fm=a.Iw.tc_(a.Iw.UK(C))}}},a.oC.Ck=function(t,e,i,n){for(var r=0,s=1e9,a=0;a<t.length;a++){var h=t[a].gJ,o=e-h[0],l=i-h[1],u=n-h[2],f=o*o+l*l+u*u;f<s&&(s=f,r=a)}return r},a.oC.tJh=function(t,e,i,n){return(t*n[0]+e*n[3]+i*n[6])*t+(t*n[1]+e*n[4]+i*n[7])*e+(t*n[2]+e*n[5]+i*n[8])*i},a.ih=function(){},a.ih.zZ=function(t,e,i,n,r){for(var s=i.$,h=i.z,o=s*h,l=new Int32Array(o),u=0,f=0;f<o;f++)0!=e[f]?(l[f]=u,u++):t[3+(f<<2)]<200?l[f]=-2:l[f]=-1;if(0!=u){for(var c=new a.eD(u,u),p=new Float64Array(3*u),v=[-s,-1,1,s],d=[],y=[],g=0;g<h;g++)for(var m=0;m<s;m++){var w=g*s+m,b=w<<2,x=3*(f=l[w]),M=0,S=0,A=0;if(-1!=f&&-2!=f){for(var k=0;k<4;k++){2==k&&(S=A,d[A]=0,y[A]=f,A++);var C=w+v[k],T=C<<2,U=l[C];0==k&&0==g||1==k&&0==m||2==k&&m==s-1||3==k&&g==h-1||-2==U||(M++,-1==U?(p[x+0]+=t[T+0],p[x+1]+=t[T+1],p[x+2]+=t[T+2]):(d[A]=-1,y[A]=U,A++,e[w]==e[C]&&(p[x+0]+=t[b+0]-t[T+0],p[x+1]+=t[b+1]-t[T+1],p[x+2]+=t[b+2]-t[T+2])))}d[S]=M,c.zJ(d,y,A)}}var _=new Float64Array(3*u);for(f=0;f<o;f++)if(-1!=l[f]){var F=f<<2,O=3*(L=l[f]);_[O]=t[F+0],_[O+1]=t[F+1],_[O+2]=t[F+2]}c.tVa(_,p,n,r);for(f=0;f<o;f++){var L,D=3*(L=l[f]);F=f<<2;-1!=L&&(t[F+0]=~~(.5+Math.max(0,Math.min(255,_[D+0]))),t[F+1]=~~(.5+Math.max(0,Math.min(255,_[D+1]))),t[F+2]=~~(.5+Math.max(0,Math.min(255,_[D+2]))))}}},a.rect={},a.rect.Zx=function(t){for(var e=new L,i=0;i<t.length;i++)e=e.Fv(t[i]);return e},a.rect.tJW=function(t,e){for(var i=a.rect.Zx,n=new UnionFind(t.length),r=1e3,s=1e3,h=0;h<t.length;h++)for(var o=h+1;o<t.length;o++)if(e){var l=t[h],u=t[o],f=1e9,c=1e9;if(l.p$(u))n.link(h,o);else{var p=l.x+l.$,v=l.y+l.z,d=u.x+u.$,y=u.y+u.z;if(!(p<u.x||d<l.x)||!(v<u.y||y<l.y))v<u.y||y<l.y||(f=Math.min(Math.abs(p-u.x),Math.abs(l.x-d))),p<u.x||d<l.x||(c=Math.min(Math.abs(v-u.y),Math.abs(l.y-y))),Math.min(f,c)<.3*Math.min(l.$,l.z,u.$,u.z)&&n.link(h,o)}}var g=[],m={};for(h=0;h<t.length;h++){var w=n.find(h),b=t[h];null==m[w]&&(m[w]=g.length,g.push([])),g[m[w]].push(b)}var x=[],M=[];for(h=0;h<g.length;h++){x.push(i(g[h]));var S=i(g[h]);S.pV=h,M.push(S)}M.sort((function(t,e){return Math.max(e.z,e.$)-Math.max(t.z,t.$)}));for(var A=new NETXUS.RectanglePacker(r,s);;){var k=!1;A.reset(r,s);for(h=0;h<M.length;h++){var C=A.findCoords(M[h].$,M[h].z);if(!C){r=Math.floor(1.1*r),s=Math.floor(1.1*s),k=!0;break}M[h].x=C.x,M[h].y=C.y}if(!k)break}for(h=0;h<g.length;h++){var T=M[h],U=T.pV,_=x[U],F=g[U],O=T.x-_.x,L=T.y-_.y;for(o=0;o<F.length;o++)F[o].offset(O,L)}},a.VU=function(){},a.VU.oK=Math.floor(16*window.devicePixelRatio),a.VU.iq={},a.VU.Tx=0,a.VU.ip=["Pixels","Inches","Centimeters","Millimeters"],a.VU.ZS=function(t,e,i){var n=i.sS.eJ;return(t/=[1,e,e/2.54,e/25.4][n]).toFixed([0,3,2,1][n])},a.VU.trO=function(t,e){var i=Math.round(.5*a.VU.oK);a.VU.Tx=i;var n=document.createElement("canvas");n.width=n.height=i;var r=n.getContext("2d");r.font=1.5*i+"px monospace";for(var s="0 1 2 3 4 5 6 7 8 9 -".split(" "),h=0;h<s.length;h++)r.fillStyle="#"+a.fM(e),r.fillRect(0,0,i,i),r.fillStyle="#"+a.fM(t),r.fillText(s[h],0,i),a.VU.iq[s[h]]=r.getImageData(0,0,i,i).data},a.VU.tHk=function(t,e,i){for(var n=0,r=0,s=4*a.VU.oK,h=9;h>=0;h--){var o=Math.pow(10,h);if(5*o*t<=s){n=5*o,r=10;break}if(2*o*t<=s){n=2*o,r=4;break}if(1*o*t<=s){n=1*o,r=10;break}}0==n&&(n=1,r=10);var l=Math.ceil(n*t),u=a.I(l*a.VU.oK*4);a.Mw(u,4278190080|i);for(h=0;h<a.VU.oK;h++)a.VU.iO(u,4*h*l,e);for(h=0;h<l;h++)a.VU.iO(u,4*((a.VU.oK-1)*l+h),e);if(2==n&&(r=2),5==n&&(r=5),n>1||1==n&&l>20)for(h=1;h<r;h++)a.VU.twD(u,h*(l/r),l,1==(1&h)?.8:.7,e);return{er:u,step:n}},a.VU.twD=function(t,e,i,n,r){e=Math.round(e);for(var s=Math.round(a.VU.oK*n);s<a.VU.oK-1;s++)a.VU.iO(t,4*(s*i+e),r)},a.VU.iO=function(t,e,i){t[e+0]=i>>16&255,t[e+1]=i>>8&255,t[e+2]=255&i},a.VU.tyr=function(t,e,i){var n,r,s,h,o=255&e,l=e>>8&255,u=e>>16&255;e=Math.round(.6*o)<<16|Math.round(.6*l)<<8|Math.round(.6*u),a.VU.trO(Math.round(.8*o)<<16|Math.round(.8*l)<<8|Math.round(.8*u),i);var f=this.tHk(t.s,e,i),c=t.kp(0,0),p=t.kp(t.C.$,t.C.z),v=Math.floor(c.x/f.step)*f.step,d=Math.ceil(p.x/f.step)*f.step,y=Math.floor(c.y/f.step)*f.step,g=Math.ceil(p.y/f.step)*f.step,m=t.PM(v,y),w=(t.PM(d,y),f.step*t.s),b=Math.ceil(w);n=t.gS.data,r=new L(0,0,t.C.$,a.VU.oK),s=new L(0,0,b,a.VU.oK),h=new L(0,Math.round(.08*a.VU.oK),a.VU.Tx,a.VU.Tx);for(var x=0;x<(d-v)/f.step;x++){s.x=Math.round(m.x+x*w),a.Pg(f.er,s,n,r,s);for(var M=(v+x*f.step).toString(10),S=0;S<M.length;S++){h.x=s.x+3+S*Math.round(.8*a.VU.Tx);var A=a.VU.iq[M[S]];a.Pg(A,h,n,r,h)}}for(var k=new Uint32Array(f.er.buffer),C=new Uint32Array(f.er.length),T=0;T<b;T++)for(var U=0;U<a.VU.oK;U++)C[T*a.VU.oK+U]=k[U*b+T];f.er=new Uint8Array(C.buffer),n=t.Tn.data,r=new L(0,0,a.VU.oK,t.C.z),s=new L(0,0,a.VU.oK,b),h=new L(Math.round(.2*a.VU.oK),0,a.VU.Tx,a.VU.Tx);for(x=0;x<(g-y)/f.step;x++){s.y=Math.round(m.y+x*w),a.Pg(f.er,s,n,r,s);for(M=Math.abs(y+x*f.step).toString(10),S=0;S<M.length;S++){h.y=s.y+3+S*Math.round(1.15*a.VU.Tx);A=a.VU.iq[M[S]];a.Pg(A,h,n,r,h)}}},a.scale={},a.scale.ql=document.createElement("canvas"),a.scale.Ia=a.scale.ql.getContext("2d"),a.scale.tcl=document.createElement("canvas"),a.scale.tdQ=a.scale.tcl.getContext("2d"),a.scale.vh=function(t,e,i){var n=a.scale.ql,r=a.scale.Ia;n.width=e,n.height=i;for(var s=r.createImageData(e,i),h=t.length,o=0;o<h;o++)s.data[o]=t[o];return r.putImageData(s,0,0),r.createPattern(n,"repeat")},a.scale.tdn=function(t,e,i,n,r,s,h,o){var l=a.scale.CN(t,i,n,r,s,h,o);a.GQ(l.data,e)},a.scale.tCg=function(t,e,i,n,r,s,h,o){var l=a.scale.CN(t,i,n,r,s,h,o);a.sa(l.data,e)},a.scale.CN=function(t,e,i,n,r,s,h){var o=a.scale.ql,l=a.scale.Ia;return o.width=e,o.height=i,l.rect(0,0,e,i),l.translate(s,h),l.scale(n,r),l.fillStyle=t,l.fill(),l.getImageData(0,0,e,i)},a.scale.in=function(t,e,i,n,r,s,h){h<1?a.scale.tTX(t,e,i,n,r,s,Math.round(1/h)):a.scale.tCh(t,e,i,n,r,s,h)},a.scale.ke=function(t,e,i,n,r,s,h,o){o&&(o=o.sj(new L(0,0,e,i))),t=new Uint32Array(t.buffer),n=new Uint32Array(n.buffer),h<1?a.scale.tTB(t,e,i,n,r,s,Math.round(1/h),o):a.scale.tTY(t,e,i,n,r,s,h)},a.scale.tCh=function(t,e,i,n,r,s,a){for(var h=0;h<i;h++)for(var o=0;o<e;o++)for(var l=t[h*e+o],u=Math.min(a,r-o*a),f=Math.min(a,s-h*a),c=0;c<f;c++)for(var p=0;p<u;p++)n[(a*h+c)*r+a*o+p]=l},a.scale.tTX=function(t,e,i,n,r,s,a){for(var h=0;h<s;h++)for(var o=0;o<r;o++){for(var l=0,u=Math.min(a,e-o*a),f=Math.min(a,i-h*a),c=0;c<f;c++)for(var p=0;p<u;p++)l+=t[(a*h+c)*e+(a*o+p)];n[h*r+o]=Math.round(l/(u*f))}},a.scale.tTY=function(t,e,i,n,r,s,a){for(var h=0;h<i;h++)for(var o=0;o<e;o++)for(var l=t[h*e+o],u=Math.min(a,r-o*a),f=Math.min(a,s-h*a),c=0;c<f;c++)for(var p=0;p<u;p++)n[(a*h+c)*r+a*o+p]=l},a.scale.tTB=function(t,e,i,n,r,s,a,h){var o=0,l=r,u=0,f=s;h&&(o=Math.floor(h.x/a),l=Math.ceil((h.x+h.$)/a),u=Math.floor(h.y/a),f=Math.ceil((h.y+h.z)/a));for(var c=u;c<f;c++)for(var p=o;p<l;p++){for(var v=0,d=0,y=0,g=0,m=Math.min(a,e-p*a),w=Math.min(a,i-c*a),b=0;b<w;b++)for(var x=0;x<m;x++){var M=t[(a*c+b)*e+a*p+x],S=M>>>24;v+=S,d+=S*(M>>>16&255),y+=S*(M>>>8&255),g+=S*(255&M)}if(0!=v){var A=1/v;n[c*r+p]=v/(m*w)<<24|d*A<<16|y*A<<8|g*A}else n[c*r+p]=0}},a.t={},a.t.tPM=function(t,e,i){for(var n=128,r=0,s=i.$,a=i.z,h=0;h<a;h++)for(var o=0;o<s;o++)t[r]>=n&&(0==o||t[r-1]<n||o==s-1||t[r+1]<n||0==h||t[r-s]<n||h==a-1||t[r+s]<n)&&(e[r]=255),r++},a.t.tGb=function(t,e,i,n,r){var s=i.$,a=i.z,h=0,o=0,l=s,u=a;r&&(h=r.x-i.x,o=r.y-i.y,l=h+r.$,u=o+r.z);new Uint8Array(e.buffer);for(var f=new Uint32Array(e.buffer),c=o;c<u;c++)for(var p=h;p<l;p++){var v=c*s+p;t[v]>>7!=1||0!=c&&t[v-s]>>7!=0&&0!=p&&t[v-1]>>7!=0&&p!=s-1&&t[v+1]>>7!=0&&c!=a-1&&t[v+s]>>7!=0||(f[v]=4278190080|((p+c&4)>>>2)*n)}},a.t.txj=function(t,e,i,n,r,s){var a=i.$,h=0,o=0,l=a,u=i.z;r&&(h=r.x-i.x,o=r.y-i.y,l=h+r.$,u=o+r.z);new Uint8Array(e.buffer);for(var f=new Uint32Array(e.buffer),c=o;c<u;c++)for(var p=h;p<l;p++){var v=c*a+p,d=t[v];f[v]=1==s?255-d>>>1<<24|255&n:255<<24|(d<<16|d<<8|d)&n}},a.lO={},a.lO.Zh=function(t,e,i){var n,r;if("front"==i&&(n=t.rect.clone(),r=a.lO.tRV),"union"==i&&(n=t.rect.Fv(e.rect),r=a.lO.Fv),"difference"==i&&(n=e.rect.clone(),r=a.lO.ttA),"intersection"==i&&(n=t.rect.sj(e.rect),r=a.lO.sj),"xor"==i&&(n=t.rect.Fv(e.rect),r=a.lO.tVx),n.km())return null;var s=a.I(n.f());a.Jg(e.channel,e.rect,s,n);var h=a.I(n.f());a.Jg(t.channel,t.rect,h,n),r(h,s,s);var o=a.hV(s,n);if(o.km())return null;if(!o.v$(n)){var l=a.I(o.f());a.Jg(s,n,l,o),s=l,n=o}return{channel:s,rect:n}},a.lO.tRV=function(t,e,i){for(var n=0;n<t.length;n++)i[n]=t[n]},a.lO.Fv=function(t,e,i){for(var n=0;n<t.length;n++)i[n]=Math.min(t[n]+e[n],255)},a.lO.ttA=function(t,e,i){for(var n=0;n<t.length;n++)i[n]=Math.max(e[n]-t[n],0)},a.lO.sj=function(t,e,i){for(var n=0;n<t.length;n++)i[n]=t[n]*e[n]*.00392156862745098},a.lO.tVx=function(t,e,i){for(var n=0;n<t.length;n++)i[n]=Math.min(t[n]+e[n],255)-t[n]*e[n]*.00392156862745098},a.eD=function(t,e){this.m=[],this.LV=[0],this.Nq=[],this.oI=[],this.VB=[],this.rows=t,this.cols=e,this.mP=!1},a.eD.prototype.zJ=function(t,e,i){for(var n=this.LV.length-1,r=0;r<i;r++){var s=t[r],a=e[r];a==n?(this.oI.push(s),this.VB.push(0==s?0:1/s)):(this.m.push(s),this.Nq.push(3*a))}this.LV.push(this.m.length)},a.eD.prototype.freeze=function(){this.mP||(this.mP=!0,this.mp=new Float64Array(this.m))},a.eD.prototype.tdB=function(t,e){this.freeze();for(var i=this.rows,n=this.mp,r=this.LV,s=this.Nq,a=this.VB,h=0;h<3500;h++)for(var o=0;o<i;o++){var l=e[o],u=r[o],f=r[o+1];if(f-u==4)l-=n[u]*t[s[u]]+n[u+1]*t[s[u+1]]+n[u+2]*t[s[u+2]]+n[u+3]*t[s[u+3]];else for(var c=u;c<f;c++)l-=n[c]*t[s[c]];t[o]=a[o]*l}},a.eD.prototype.tVa=function(t,e,i,n){var r=Date.now();this.freeze(),null==i&&(i=5e-5),null==n&&(n=1e9);for(var s=-.96,a=this.rows,h=this.mp,o=this.LV,l=this.Nq,u=this.VB;;){for(var f=0,c=0;c<a;c++){var p=3*c,v=e[p],d=e[p+1],y=e[p+2],g=o[c],m=o[c+1];if(m-g==4){var w=h[g],b=h[g+1],x=h[g+2],M=h[g+3],S=l[g],A=l[g+1],k=l[g+2],C=l[g+3];v-=w*t[S+0]+b*t[A+0]+x*t[k+0]+M*t[C+0],d-=w*t[S+1]+b*t[A+1]+x*t[k+1]+M*t[C+1],y-=w*t[S+2]+b*t[A+2]+x*t[k+2]+M*t[C+2]}else for(var T=g;T<m;T++){v-=(w=h[T])*t[(S=l[T])+0],d-=w*t[S+1],y-=w*t[S+2]}var U=1.96*u[c],_=t[p+0]*s+v*U,F=t[p+1]*s+d*U,O=t[p+2]*s+y*U,L=_-t[p+0],D=F-t[p+1],N=O-t[p+2];f+=.4*L*L+.5*D*D+.1*N*N,t[p+0]=_,t[p+1]=F,t[p+2]=O}if(f/a<i||Date.now()>r+n)break}},a.kv={},a.kv.oS=function(t,e,i){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:t},Vrtc:{t:"doub",v:e},Cnty:{t:"bool",v:i}}}},a.kv.UC=function(t,e){for(var i=0;i<t.length;i++){var n=t[i].v,r=e.Sk(new f(n.Hrzn.v,n.Vrtc.v));n.Hrzn.v=Math.round(r.x),n.Vrtc.v=Math.round(r.y)}},a.kv.WK={},a.kv.WK.UU=function(t,e){for(var i=t.length,n=0;n<i;n++){for(var r=0,s=Number.NEGATIVE_INFINITY,h=n;h<i;h++)Math.abs(t[h][n])>s&&(r=h,s=Math.abs(t[h][n]));a.kv.WK.t$l(t,n,r);for(h=n+1;h<i;h++){if(0==t[n][n])return 1;for(var o=t[h][n]/t[n][n],l=n;l<i+1;l++)t[h][l]-=t[n][l]*o}}for(h=i-1;h>=0;h--){if(0==t[h][h])return 1;var u=t[h][i]/t[h][h];e[h]=u;for(l=h-1;l>=0;l--)t[l][i]-=t[l][h]*u,t[l][h]=0}return 0},a.kv.WK.t$I=function(t,e){for(var i=[],n=0;n<t;n++){i.push([]);for(var r=0;r<e;r++)i[n].push(0)}return i},a.kv.WK.tdA=function(t){for(var e=0;e<t.length;e++)console.log(JSON.stringify(t[e]))},a.kv.WK.t$l=function(t,e,i){var n=t[e];t[e]=t[i],t[i]=n},a.kv.Cm=function(t,e,i){for(var n=t.length-1,r=a.kv.WK.t$I(n+1,n+2),s=1;s<n;s++)r[s][s-1]=1/(t[s]-t[s-1]),r[s][s]=2*(1/(t[s]-t[s-1])+1/(t[s+1]-t[s])),r[s][s+1]=1/(t[s+1]-t[s]),r[s][n+1]=3*((e[s]-e[s-1])/((t[s]-t[s-1])*(t[s]-t[s-1]))+(e[s+1]-e[s])/((t[s+1]-t[s])*(t[s+1]-t[s])));r[0][0]=2/(t[1]-t[0]),r[0][1]=1/(t[1]-t[0]),r[0][n+1]=3*(e[1]-e[0])/((t[1]-t[0])*(t[1]-t[0])),r[n][n-1]=1/(t[n]-t[n-1]),r[n][n]=2/(t[n]-t[n-1]),r[n][n+1]=3*(e[n]-e[n-1])/((t[n]-t[n-1])*(t[n]-t[n-1])),a.kv.WK.UU(r,i)},a.kv.t$f=function(t,e,i,n){if(t<=e[0])return i[0];if(t>=e[e.length-1])return i[e.length-1];for(var r=1;e[r]<t;)r++;var s=e[r],a=e[r-1],h=i[r],o=i[r-1],l=(t-a)/(s-a);return(1-l)*o+l*h+l*(1-l)*((n[r-1]*(s-a)-(h-o))*(1-l)+(-n[r]*(s-a)+(h-o))*l)},a.kv.C_=function(t,e,i,n){var r={Wp:[t[0]],ik:[e[0]],LM:[]};n[0]=r;for(var s=1;s<t.length-1;s++)r.Wp.push(t[s]),r.ik.push(e[s]),0==i[s]&&(a.kv.Cm(r.Wp,r.ik,r.LM),r={Wp:[t[s]],ik:[e[s]],LM:[]}),n[s]=r;r.Wp.push(t[s]),r.ik.push(e[s]),a.kv.Cm(r.Wp,r.ik,r.LM),n[s]=r},a.kv.Tt=function(t,e,i,n){if(t<=e[0])return i[0];if(t>=e[e.length-1])return i[e.length-1];for(var r=1;e[r]<t;)r++;var s=n[r-1];return a.kv.t$f(t,s.Wp,s.ik,s.LM)},a.kv.T$=function(t){for(var e={Wp:[],ik:[],pe:[]},i=0;i<t.length;i++)e.Wp[i]=t[i].v.Hrzn.v,e.ik[i]=t[i].v.Vrtc.v,e.pe[i]=!t[i].v.Cnty||t[i].v.Cnty.v;return e},a.kv.__=function(t,e,i){var n=0,r=255;i&&(n=-1e9,r=1e9);var s=a.kv.T$(t),h=[];a.kv.C_(s.Wp,s.ik,s.pe,h);for(var o=[],l=0;l<e;l++)o[l]=1/255*Math.max(n,Math.min(r,a.kv.Tt(l*(255/(e-1)),s.Wp,s.ik,h)));return o},a.kv.tJt=function(t,e,i){for(var n=Math.round(t.length/20),r=e-t.length,s=i?(t[n]-t[0])/n:0,a=i?t[0]-r*s:t[t.length-1],h=[],o=0;o<r;o++)h.push(a+o*s);return i?h.concat(t):t.concat(h)},a.kv.tH=function(t,e,i){var n=a.kv.T$(t),r=[];a.kv.C_(n.Wp,n.ik,n.pe,r);for(var s=new Uint8Array(e),h=e/256,o=0;o<e;o++)s[o]=Math.max(0,Math.min(e-1,a.kv.Tt(o*h,n.Wp,n.ik,r)));return i&&(s[0]=0,s[1]>100&&(s[1]=.4*s[1]),s[2]>150&&(s[1]=.7*s[2])),s},a.kv.TJ=function(t,e){for(var i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=e[t[n]];return i},a.kv.uU=function(t,e,i){var n=bt.B("canvas","");n.width=e,n.height=i;var r=n.getContext("2d"),s=a.kv.tH(t,256);r.scale(e/255,i/255),r.fillStyle="#fff",r.fillRect(0,0,255,255),r.fillStyle="#333",r.beginPath(),r.moveTo(0,255);for(var h=0;h<s.length;h++)r.lineTo(h,255-s[h]);return r.lineTo(255,255),r.closePath(),r.fill(),n.toDataURL()},a.style={},a.style.stroke=function(t,e,i,n){var r=i.$,s=i.z,h=new Float64Array(r*s);a.style.td(t,h,r,s),a.style.il(e,i,h,i,n)},a.style.il=function(t,e,i,n,r){var s=e.sj(n),a=s.$,h=s.z;r+=.5;for(var o=s.x-e.x,l=s.y-e.y,u=e.$,f=s.x-n.x,c=s.y-n.y,p=n.$,v=0;v<h;v++)for(var d=(v+c)*p+f,y=(v+l)*u+o,g=0;g<a;g++){var m=Math.max(0,Math.min(1,r-i[d+g]));t[y+g]=Math.round(255*m)}},a.style.tde=function(t,e,i,n){for(var r=0;r<i;r++)for(var s=0;s<e;s++){var a=r*e+s,h=0,o=0,l=t[a];if(0==s||0==r?(h=t[a+1]-l,o=t[a+e]-l):s==i-1||r==e-1?(h=l-t[a-1],o=l-t[a-e]):(h=t[a+1]-t[a-1],o=t[a+e]-t[a-e]),0!=h||0!=o){var u=1/Math.sqrt(h*h+o*o);h*=u,o*=u}n[a+a]=h,n[a+a+1]=o}},a.style.td=function(t,e,i,n){for(var r=a.style.ij(t,i,n),s=0;s<n;s++)for(var h=0;h<i;h++){var o=s*i+h,l=r[2*o],u=r[2*o+1],f=(s+u)*i+h+l;if(0!=l||0!=u){var c=Math.sqrt(l*l+u*u),p=t[f]*(1/255),v=1/c,d=Math.abs(l)*v,y=Math.abs(u)*v;if(y>d){var g=y;y=d,d=g}e[o]=c+a.style.tJJ(d,y,p)}else e[o]=0}},a.style.ij=function(t,e,i){for(var n=!0,r=0;r<t.length;r++)n=n&&(0==t[r]||255==t[r]);var s=new Int16Array(e*i*2);return n?a.style.tIo(t,s,e,i):a.style.tHq(t,s,e,i),s},a.style.tJJ=function(t,e,i){return(.5-i)*t},a.style.tHq=function(t,e,i,n){for(var r=i*n,s=0;s<r;s++)0==t[s]&&(e[2*s]=16383,e[2*s+1]=16383);for(var h=1;h<=n-1;h++){s=h*i;for(var o=0;o<=i-1;o++)a.style.TH(e,t,i,s+o<<1,-1);for(o=1;o<=i-1;o++)a.style.ZY(e,t,i,s+o<<1,-1);for(o=i-2;o>=0;o--)a.style.ZY(e,t,i,s+o<<1,1)}for(h=n-2;h>=0;h--){for(s=h*i,o=0;o<=i-1;o++)a.style.TH(e,t,i,s+o<<1,1);for(o=1;o<=i-1;o++)a.style.ZY(e,t,i,s+o<<1,-1);for(o=i-2;o>=0;o--)a.style.ZY(e,t,i,s+o<<1,1)}},a.style.ZY=function(t,e,i,n,r){var s=(n>>>1)+r<<1,a=t[n],h=t[n+1],o=t[s]+r,l=t[s+1],u=o*o+l*l,f=a*a+h*h;16383!=l&&(16383==a||Math.sqrt(u)+(.5-e[(n>>>1)+l*i+o]*(1/255))<Math.sqrt(f)+(.5-e[(n>>>1)+h*i+a]*(1/255)))&&(t[n]=o,t[n+1]=l)},a.style.TH=function(t,e,i,n,r){var s=(n>>>1)+r*i<<1,a=t[n],h=t[n+1],o=t[s],l=t[s+1]+r,u=o*o+l*l,f=a*a+h*h;16383!=o&&(16383==a||Math.sqrt(u)+(.5-e[(n>>>1)+l*i+o]*(1/255))<Math.sqrt(f)+(.5-e[(n>>>1)+h*i+a]*(1/255)))&&(t[n]=o,t[n+1]=l)},a.style.tIo=function(t,e,i,n){for(var r=i*n,s=0;s<r;s++)0==t[s]&&(e[2*s]=16383,e[2*s+1]=16383);for(var h=1;h<=n-1;h++){s=h*i;for(var o=0;o<=i-1;o++)a.style.Tw(e,t,i,s+o<<1,-1);for(o=1;o<=i-1;o++)a.style.ZB(e,t,i,s+o<<1,-1);for(o=i-2;o>=0;o--)a.style.ZB(e,t,i,s+o<<1,1)}for(h=n-2;h>=0;h--){for(s=h*i,o=0;o<=i-1;o++)a.style.Tw(e,t,i,s+o<<1,1);for(o=1;o<=i-1;o++)a.style.ZB(e,t,i,s+o<<1,-1);for(o=i-2;o>=0;o--)a.style.ZB(e,t,i,s+o<<1,1)}},a.style.ZB=function(t,e,i,n,r){var s=(n>>>1)+r<<1,a=t[n],h=t[n+1],o=t[s]+r,l=t[s+1];16383!=l&&(16383==a||o*o+l*l<a*a+h*h)&&(t[n]=o,t[n+1]=l)},a.style.Tw=function(t,e,i,n,r){var s=(n>>>1)+r*i<<1,a=t[n],h=t[n+1],o=t[s],l=t[s+1]+r;16383!=o&&(16383==a||o*o+l*l<a*a+h*h)&&(t[n]=o,t[n+1]=l)},a.style.tdu=function(t,e,i,n,r){for(var s=i*n,a=1.01*(i+n+1),h=0;h<s;h++)t[h]<=r&&(e[h]=a);for(var o=1;o<i;o++)e[o]=Math.min(e[o],e[o-1]);for(var l=1;l<n;l++){e[h=l*i]=Math.min(e[h],Math.min(e[h-i]+1,e[h-i+1]+Math.SQRT2));for(o=1;o<i-1;o++){var u=e[++h];(f=Math.min(e[h-1]+1,Math.min(e[h-i-1]+Math.SQRT2,Math.min(e[h-i]+1,e[h-i+1]+Math.SQRT2))))<u&&(e[h]=f)}e[++h]=Math.min(e[h],Math.min(e[h-1]+1,Math.min(e[h-i-1]+Math.SQRT2,e[h-i]+1)))}for(o=i-2;o>=0;o--)e[o+s-i]=Math.min(e[o+s-i],e[o+s-i+1]);for(l=n-2;l>=0;l--){e[h=l*i+i-1]=Math.min(e[h],Math.min(e[h+i]+1,e[h+i-1]+Math.SQRT2));for(o=i-2;o>=1;o--){var f;u=e[--h];(f=Math.min(e[h+1]+1,Math.min(e[h+i-1]+Math.SQRT2,Math.min(e[h+i]+1,e[h+i+1]+Math.SQRT2))))<u&&(e[h]=f)}e[--h]=Math.min(e[h],Math.min(e[h+1]+1,Math.min(e[h+i]+1,e[h+i+1]+Math.SQRT2)))}},a.style.tGV=function(t,e,i,n,r){var s=new Int32Array(i*n);a.style.tyh(t,s,i,n,r),a.style.tDJ(s,e,i,n)},a.style.tyh=function(t,e,i,n,r){for(var s=new Int32Array(n),a=0;a<i;a++){for(var h=i+n,o=n-1;o>=0;o--)t[o*i+a]>r?h=0:h++,s[o]=h;h=i+n;for(o=0;o<n;o++)t[o*i+a]>r?h=0:h++,e[o*i+a]=h<s[o]?-h:s[o]}},a.style.tDJ=function(t,e,i,n){for(var r=(i+n)*(i+n),s=new Float64Array(i),a=new Uint16Array(i),h=0;h<n;h++){var o=h*i,l=0;a[0]=0,s[0]=-r,s[1]=+r;for(var u=1;u<i;u++){for(var f=t[u+o]*t[u+o]+u*u,c=(f-(t[a[l]+o]*t[a[l]+o]+a[l]*a[l]))/(2*u-2*a[l]);c<=s[l];)c=(f-(t[a[--l]+o]*t[a[l]+o]+a[l]*a[l]))/(2*u-2*a[l]);a[++l]=u,s[l]=c,s[l+1]=r}l=0;for(u=0;u<i;u++){for(;s[l+1]<u;)l++;var p=a[l]-u,v=t[a[l]+o],d=h*i+u<<1;e[d]=p,e[d+1]=v}}},a.style.tDI=function(t,e){for(var i=0;i<t.length;i++){var n,r=t[i];n=!(r<5)&&a.style.LC(i)<64+.5*r;var s=255*Math.sqrt(Math.sqrt(r/255));t[i]=(1-e)*r+e*(n?s:0)}},a.style.LC=function(t){return t=61^t^t>>16,t+=t<<3,t^=t>>4,t*=668265261,255&(t^=t>>15)},a.kg={},a.kg.WB=function(t,e,i){var n=t.canvas;n.width==e&&n.height==i||bt.UZ(n,e,i,t)},a.kg.ib=function(t,e,i,n,r,s){a.kg.WB(t,e,i),null==s&&(s=!1);var h=r.channel,o=r.rect,l=!r.isEnabled;if((e=Math.floor(e*bt.h()))*(i=Math.floor(i*bt.h()))!=0){for(var u=t.createImageData(e,i),f=u.data,c=1/e,p=1/i,v=0;v<i;v++)for(var d=0;d<e;d++){var y=4*(v*e+d),g=Math.round(n.x+d*c*n.$),m=Math.round(n.y+v*p*n.z),w=0;w=g<o.x||g>=o.x+o.$||m<o.y||m>=o.y+o.z?r.color:h[(m-o.y)*o.$+(g-o.x)],w=255*(255-r.JU)+w*r.JU>>>8,s&&(w=170+Math.round(.4*(w-170))),f[y]=w,f[y+1]=w,f[y+2]=w,f[y+3]=255}t.putImageData(u,0,0),l&&a.kg.iA(t,e,i)}},a.kg.tDc=function(t,e,i,n){t.fillStyle="#eeeeee",t.fillRect(.6*e,.6*i,e,i),t.lineWidth=1.5;var r=.65*e,s=.95*e,a=.65*i,h=.95*i,o=.75*e,l=.85*e,u=.75*i,f=.85*i;t.beginPath(),t.moveTo(r,a),t.lineTo(s,a),t.lineTo(s,h),t.lineTo(r,h),t.lineTo(r,a),t.moveTo(o,u),t.lineTo(l,u),t.lineTo(l,f),t.lineTo(o,f),t.lineTo(o,u),t.closePath(),t.stroke()},a.kg.tDT=function(t,e,i){var n,r,s;e=Math.floor(bt.h()*e),i=Math.floor(bt.h()*i),r=e-(n=Math.ceil(.4*Math.min(e,i))),s=i-n,t.scale(1/bt.h(),1/bt.h()),t.fillStyle="#eeeeee",t.fillRect(r,s,e,i),t.lineWidth=1,t.strokeRect(r+2.5,s+2.5,e-r-5,i-s-5);var h=t.createImageData(3,3);a.Mw(h.data,4278190080),h.data[16]=h.data[17]=h.data[18]=238,t.putImageData(h,r+1,s+1),t.putImageData(h,e-4,s+1),t.putImageData(h,r+1,i-4),t.putImageData(h,e-4,i-4)},a.kg.Ze=function(t,e,i,n,r,s,h){if(a.kg.WB(t,e,i),(e=Math.floor(e*bt.h()))*(i=Math.floor(i*bt.h()))!=0){var o=t.createImageData(e,i),l=o.data,u=1/e,f=1/i;a.Y$(l,e,i,4);for(var c=s.x,p=s.x+s.$,v=s.y,d=s.y+s.z,y=0;y<i;y++)for(var g=0;g<e;g++){var m=4*(y*e+g),w=Math.round(n.x+g*u*n.$),b=Math.round(n.y+y*f*n.z);if(w<c||w>=p||b<v||b>=d);else{var x=l[m],M=l[m+1],S=l[m+2],A=l[m+3],k=(b-s.y)*s.$+(w-s.x)<<2;A=.00392156862745098*r[k+3],x=r[k+0]*A+x*(1-A),M=r[k+1]*A+M*(1-A),S=r[k+2]*A+S*(1-A),l[m]=x,l[m+1]=M,l[m+2]=S,l[m+3]=255}}t.putImageData(o,0,0),h&&a.kg.iA(t,e,i)}},a.kg.tcD=function(t,e,i,n){a.kg.WB(t,e,i),t.fillStyle=a.kg.NG(n.Clr.v),t.fillRect(0,0,e,i),a.kg.iU(t,e,i)},a.kg.tcf=function(t,e,i,n){a.kg.WB(t,e,i),t.fillStyle="#ffffff",t.fillRect(0,0,e,i),t.fillStyle="#000000",t.font=.7*i+"px serif",t.fillText("T",(e-.43*i)/2,.75*i),t.fillText("T",(e-.43*i)/2,.75*i)},a.kg.tcj=function(t,e,i){a.kg.WB(t,e,i),t.clearRect(0,0,e,i),t.font=.7*i+"px serif",t.fillText(":(",(e-.43*i)/2,.7*i)},a.kg.tLY=function(t,e,i,r){a.kg.WB(t,e,i);var s=tt.get(r),h=n.get(tt.names[s]).substring(0,3);t.fillStyle="#ffffff",t.fillRect(0,0,e,i),t.fillStyle="#000000",t.font=.55*i+"px sans-serif";var o=t.measureText(h);t.fillText(h,(e-o.width)/2,.67*i),t.fillRect(0,0,e,.1*i),t.fillRect(0,.9*i,e,.1*i)},a.kg.tCq=function(t,e,i,n){a.kg.WB(t,e,i);var r=t.canvas.width,s=t.canvas.height,h=t.getImageData(0,0,r,s);a.e.AH(n.Grad.v,new Uint8Array(h.data.buffer),new L(0,0,r,s),[1/r,0,0,1/s],r/2,s/2,!1,0,16711680,65280),t.putImageData(h,0,0),a.kg.iU(t,e,i)},a.kg.td$=function(t,e,i,n,r){a.kg.WB(t,e,i);var s=t,h=lt.bE(n.Ptrn.v,r.add.Patt),o=h.lU;a.kg.Ze(t,e,i,o,h.nn,o,!1),a.kg.iU(s,e,i)},a.kg.iA=function(t,e,i){t.strokeStyle="#bb0000",t.lineWidth=3,t.beginPath(),t.moveTo(.15*e,.15*i),t.lineTo(.85*e,.85*i),t.moveTo(.85*e,.15*i),t.lineTo(.15*e,.85*i),t.closePath(),t.stroke()},a.kg.iA=function(t,e,i){t.strokeStyle="#bb0000",t.lineWidth=3,t.beginPath(),t.moveTo(.15*e,.15*i),t.lineTo(.85*e,.85*i),t.moveTo(.85*e,.15*i),t.lineTo(.15*e,.85*i),t.closePath(),t.stroke()},a.kg.iU=function(t,e,i){t.fillStyle="#eeeeee",t.fillRect(0,.75*i,e,.25*i),t.beginPath(),t.moveTo(0,.75*i),t.lineTo(e,.75*i),t.moveTo(.1*e,.875*i),t.lineTo(.9*e,.875*i),t.moveTo(.65*e,.825*i),t.lineTo(.65*e,.95*i),t.closePath(),t.stroke()},a.kg.NG=function(t){var e=a.e.NG(t),i=Math.round(e.T)<<16|Math.round(e.q)<<8|Math.round(e.H);return"#"+a.fM(i)},a.A={},a.A.iF=function(t,e,i){for(var n=[],r=-1,s=0;s<t.length;s++){var a=t[s];0!=a.type&&3!=a.type||-1==a.AY||r++,a.type>5||0==a.type||3==a.type||(null!=e&&-1==e.indexOf(r)||null!=i&&-1==i.indexOf(s)||(n.push(a.kM.x),n.push(a.kM.y),n.push(a.P.x),n.push(a.P.y),n.push(a.kq.x),n.push(a.kq.y)))}return n},a.A.im=function(t,e,i,n){for(var r=0,s=-1,a=0;a<e.length;a++){var h=e[a];0!=h.type&&3!=h.type||-1==h.AY||s++,h.type>5||0==h.type||3==h.type||(null!=i&&-1==i.indexOf(s)||null!=n&&-1==n.indexOf(a)||(h.kM.kR(t[r],t[r+1]),h.P.kR(t[r+2],t[r+3]),h.kq.kR(t[r+4],t[r+5]),r+=6))}},a.A.Nj=function(t,e,i,n){var r=a.A.iF(t,i,n);a.K.UC(r,e,r),a.A.im(r,t,i,n)},a.A.tGJ=function(t,e,i,n){var r=a.A.iF(t,i,n);a.F.apply(e,r),a.A.im(r,t,i,n)},a.A.tGk=function(t,e){for(var i=a.A.tRf(t,40),n=0;n<i.length;n++)t[n]=i[n];var r=a.A.iF(t);a.nH.apply(e,r,a.K.jm(r)),a.A.im(r,t)},a.A.tRf=function(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n];if(r.type>5)i.push(JSON.parse(JSON.stringify(r)));else{var s=a.A.ttG(t,n+1,r.length);s=a.K.kb(s,e);var h=a.A.ttK(s);n+=r.length,(r=JSON.parse(JSON.stringify(r))).length=h.length,i.push(r);for(var o=0;o<h.length;o++)i.push(h[o])}}return i},a.A.ttG=function(t,e,i){var n={lX:["M"],Z:[]},r=t[e],s=t[e+i-1];n.Z.push(r.P.x,r.P.y);for(var a=1;a<i;a++){var h=t[e+a-1],o=t[e+a];n.lX.push("C"),n.Z.push(h.kq.x,h.kq.y,o.kM.x,o.kM.y,o.P.x,o.P.y)}return n.lX.push("C"),n.Z.push(s.kq.x,s.kq.y,r.kM.x,r.kM.y,r.P.x,r.P.y),n},a.A.ttK=function(t){var e=[],i=t.lX,n=t.Z,r=n.length;e.push({type:2,kM:new f(n[r-4],n[r-3]),P:new f(n[0],n[1]),kq:new f(n[2],n[3])});for(var s=0;s<i.length-2;s++){var a=6*s+4;e.push({type:2,kM:new f(n[a],n[a+1]),P:new f(n[a+2],n[a+3]),kq:new f(n[a+4],n[a+5])})}return e},a.A.tte=function(t){for(var e=0;e<t.length;e++)if(!(t[e].type>5)){var i=t[e].length;if(4==i||6==i||8==i)for(var n=0;n<i;n++){var r=t[e+1+n],s=t[e+1+(n+1)%i],a=Math.min(r.P.x,s.P.x),h=Math.min(r.P.y,s.P.y),o=0,l=0;if(l=r.P.x<s.P.x?(o=r.P.y-h)-(s.P.x-a):(o=s.P.y-h)-(r.P.x-a),Math.abs(l)<.2*o)return o}else e+=i}return-1},a.A.gw=function(t,e){for(var i=null,n=-1,r=0;r<t.length;r++)if(!(t[r].type>5)){var s=t[r].length;if(0!=t[r].type&&3!=t[r].type||-1==t[r].AY||n++,null==e||-1!=e.indexOf(n)){if(r==t.length-1)break;var h=3==t[r].type;if(null==i)i=a.A.TL(t,r+1,s,h);else{var o=a.A.TL(t,r+1,s,h);if(null!=e||0==t[r].AY||-1==t[r].AY||1==t[r].AY){var l=Math.min(i.x,o.x),u=Math.min(i.y,o.y),f=Math.max(i.x+i.$,o.x+o.$),c=Math.max(i.y+i.z,o.y+o.z);i.x=l,i.y=u,i.$=f-l,i.z=c-u}else 2==t[r].AY||3==t[r].AY&&(i=i.sj(o))}r+=s}}return(null==i||i.$<0||i.z<0)&&(i=new L(0,0,0,0)),i},a.A.tVz=new Float64Array(4),a.A.TL=function(t,e,i,n){var r=a.A.tVz;r[0]=1e30,r[1]=1e30,r[2]=-1e30,r[3]=-1e30;var s=t[e+i-1];n||a.A.Tg(s.P.x,s.P.y,s.kq.x,s.kq.y,t[e].kM.x,t[e].kM.y,t[e].P.x,t[e].P.y,r);for(var h=e;h<e+i-1;h++){var o=t[h],l=t[h+1];o.P.v$(o.kq)&&l.kM.v$(l.P)?(r[0]=Math.min(r[0],Math.min(o.P.x,l.P.x)),r[1]=Math.min(r[1],Math.min(o.P.y,l.P.y)),r[2]=Math.max(r[2],Math.max(o.P.x,l.P.x)),r[3]=Math.max(r[3],Math.max(o.P.y,l.P.y))):a.A.Tg(o.P.x,o.P.y,o.kq.x,o.kq.y,l.kM.x,l.kM.y,l.P.x,l.P.y,r)}return new L(r[0],r[1],r[2]-r[0],r[3]-r[1])},a.A.Tg=function(t,e,i,n,r,s,a,h,o){for(var l=1e30,u=1e30,f=-1e30,c=-1e30,p=i-t,v=n-e,d=r-i,y=s-n,g=a-r,m=h-s,w=0;w<41;w++){var b=.025*w,x=t+b*p,M=e+b*v,S=i+b*d,A=n+b*y,k=x+b*(S-x),C=M+b*(A-M),T=k+b*(S+b*(r+b*g-S)-k),U=C+b*(A+b*(s+b*m-A)-C);T<l&&(l=T),U<u&&(u=U),T>f&&(f=T),U>c&&(c=U)}o[0]=Math.min(o[0],l),o[1]=Math.min(o[1],u),o[2]=Math.max(o[2],f),o[3]=Math.max(o[3],c)},a.A.eX=function(t){a.A.tN();var e=new paper.CompoundPath(t);return a.A.oV(e)},a.A.Tp=function(t){for(var e=a.A.qh(t),i=!1,n=!1,r=2;r<t.length;r++){var s=t[r].AY;null!=s&&(2!=s&&0!=s||(i=!0),-1==s&&(n=!0))}if(n){var h=a.K.Cp(t);return{Ni:Typr.U.pathToSVG({crds:h.Z,cmds:h.lX},2),SB:i?1:0}}i&&t.length<5e3&&e>1&&(t=a.A.TO(t));var o=a.A.AJ(t);for(h=new paper.CompoundPath({fillRule:"nonzero"}),r=0;r<o.length;r++){var l=o[r][0];o[r][1];i||l.clockwise&&l.reverse(),h.addChild(l)}return{Ni:h.exportSVG({precision:2}).getAttribute("d"),SB:0}},a.A.TO=function(t){a.A.tN();for(var e,i=a.A.AJ(t),n=[],r=0;r<i.length;r++){var s=i[r][0],h=i[r][1];Math.abs(s.area)<1e-5?n.push(s):null==e?e=s:(e=e[h](s)).remove()}if(null==e)e=new paper.CompoundPath(n);else{e.segments&&(e=new paper.CompoundPath(e));for(r=0;r<n.length;r++)e.children.push(n[r])}var o=t.slice(0,2);return o=o.concat(a.A.oV(e))},a.A.tN=function(){if(null==a.A.tTL){var t=bt.B("canvas");paper.setup(t),a.A.tTL=!0}},a.A.tJV=function(t,e){a.A.tN();var i=[],n=a.A.AJ(t),r=new paper.Path.Rectangle(new paper.Rectangle(e.x,e.y,e.$,e.z));r.remove(),r.fillColor=new paper.Color(1,0,0);for(var s=0;s<n.length;s++)(r.intersects(n[s][0])||r.contains(n[s][0].segments[0].point))&&i.push(s);return i},a.A.oc=function(t,e,i,n){a.A.tN();for(var r=i?{curves:!0,tolerance:n}:null,s=new paper.Point(e.x,e.y),h=a.A.AJ(t),o=h.length-1;o>=0;o--){var l=h[o][0].hitTest(s,r);if(null!=l)return{U_:o,mX:i?l.location.index:null}}return{U_:-1}},a.A.ot=function(t,e){for(var i=[[],[],[]],n=0;n<t.length;n++){var r=t[n];r.type>5||0==r.type||3==r.type||(e.Eo(r.P)&&i[0].push(n),e.Eo(r.kM)&&i[1].push(n),e.Eo(r.kq)&&i[2].push(n))}return i},a.A.tJl=function(t,e,i){for(var n=t.slice(0,2),r=[],s=null,h=-1,o=2;o<t.length;o++)0==t[o].type||3==t[o].type?(null!=s&&0==s.length&&(i&&r.pop(),n.pop(),-1==t[o].AY&&(t[o].AY=s.AY)),s=t[o],n.push(s),i&&-1!=s.AY&&(h++,r.push(JSON.parse(JSON.stringify(i[h]))))):-1==e.indexOf(o)?n.push(t[o]):(s.length--,i&&a.FU.zs(r,r.length-1));if(i){for(;i.length>r.length;)i.pop();for(o=0;o<i.length;o++)i[o]=r[o]}return n},a.A.trl=function(t,e){for(var i=t.slice(0,2),n=-1,r=2;r<t.length;r++)0!=t[r].type&&3!=t[r].type||-1==t[r].AY||n++,-1==e.indexOf(n)&&i.push(t[r]);return i},a.A.trf=function(t,e){for(var i=t.slice(0,2),n=-1,r=2;r<t.length;r++)0!=t[r].type&&3!=t[r].type||-1==t[r].AY||n++,-1!=e.indexOf(n)&&i.push(t[r]);return i},a.A.tGL=function(t){for(var e=0,i=0;i<t.length;i++)0!=t[i].type&&3!=t[i].type||(e=i);return t[e]},a.A.qh=function(t){for(var e=-1,i=0;i<t.length;i++)0!=t[i].type&&3!=t[i].type||-1==t[i].AY||e++;return e+1},a.A.T_=function(t,e){for(var i=-1,n=0;n<t.length;n++)if((0==t[n].type||3==t[n].type)&&-1!=t[n].AY&&++i==e)return n;return-1},a.A.TY=function(t,e){for(var i=-1,n=0;n<t.length;n++)if((0==t[n].type||3==t[n].type)&&-1!=t[n].AY){if(n>=e)return i;i++}return i},a.A.Tu=function(t,e){for(var i=-1,n=0,r=0;r<t.length;r++)0!=t[r].type&&3!=t[r].type||-1==t[r].AY||i++,i==e&&n++;return n},a.A.oV=function(t){for(var e=t.segments?[t]:t.children,i=[],n=0;n<e.length;n++){var r=e[n],s=r.segments,a=r.closed?0:3,h=i.length,o=null;if(!(s.length<=1)){i.push({type:a,length:s.length,AY:0,Fz:2});for(var l=0;l<s.length;l++){var u=s[l],c=new f(u.handleIn.x,u.handleIn.y),p=new f(u.handleOut.x,u.handleOut.y),v=new f(u.point.x,u.point.y),d={type:a+1,kM:v.add(c),P:v,kq:v.add(p)};if(null==o&&(o=d),i.push(d),l+1==s.length&&f.Ln(o.P,d.P)<1e-5&&(i.pop(),i[h].length--,o.kM=d.kM,3==a))for(var y=h;y<i.length;y++)i[y].type-=3}}}return i},a.A.AJ=function(t){a.A.tN();for(var e,i=[],n=new paper.Color(1,0,0),r=0;r<t.length;r++)if(!(t[r].type>5)){var s,h=t[r].length;if(r==t.length-1)break;var o=3==t[r].type;2==r?s=a.A.eQ(t)?"unite":"subtract":(0==t[r].AY&&(s="exclude"),1==t[r].AY&&(s="unite"),2==t[r].AY&&(s="subtract"),3==t[r].AY&&(s="intersect")),-1!=t[r].AY&&(e=[]);for(var l=0;l<h;l++){var u=t[r+1+l],f=u.kM.Tr(u.P),c=u.kq.Tr(u.P);e.push([[u.P.x,u.P.y],[f.x,f.y],[c.x,c.y]])}if(null==t[r+1+h]||-1!=t[r+1+h].AY){var p=new paper.Path(e);p.remove(),p.closed=!o,p.fillRule="evenodd",p.fillColor=n,i.push([p,s])}r+=h}return i},a.A.tGP=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(null!=i.P&&(!i.P.v$(i.kM)||!i.P.v$(i.kq)))return!1}return!0},a.A.tGd=function(t){if(t.length<=5)return 0;for(var e=0,i=t.length-3-1,n=0;n<i;n++){var r=t[3+n],s=t[3+n+1];if(0==r.type||0==s.type)return 0;e+=(s.P.x-r.P.x)*(r.P.y+s.P.y)}return.5*-(e+=(t[3].P.x-t[3+i].P.x)*(t[3+i].P.y+t[4].P.y))},a.A.eQ=function(t){if(2==t.length)return 0==t[1].all;var e=t[2];return 1==t[1].all?1==e.AY||3==e.AY:1==e.AY||3==e.AY||0==e.AY},a.A.tHH=0,a.A.PV=0,a.A.tGx=0,a.A.tHY=function(t,e,i,n){var r=a.lZ,s=a.C;r.width=i.$,r.height=i.z,a.A.eQ(t)||s.fillRect(0,0,i.$,i.z);var h=i.f();if(a.A.tHH+=h,h>a.A.PV&&(a.A.PV=h),null!=n){for(var o=!1,l=0,u=0;u<t.length;u++){var f=t[u].AY;null!=f&&l++,-1==f&&(o=!0),f>0&&!0}!o&&l<20&&(t=a.A.TO(t))}for(a.A.qh(t),u=0;u<t.length;u++)if(!(t[u].type>5)){var c=t[u].length;if(0!=c){if(u==t.length-1)break;var p,v=3==t[u].type;if(2==u)a.A.eQ(t)?s.globalCompositeOperation="source-over":s.globalCompositeOperation="destination-out";else 0==t[u].AY&&(p="xor"),1==t[u].AY&&(p="source-over"),2==t[u].AY&&(p="destination-out"),3==t[u].AY&&(p="source-in"),-1!=t[u].AY&&null==n&&(s.globalCompositeOperation=p);if(-1!=t[u].AY&&(s.beginPath(),n)){for(var d=n.strokeStyleLineWidth.v.val,y=n.strokeStyleLineAlignment.v.strokeStyleLineAlignment,g=n.strokeStyleLineCapType.v.strokeStyleLineCapType,m=n.strokeStyleLineJoinType.v.strokeStyleLineJoinType,w=n.strokeStyleMiterLimit.v,b=[],x=n.strokeStyleLineDashSet.v,M=0;M<x.length;M++)b.push(x[M].v.val*d);s.setLineDash(b),s.lineCap=["butt","round","square"][ot.nO.Ky.indexOf(g)],s.lineJoin=["miter","round","bevel"][ot.nO.join.indexOf(m)],s.lineWidth=1==ot.nO.e$.indexOf(y)?d:d*=2,s.miterLimit=w}a.A.twI(s,t,u+1,c,-i.x,-i.y,v),v||s.closePath(),null!=t[u+1+c]&&-1==t[u+1+c].AY||(n?s.stroke():s.fill("evenodd")),u+=c}}if(!i.km()){var S=s.getImageData(0,0,i.$,i.z);a.rY(S.data,e,3)}},a.A.twI=function(t,e,i,n,r,s,a){var h=e[i],o=null;t.moveTo(h.P.x+r,h.P.y+s);for(var l=i;l<i+n-1;l++)h=e[l],o=e[l+1],t.bezierCurveTo(h.kq.x+r,h.kq.y+s,o.kM.x+r,o.kM.y+s,o.P.x+r,o.P.y+s);a||(h=e[l],o=e[i],t.bezierCurveTo(h.kq.x+r,h.kq.y+s,o.kM.x+r,o.kM.y+s,o.P.x+r,o.P.y+s))},a.A.AG=function(t,e,i){var n=[],r=i?4:1,s=!1;if(null!=e)for(var h=0;h<e.length;h++)if(0!=e[h]){s=!0;break}if(null!=e&&s){var o=a.K.t$z(t,e),l=o.length/6;for(h=0;h<l;h++){var u=6*h,c=(h-1+l)%l*6,p=o[u],v=o[u+1],d=o[u+2],y=o[u+3],g=o[c+4],m=o[c+5];n.push({type:r,kM:new f(g,m),P:new f(p,v),kq:new f(d,y)})}}else for(h=0;h<t.length;h+=2){var w=new f(t[h],t[h+1]);n.push({type:r,kM:w.clone(),P:w.clone(),kq:w.clone()})}return n},a.A.tIO=function(t,e){a.A.tN();var i=new paper.Path;i.remove();var n=t.length-1,r=Math.sqrt((t[n-1]-t[0])*(t[n-1]-t[0])+(t[n]-t[1])*(t[n]-t[1]))<3;i.closed=r;for(var s=0;s<t.length;s+=2)i.add(new paper.Point(t[s],t[s+1]));i.simplify(e);var h=[{type:6},{type:8,all:0}];return h=h.concat(a.A.oV(i))},a.A.FH={},a.A.FH.eO=function(t,e,i){var n=[{type:6},{type:8,all:0}],r=null;if(n.push({type:i?3:0,AY:1,length:0,ev:0,Nb:0,Fz:1}),0==e);else if(e instanceof Array)r=e;else{r=[];for(var s=0;s<t.length;s+=2)r.push(e)}return(n=n.concat(a.A.AG(t,r,i)))[2].length=n.length-3,n},a.A.FH.tD$=function(t,e,i,n,r){var s=[],h=[],o=.553,l=1,u=-1;s.push({type:1,kM:new f(0,o),P:new f(0,0),kq:new f(0,-o)}),r+=2;for(var p=0;p<r;p++){var v={type:1};if(0==p)v.P=new f(1,-1),v.kM=new f(1-o,-1),v.kq=new f(1+o,-1);else{var d=-(p+2)*Math.PI/2,y=1+(1==(1&p)?p-1:p),g=Math.sin(d),m=Math.cos(d);l+=y*(g-m),u+=y*(m+g),v.P=new f(l,u),v.kM=new f(l+y*m*o,u-y*g*o),1==(1&p)&&(y+=2),v.kq=new f(l-y*m*o,u+y*g*o)}var w={type:1,kM:new f(-v.kq.x,-v.kq.y),P:new f(-v.P.x,-v.P.y),kq:new f(-v.kM.x,-v.kM.y)};s.push(v),p<r-2&&h.push(w)}h.reverse(),s=s.concat(h);var b=[{type:6},{type:8,all:0}];b.push({type:0,AY:1,length:s.length,ev:0,Nb:0,Fz:1}),b=b.concat(s);var x=new c(i/r,0,0,i/r,0,0);return x.rotate(n),x.translate(t,e),a.A.Nj(b,x),b},a.A.FH.Rect=function(t,e,i,n,r){var s=[t,e,t+i,e,t+i,e+n,t,e+n];return a.A.FH.eO(s,r)},a.A.FH.tcv=function(t,e,i,n,r,s){for(var h=[],o=2*Math.PI/r,l=0;l<r;l++)h.push(Math.cos(l*o),Math.sin(l*o));var u=new c(i,0,0,i,0,0);return u.rotate(n),u.translate(t,e),a.K.UC(h,u,h),a.A.FH.eO(h,s)},a.A.FH.tLI=function(t,e,i,n,r,s,h){for(var o=[],l=Math.PI/r,u=0;u<2*r;u++){var f=0==(1&u)?1:h;o.push(f*Math.cos(u*l),f*Math.sin(u*l))}var p=new c(i,0,0,i,0,0);return p.rotate(n),p.translate(t,e),a.K.UC(o,p,o),a.A.FH.eO(o,s)},a.A.FH.tu=function(t,e,i,n,r){var s=Math.sqrt((i-t)*(i-t)+(n-e)*(n-e)),h=[-(r/=2),0,r,0,r,s,-r,s],o=new c(1,0,0,1,0,0);return o.rotate(Math.atan2(-n+e,i-t)+Math.PI/2),o.translate(t,e),a.K.UC(h,o,h),a.A.FH.eO(h,0)},a.A.FH.QJ=function(t,e,i,n){var r=[{type:6},{type:8,all:0}],s=.553;r.push({type:0,AY:1,length:4,ev:0,Nb:0,Fz:1});var a=t,h=e,o=t+i,l=e+n,u=(t=(a+o)/2,e=(h+l)/2,(a-o)/2),c=(h-l)/2;return r.push({type:1,kM:new f(t-s*u,e-c),P:new f(t,e-c),kq:new f(t+s*u,e-c)}),r.push({type:1,kM:new f(t+u,e-s*c),P:new f(t+u,e),kq:new f(t+u,e+s*c)}),r.push({type:1,kM:new f(t+s*u,e+c),P:new f(t,e+c),kq:new f(t-s*u,e+c)}),r.push({type:1,kM:new f(t-u,e+s*c),P:new f(t-u,e),kq:new f(t-u,e-s*c)}),r},a.A.FH.tGW=function(t,e,i,n,r){var s=[{type:6},{type:8,all:0}];s.push({type:3,AY:1,length:5,ev:0,Nb:0,Fz:1});var h=Math.min(n,r),o=(Math.max(n,r)-h)/4,l=Math.cos(o/2),u=Math.sin(o/2),p=(4-l)/3,v=(1-l)*(3-l)/(3*u),d=p,y=-v,g=l,m=-u,w=new f(l,u),b=new f(p,v),x=new f(d,y),M=new f(g,m),S=new c;S.rotate(o),s.push({type:4,kM:w.clone(),P:w.clone(),kq:b.clone()}),s.push({type:4,kM:x.clone(),P:M.clone(),kq:M.clone()});for(var A=0;A<3;A++)w=S.Sk(w),b=S.Sk(b),x=S.Sk(x),M=S.Sk(M),s[s.length-1].kq=b,s.push({type:4,kM:x.clone(),P:M.clone(),kq:M.clone()});return S.rotate(-Math.PI/2-o/2),S.concat(new c(i,0,0,i,t,e)),a.A.Nj(s,S),s},a.UB={},a.UB.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]},a.UB.vn=function(t){var e=t.warpStyle.v.warpStyle;if("warpNone"==e)return!0;if("warpCustom"==e){for(var i=!1,n=t.customEnvelopeWarp.v.meshPoints.v.arr,r=n[0].arr,s=n[1].arr,a=0;a<4;a++)for(var h=0;h<4;h++)(Math.abs(r[a]-r[4*h+a])>1||Math.abs(s[4*a]-s[4*a+h])>1)&&(i=!0);return!i}return 0==t.warpValue.v&&0==t.warpPerspective.v&&0==t.warpPerspectiveOther.v},a.UB.I=function(t){var e={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};return t&&(e.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:t.y}},Left:{t:"UntF",v:{type:"#Pxl",val:t.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:t.y+t.z}},Rght:{t:"UntF",v:{type:"#Pxl",val:t.x+t.$}}}},e.uOrder={t:"long",v:4},e.vOrder={t:"long",v:4}),e},a.UB.tC$=function(t,e,i,n){for(var r=0;r<t.length;r+=2){var s=t[r],a=t[r+1],h=(s-e.x)/e.$,o=(a-e.y)/e.z,l=(1-i)/2,u=(1-n)/2;h=.5+(h-.5)*(u+(o=.5+(o-.5)*(l+h*(1-l-l))*2)*(1-u-u))*2,s=e.x+h*e.$,a=e.y+o*e.z,t[r]=s,t[r+1]=a}},a.UB.P$=function(t,e){for(var i=[],n=[],r=0;r<t.length;r+=2)i.push(t[r]),n.push(t[r+1]);var s=[];s.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:i}),s.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:n}),e.warpStyle.v.warpStyle="warpCustom",e.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:s}}}}},a.UB.cq=function(t,e){if(null==e){var i=t.bounds.v,n=i.Left.v.val,r=i.Rght.v.val,s=i.Top.v.val;e=new L(n,s,r-n,i.Btom.v.val-s)}e.km()&&(e.$=e.z=1);var h=[],o=t.warpStyle.v.warpStyle;if("warpCustom"==o)for(var l=t.customEnvelopeWarp.v.meshPoints.v.arr,u=l[0].arr,f=l[1].arr,c=0;c<16;c++)h.push(u[c],f[c]);else h=a.UB.UB(e,o,"Hrzn"==t.warpRotate.v.Ornt,t.warpValue.v/100,t.warpPerspective.v/100,t.warpPerspectiveOther.v/100);return h},a.UB.UB=function(t,e,i,n,r,s){var h=a.nH.I(t.x,t.y,t.$,t.z);if("warpNone"==e)return h;var o=JSON.parse(JSON.stringify(t)),l=new c;(i||(l.translate(-t.x,-t.y),l.rotate(-Math.PI/2),l.translate(t.z,0),a.K.UC(h,l,h),t=new L(0,0,t.z,t.$),h=a.nH.LB(h,!1)),a.UB.tPQ(h,t,e,n,r,s),i||(h=a.nH.LB(h,!0),t=o,l.UK(),a.K.UC(h,l,h)),0==n)?a.UB.tC$(h,t,r,s):((l=new c(1/t.$,0,0,1/t.z,-t.x,-t.y)).translate(-.5,-.5),a.K.UC(h,l,h),a.UB.tRi(h,s,r),l.UK(),a.K.UC(h,l,h));return h},a.UB.tPQ=function(t,e,i,n,r,s){for(var h=0;h<4;h++)for(var o=0;o<4;o++){var l=2*(4*h+o),u=t[l]-e.x,f=t[l+1]-e.y,c=u,p=f;if(0!=n){var v=e.$/2,d=e.z/2;p-=d;var y=c-=v,g=c,m=-d,w=d,b=Math.abs(n),x=Math.tan((1-b)*Math.PI/2),M=Math.sqrt(x*x+1),S=Math.atan2(1,x),A=c/v*S,k=v*M,C=v*M+e.z,T=Math.cos(S),U=Math.sin(S),_=a.UB.tRZ(T,U),F=a.UB.tVf(T,U),O=-x*v+_*k;if("warpArc"==i&&(y=Math.sin(A)*C,m=x*v-Math.cos(S)*C+d,g=Math.sin(A)*k,w=x*v-Math.cos(S)*k+d,1!=o&&2!=o||(y=1==o?-F*C:F*C,g=1==o?-F*k:F*k,m=x*v+d-_*C,w=x*v+d-_*k),n<0)){var L=y;y=g,g=L,L=m,m=-w,w=-L}"warpArcLower"==i&&(1!=o&&2!=o||(g=1==o?-F*k:F*k,w=n<0?d-O:d+O)),"warpArcUpper"!=i&&"warpArch"!=i&&"warpBulge"!=i||(1!=o&&2!=o||(y=1==o?-F*k:F*k,m=n<0?-d+O:-d-O),"warpArch"==i&&(g=y,w=m+2*d),"warpBulge"==i&&(g=y,w=-m)),"warpFish"!=i&&"warpFlag"!=i&&"warpWave"!=i||(1==o&&(m-=4*n*d,w+=4*n*d),2==o&&(m+=4*n*d,w-=4*n*d),"warpFlag"!=i&&"warpWave"!=i||(m=w-2*d)),"warpRise"==i&&(o<2&&(m=n*d*4-d),w=m+2*d);var D=(p+d)/e.z;if(c=y+D*(g-y),p=m+D*(w-m),"warpWave"==i&&(0==h&&(p=-d),3==h&&(p=d),1!=h&&2!=h||(p=2*d*(h/3-.5)*(1/3)+p*(2/3))),"warpFisheye"==i&&(1!=h&&2!=h||1!=o&&2!=o||(c+=4*c*n,p+=4*p*n)),"warpInflate"==i){var N=2/3;1!=h&&2!=h||1!=o&&2!=o?1==h||2==h?c+=N*c*n:1!=o&&2!=o||(p+=N*p*n):(c+=.5*c*n,p+=.5*p*n)}if("warpSqueeze"==i){N=2/3;1!=h&&2!=h||1!=o&&2!=o?1==h||2==h?c-=N*c*n:1!=o&&2!=o||(p+=N*p*n):n>0?c-=N*c*n:p+=N*p*n}if("warpTwist"==i&&!(1!=h&&2!=h||1!=o&&2!=o)){var I=n*Math.PI/2,E=(M=1+2*Math.abs(n),c*Math.cos(I)-p*Math.sin(I)),P=c*Math.sin(I)+p*Math.cos(I);c=E*M,p=P*M}if("warpShellLower"==i||"warpShellUpper"==i){if("warpShellUpper"==i&&(h=3-h,p=-p),h>2||2==h&&(0==o||3==o))if(n>0){var J=k+h/3*2*d;c=Math.sin(A)*J,p=-x*v-d+Math.cos(A)*J,1!=o&&2!=o||(c=1==o?-F*J:F*J,p=-x*v-d+_*J)}else 1!=o&&2!=o||3!=h?2==h&&(p=d-d*(2/3)*Math.cos(A),c+=d*(2/3)*Math.sin(A)):(c=1==o?-F*k:F*k,p=x*v-_*k+d);"warpShellUpper"==i&&(h=3-h,p=-p)}c+=v,p+=d}u=c,f=p,t[l]=u+e.x,t[l+1]=f+e.y}},a.UB.tRi=function(t,e,i){for(var n=[],r=0;r<4;r++)n.push(1-i+r/3*2*i);var s=[];for(r=0;r<4;r++)s.push(1-e+r/3*2*e);for(var h=[0,0,0,0],o=[0,0,0,0],l=0;l<4;l++)for(r=0;r<4;r++){var u=t[E=2*(4*l+r)],f=t[E+1];h[r]+=u/4,o[r]+=f/4}for(l=0;l<4;l++)for(r=0;r<4;r++){var c=n[r],p=(u=t[E=2*(4*l+r)],f=t[E+1],h[r]),v=o[r];t[E]=p+c*(u-p),t[E+1]=v+c*(f-v)}var d=t.slice(0);for(l=0;l<4;l++)for(r=1;r<3;r++){u=t[E=2*(4*l+r)],f=t[E+1];var y=t[I=E+(1==r?-2:2)],g=t[I+1];t[E]=u-y,t[E+1]=f-g}var m=t[0],w=t[1],b=t[8],x=t[9],M=t[16],S=t[17],A=t[24],k=t[25],C=t[6]-m,T=t[7]-w,U=(t[14],t[15],t[22],t[23],t[30]-A),_=t[31]-k;for(l=0;l<4;l++){var F=2*l*4,O=0,L=0,D=1==l?.33:.66,N=1-D;0==l&&(O=C,L=T),1==l&&(O=N*C+D*-U,L=N*T+D*-_),2==l&&(O=N*C+D*-U,L=N*T+D*-_),3==l&&(O=-U,L=-_),t[F]=t[F]+O/2,t[F+1]=t[F+1]+L/2,t[F+6]=t[F+6]-O/2,t[F+7]=t[F+7]-L/2}for(l=0;l<4;l++)for(r=1;r<3;r++){var I;u=t[E=2*(4*l+r)],f=t[E+1],y=t[I=E+(1==r?-2:2)],g=t[I+1],c=2*l/3;t[E]=y+c*u,t[E+1]=g+c*f}for(l=1;l<3;l++)for(r=1;r<3;r++){u=t[E=2*(4*l+r)],f=t[E+1];var E,P=1==l?-8:-16,J=1==l?16:8,B=t[E+P],X=t[E+P+1];u=(1-(c=l/3))*B+c*t[E+J],f=(1-c)*X+c*t[E+J+1],t[E]=u,t[E+1]=f}a.K.iv(d,t,t,e)},a.UB.tRZ=function(t,e){return 1/3*(4-t)},a.UB.tVf=function(t,e){return(1-t)*(3-t)/(3*e)},a.raw={},a.raw.normalize=function(t){if(null==t.t50706&&(t.t50706=[1,2,0,0],t.t50717=[(1<<t.t258[0])-1],t.t50721=[1.31197,-.49679,.01156,-.41723,1.44237,.04528,.06723,.2171,.72651],t.t50723=[1,0,0,0,1,0,0,0,1],t.t50728=[.5,1,.5],t.t50778=[17],t.NT&&t.NT.t37500))new Uint8Array(t.NT.t37500.slice(10))},a.raw.tJR=function(t){var e=t.width,i=t.height,n=new Float32Array(e*i),r=0,s=0,h=0;a.raw.tJI(t,n),a.raw.o$(2,t,n,e,i);var o=e,l=i;if(t.t50829){var u=t.t50829;r=u[1],s=u[0],o=u[3],l=u[2]}if(t.t50719){var f=t.t50719;r+=f[0]>>1<<1,s+=f[1]>>1<<1}if(t.t50720){var c=t.t50720;o=r+c[0],l=s+c[1]}var p=o-r,v=l-s,d=new Float32Array(p*v*3);if(1!=t.t277[0])throw"More than 1 sample per pixel!";var y=t.t33421;t.t33421;if(2!=y.length||2!=y[0]||2!=y[1])throw"Unknown CFA pattern size";var g=t.t33422.join(",");if("0,1,1,2"==g)h=0;else if("1,0,2,1"==g)h=1;else if("2,1,1,0"==g)h=2;else{if("1,2,0,1"!=g)throw"Unknown CFA pattern";h=3}for(var m=0;m<v;m+=2)for(var w=0;w<p;w+=2){var b=n[(D=(m+s)*e+w+r)-1],x=n[D],M=n[D+1],S=n[(D+=e)-1],A=n[D],k=n[D+1],C=3*(m*p+w);0==h?(d[C]=x,d[C+1]=b,d[C+2]=S,d[C+3]=x,d[C+4]=M,d[C+5]=k,d[C+=3*p]=x,d[C+1]=A,d[C+2]=S,d[C+3]=x,d[C+4]=A,d[C+5]=k):1==h?(d[C]=b,d[C+1]=x,d[C+2]=A,d[C+3]=M,d[C+4]=x,d[C+5]=A,d[C+=3*p]=b,d[C+1]=S,d[C+2]=A,d[C+3]=M,d[C+4]=k,d[C+5]=A):2==h?(d[C]=S,d[C+1]=b,d[C+2]=x,d[C+3]=k,d[C+4]=M,d[C+5]=x,d[C+=3*p]=S,d[C+1]=A,d[C+2]=x,d[C+3]=k,d[C+4]=A,d[C+5]=x):3==h&&(d[C]=A,d[C+1]=x,d[C+2]=b,d[C+3]=A,d[C+4]=k,d[C+5]=M,d[C+=3*p]=A,d[C+1]=S,d[C+2]=b,d[C+3]=A,d[C+4]=k,d[C+5]=M)}a.raw.o$(3,t,d,p,v);var T=t.tCC,U=p,_=v;if(1==T);else{if(6==T)U=v,_=p;else{if(8!=T)throw"unknown orientation "+T;U=v,_=p}var F=d.slice(0);for(m=0;m<_;m++)for(w=0;w<U;w++){var O=w,L=m;6==T&&(L=v-1-w,O=m),8==T&&(O=p-1-m,L=w);var D=3*(L*p+O);d[C=3*(m*U+w)]=F[D],d[C+1]=F[D+1],d[C+2]=F[D+2]}}return{nn:d,gW:U,gi:_}},a.raw.PJ=function(t,e,i,n){var r,s,h,l,u,f,c=t.nn,p=Math.round(c.length/3),v=o.tyd(n[0],n[1]),d=a.raw.tHz(i,v),y=a.Iw.multiply(a.Iw.pR,d),g=Math.pow(2,n[2]+(i.t50730?i.t50730[0]:0));y=a.Iw.multiply(y,a.Iw.UH(g,g,g));for(var m=tt.yz("brit",[n[3],n[4],!1]),w=i.t50728,b=[w[1]/w[0],w[2]/w[0],w[0]/w[1],w[2]/w[1],w[0]/w[2],w[1]/w[2]],x=new Float64Array(1e3),M=0;M<1e3;M++)x[M]=a.hU(M*(1/999));x[999]=1;for(Date.now(),M=0;M<p;M++){var S=M<<2,A=S-M;if(r=c[A],s=c[A+1],h=c[A+2],1==r||1==s||1==h){var k=Math.min(r,Math.min(s,h));k==r?(s=Math.max(s,b[0]*r),h=Math.max(h,b[1]*r)):k==s?(r=Math.max(r,b[2]*s),h=Math.max(h,b[3]*s)):(r=Math.max(r,b[4]*h),s=Math.max(s,b[5]*h))}(l=y[0]*r+y[1]*s+y[2]*h)<0?l=0:l>1&&(l=1),(u=y[4]*r+y[5]*s+y[6]*h)<0?u=0:u>1&&(u=1),(f=y[8]*r+y[9]*s+y[10]*h)<0?f=0:f>1&&(f=1),l=x[~~(999*l)],u=x[~~(999*u)],f=x[~~(999*f)],e[S]=m.oB[~~(1023*l)],e[S+1]=m.oF[~~(1023*u)],e[S+2]=m.UY[~~(1023*f)]}},a.raw.tJI=function(t,e){var i=t.width,n=t.height,r=new Uint16Array(e.length),s=null,h=0,o=0,l=0;if(a.raw.trj(t,r),a.raw.o$(1,t,r,i,n),t.t50712&&(s=t.t50712)[h=s.length-1]>65535)throw"too big values";var u=t.t50713,f=t.t50714,c=t.t50715,p=t.t50716;null==f&&(f=[0,0,0,0]),null!=u&&u[0]+u[1]==4||(f=[f[0],f[0],f[0],f[0]]);var v=i,d=n;if(t.t50829){var y=t.t50829;o=y[1],l=y[0],v=y[3],d=y[2]}c=new Float32Array(c||i),p=new Float32Array(p||n);var g=t.t50717[0];s&&(g=Math.min(g,s[h]));f[0],t.data,e.length;for(var m=l;m<d;m++)for(var w=o;w<v;w++){var b=m*i+w,x=r[b];null!=s&&(x>h&&(x=h),x=s[x]);var M=f[0]+c[w-o]+p[m-l];e[b]=Math.max(0,Math.min(1,(x-M)/(g-M)))}},a.raw.trj=function(t,e){var i=e.length,n=t.data,r=t.t258[0];if(16!=r&&14!=r&&12!=r&&10!=r&&8!=r)throw"Unsupported Bits Per Sample:"+r;for(var s=0;s<i;s+=2){var a=0,h=0,o=0;if(16==r)h=n[(a=s<<1)+1]<<8|n[a],o=n[a+3]<<8|n[a+2];else if(14==r){var l=n[f=(u=14*s)>>>3]<<24|n[f+1]<<16|n[f+2]<<8|n[f+3];0==(7&u)?(h=l>>>18,o=l>>>4&16383):(h=l>>>14&16383,o=16383&l)}else if(12==r)h=n[a=s+(s>>>1)]<<4|n[a+1]>>4,o=(15&n[a+1])<<8|n[a+2];else if(10==r){var u,f=(u=10*s)>>>3;0==(7&u)?(h=1023&(n[f]<<2|n[f+1]>>6),o=1023&(n[f+1]<<4|n[f+2]>>4)):(h=1023&(n[f]<<6|n[f+1]>>2),o=1023&(n[f+1]<<8|n[f+2]>>0))}else 8==r&&(h=n[a=s],o=n[a+1]);e[s]=h,e[s+1]=o}},a.raw.o$=function(t,e,i,n,r){var s=e["t"+[51008,51009,51022][t-1]],a=0;if(null!=s){var h=n*r,o=O.j,l=O.FD,u=new Uint8Array(s),f=O.j(u,a);a+=4;for(var c=0;c<f;c++){var p=o(u,a),v=(o(u,a+=4),o(u,a+=4),o(u,a+=4));if(a+=4,1==p&&3==t){var d=o(u,Z=a),y=l(u,Z+=4),g=l(u,Z+=8),m=l(u,Z+=8),w=l(u,Z+=8),b=l(u,Z+=8),x=l(u,Z+=8);Z+=8;var M=l(u,Z+=8*(d-1)*6),S=l(u,Z+=8);Z+=8;for(var A=M*n,k=S*r,C=Math.max(A,n-A),T=Math.max(k,r-k),U=1/(V=Math.sqrt(C*C+T*T)),_=i.slice(0),F=0;F<r;F++)for(var L=0;L<n;L++){var D=y+g*(H=(R=(L+.5-A)*U)*R+(q=(F+.5-k)*U)*q)+m*H*H+w*H*H*H,N=b*(2*R*q)+x*(H+2*R*R),I=x*(2*R*q)+b*(H+2*q*q),E=Math.floor(A+V*(D*R+N)),P=3*(Math.floor(k+V*(D*q+I))*n+E);i[dt=3*(F*n+L)]=_[P],i[dt+1]=_[P+1],i[dt+2]=_[P+2]}}else if(3==p&&3==t){var J=l(u,Z=a),B=l(u,Z+=8),X=l(u,Z+=8),z=l(u,Z+=8),$=l(u,Z+=8);M=l(u,Z+=8),S=l(u,Z+=8);Z+=8;var V;for(A=M*n,k=S*r,C=Math.max(A,n-A),T=Math.max(k,r-k),U=1/(V=Math.sqrt(C*C+T*T)),F=0;F<r;F++)for(L=0;L<n;L++){var R,q,H,j=1+(J+(B+(X+(z+$*(H=(R=(L+.5-A)*U)*R+(q=(F+.5-k)*U)*q))*H)*H)*H)*H;i[dt=3*(F*n+L)]=j*i[dt],i[dt+1]=j*i[dt+1],i[dt+2]=j*i[dt+2]}}else if(4==p&&1==t){var G=o(u,Z=a);o(u,Z+=4);Z+=4;for(var Y=0;Y<h;Y++)i[Y]==G&&(i[Y]=i[Y-2]+i[Y+2]>>1)}else if(5==p&&1==t){o(u,Z=a);var K=o(u,Z+=4);o(u,Z+=4);Z+=4;for(Y=0;Y<K;Y++){var Q=o(u,Z),W=o(u,Z+=4);Z+=4,i[Y=Q*n+W]=i[Y-2]+i[Y+2]>>1}}else if(7==p&&1==t){var Z=a,tt=O.uq(u,Z),et=(o(u,Z+=16),o(u,Z+=4),o(u,Z+=4)),it=o(u,Z+4),nt=o(u,Z+=8);Z+=4;var rt=new Uint16Array(nt);for(Y=0;Y<nt;Y++)rt[Y]=O.NU(u,Z+2*Y);var st=tt.$,at=tt.z;for(F=0;F<at;F+=et)for(L=0;L<st;L+=it){i[Y=(tt.y+F)*n+(tt.x+L)]=rt[i[Y]]}}else if(9==p&&2==t){Z=a,tt=O.uq(u,Z),o(u,Z+=16),o(u,Z+=4),et=o(u,Z+=4),it=o(u,Z+4);var ht=o(u,Z+=8),ot=o(u,Z+4),lt=(l(u,Z+=8),l(u,Z+8),l(u,Z+=16),l(u,Z+8),o(u,Z+=16));if(Z+=4,1!=lt)throw"more than one map plane";for(var ut=ht*ot,ft=new Float32Array(ut),ct=0;ct<ut;ct++)ft[ct]=O.Fg(u,Z+4*ct);var pt=.9999*(ot-1)/(st=tt.$),vt=.9999*(ht-1)/(at=tt.z);for(F=0;F<at;F+=et)for(L=0;L<st;L+=it){Y=(tt.y+F)*n+(tt.x+L);var dt,yt=L*pt,gt=F*vt,mt=Math.floor(yt),wt=Math.floor(gt),bt=yt-mt,xt=gt-wt,Mt=(ft[dt=wt*ot+mt]*(1-bt)+ft[dt+1]*bt)*(1-xt)+(ft[dt+ot]*(1-bt)+ft[dt+1+ot]*bt)*xt;i[Y]=Math.min(1,i[Y]*Mt)}}else console.log("Unknown opcode "+p+" in OpcodeList"+t+". Length: "+v);a+=v}}},a.raw.tHz=function(t,e){var i=o.PX(e),n=a.raw.Pr(t,e),r=a.Iw.UK(n),s=o.tyu(i,o.PX(o.tIS));return a.Iw.multiply(s,r)},a.raw.tHs=function(t){var e=t.t50728.slice(0),i=1;e.push(0);var n={x:.34567,y:.3585};do{var r=a.Iw.UK(a.raw.Pr(t,n)),s=a.Iw.US(r,e),h=o.tyb(s);i=Math.abs(n.x-h.x)+Math.abs(n.y-h.y),n=h}while(i>1e-7);return n},a.raw.Pr=function(t,e){var i=o.Pp(e),n=a.raw.twi,r=t.t50779?t.t50779[0]:0,s=n(t.t50721,t.t50722,t.t50778[0],r,i.No),h=n(t.t50723,t.t50724,t.t50778[0],r,i.No);h=h||[1,0,0,0,1,0,0,0,1];var l=t.t50727?[t.t50727[0],0,0,0,t.t50727[1],0,0,0,t.t50727[2]]:[1,0,0,0,1,0,0,0,1];return a.Iw.multiply(a.Iw.Cg(l),a.Iw.multiply(a.Iw.Cg(h),a.Iw.Cg(s)))},a.raw.twi=function(t,e,i,n,r){if(t||e){if(t&&!e)return t;if(r<i)return t;if(r>n)return e;for(var s=(1/r-1/n)/(1/i-1/n),a=1-s,h=[],o=0;o<9;o++)h[o]=t[o]*s+e[o]*a;return h}return null};var o={tIS:{x:.34567,y:.3585},PC:[{T:0,An:.18006,Dq:.26352,yC:-.24341},{T:10,An:.18066,Dq:.26589,yC:-.25479},{T:20,An:.18133,Dq:.26846,yC:-.26876},{T:30,An:.18208,Dq:.27119,yC:-.28539},{T:40,An:.18293,Dq:.27407,yC:-.3047},{T:50,An:.18388,Dq:.27709,yC:-.32675},{T:60,An:.18494,Dq:.28021,yC:-.35156},{T:70,An:.18611,Dq:.28342,yC:-.37915},{T:80,An:.1874,Dq:.28668,yC:-.40955},{T:90,An:.1888,Dq:.28997,yC:-.44278},{T:100,An:.19032,Dq:.29326,yC:-.47888},{T:125,An:.19462,Dq:.30141,yC:-.58204},{T:150,An:.19962,Dq:.30921,yC:-.70471},{T:175,An:.20525,Dq:.31647,yC:-.84901},{T:200,An:.21142,Dq:.32312,yC:-1.0182},{T:225,An:.21807,Dq:.32909,yC:-1.2168},{T:250,An:.22511,Dq:.33439,yC:-1.4512},{T:275,An:.23247,Dq:.33904,yC:-1.7298},{T:300,An:.2401,Dq:.34308,yC:-2.0637},{T:325,An:.24792,Dq:.34655,yC:-2.4681},{T:350,An:.25591,Dq:.34951,yC:-2.9641},{T:375,An:.264,Dq:.352,yC:-3.5814},{T:400,An:.27218,Dq:.35407,yC:-4.3633},{T:425,An:.28039,Dq:.35577,yC:-5.3762},{T:450,An:.28863,Dq:.35714,yC:-6.7262},{T:475,An:.29685,Dq:.35823,yC:-8.5955},{T:500,An:.30505,Dq:.35907,yC:-11.324},{T:525,An:.3132,Dq:.35968,yC:-15.628},{T:550,An:.32129,Dq:.36011,yC:-23.325},{T:575,An:.32931,Dq:.36038,yC:-40.77},{T:600,An:.33724,Dq:.36051,yC:-116.45}],Pp:function(t){for(var e=o.PC,i=2*t.x/(1.5-t.x+6*t.y),n=3*t.y/(1.5-t.x+6*t.y),r=0,s=0,a=0;a<31&&(r=n-e[a].Dq-e[a].yC*(i-e[a].An),!(a>0&&r<0));a++)s=r;r/=Math.sqrt(1+e[a].yC*e[a].yC);var h=(s/=Math.sqrt(1+e[a-1].yC*e[a-1].yC))/(s-r),l=1e6/((e[a].T-e[a-1].T)*h+e[a-1].T),u=i-((e[a].An-e[a-1].An)*h+e[a-1].An),f=n-((e[a].Dq-e[a-1].Dq)*h+e[a-1].Dq),c=Math.sqrt(1+e[a].yC*e[a].yC),p=1/c,v=e[a].yC/c,d=Math.sqrt(1+e[a-1].yC*e[a-1].yC),y=1/d,g=e[a-1].yC/d,m=(p-y)*h+y,w=(v-g)*h+g,b=Math.sqrt(m*m+w*w);return{No:l,Lv:-3e3*(u*(m/=b)+f*(w/=b))}},tyd:function(t,e){for(var i=o.PC,n=1e6/t,r=1;r<31&&!(n<i[r].T);r++);var s=(i[r].T-n)/(i[r].T-i[r-1].T),a=(i[r-1].An-i[r].An)*s+i[r].An,h=(i[r-1].Dq-i[r].Dq)*s+i[r].Dq,l=Math.sqrt(1+i[r].yC*i[r].yC),u=1/l,f=i[r].yC/l,c=Math.sqrt(1+i[r-1].yC*i[r-1].yC),p=(1/c-u)*s+u,v=(i[r-1].yC/c-f)*s+f,d=Math.sqrt(p*p+v*v);return{x:1.5*(a+=(p/=d)*e/-3e3)/(a-4*(h+=(v/=d)*e/-3e3)+2),y:h/(a-4*h+2)}},tyb:function(t){var e=t[0]+t[1]+t[2];return{x:t[0]/e,y:t[1]/e}},PX:function(t){return{x:t.x/t.y,y:1,Xh:(1-t.x-t.y)/t.y}},tyu:function(t,e){var i=a.Iw.Cg([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),n=[t.x,t.y,t.Xh,0],r=[e.x,e.y,e.Xh,0];n=a.Iw.US(i,n);var s=(r=a.Iw.US(i,r))[0]/n[0],h=r[1]/n[1],o=r[2]/n[2],l=a.Iw.Cg([s,0,0,0,h,0,0,0,o]),u=a.Iw.UK(i);return a.Iw.multiply(a.Iw.multiply(u,l),i)}};a.H_={},a.H_.H_=function(t,e,i){var n=t.$,r=t.z,s=1/n,h=n*r,o=(Date.now(),!1);Date.now();var l=a.H_.Pl(i,n,r,255),u=a.H_.Pl(i,n,r,0),f=function(t,i){var n=t<<2,r=i<<2;return e[n]+e[n+1]+e[n+2]-(e[r]+e[r+1]+e[r+2])};l.sort(f),u.sort(f);var c=a.I(h),p=a.I(h),v=[],d=new Uint32Array(n*r);a.Mw(d,4294967295);for(var y=0;y<h;y++)0==i[y]?p[y]=255:255==i[y]?c[y]=255:(d[y]=v.length,v.push(y));Date.now();var g=a.style.ij(c,n,r),m=a.style.ij(p,n,r),w=new Float32Array(v.length),b=new Float32Array(v.length),x=new Uint32Array(v.length),M=new Uint32Array(v.length),S=new Float32Array(v.length);Date.now();for(y=0;y<v.length;y++){var A=(I=v[y])-(E=~~(I*s))*n,k=g[I<<1],C=g[1+(I<<1)];w[y]=1/Math.sqrt(k*k+C*C);var T=m[I<<1],U=m[1+(I<<1)];b[y]=1/Math.sqrt(T*T+U*U);var _=Math.floor(Math.random()*l.length),F=Math.floor(Math.random()*u.length);x[y]=_,M[y]=F,S[y]=a.H_.SL(I,l[_],u[F],n,s,e,w[y],b[y],1e9)}for(var O=[-n,-1,1,n],D=a.H_.SL,N=0;N<10;N++)for(Math.pow(.5,N),y=0;y<v.length;y++){A=(I=v[y])-(E=~~(I*s))*n;for(var I,E,P=w[y],J=b[y],B=S[y],X=(_=x[y],F=M[y],1),z=0;z<4;z++)if(!(0==z&&0==E||1==z&&0==A||2==z&&A==n-1||3==z&&E==r-1)){var $=d[I+O[z]];if(4294967295!=$){var V=x[$],R=M[$];if(V!=_||R!=F)(G=D(I,l[V],u[R],n,s,e,P,J,B))<B&&(B=G,_=V,F=R)}}for(var q=0;q<1;q++){var H=~~(l.length*X),j=~~(u.length*X);X*=.5;var G,Y=Math.max(0,_-H),K=Math.min(_+H,l.length-1),Q=Math.max(0,F-j),W=Math.min(F+j,u.length-1),Z=Y+~~(Math.random()*(K-Y)),tt=Q+~~(Math.random()*(W-Q));(G=D(I,l[Z],u[tt],n,s,e,P,J,B))<B&&(B=G,_=Z,F=tt)}S[y]=B,x[y]=_,M[y]=F}Date.now();var et=i.slice(0);for(y=0;y<v.length;y++)et[v[y]]=~~(.5+255*a.H_.alpha(v[y],l[x[y]],u[M[y]],e));et=a.Mr.tca(et,e,new L(0,0,n,r),16,1e-4),Date.now();for(y=0;y<h;y++)255!=i[y]&&0!=i[y]||(et[y]=i[y]);var it=e.slice(0);for(y=0;y<v.length;y++){var nt=v[y],rt=(_=l[x[y]],B=S[y],nt<<2),st=(et[nt]>=250?nt:_)<<2;it[rt]=e[st],it[rt+1]=e[st+1],it[rt+2]=e[st+2]}return a.kw(et,it,3),Date.now(),it},a.H_.SL=function(t,e,i,n,r,s,a,h,o){var l=~~(t*r),u=t-l*n,f=~~(e*r),c=e-f*n,p=~~(i*r),v=i-p*n,d=Math.sqrt((u-c)*(u-c)+(l-f)*(l-f))*a,y=Math.sqrt((u-v)*(u-v)+(l-p)*(l-p))*h,g=0;if(d+y>=o)return 1e9;var m=t<<2,w=e<<2,b=i<<2,x=s[m],M=s[m+1],S=s[m+2],A=s[w],k=s[w+1],C=s[w+2],T=s[b],U=s[b+1],_=s[b+2];if(A!=T||k!=U||C!=_){var F=A-T,O=k-U,L=C-_,D=((x-T)*F+(M-U)*O+(S-_)*L)/(F*F+O*O+L*L),N=x-((D=Math.max(0,Math.min(1,D)))*A+(1-D)*T),I=M-(D*k+(1-D)*U),E=S-(D*C+(1-D)*_);g=Math.sqrt(N*N+I*I+E*E)}return g+d+y},a.H_.alpha=function(t,e,i,n){var r=t<<2,s=e<<2,a=i<<2,h=n[r],o=n[r+1],l=n[r+2],u=n[s],f=n[s+1],c=n[s+2],p=n[a],v=n[a+1],d=n[a+2];if(u==p&&f==v&&c==d)return 1;var y=u-p,g=f-v,m=c-d,w=((h-p)*y+(o-v)*g+(l-d)*m)/(y*y+g*g+m*m);return Math.max(0,Math.min(1,w))},a.H_.tGz=function(t){},a.H_.Pl=function(t,e,i,n){for(var r=[],s=0;s<i;s++)for(var a=0;a<e;a++){var h=s*e+a;t[h]==n&&(0!=s&&t[h-e]!=n&&t[h-e]!=255-n||s>1&&t[h-e-e]!=n&&t[h-e-e]!=255-n||s!=i-1&&t[h+e]!=n&&t[h+e]!=255-n||s<i-2&&t[h+e+e]!=n&&t[h+e+e]!=255-n||0!=a&&t[h-1]!=n&&t[h-1]!=255-n||a>1&&t[h-1-1]!=n&&t[h-1-1]!=255-n||a!=e-1&&t[h+1]!=n&&t[h+1]!=255-n||a<e-2&&t[h+1+1]!=n&&t[h+1+1]!=255-n)&&r.push(h)}return r},a.H_.tGZ=function(t,e,i,n){for(var r=t.slice(0),s=Math.round((i+n)/400),a=0;a<n;a++)for(var h=0;h<i;h++){var o=a*i+h;if(0!=t[o]&&255!=t[o])for(var l=e[o<<2],u=e[1+(o<<2)],f=e[2+(o<<2)],c=Math.max(0,h-s),p=Math.min(h+s+1,i),v=Math.max(0,a-s),d=Math.min(a+s+1,n),y=v;y<d;y++)for(var g=c;g<p;g++){var m=y*i+g;if(0==t[m]||255==t[m]){var w=e[m<<2]-l,b=e[1+(m<<2)]-u,x=e[2+(m<<2)]-f;if(w*w+b*b+x*x<15){r[o]=t[m],y=d;break}}}}return r},a.Mr={},a.Mr.tGN=function(t,e,i,n,r){var s,h=i.$*i.z,o=a.Mr.Pf,l=a.I(4*h);a.Mw(l,4294967295);var u,f,c,p=i;a.kw(t,l,0),s=a.Ef(l,i),p=(s=a.Ef(s.nn,s.rect)).rect,c=n>>>2,console.log(p,c),u=a.I(p.f()),a.rY(s.nn,u,0),a.kw(e,l,0),s=a.Ef(l,i),s=a.Ef(s.nn,s.rect),f=a.I(p.f()),a.rY(s.nn,f,0);var v=a.Mr.ty_(u,f,p,c,r),d=v[0],y=v[1],g=new L(0,0,2*p.$,2*p.z);d=o(d,p,g,!0),d=o(d,g,i,!0),y=o(y,p,g,!0),y=o(y,g,i,!0);for(var m=a.I(h),w=0;w<h;w++)m[w]=Math.max(0,Math.min(255,Math.floor(d[w]*e[w]+255*y[w]+.5)));return m},a.Mr.Pf=function(t,e,i,n){for(var r=i.$,s=i.z,h=e.$,o=e.z,l=(a.Mr.ui,new Float32Array(r*s)),u=0;u<o;u++)for(var f=(u+u)*r,c=0;c<h;c++)l[f]=l[f+1]=l[f+r]=l[f+r+1]=t[u*h+c],f+=2;return l},a.Mr.ui=function(t,e,i,n,r){t-=.499999,e-=.499999;var s=Math.floor(t),a=Math.floor(e),h=a*n+s,o=t-s,l=e-a,u=(1-l)*(1-o),f=(1-l)*o,c=l*(1-o),p=l*o;if(null==i[h]||null==i[h+n+1])throw console.log(t,e,n,r),"e";return u*i[h+0]+f*i[h+1]+c*i[h+n+0]+p*i[h+n+1]},a.Mr.ty_=function(t,e,i,n,r){var s=i.$*i.z,h=a.Mr.Pj,o=a.Mr.I,l=a.blur.Wf,u=a.Mr.oi,f=(e=h(e),t=h(t),o(s));l(e,f,i,n);var c=o(s);l(t,c,i,n);var p=o(s);u(e,e,p),l(p,p,i,n);var v=o(s);u(e,t,v),l(v,v,i,n);for(var d=o(s),y=o(s),g=0;g<s;g++){var m=f[g],w=c[g],b=p[g]-m*m,x=(v[g]-m*w)/(b+r),M=w-x*m;d[g]=x,y[g]=M}var S=o(s);l(d,S,i,n);var A=o(s);return l(y,A,i,n),[S,A]},a.Mr.tca=function(t,e,i,n,r){var s,h,o,l,u=i.$,f=i.z,c=u*f,p=(a.Mr.Pf,Date.now(),!1);s=new L(0,0,u>>>2,f>>>2),l=n>>>2,h=a.Mr.tLV(t,u,f),o=a.Mr.tLJ(e,u,f),Date.now();var v=a.Mr.tLy(h,o,s,l,r),d=v[0],y=v[1],g=v[2],m=v[3];Date.now();for(var w=a.I(c),b=0;b<f;b++)for(var x=0;x<u;x++){var M=b*u+x,S=(b>>>2)*(u>>>2)+(x>>>2),A=M<<2,k=d[S]*e[A]+y[S]*e[A+1]+g[S]*e[A+2]+255*m[S];w[M]=Math.max(0,Math.min(255,~~(.5+k)))}return Date.now(),w},a.Mr.tLV=function(t,e,i){for(var n=e>>>2,r=i>>>2,s=a.I(e*i),h=0;h<r;h++)for(var o=0;o<n;o++)s[h*n+o]=t[h*e+o<<2];return s},a.Mr.tLJ=function(t,e,i){for(var n=e>>>2,r=i>>>2,s=a.I(e*i*4),h=0;h<r;h++)for(var o=0;o<n;o++){var l=h*n+o<<2,u=h*e+o<<4;s[l]=t[u],s[l+1]=t[u+1],s[l+2]=t[u+2],s[l+3]=t[u+3]}return s},a.Mr.tLy=function(t,e,i,n,r){var s=i.$,h=i.z,o=s*h,l=a.Mr.Pj,u=a.Mr.I,f=a.blur.Wf,c=a.Mr.oi,p=(t=l(t),new a.wf(s*h));a.GQ(e,p);e=[l(p.T),l(p.q),l(p.H)];var v=a.Mr.tLf(t,e,i,n,r),d=u(o);f(t,d,i,n);var y=u(o);c(e[0],t,y),f(y,y,i,n);var g=u(o);c(e[1],t,g),f(g,g,i,n);var m=u(o);c(e[2],t,m),f(m,m,i,n);for(var w=u(o),b=u(o),x=u(o),M=u(o),S=0;S<o;S++){var A=d[S],k=v.NX[S],C=v.NQ[S],T=v.FE[S],U=y[S]-k*A,_=g[S]-C*A,F=m[S]-T*A;w[S]=v.mQ[S]*U+v.FO[S]*_+v.mw[S]*F,b[S]=v.FO[S]*U+v.mO[S]*_+v.md[S]*F,x[S]=v.mw[S]*U+v.md[S]*_+v.mn[S]*F,M[S]=A-w[S]*k-b[S]*C-x[S]*T}return f(w,w,i,n),f(b,b,i,n),f(x,x,i,n),f(M,M,i,n),[w,b,x,M]},a.Mr.tLf=function(t,e,i,n,r){var s=i.$*i.z,h=a.Mr.I,o=a.blur.Wf,l=a.Mr.oi,u={};u.NX=h(s),o(e[0],u.NX,i,n),u.NQ=h(s),o(e[1],u.NQ,i,n),u.FE=h(s),o(e[2],u.FE,i,n);var f=h(s);l(e[0],e[0],f),o(f,f,i,n);var c=h(s);l(e[0],e[1],c),o(c,c,i,n);var p=h(s);l(e[0],e[2],p),o(p,p,i,n);var v=h(s);l(e[1],e[1],v),o(v,v,i,n);var d=h(s);l(e[1],e[2],d),o(d,d,i,n);var y=h(s);l(e[2],e[2],y),o(y,y,i,n),u.mQ=f,u.FO=c,u.mw=p,u.mO=v,u.md=d,u.mn=y;for(var g=0;g<s;g++){var m=u.NX[g],w=u.NQ[g],b=u.FE[g],x=f[g]-m*m+r,M=c[g]-m*w,S=p[g]-m*b,A=v[g]-w*w+r,k=d[g]-w*b,C=y[g]-b*b+r,T=A*C-k*k,U=k*S-M*C,_=M*k-A*S,F=x*C-S*S,O=S*M-x*k,L=x*A-M*M,D=1/(T*x+U*M+_*S);u.mQ[g]=T*D,u.FO[g]=U*D,u.mw[g]=_*D,u.mO[g]=F*D,u.md[g]=O*D,u.mn[g]=L*D}return u},a.Mr.I=function(t){return new Float32Array(t)},a.Mr.Pj=function(t){for(var e=t.length,i=new Float32Array(e),n=0;n<e;n++)i[n]=t[n]*(1/255);return i},a.Mr.oi=function(t,e,i){for(var n=0;n<t.length;n++)i[n]=t[n]*e[n]},a.Bm={},a.Bm.tLZ=function(t,e,i,n,r){for(var s=a.Bm.PK(t.buffer,e,i).$e,h=(Date.now(),new Uint32Array(s.length)),o=0;o<s.length;o++)h[o]=s[o].lA;for(var l=UPNG.quantize.getKDtree(new Uint8Array(h.buffer),n),u=[e,1,-e,-1,e+1,1-e,-e-1,e-1,e+e,2,-e-e,-2,e+e-1,e+e+1,e+2,2-e,-e-e+1,-e-e-1,-e-2,e-2,e+e+2,-e-e+2-e-e-2,e+e-2],f=new Uint8Array(e*i),c=t,p=0;p<i;p++)for(var v=0;v<e;v++){var d=c[o=p*e+v<<2]*(1/255),y=c[o+1]*(1/255),g=c[o+2]*(1/255),m=c[o+3]*(1/255),w=a.Bm.Ax(l,d,y,g,m,r);if(null==w){for(var b=[],x=0;x<20;){var M=p*e+v+u[x]<<2,S=c[M]*(1/255),A=c[M+1]*(1/255),k=c[M+2]*(1/255),C=c[M+3]*(1/255),T=a.Bm.Ax(l,S,A,k,C,.005);null!=T&&(-1==b.indexOf(T)?(b.push(T),T.NA=1):T.NA++),x++}for(b.sort((function(t,e){return e.NA-t.NA}));0!=b.length&&b[b.length-1].NA<3;)b.pop();if(0==b.length)w=a.Bm.Ax(l,d,y,g,m,100);else if(1==b.length)w=b[0];else if(2==b.length){var U=b[0],_=b[1],F=U.est.q,O=($=_.est.q)[0]-F[0],L=$[1]-F[1],D=$[2]-F[2],N=$[3]-F[3],I=d-F[0],E=y-F[1],P=g-F[2],J=m-F[3],B=O*O+L*L+D*D+N*N;w=I*I+E*E+P*P+J*J-(X=(I*O+E*L+P*D+J*N)/B)*X*B<.5?X<.5?U:_:a.Bm.Ax(l,d,y,g,m,100)}else{U=b[0],_=b[1];var X,z=b[2],$=(F=U.est.q,_.est.q),V=z.est.q,R=F[0]-V[0],q=F[1]-V[1],H=F[2]-V[2],j=F[3]-V[3],G=$[0]-V[0],Y=$[1]-V[1],K=$[2]-V[2],Q=$[3]-V[3],W=V[0]-d,Z=V[1]-y,tt=V[2]-g,et=V[3]-m,it=R*R+q*q+H*H+j*j,nt=R*G+q*Y+H*K+j*Q,rt=W*R+Z*q+tt*H+et*j,st=R*G+q*Y+H*K+j*Q,at=G*G+Y*Y+K*K+Q*Q,ht=W*G+Z*Y+tt*K+et*Q,ot=1/(nt*st-it*at),lt=(ht*it-rt*st)*ot,ut=1-(X=(at*rt-ht*nt)*ot)-lt,ft=Math.max(X,lt,ut);w=ft==X?U:ft==lt?_:z}}f[o>>2]=w.ind}return{gB:f,$e:l[1]}},a.Bm.PK=function(t,e,i){for(var n=[],r={},s=e-1,a=i-1,h=0,o=new Uint32Array(t),l=[-e-1,-e,1-e,-1,1,e-1,e,e+1,e+e,2,-e-e,-2,e+e-1,e+e+1,e+2,2-e,-e-e+1,-e-e-1,-e-2,e-2,e+e+2,-e-e+2-e-e-2,e+e-2],u=1;u<a;u++)for(var f=1;f<s;f++){for(var c=u*e+f,p=o[c],v=!0,d=0;d<8;d++)v=v&&o[c+l[d]]==p;if(v){h++;var y=r[p];null==y?(r[p]=n.length,n.push({lA:p,eo:1})):n[y].eo++}}return{$e:n,tTx:h}},a.Bm.Ax=function(t,e,i,n,r,s){var h=UPNG.quantize.getNearest(t[0],e,i,n,r);return a.Bm.tCo(h,e,i,n,r)<s?h:null},a.Bm.tCo=function(t,e,i,n,r){var s=t.est.q,a=e-s[0],h=i-s[1],o=n-s[2],l=r-s[3];return a*a+h*h+o*o+l*l},a.Bm.tGu=function(t,e,i,n){for(var r=a.Bm.tG$(t,e,i,n),s=r.gB,h=r.$e,o=r.tTO,l=UPNG.quantize.getKDtree(new Uint8Array(o.buffer.slice(0)),200),u=[],f=0;f<h.length;f++){var c=h[f].vc,p=c[0],v=c[1],d=c[2],y=c[3];if(Math.min(p,v,d,y)<0)throw"e";var g=UPNG.quantize.getNearest(l[0],p/255,v/255,d/255,y/255);u.push(l[1].indexOf(g))}for(f=0;f<e*i;f++)s[f]=u[s[f]];return{gB:s,$e:l[1]}},a.Bm.tG$=function(t,e,i,n){for(var r=e*i,s=2*r,h=a.Bm.txa(t,e,i),o=65536,l=new Uint32Array(o),u=0,f=0;f<s;f++)l[h[f]]++;var c=new Uint32Array(o);for(f=0;f<o;f++)c[f]=u,u+=l[f];var p=new Uint32Array(s);for(f=0;f<s;f++){var v=h[f];p[c[v]]=f,c[v]++}var d=new UnionFind(r),y=new Uint16Array(r),g=new Uint32Array(r);for(f=0;f<r;f++)g[f]=1;for(var m=1e5/(10*n),w=0;w<s;w++){var b=p[w],x=h[b];if(65535!=x){var M=(f=b>>1)+(0==(1&b)?1:e),S=d.find(f),A=d.find(M),k=Math.min(y[S]+m/Math.sqrt(g[S]),y[A]+m/Math.sqrt(g[A]));if(S!=A&&x<=k)d.link(f,M),g[_=d.find(f)]=g[S]+g[A],y[_]=x}}var C=[],T={},U=new Uint16Array(r);for(f=0;f<r;f++){var _;null==(O=T[_=d.find(f)])&&(T[_]=O=C.length,C.push({eo:0,vc:[0,0,0,0]})),C[O].eo++;for(M=0;M<4;M++)C[O].vc[M]+=t[(f<<2)+M];U[f]=O}var F=new Uint32Array(C.length);for(f=0;f<C.length;f++){var O=C[f];for(M=0;M<4;M++)O.vc[M]=Math.round(O.vc[M]/O.eo);F[f]=O.vc[3]<<24|O.vc[2]<<16|O.vc[1]<<8|O.vc[0]}return{gB:U,$e:C,tTO:F}},a.Bm.txa=function(t,e,i){for(var n=new Uint16Array(e*i*2),r=0;r<i;r++)for(var s=0;s<e;s++){var h=r*e+s;n[h+h]=s<e-1?a.Bm.Pz(t,h,h+1):65535,n[h+h+1]=r<i-1?a.Bm.Pz(t,h,h+e):65535}return n},a.Bm.Pz=function(t,e,i){var n=e<<2,r=i<<2,s=t[n],a=t[n+1],h=t[n+2],o=t[n+3],l=s-t[r],u=a-t[r+1],f=h-t[r+2],c=o-t[r+3];return l*l+u*u+f*f+c*c>>2};var l=function(){function t(){this.f=0,this.Dj=0,this.hc={},this.MO=[],this.LE=1e5,this.Lp=1e5,this.Li=-1,this.Lo=-1,this.color=0}function e(t){this.pu=t,this.qd=new Array(t),this.lA=new Array(6*t),this.tTV=0,this.sE=new Array(2*t),this.alpha=new Array(t),this.Lb=new Array(t),this.Lz=new Array(t)}return{tTz:function(e,i,n,r){function s(t,e,i,n){return i[n*e+t]}function a(t){for(var i=e.length;t<i&&0==e[t];)t++;return t<i?t:-1}function h(t,n,r){for(var a=2;a<5;a++){for(var h=0,o=1-a;o<=a-1;o++)h+=s(t+o,n+a-1,e,i)==r?1:-1,h+=s(t+a-1,n+o-1,e,i)==r?1:-1,h+=s(t+o-1,n-a,e,i)==r?1:-1,h+=s(t-a,n+o,e,i)==r?1:-1;if(h>0)return 1;if(h<0)return 0}return 0}function o(n,a){var o,l=new t,u=n,f=a,c=0,p=1;for(l.color=e[a*i+n],l.sign=s(n,a,e,i)==l.color?"+":"-";l.MO.push(u,f),u>l.Li&&(l.Li=u),u<l.LE&&(l.LE=u),f>l.Lo&&(l.Lo=f),f<l.Lp&&(l.Lp=f),l.Dj++,u+=c,f+=p,l.f-=u*p,u!=n||f!=a;){var v=s(u+(c+p-1>>1),f+(p-c-1>>1),e,i)==l.color,d=s(u+(c-p-1>>1),f+(p+c-1>>1),e,i)==l.color;d&&!v?"right"==r.TU||"black"==r.TU&&"+"==l.sign||"white"==r.TU&&"-"==l.sign||"majority"==r.TU&&h(u,f,l.color)||"minority"==r.TU&&!h(u,f,l.color)?(o=c,c=-p,p=o):(o=c,c=p,p=-o):d?(o=c,c=-p,p=o):v||(o=c,c=p,p=-o)}return l}for(var u=0,f=[];;){if(-1==(u=a(u)))break;for(var c=Math.floor(u/i),p=o(u-c*i,c),v=0;v<p.MO.length-2;v+=2){var d=p.MO[v],y=p.MO[v+1],g=y*i+d;d==p.MO[v+2]&&y+1==p.MO[v+3]&&0!=e[g]&&l.fill(g,e,i,0)}p.f>r.tPc&&f.push(p)}for(v=0;v<f.length;v++)f[v].parent=-1;for(Date.now(),v=1;v<f.length;v++)for(var m=f[v],w=v-1;w>=0;w--){var b=f[w];if(!(m.LE<b.LE||m.Li>b.Li||m.Lp<b.Lp||m.Lo>b.Lo)&&l.ttc(b.MO,m.MO[0]+.5,m.MO[1]+.5)){m.parent=w;break}}return f},tTA:function(t,i){function n(t,e,i,n,r){this.x=t,this.y=e,this.$u=i,this.Jh=n,this.Jp=r}function r(t,e){return(e+t)%e}function s(t,e,i,n){return t*n-i*e}function a(t,e,i,n){return t*i+e*n}function h(t,e,i){return t<=i?t<=e&&e<i:t<=e||e<i}function o(t,e,i){var n=0;return n+=e*t[0]*e,n+=e*t[1]*i,n+=e*t[2],n+=i*t[3]*e,n+=i*t[4]*i,n+=i*t[5],n+=t[6]*e,n+=t[7]*i,n+=t[8]}function l(t,e,i){return e+t*(i-e)}function u(t,e,i,n){return Math.sign(i-t)*(i-t)- -Math.sign(n-e)*(n-e)}function f(t,e){return Math.sqrt(t*t+e*e)}function c(t,e,i,n,r){var s=1-t;return s*s*s*e+s*s*t*3*i+t*t*s*3*n+t*t*t*r}function p(t,e,i,n,r,a,h,o){var l=s(t,e,h,o),u=s(i,n,h,o),f=l-2*u+s(r,a,h,o),c=-2*l+2*u,p=c*c-4*f*l;if(0==f||p<0)return-1;var v=Math.sqrt(p),d=(-c+v)/(2*f),y=(-c-v)/(2*f);return d>=0&&d<=1?d:y>=0&&y<=1?y:-1}function v(t){var e,i,r;t.Tk=t.MO[0],t.mf=t.MO[1],t.ma=[];var s=t.ma;for(s.push(new n(0,0,0,0,0)),e=0;e<t.Dj;e++)i=t.MO[e<<1]-t.Tk,r=t.MO[1+(e<<1)]-t.mf,s.push(new n(s[e].x+i,s[e].y+r,s[e].$u+i*r,s[e].Jh+i*i,s[e].Jp+r*r))}function d(t){var e,i,n,a,o,l,u,f,c,p,v,d,y,g,m,w,b,x,M=t.Dj,S=t.MO,A=new Array(M),k=new Array(M),C=new Array(4),T=0;for(t.PP=new Array(M),d=M-1;d>=0;d--)S[d<<1]!=S[T<<1]&&S[1+(d<<1)]!=S[1+(T<<1)]&&(T=d+1),k[d]=T;for(d=M-1;d>=0;d--){var U=r(d+1,M)<<1;for(C[0]=C[1]=C[2]=C[3]=0,C[(3+3*(S[U]-S[d<<1])+(S[U+1]-S[1+(d<<1)]))/2]++,e=0,i=0,n=0,a=0,T=k[d],g=d;;){if(v=0,C[(3+3*Math.sign(S[2*T]-S[2*g])+Math.sign(S[2*T+1]-S[2*g+1]))/2]++,C[0]&&C[1]&&C[2]&&C[3]){A[d]=g,v=1;break}if(s(e,i,c=S[2*T]-S[2*d],p=S[2*T+1]-S[2*d+1])<0||s(n,a,c,p)>0)break;if(Math.abs(c)<=1&&Math.abs(p)<=1||(s(e,i,o=c+(p>=0&&(p>0||c<0)?1:-1),l=p+(c<=0&&(c<0||p<0)?1:-1))>=0&&(e=o,i=l),s(n,a,o=c+(p<=0&&(p<0||c<0)?1:-1),l=p+(c>=0&&(c>0||p<0)?1:-1))<=0&&(n=o,a=l)),!h(T=k[g=T],d,g))break}0==v&&(u=Math.sign(S[2*T]-S[2*g]),f=Math.sign(S[2*T+1]-S[2*g+1]),m=s(e,i,c=S[2*g]-S[2*d],p=S[2*g+1]-S[2*d+1]),w=s(e,i,u,f),b=s(n,a,c,p),x=s(n,a,u,f),y=1e7,w<0&&(y=Math.floor(m/-w)),x>0&&(y=Math.min(y,Math.floor(-b/x))),A[d]=r(g+y,M))}for(y=A[M-1],t.PP[M-1]=y,d=M-2;d>=0;d--)h(d+1,A[d],y)&&(y=A[d]),t.PP[d]=y;for(d=M-1;h(r(d+1,M),y,t.PP[d]);d--)t.PP[d]=y}function y(t){function e(t,e,i){var n,r,s,a,h,o,l,u,f,c,p,v=t.Dj,d=t.MO,y=t.ma,g=0;return i>=v&&(i-=v,g=1),0==g?(n=y[i+1].x-y[e].x,r=y[i+1].y-y[e].y,a=y[i+1].Jh-y[e].Jh,s=y[i+1].$u-y[e].$u,h=y[i+1].Jp-y[e].Jp,o=i+1-e):(n=y[i+1].x-y[e].x+y[v].x,r=y[i+1].y-y[e].y+y[v].y,a=y[i+1].Jh-y[e].Jh+y[v].Jh,s=y[i+1].$u-y[e].$u+y[v].$u,h=y[i+1].Jp-y[e].Jp+y[v].Jp,o=i+1-e+v),u=(d[e<<1]+d[i<<1])/2-d[0],f=(d[1+(e<<1)]+d[1+(i<<1)])/2-d[1],p=d[i<<1]-d[e<<1],l=(c=-(d[1+(i<<1)]-d[1+(e<<1)]))*c*((a-2*n*u)/o+u*u)+2*c*p*((s-n*f-r*u)/o+u*f)+p*p*((h-2*r*f)/o+f*f),Math.sqrt(l)}var i,n,s,a,h,o,l,u=t.Dj,f=new Array(u+1),c=new Array(u+1),p=new Array(u),v=new Array(u+1),d=new Array(u+1),y=new Array(u+1);for(i=0;i<u;i++)(l=r(t.PP[r(i-1,u)]-1,u))==i&&(l=r(i+1,u)),p[i]=l<i?u:l;for(n=1,i=0;i<u;i++)for(;n<=p[i];)v[n]=i,n++;for(i=0,n=0;i<u;n++)d[n]=i,i=p[i];for(d[n]=u,i=u,n=s=n;n>0;n--)y[n]=i,i=v[i];for(y[0]=0,f[0]=0,n=1;n<=s;n++)for(i=y[n];i<=d[n];i++){for(o=-1,a=d[n-1];a>=v[i];a--)h=e(t,a,i)+f[a],(o<0||h<o)&&(c[i]=a,o=h);f[i]=o}for(t.om=s,t.mj=new Array(s),i=u,n=s-1;i>0;n--)i=c[i],t.mj[n]=i}function g(t){function i(t,e,i,n,r,s){for(var a,h=t.Dj,o=t.ma,l=0;i>=h;)i-=h,l+=1;for(;e>=h;)e-=h,l-=1;for(;i<0;)i+=h,l-=1;for(;e<0;)e+=h,l+=1;var u=o[i+1].x-o[e].x+l*o[h].x,f=o[i+1].y-o[e].y+l*o[h].y,c=o[i+1].Jh-o[e].Jh+l*o[h].Jh,p=o[i+1].$u-o[e].$u+l*o[h].$u,v=o[i+1].Jp-o[e].Jp+l*o[h].Jp,d=i+1-e+l*h;n[s]=u/d,n[s+1]=f/d;var y=(c-u*u/d)/d,g=(p-u*f/d)/d,m=(v-f*f/d)/d,w=(y+m+Math.sqrt((y-m)*(y-m)+4*g*g))/2;y-=w,m-=w,Math.abs(y)>=Math.abs(m)?0!=(a=Math.sqrt(y*y+g*g))&&(r[s]=-g/a,r[s+1]=y/a):0!=(a=Math.sqrt(m*m+g*g))&&(r[s]=-m/a,r[s+1]=g/a),0==a&&(r[s]=r[s+1]=0)}var n,s,a,h,l,u,f,c,p,v,d,y=t.om,g=t.mj,m=t.Dj,w=t.MO,b=t.Tk,x=t.mf,M=new Array(2*y),S=new Array(2*y),A=new Array(y),k=new Array(3);for(t.hc=new e(y),n=0;n<y;n++)s=g[r(n+1,y)],s=r(s-g[n],m)+g[n],M[n<<1]=0,M[1+(n<<1)]=0,S[n<<1]=0,S[1+(n<<1)]=0,i(t,g[n],s,M,S,n<<1);for(n=0;n<y;n++){A[n]=[0,0,0,0,0,0,0,0,0];var C=1/(D=S[n<<1]*S[n<<1]+S[1+(n<<1)]*S[1+(n<<1)]);if(0!=D)for(k[0]=S[1+(n<<1)],k[1]=-S[n<<1],k[2]=-k[1]*M[1+(n<<1)]-k[0]*M[n<<1],h=0;h<3;h++)A[n][3*h+0]=k[h]*k[0]*C,A[n][3*h+1]=k[h]*k[1]*C,A[n][3*h+2]=k[h]*k[2]*C}var T=[0,0,0,0,0,0,0,0,0];for(n=0;n<y;n++){T[0]=T[1]=T[2]=T[3]=T[4]=T[5]=T[6]=T[7]=T[8]=T[9]=0;var U=w[g[n]<<1]-b,_=w[1+(g[n]<<1)]-x,F=0,O=0;for(s=r(n-1,y),h=0;h<9;h+=3)T[h+0]=A[s][h+0]+A[n][h+0],T[h+1]=A[s][h+1]+A[n][h+1],T[h+2]=A[s][h+2]+A[n][h+2];for(;;){var L=T[0]*T[4]-T[1]*T[3];if(0!=L){F=(-T[2]*T[4]+T[5]*T[0])/L,O=(T[2]*T[3]-T[5]*T[0])/L;break}T[0]>T[4]?(k[0]=-T[1],k[1]=T[0]):T[4]?(k[0]=-T[4],k[1]=T[3]):(k[0]=1,k[1]=0);var D;C=1/(D=k[0]*k[0]+k[1]*k[1]);for(k[2]=-k[1]*_-k[0]*U,h=0;h<3;h++)T[3*h+0]+=k[h]*k[0]*C,T[3*h+1]+=k[h]*k[1]*C,T[3*h+2]+=k[h]*k[2]*C}if(l=Math.abs(F-U),u=Math.abs(O-_),l<=.5&&u<=.5)t.hc.sE[n<<1]=F+b,t.hc.sE[1+(n<<1)]=O+x;else{if(f=o(T,U,_),p=U,v=_,0!=T[0])for(d=0;d<2;d++)O=_-.5+d,F=-(T[1]*O+T[2])/T[0],l=Math.abs(F-U),c=o(T,F,O),l<=.5&&c<f&&(f=c,p=F,v=O);if(0!=T[4])for(d=0;d<2;d++)F=U-.5+d,O=-(T[3]*F+T[5])/T[4],u=Math.abs(O-_),c=o(T,F,O),u<=.5&&c<f&&(f=c,p=F,v=O);for(h=0;h<2;h++)for(a=0;a<2;a++)(c=o(T,F=U-.5+h,O=_-.5+a))<f&&(f=c,p=F,v=O);t.hc.sE[n<<1]=p+b,t.hc.sE[1+(n<<1)]=v+x}}}function m(t){var e,n,a,h,o,f,c=t.hc.pu,p=t.hc;for(e=0;e<c;e++){n=r(e+1,c),a=r(e+2,c);var v=p.sE[e<<1],d=p.sE[1+(e<<1)],y=p.sE[a<<1],g=p.sE[1+(a<<1)],m=p.sE[n<<1],w=p.sE[1+(n<<1)],b=l(.5,y,m),x=l(.5,g,w);0!=(o=u(v,d,y,g))?(h=s(m-v,w-d,y-v,g-d)/o,f=(h=Math.abs(h))>1?1-1/h:0,f*=1/.75):f=4/3,p.Lb[n]=f;var M=3*n<<1;if(f>=i.tPY)p.qd[n]=0,p.lA[M+0]=p.lA[M+1]=0,p.lA[M+2]=m,p.lA[M+3]=w,p.lA[M+4]=b,p.lA[M+5]=x;else{f<.55?f=.55:f>1&&(f=1);var S=.5+.5*f;p.qd[n]=1,p.lA[M]=l(S,v,m),p.lA[M+1]=l(S,d,w),p.lA[M+2]=l(S,y,m),p.lA[M+3]=l(S,g,w),p.lA[M+4]=b,p.lA[M+5]=x}p.alpha[n]=f,p.Lz[n]=.5}p.tPz=1}function w(t){function n(){this.PU=0,this.ml=0,this.mZ=0,this.mk=0,this.me=0,this.yC=0,this._u=0,this.alpha=0}function h(t,e,i,n,h,o,u){var v=t.hc.pu,d=t.hc.lA,y=t.hc.sE;if(e==i)return 1;var g=e,m=r(e+1,v),w=r(g+1,v),b=y[e<<1],x=y[1+(e<<1)],M=y[m<<1],S=y[1+(m<<1)],A=o[w];if(0==A)return 1;var k=f(b-M,x-S);for(g=w;g!=i;g=w){w=r(g+1,v);var C=r(g+2,v),T=y[w<<1],U=y[1+(w<<1)],_=y[C<<1],F=y[1+(C<<1)];if(o[w]!=A)return 1;if(Math.sign(s(M-b,S-x,_-T,F-U))!=A)return 1;if(a(M-b,S-x,_-T,F-U)<k*f(T-_,U-F)*-.999847695156)return 1}var O=3*r(e,v)+2<<1,L=r(e+1,v)<<1,D=r(i,v)<<1,N=3*r(i,v)+2<<1,I=d[O],E=d[O+1],P=y[L],J=y[L+1],B=y[D],X=y[D+1],z=d[N],$=d[N+1],V=y[0],R=y[1],q=d[O=3*i+2<<1],H=d[O+1],j=u[i]-u[e];j-=s(q-V,H-R,q-V,H-R)/2,e>=i&&(j+=u[v]);var G=P-I,Y=J-E,K=B-I,Q=X-E,W=z-I,Z=$-E,tt=s(G,Y,K,Q),et=s(G,Y,W,Z),it=s(K,Q,W,Z);if(et==tt)return 1;var nt=it/(it-(tt+it-et)),rt=et/(et-tt),st=et*nt/2;if(0==st)return 1;var at=j/st,ht=2-Math.sqrt(4-at/.3);for(n.ml=l(nt*ht,I,P),n.mZ=l(nt*ht,E,J),n.mk=l(rt*ht,z,B),n.me=l(rt*ht,$,X),n.alpha=ht,n.yC=nt,n._u=rt,P=n.ml,J=n.mZ,B=n.mk,X=n.me,n.PU=0,g=r(e+1,v);g!=i;g=w){w=r(g+1,v);var ot=y[g<<1],lt=y[1+(g<<1)];if((nt=p(P-I,J-E,B-P,X-J,z-B,$-X,(T=y[w<<1])-ot,(U=y[1+(w<<1)])-lt))<-.5)return 1;var ut=c(nt,I,P,B,z),ft=c(nt,E,J,X,$);if(0==(k=f(T-ot,U-lt)))return 1;var ct=s(T-ot,U-lt,ut-ot,ft-lt)/k;if(Math.abs(ct)>h)return 1;if(a(T-ot,U-lt,ut-ot,ft-lt)<0||a(ot-T,lt-U,ut-T,ft-U)<0)return 1;n.PU+=ct*ct}for(g=e;g!=i;g=w){L=3*(w=r(g+1,v))+2<<1;var pt=d[O=3*g+2<<1],vt=d[O+1],dt=d[L],yt=d[L+1];if((nt=p(P-I,J-E,B-P,X-J,z-B,$-X,dt-pt,yt-vt))<-.5)return 1;ut=c(nt,I,P,B,z),ft=c(nt,E,J,X,$);if(0==(k=f(dt-pt,yt-vt)))return 1;ct=s(dt-pt,yt-vt,ut-pt,ft-vt)/k;var gt=s(dt-pt,yt-vt,y[w<<1]-pt,y[1+(w<<1)]-vt)/k;if((gt*=.75*t.hc.alpha[w])<0&&(ct=-ct,gt=-gt),ct<gt-h)return 1;ct<gt&&(n.PU+=(ct-gt)*(ct-gt))}return 0}var o,u,v,d,y,g,m,w,b,x=t.hc,M=x.pu,S=x.sE,A=new Array(M+1),k=new Array(M+1),C=new Array(M+1),T=new Array(M+1),U=new n,_=new Array(M),F=new Array(M+1);for(u=0;u<M;u++)if("CURVE"==x.qd[u]){var O=S[r(u-1,M)<<1],L=S[1+(r(u-1,M)<<1)],D=S[u<<1],N=S[1+(u<<1)],I=S[r(u+1,M)<<1],E=S[1+(r(u+1,M)<<1)];_[u]=Math.sign(s(D-O,N-L,I-D,E-N))}else _[u]=0;y=0,F[0]=0;var P=x.sE[0],J=x.sE[1];for(u=0;u<M;u++){if(d=r(u+1,M),"CURVE"==x.qd[d]){g=x.alpha[d];var B=3*u+2<<1,X=3*d+2<<1,z=x.lA[B],$=x.lA[B+1],V=S[d<<1],R=S[1+(d<<1)],q=x.lA[X],H=x.lA[X+1];y+=.3*g*(4-g)*s(V-z,R-$,q-z,H-$)/2,y+=s(z-P,$-J,q-P,H-J)/2}F[u+1]=y}for(A[0]=-1,k[0]=0,C[0]=0,v=1;v<=M;v++)for(A[v]=v-1,k[v]=k[v-1],C[v]=C[v-1]+1,u=v-2;u>=0&&!h(t,u,r(v,M),U,i.tdt,_,F);u--)(C[v]>C[u]+1||C[v]==C[u]+1&&k[v]>k[u]+U.PU)&&(A[v]=u,k[v]=k[u]+U.PU,C[v]=C[u]+1,T[v]=U,U=new n);for(m=new e(o=C[M]),w=new Array(o),b=new Array(o),v=M,u=o-1;u>=0;u--){var j=r(v,M),G=3*u+0<<1,Y=3*j+0<<1;A[v]==v-1?(m.qd[u]=x.qd[j],m.lA[G]=x.lA[Y],m.lA[G+1]=x.lA[Y+1],m.lA[G+2]=x.lA[Y+2],m.lA[G+3]=x.lA[Y+3],m.lA[G+4]=x.lA[Y+4],m.lA[G+5]=x.lA[Y+5],m.sE[u<<1]=x.sE[j<<1],m.sE[1+(u<<1)]=x.sE[1+(j<<1)],m.alpha[u]=x.alpha[j],m.Lb[u]=x.Lb[j],m.Lz[u]=x.Lz[j],w[u]=b[u]=1):(m.qd[u]="CURVE",m.lA[G]=T[v].ml,m.lA[G+1]=T[v].mZ,m.lA[G+2]=T[v].mk,m.lA[G+3]=T[v].me,m.lA[G+4]=x.lA[Y+4],m.lA[G+5]=x.lA[Y+5],m.sE[u<<1]=l(T[v]._u,x.lA[Y+4],S[j<<1]),m.sE[1+(u<<1)]=l(T[v]._u,x.lA[Y+5],S[1+(j<<1)]),m.alpha[u]=T[v].alpha,m.Lb[u]=T[v].alpha,w[u]=T[v]._u,b[u]=T[v].yC),v=A[v]}for(u=0;u<o;u++)d=r(u+1,o),m.Lz[u]=w[u]/(w[u]+b[d]);m.tPz=1,t.hc=m}for(var b=0;b<t.length;b++){var x=t[b];v(x),d(x),y(x),g(x),m(x),i.tPg&&w(x)}}}}();l.ttR=function(t,e,i,n){var r={TU:"minority",tPc:n,tPg:!0,tPY:1,tdt:.2},s=l.tTz(t,e,i,r);return l.tTA(s,r),s},l.ttr=function(t){for(var e=[],i=0;i<t.length;i++){for(var n=t[i],r=n.hc,s=["M"],a=[r.lA[6*(r.pu-1)+4],r.lA[6*(r.pu-1)+5]],h=0;h<r.pu;h++){var o=6*h;if(1==r.qd[h]){s.push("C");for(var l=0;l<6;l++)a.push(r.lA[o+l])}else if(0==r.qd[h]){s.push("L");for(l=2;l<4;l++)a.push(r.lA[o+l])}}e.push({parent:n.parent,color:n.color,path:{Z:a,lX:s}})}return e},l.txt=function(t,e,i,n,r){function s(t){function i(i){var n="C "+(t.lA[3*i+0<<1]*e).toFixed(1)+" "+(t.lA[1+(3*i+0<<1)]*e).toFixed(1)+",";return n+=(t.lA[3*i+1<<1]*e).toFixed(1)+" "+(t.lA[1+(3*i+1<<1)]*e).toFixed(1)+",",n+=(t.lA[3*i+2<<1]*e).toFixed(1)+" "+(t.lA[1+(3*i+2<<1)]*e).toFixed(1)+" "}function n(i){var n="L "+(t.lA[3*i+1<<1]*e).toFixed(1)+" "+(t.lA[1+(3*i+1<<1)]*e).toFixed(1)+" ";return n+=(t.lA[3*i+2<<1]*e).toFixed(1)+" "+(t.lA[1+(3*i+2<<1)]*e).toFixed(1)+" "}var r,s=t.pu,a="M"+(t.lA[3*(s-1)+2<<1]*e).toFixed(1)+" "+(t.lA[1+(3*(s-1)+2<<1)]*e).toFixed(1)+" ";for(r=0;r<s;r++)1==t.qd[r]?a+=i(r):0==t.qd[r]&&(a+=n(r));return a}i*=e,n*=e;for(var a=t.length,h=[],o=0;o<256;o++)h.push("rgb("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+")");var l='<svg id="svg" version="1.1" width="'+i+'" height="'+n+'" xmlns="http://www.w3.org/2000/svg">';for(o=0;o<a;o++){var u;if(0!=((u=r[t[o].color-1].tTc.tTT)>>>24&255))l+='<path d="',l+=s(t[o].hc),l+='" fill="'+(u="rgb("+(u>>0&255)+","+(u>>8&255)+","+(u>>16&255)+")")+'" fill-rule="evenodd"/>'}return l+="</svg>"},l.ttc=function(t,e,i){for(var n,r=t.length>>1,s=t[2*r-3]-i,a=t[2*r-2]-e,h=t[2*r-1]-i,o=h>s,l=0,u=0;u<r;u++)n=a,s=h,a=t[2*u]-e,s!=(h=t[2*u+1]-i)&&(o=h>s);for(u=0;u<r;u++)if(n=a,s=h,a=t[2*u]-e,h=t[2*u+1]-i,!(s<0&&h<0||s>0&&h>0||n<0&&a<0)){if(s==h&&Math.min(n,a)<=0)return!0;if(s!=h){var f=n+(a-n)*-s/(h-s);if(0==f)return!0;f>0&&l++,0==s&&o&&h>s&&l--,0==s&&!o&&h<s&&l--,o=h>s}}return 1==(1&l)},l.fill=function(t,e,i,n){for(var r=e[t],s=[t],a=0;a<s.length;){if(s.length>i*i*2)throw"e";var h=s[a];a++,e[h]=n,e[h-i]==r&&(s.push(h-i),e[h-i]=254),e[h-1]==r&&(s.push(h-1),e[h-1]=254),e[h+1]==r&&(s.push(h+1),e[h+1]=254),e[h+i]==r&&(s.push(h+i),e[h+i]=254)}};var u={};function f(t,e){t||(t=0),e||(e=0),this.x=t,this.y=e}function c(t,e,i,n,r,s){void 0===t&&(t=1,e=0,i=0,n=1,r=0,s=0),this.o=t,this.H=e,this.lA=i,this.KI=n,this.DX=r,this.Ug=s}function p(){}function v(){}function d(t,e){}function y(){}function g(){}function m(){}function w(){}function b(){}function x(){}function M(){}function S(){}function A(){}function k(){}function C(){}function T(){}function U(){}function _(){}function F(){}function O(){}function L(t,e,i,n){t||(t=0),e||(e=0),i||(i=0),n||(n=0),this.x=t,this.y=e,this.$=i,this.z=n}function D(){}function N(){}u.Yv=!1,u.PZ=!1,u.VC=!1,u.ql=document.createElement("canvas"),u.Ia=null,u.Av=null,u.QK=0,function(){var t,e={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1};if(t||(t=u.ql.getContext("webgl",e)),t||(t=u.ql.getContext("experimental-webgl",e)),t){u.Yv=!0,u.PZ=!0,u.Ia=t,u.Av=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,u.Av),t.disable(t.BLEND),t.disable(t.DEPTH_TEST);var i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0)}}(),u.ttb=function(t){var e=u.Ia;t>e.getParameter(e.MAX_TEXTURE_SIZE)&&(u.Yv=!1,alert("Disabling WebGL"))},u.Vb=function(t,e){return new Float32Array([(t.x-e.x)/e.$,(t.y-e.y)/e.z,t.$/e.$,t.z/e.z])},u.en=function(){return this.ql},u.jl=function(t,e){var i=u.Ia;i.bindFramebuffer(i.FRAMEBUFFER,u.Av),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t.La,0),i.viewport(0,0,t.$,t.z),e?(i.enable(i.SCISSOR_TEST),i.scissor(e.x,e.y,e.$,e.z)):i.disable(i.SCISSOR_TEST)},u.PA=function(t,e,i){if(i)throw"error";var n=u.Ia;n.disable(n.SCISSOR_TEST),n.bindFramebuffer(n.FRAMEBUFFER,null),n.viewport(0,0,t,e),i?(n.enable(n.SCISSOR_TEST),n.scissor(i.x,i.y,Math.round(i.$),Math.round(i.z))):n.disable(n.SCISSOR_TEST)},u.clear=function(){var t=u.Ia;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},u.sk=function(t,e){null==e&&(e=0);var i=0==(e>>0&255),n=0==(e>>8&255),r=0==(e>>16&255),s=0==(e>>24&255),a=1/255*(t>>0&255),h=1/255*(t>>8&255),o=1/255*(t>>16&255),l=1/255*(t>>24&255),f=u.Ia;f.colorMask(i,n,r,s),f.clearColor(a,h,o,l),f.clear(f.COLOR_BUFFER_BIT),f.colorMask(!0,!0,!0,!0)},u.h_=function(t,e,i,n,r){var s=e.sj(n);if(r&&(s=s.sj(r)),!s.km()){var a=u.Ia;u.jl(t),a.bindTexture(a.TEXTURE_2D,i.La),a.copyTexSubImage2D(a.TEXTURE_2D,0,s.x-n.x,s.y-n.y,s.x-e.x,s.y-e.y,s.$,s.z)}},u.tx$=function(t,e,i){var n=u.Pe[t];return null!=n&&n.$==e&&n.z==i||(n&&n.delete(),n=new u.wf(e,i)),u.Pe[t]=n,n},u.Pe=[],u.YB=function(){this.uX=null,this.Hr=null},u.YB.TV=null,u.YB.prototype.SW=function(t){if(!this.Hr){this.Hr={};for(var e=u.Ia,i=this.uX,n=this.Hr,r=0;r<t.length;r++){var s=t[r];n[s]=e.getUniformLocation(i,s)}}},u.YB.prototype.ON=function(){},u.YB.prototype.sA=function(t,e){var i=u.Ia,n=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(n,t),i.compileShader(n),i.getShaderParameter(n,i.COMPILE_STATUS)||console.log(i.getShaderInfoLog(n));var r=i.createShader(i.VERTEX_SHADER);i.shaderSource(r,e),i.compileShader(r),i.getShaderParameter(r,i.COMPILE_STATUS)||console.log(i.getShaderInfoLog(r));var s=i.createProgram();i.attachShader(s,r),i.attachShader(s,n),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)||console.log("Could not initialise shaders"),this.uX=s},u.YB.prototype.QN=function(){u.YB.TV!=this&&(u.Ia.useProgram(this.uX),u.YB.TV=this)},u.Vu=function(t,e){u.Ob++,u.QK+=t*e,u.VC&&console.log("GL.Channels instances: "+u.Ob+", memory: "+u.QK);var i=u.Ia;this.$=t,this.z=e,this.La=i.createTexture(),this.QZ=null,this.AU(this.La,t,e)},u.Vu.prototype.AU=function(t,e,i){var n=u.Ia;n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,e,i,0,n.ALPHA,n.UNSIGNED_BYTE,null)},u.Vu.prototype.set=function(t){var e=u.Ia;e.bindTexture(e.TEXTURE_2D,this.La),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.$,this.z,0,e.ALPHA,e.UNSIGNED_BYTE,t),e.pixelStorei(e.UNPACK_ALIGNMENT,4)},u.Vu.prototype.delete=function(){var t=u.Ia;this.La&&(t.deleteTexture(this.La),u.Ob--,u.QK-=this.$*this.z),u.VC&&u.VC&&console.log("GL.Channels instances: "+u.Ob+", memory: "+4*u.QK)},u.Ob=0,u.wf=function(t,e,i){null==i&&(i=!1),u.Ob++,u.QK+=t*e*4,u.VC&&console.log("GL.Channels instances: "+u.Ob+", memory: "+u.QK);var n=u.Ia;this.tdy=i,this.$=t,this.z=e,this.La=n.createTexture(),this.QZ=null,this.AU(this.La,t,e)},u.wf.prototype.set=function(t,e){var i=u.Ia;if(i.disable(i.SCISSOR_TEST),i.bindTexture(i.TEXTURE_2D,this.La),null==t||t instanceof Uint8Array){var n=this.$*this.z;if(null==e||10*e.f()>n)i.texImage2D(i.TEXTURE_2D,0,i.RGBA,this.$,this.z,0,i.RGBA,i.UNSIGNED_BYTE,t);else{var r=a.I(4*e.f());a.Pg(t,new L(0,0,this.$,this.z),r,e),i.texSubImage2D(i.TEXTURE_2D,0,e.x,e.y,e.$,e.z,i.RGBA,i.UNSIGNED_BYTE,r)}}else i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t)},u.wf.prototype.get=function(t){var e=u.Ia;u.jl(this),e.readPixels(0,0,this.$,this.z,e.RGBA,e.UNSIGNED_BYTE,t)},u.wf.prototype.EX=function(t){if(!t.km()){var e=u.Ia;if(null==this.QZ&&(this.QZ=e.createTexture(),this.AU(this.QZ,this.$,this.z),u.Ob++,u.QK+=this.$*this.z*4),e.bindFramebuffer(e.FRAMEBUFFER,u.Av),e.bindTexture(e.TEXTURE_2D,this.QZ),t){var i=Math.max(t.x,0),n=Math.max(t.y,0);e.copyTexSubImage2D(e.TEXTURE_2D,0,i,n,i,n,t.$,t.z)}else e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,this.$,this.z,0)}},u.wf.prototype.AU=function(t,e,i){var n=u.Ia;n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.tdy?n.LINEAR:n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e,i,0,n.RGBA,n.UNSIGNED_BYTE,null)},u.wf.prototype.delete=function(){var t=u.Ia;this.La&&(t.deleteTexture(this.La),u.Ob--,u.QK-=this.$*this.z*4),this.QZ&&(t.deleteTexture(this.QZ),u.Ob--,u.QK-=this.$*this.z*4),u.VC&&u.VC&&console.log("GL.Channels instances: "+u.Ob+", memory: "+4*u.QK)},u.wf.prototype.clone=function(){var t=u.Ia,e=new u.wf(this.$,this.z);return u.jl(this),t.bindTexture(t.TEXTURE_2D,e.La),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,0,0,this.$,this.z,0),e},u._G={tVe:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  return mix( ONE3 - min(ONE3,(ONE3-b)/(a*f+ONE3-f))    ,   ZERO3  , vec3(equal(a  ,ZERO3)) );  }  ",t$J:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",ol:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Y_:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",PN:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",YH:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",If:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",oI:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",t$D:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",YG:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",trS:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",sg:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",Pu:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",pI:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",En:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",yU:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",sM:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",pq:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }"},u.vs=function(t,e,i,n,r){null==u.vs.js&&(u.vs.js=new u.vs.VS);var s=e.T.length;null==u.vs.oz["m"+s]&&(u.vs.oz["m"+s]={tdx:new u.wf(s,1),nn:a.I(4*s)});var h=u.vs.oz["m"+s];a.kw(e.T,h.nn,0),a.kw(e.q,h.nn,1),a.kw(e.H,h.nn,2);var o=h.tdx;o.set(h.nn);var l=u.vs.js,f=u.Ia;u.jl(t,r),t.EX(r),l.QN(),l.ON(t.QZ,o.La,i?1:0,n?1:0),f.drawArrays(f.TRIANGLES,0,6)},u.vs.js=null,u.vs.oz={},u.vs.VS=function(){u.YB.call(this);var t="\t\t\tprecision mediump float;\t\t\t"+u._G.If+"\t\t\t"+u._G.ol+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";this.sA(t,"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},u.vs.VS.prototype=new u.YB,u.vs.VS.prototype.ON=function(t,e,i,n){this.SW(["source","map","toGray","presLum"]);var r=u.Ia,s=this.Hr;r.uniform1f(s.toGray,i),r.uniform1f(s.presLum,n),r.uniform1i(s.source,0),r.uniform1i(s.map,1),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,t),r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,e),r.activeTexture(r.TEXTURE0)},u.NN=function(t,e,i,n,r,s){null==u.NN.js&&(u.NN.js=new u.NN.VS,u.NN.ck=new u.wf(256,1),u.NN.dc=a.I(1024)),e.o=a.I(256);var h=u.NN.dc;a.GL(e,h);var o=u.NN.ck;o.set(h);var l=u.NN.js,f=u.Ia;u.jl(t,i),t.EX(i),l.QN(),l.ON(t.QZ,o.La,n,r,s),f.drawArrays(f.TRIANGLES,0,6)},u.NN.js=null,u.NN.ck=null,u.NN.dc=null,u.NN.VS=function(){u.YB.call(this);var t="\t\t\tprecision mediump float;\t\t\t"+u._G.yU+"\t\t\t"+u._G.pI+"\t\t\t"+u._G.En+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float cfa; \t\t\tuniform float cfb; \t\t\tuniform int colorize; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = cfa*src.rgb + cfb*(1.0-src.rgb);\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\tfloat nh = mapv.r; \t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\tfloat ns; \t\t\t\tif(colorize==1) ns = sc; \t\t\t\telse {\t\t\t\t\tif(sc>0.0) sc = tan((3.14159265359/2.0)*sc);\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t} \t\t\t\t\t\t\t\tfloat alc = abs(lc); \t\t\t\t\t\t\t\tvec3 zrgb = hslToRgb(nh, min(1.0,ns*(1.0-alc)), l + (lc>0.0 ? 1.0 : -1.0)*min(l, 1.0-l)*s); \t\t\t\tvec3 nrgb = hslToRgb(nh, min(1.0,ns), l); \t\t\t\trgb = nrgb * (1.0-alc) + zrgb * alc; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";this.sA(t,"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},u.NN.VS.prototype=new u.YB,u.NN.VS.prototype.ON=function(t,e,i,n,r){this.SW(["source","map","cfa","cfb","colorize"]);var s=u.Ia,a=this.Hr;s.uniform1f(a.cfa,i),s.uniform1f(a.cfb,n),s.uniform1i(a.colorize,r),s.uniform1i(a.source,0),s.uniform1i(a.map,1),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,t),s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,e),s.activeTexture(s.TEXTURE0)},u.EQ=function(t,e,i,n){null==u.EQ.js&&(u.EQ.js=new u.EQ.VS);var r=u.EQ.js,s=u.Ia;u.jl(t,n),t.EX(n),r.QN(),r.ON(t.QZ,e,i),s.drawArrays(s.TRIANGLES,0,6)},u.EQ.js=null,u.EQ.VS=function(){u.YB.call(this);var t="\t\t\tprecision mediump float;\t\t\t"+u._G.yU+"\t\t\t"+u._G.sM+"\t\t\t"+u._G.pq+"\t\t\t"+u._G.pI+"\t\t\t"+u._G.En+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";this.sA(t,"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},u.EQ.VS.prototype=new u.YB,u.EQ.VS.prototype.ON=function(t,e,i){this.SW(["source","vib","sat"]);var n=u.Ia,r=this.Hr;n.uniform1f(r.vib,e),n.uniform1f(r.sat,i),n.uniform1i(r.source,0),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,t)},u.El=function(t,e,i){null==u.El.js&&(u.El.js=new u.El.VS);var n=u.El.js,r=u.Ia;u.jl(t,i),t.EX(i),n.QN(),n.ON(t.QZ,e),r.drawArrays(r.TRIANGLES,0,6)},u.El.js=null,u.El.VS=function(){u.YB.call(this);this.sA("\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = vec4(texture2D(source, sCoord).rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*src).rgb,src.w); \t\t\t\t\t\t\t}","\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},u.El.VS.prototype=new u.YB,u.El.VS.prototype.ON=function(t,e){this.SW(["source","trf"]);var i=u.Ia,n=this.Hr;i.uniformMatrix4fv(n.trf,!1,new Float32Array(a.Iw.zC(e))),i.uniform1i(n.source,0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t)},u.Wk=function(t,e,i){null==u.Wk.js&&(u.Wk.js=new u.Wk.VS);var n=u.Wk.js,r=u.Ia;u.jl(t,i),t.EX(i),n.QN(),n.ON(t.QZ,e),r.drawArrays(r.TRIANGLES,0,6)},u.Wk.js=null,u.Wk.VS=function(){u.YB.call(this);var t="\t\t\tprecision mediump float;\t\t\t"+u._G.ol+"\t\t\t"+u._G.Y_+"\t\t\t"+u._G.PN+"\t\t\t"+u._G.pI+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";this.sA(t,"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},u.Wk.VS.prototype=new u.YB,u.Wk.VS.prototype.ON=function(t,e){this.SW(["source","cfs"]);var i=u.Ia,n=this.Hr;i.uniform3fv(n.cfs,e),i.uniform1i(n.source,0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t),i.activeTexture(i.TEXTURE0)},u.qj=function(t,e,i,n){null==u.qj.js&&(u.qj.js=new u.qj.VS);var r=u.qj.js,s=u.Ia;u.jl(t,n),t.EX(n),r.QN(),r.ON(t.QZ,e,i),s.drawArrays(s.TRIANGLES,0,6)},u.qj.js=null,u.qj.VS=function(){u.YB.call(this);var t="\t\t\tprecision mediump float;\t\t\t"+u._G.yU+"\t\t\t"+u._G.Y_+"\t\t\t"+u._G.PN+"\t\t\t"+u._G.pI+"\t\t\t"+u._G.En+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";this.sA(t,"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},u.qj.VS.prototype=new u.YB,u.qj.VS.prototype.ON=function(t,e,i){this.SW(["source","wght","prms"]);var n=u.Ia,r=this.Hr;n.uniform1fv(r.wght,new Float32Array(e)),n.uniform1fv(r.prms,new Float32Array(i)),n.uniform1i(r.source,0),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,t),n.activeTexture(n.TEXTURE0)},u.a={},u.a.oU={},u.a.XR=null,u.a.X$=null,u.a.Xr=null,u.a.dv=function(t,e,i,n,r,s,a,h){null==h&&(h=lt.wU()),-1=="idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(t)&&(a*=h.fill,h.fill=1,h.style=!1),null==u.a.oU[t]&&(u.a.oU[t]=new u.a.VS(t));var o=u.a.oU[t],l=i.sj(r).sj(s);if(l.offset(-r.x,-r.y),!l.km()){var f=u.Ia;u.jl(n,l),n.EX(l),o.QN(),o.ON(e.La,n.QZ,u.Vb(i,r),a,h.fill,h.style?1:0,h.VE?1:0),f.drawArrays(f.TRIANGLES,0,6)}},u.a.Ak=function(t,e,i,n,r,s,a,h,o,l){null==u.a.XR&&(u.a.XR=new u.a.eY(!0,!0)),null==u.a.X$&&(u.a.X$=new u.a.eY(!0,!1)),null==u.a.Xr&&(u.a.Xr=new u.a.eY(!1,!0));var f=l?1:0,c=t?r?u.a.XR:u.a.X$:u.a.Xr,p=e?e.sj(n).sj(h):n.sj(h);if(!p.km()){p.offset(-n.x,-n.y);var v=u.Ia;u.jl(i,p),i.EX(p),c.QN(),null==t?c.ON(null,i.QZ,r.La,u.Vb(n,n),u.Vb(s,n),a/255,o,f):r?c.ON(t.La,i.QZ,r.La,u.Vb(e,n),u.Vb(s,n),a/255,o,f):c.ON(t.La,i.QZ,null,u.Vb(e,n),null,a/255,o,f),v.drawArrays(v.TRIANGLES,0,6)}},u.a.txJ=function(t,e,i){null==u.a.mb&&(u.a.mb=new u.a.XT);var n=u.a.mb,r=new L(0,0,t.$,t.z),s=u.Ia;u.jl(e),e.EX(r),n.QN(),n.ON(r,t.La,e.QZ,i.La),s.drawArrays(s.TRIANGLES,0,6)},u.a.Xc={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "},u.a.VS=function(t){u.YB.call(this);var e="\t\t\tprecision mediump float;\t\t\t"+u._G.ol+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+u._G.YH+"\t\t\t"+u._G.If+"\t\t\t"+u._G.oI+"\t\t\t"+u._G.tVe+"\t\t\t"+u._G.t$J+"\t\t\t"+u._G.t$D+"\t\t\t"+u._G.YG+"\t\t\t"+u._G.trS+"\t\t\t"+u._G.sg+"\t\t\t"+u._G.hash+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+u.a.Xc[t]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);";e+="diss"==t?"\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }":"  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}",this.sA(e,"\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},u.a.VS.prototype=new u.YB,u.a.VS.prototype.ON=function(t,e,i,n,r,s,a){this.SW("srct alpha source target fill style keepBGA".split(" "));var h=u.Ia,o=this.Hr;h.uniform4fv(o.srct,i),h.uniform1f(o.alpha,n),h.uniform1f(o.fill,r),h.uniform1f(o.style,s),h.uniform1f(o.keepBGA,a),h.uniform1i(o.source,0),h.uniform1i(o.target,1),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,t),h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,e),h.activeTexture(h.TEXTURE0)},u.a.eY=function(t,e){u.YB.call(this),this.tTG=t,this.LZ=e;var i="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+u._G.Pu+"\t\t\t"+u._G.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(t?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(e?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(t?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}";this.sA(i,"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},u.a.eY.prototype=new u.YB,u.a.eY.prototype.ON=function(t,e,i,n,r,s,a,h){this.LZ?this.SW("srct wrct wcolor awg dissv source target weight".split(" ")):this.SW(["srct","awg","dissv","source","target"]);var o=u.Ia,l=this.Hr;o.uniform4fv(l.srct,n),this.LZ&&(o.uniform4fv(l.wrct,r),o.uniform1f(l.wcolor,s)),o.uniform1f(l.awg,a),o.uniform1f(l.dissv,h),o.uniform1i(l.source,0),o.uniform1i(l.target,1),this.LZ&&o.uniform1i(l.weight,2),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,e),this.LZ&&(o.activeTexture(o.TEXTURE2),o.bindTexture(o.TEXTURE_2D,i)),o.activeTexture(o.TEXTURE0)},u.a.XT=function(){u.YB.call(this);this.sA("\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}","\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},u.a.XT.prototype=new u.YB,u.a.XT.prototype.ON=function(t,e,i,n){this.SW(["rct","prev","next","alpha"]);var r=u.Ia,s=this.Hr;r.uniform4fv(s.rct,[0,0,1,1]),r.uniform1i(s.prev,0),r.uniform1i(s.next,1),r.uniform1i(s.alpha,2),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,e),r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,i),r.activeTexture(r.TEXTURE2),r.bindTexture(r.TEXTURE_2D,n),r.activeTexture(r.TEXTURE0)},f.prototype.add=function(t){return new f(this.x+t.x,this.y+t.y)},f.prototype.clone=function(){return new f(this.x,this.y)},f.prototype.py=function(t){this.x=t.x,this.y=t.y},f.prototype.v$=function(t){return this.x==t.x&&this.y==t.y},f.prototype.normalize=function(t){var e=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=t/e,this.y*=t/e},f.prototype.offset=function(t,e){this.x+=t,this.y+=e},f.prototype.kR=function(t,e){this.x=t,this.y=e},f.prototype.Tr=function(t){return new f(this.x-t.x,this.y-t.y)},f.Ln=function(t,e){return f.trE(t.x,t.y,e.x,e.y)},f.iv=function(t,e,i){return new f(t.x+i*(e.x-t.x),t.y+i*(e.y-t.y))},f.txy=function(t,e){return new f(t*Math.cos(e),t*Math.sin(e))},f.trE=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))},f.XP={},f.PR={},f.XP.create=function(){return new Float32Array(4)},f.PR.create=function(t){var e=new Float32Array(16);return e[0]=e[5]=e[10]=e[15]=1,t&&f.PR.set(t,e),e},f.XP.add=function(t,e,i){i[0]=t[0]+e[0],i[1]=t[1]+e[1],i[2]=t[2]+e[2],i[3]=t[3]+e[3]},f.XP.set=function(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]},f.PR.set=function(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]},f.PR.multiply=function(t,e,i){var n=t[0],r=t[1],s=t[2],a=t[3],h=t[4],o=t[5],l=t[6],u=t[7],f=t[8],c=t[9],p=t[10],v=t[11],d=t[12],y=t[13],g=t[14],m=t[15],w=e[0],b=e[1],x=e[2],M=e[3];return i[0]=w*n+b*h+x*f+M*d,i[1]=w*r+b*o+x*c+M*y,i[2]=w*s+b*l+x*p+M*g,i[3]=w*a+b*u+x*v+M*m,w=e[4],b=e[5],x=e[6],M=e[7],i[4]=w*n+b*h+x*f+M*d,i[5]=w*r+b*o+x*c+M*y,i[6]=w*s+b*l+x*p+M*g,i[7]=w*a+b*u+x*v+M*m,w=e[8],b=e[9],x=e[10],M=e[11],i[8]=w*n+b*h+x*f+M*d,i[9]=w*r+b*o+x*c+M*y,i[10]=w*s+b*l+x*p+M*g,i[11]=w*a+b*u+x*v+M*m,w=e[12],b=e[13],x=e[14],M=e[15],i[12]=w*n+b*h+x*f+M*d,i[13]=w*r+b*o+x*c+M*y,i[14]=w*s+b*l+x*p+M*g,i[15]=w*a+b*u+x*v+M*m,i},f.PR.inverse=function(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],h=t[5],o=t[6],l=t[7],u=t[8],f=t[9],c=t[10],p=t[11],v=t[12],d=t[13],y=t[14],g=t[15],m=i*h-n*a,w=i*o-r*a,b=i*l-s*a,x=n*o-r*h,M=n*l-s*h,S=r*l-s*o,A=u*d-f*v,k=u*y-c*v,C=u*g-p*v,T=f*y-c*d,U=f*g-p*d,_=c*g-p*y,F=m*_-w*U+b*T+x*C-M*k+S*A;return F?(F=1/F,e[0]=(h*_-o*U+l*T)*F,e[1]=(r*U-n*_-s*T)*F,e[2]=(d*S-y*M+g*x)*F,e[3]=(c*M-f*S-p*x)*F,e[4]=(o*C-a*_-l*k)*F,e[5]=(i*_-r*C+s*k)*F,e[6]=(y*b-v*S-g*w)*F,e[7]=(u*S-c*b+p*w)*F,e[8]=(a*U-h*C+l*A)*F,e[9]=(n*C-i*U-s*A)*F,e[10]=(v*M-d*b+g*m)*F,e[11]=(f*b-u*M-p*m)*F,e[12]=(h*k-a*T-o*A)*F,e[13]=(i*T-n*k+r*A)*F,e[14]=(d*w-v*x-y*m)*F,e[15]=(u*x-f*w+c*m)*F,e):null},f.PR.txD=function(t,e,i){var n=e[0],r=e[1];i[0]=n*t[0]+r*t[4]+t[12],i[1]=n*t[1]+r*t[5]+t[13]},f.PR.txP=function(t,e,i){var n=e[0],r=e[1],s=e[2],a=e[3];i[0]=t[0]*n+t[4]*r+t[8]*s+t[12]*a,i[1]=t[1]*n+t[5]*r+t[9]*s+t[13]*a,i[2]=t[2]*n+t[6]*r+t[10]*s+t[14]*a,i[3]=t[3]*n+t[7]*r+t[11]*s+t[15]*a},c.prototype.ka=function(){return Math.sqrt(Math.abs(this.o*this.KI-this.H*this.lA))},c.prototype.dZ=function(){var t=this,e=Math.round;t.o=e(t.o),t.H=e(t.H),t.lA=e(t.lA),t.KI=e(t.KI),t.DX=e(t.DX),t.Ug=e(t.Ug)},c.prototype.Sk=function(t){return new f(t.x*this.o+t.y*this.lA+this.DX,t.x*this.H+t.y*this.KI+this.Ug)},c.prototype.translate=function(t,e){this.DX+=t,this.Ug+=e},c.prototype.rotate=function(t){var e=new c(Math.cos(t),-Math.sin(t),Math.sin(t),Math.cos(t),0,0);this.concat(e)},c.prototype.scale=function(t,e){var i=new c(t,0,0,e,0,0);this.concat(i)},c.prototype.concat=function(t){this.py(new c(this.o*t.o+this.H*t.lA,this.o*t.H+this.H*t.KI,this.lA*t.o+this.KI*t.lA,this.lA*t.H+this.KI*t.KI,this.DX*t.o+this.Ug*t.lA+t.DX,this.DX*t.H+this.Ug*t.KI+t.Ug))},c.prototype.UK=function(){var t=this.o*this.KI-this.H*this.lA;this.py(new c(this.KI/t,-this.H/t,-this.lA/t,this.o/t,(this.lA*this.Ug-this.KI*this.DX)/t,(this.H*this.DX-this.o*this.Ug)/t))},c.prototype.clone=function(){return new c(this.o,this.H,this.lA,this.KI,this.DX,this.Ug)},c.prototype.py=function(t){this.o=t.o,this.H=t.H,this.lA=t.lA,this.KI=t.KI,this.DX=t.DX,this.Ug=t.Ug},p._r=function(t,e,i,n){var r=i,s=O.vq(t,i);i+=4+2*s.length,"\0"!=s&&(e.__name=s),n&&console.log("---------------------",s,s.length),e.classID=p.pM(t,i),n&&console.log("- reading descriptor",e.classID,i),i+=4+Math.max(4,e.classID.length);var a=O.eI(t,i);i+=4,n&&console.log(3,i);for(var h=0;h<a;h++){var o=p.pM(t,i);i+=4+Math.max(4,o.length),n&&console.log(o);var l=p.du(t,i,n);e[o]=l,i+=l.size,delete l.size}return i-r},p.Ny=function(t,e,i,n){var r=i,s=e.__name;for(var a in null==s&&(s="\0"),O.ES(t,i,s),i+=4+2*s.length,p.pp(t,i,e.classID),i+=4+Math.max(4,e.classID.length),O.qe(t,i,Object.keys(e).length-1-(null==e.__name?0:1)),i+=4,e)"classID"!=a&&"__name"!=a&&(p.pp(t,i,a),i+=4+Math.max(4,a.length),i+=p.d_(t,i,e[a]));return i-r},p.du=function(t,e,i){var n=e,r=O.sx(t,e,4);e+=4;var s={size:0,t:r,v:null};switch(i&&console.log("reading key",r,n),r){case"obj ":case"VlLs":s.v=[];var a=O.j(t,e);e+=4;for(var h=0;h<a;h++){var o=p.du(t,e,i);e+=o.size,delete o.size,s.v.push(o)}break;case"Enmr":e+=4+2*O.vq(t,e).length;var l=p.pM(t,e);e+=4+Math.max(4,l.length);var u=p.pM(t,e);e+=4+Math.max(4,u.length);var f=p.pM(t,e);e+=4+Math.max(4,f.length),s.v={class:l,type:u,enum:f};break;case"UntF":s.v={type:O.sx(t,e,4),val:O.FD(t,e+4)},e+=12;break;case"doub":s.v=O.FD(t,e),e+=8;break;case"bool":s.v=1==t[e],e+=1;break;case"long":s.v=O.eI(t,e),e+=4;break;case"Objc":s.v={},e+=p._r(t,s.v,e,i);break;case"TEXT":s.v=O.vq(t,e),e+=4+2*s.v.length,s.v=s.v.substring(0,s.v.length-1);break;case"enum":u=p.pM(t,e);e+=4+Math.max(4,u.length);var c=p.pM(t,e);e+=4+Math.max(4,c.length),s.v={},s.v[u]=c;break;case"tdta":var v=O.eI(t,e);e+=4,s.v=[];for(h=0;h<v;h++)s.v.push(t[e+h]);e+=v;break;case"ObAr":O.j(t,e);e+=4,e+=4+2*O.vq(t,e).length;var d=p.pM(t,e);e+=4+Math.max(4,d.length),s.v={classID:d,arr:[]};var y=O.j(t,e);e+=4;for(h=0;h<y;h++){d=p.pM(t,e);e+=4+Math.max(4,d.length);u=O.sx(t,e,4);e+=4;var g=O.sx(t,e,4);e+=4;var m={id:d,type:u,uID:g,arr:[]};s.v.arr.push(m);var w=O.j(t,e,4);e+=4;for(var b=0;b<w;b++){var x=O.FD(t,e);e+=8,m.arr.push(x)}}break;case"Pth ":v=O.j(t,e);e+=4;var M=O.sx(t,e,4);e+=4;O.UD(t,e);e+=4;var S=O.tyF(t,e);e+=4+2*S.length,s.v={sig:M,pth:S};break;default:throw console.log("unknown oskey: "+r+", "+n),"e"}return i&&console.log(s.v,n),s.size=e-n,s},p.d_=function(t,e,i){var n=e,r=i.t;switch(i=i.v,O.np(t,e,r),e+=4,r){case"obj ":case"VlLs":O.qe(t,e,i.length),e+=4;for(var s=0;s<i.length;s++){e+=p.d_(t,e,i[s])}break;case"Enmr":O.ES(t,e,"\0"),e+=6,p.pp(t,e,i.class),e+=4+Math.max(4,i.class.length),p.pp(t,e,i.type),e+=4+Math.max(4,i.type.length),p.pp(t,e,i.enum),e+=4+Math.max(4,i.enum.length);break;case"UntF":O.np(t,e,i.type),O.GP(t,e+4,i.val),e+=12;break;case"doub":O.GP(t,e,i),e+=8;break;case"bool":O.tk(t,e,i?1:0,1),e+=1;break;case"long":O.qe(t,e,i),e+=4;break;case"Objc":e+=p.Ny(t,i,e);break;case"TEXT":O.ES(t,e,i+"\0"),e+=4+2*i.length+2;break;case"enum":var a=Object.keys(i)[0],h=i[a];p.pp(t,e,a),e+=4+Math.max(4,a.length),p.pp(t,e,h),e+=4+Math.max(4,h.length);break;case"tdta":O.u(t,e,i.length),e+=4,O.$h(t,e,i),e+=i.length;break;case"ObAr":O.u(t,e,i.arr[0].arr.length),e+=4,O.ES(t,e,"\0"),e+=6,p.pp(t,e,i.classID),e+=4+Math.max(4,i.classID.length),O.u(t,e,i.arr.length),e+=4;for(var o=0;o<i.arr.length;o++){var l=i.arr[o];p.pp(t,e,l.id),e+=4+Math.max(4,l.id.length),O.np(t,e,l.type),e+=4,O.np(t,e,l.uID),e+=4,O.u(t,e,l.arr.length),e+=4;for(s=0;s<l.arr.length;s++)O.GP(t,e,l.arr[s]),e+=8}break;case"Pth ":var u=2*i.pth.length+4+8;O.u(t,e,u),e+=4,O.np(t,e,i.sig),e+=4,O.GI(t,e,u),e+=4,O.tcS(t,e,i.pth),e+=2*i.pth.length+4;break;default:console.log("unknown oskey: "+r),e=n}return e-n},p.pM=function(t,e){var i=O.eI(t,e);return i>1e3?"blbost...":(0==i&&(i=4),O.sx(t,e+4,i).trim())},p.pp=function(t,e,i){if(i.length<=4&&"warp"!=i&&"list"!=i&&"Comp"!=i?O.qe(t,e,0):O.qe(t,e,i.length),O.np(t,e+4,i),i.length<4){for(var n="",r=i.length;r<4;r++)n+=" ";O.np(t,e+4+i.length,n)}},p.trk=function(t){var e={};for(var i in t)e[i]="classID"==i||"__name"==i?t[i]:p.GR(t[i]);return e},p.GR=function(t){if("Objc"==t.yC)return p.trk(t.v);if("VlLs"==t.yC){for(var e=[],i=0;i<t.v.length;i++)e.push(p.GR(t.v[i]));return e}return"UntF"==t.yC?t.v.val:t.v},v.Gr=function(t,e,i,n,r,s){for(;e<i;){var h=O.sx(t,e,4);if(e+=4,"8BIM"!=h&&"8B64"!=h)throw console.log("layer information signature error! "+h,"PSB = "+r),alert("Error in Photoshop file: wrong signature."),"e";var o=O.sx(t,e,4);e+=4;var l=O.eI(t,e);e+=4,r&&-1!="LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn".split(" ").indexOf(o)&&(l=l<<32|O.eI(t,e),e+=4),r&&-1!=["pths"].indexOf(o)&&(l=l<<32|O.eI(t,e),e+=4);if(-1==["lrFX","PlLd"].indexOf(o)){switch(o){case"iOpa":case"knko":case"infx":case"clbl":case"lmgm":case"vmgm":n[o]=t[e];break;case"brst":n[o]=[1,1,1];for(var u=0;u<l;u+=4)n[o][O.j(t,e+u)]=0;break;case"lyid":case"lyvr":case"lspf":n[o]=O.j(t,e);break;case"lsct":n[o]={type:O.j(t,e)},l>=12&&(n[o].kE=O.sx(t,e+8,4));break;case"lsdk":n.lsct={type:O.j(t,e)};break;case"lnsr":n[o]=O.sx(t,e,4);break;case"lclr":case"post":case"thrs":n[o]=O.NU(t,e);break;case"luni":n[o]=O.vq(t,e);break;case"fxrp":n[o]=new f(O.FD(t,e),O.FD(t,e+8));break;case"artb":case"artd":case"SoCo":case"CgEd":case"vibA":case"blwh":n[o]={},p._r(t,n[o],e+4);break;case"GdFl":case"PtFl":n[o]={},p._r(t,n[o],e+4),v.Xx(n[o],o);break;case"brit":n[o]={},n[o].Pk=O.kF(t,e),n[o].dy=O.kF(t,e+2),n[o].ul=O.kF(t,e+4),n[o].uz=t[e+6];break;case"levl":var c=t.buffer.slice(e,e+l);n[o]=M.Fp(c);break;case"curv":n[o]=b.Nd(t,e,l);break;case"expA":var d=O.NU(t,e);n[o]=[O.Fg(t,e+2),O.Fg(t,e+6),O.Fg(t,e+10)];break;case"hue2":n[o]=x.Nd(t,e,l);break;case"blnc":n[o]={fY:[],If:1==t[e+18]};for(u=0;u<3;u++){var g=[];n[o].fY.push(g);for(var w=0;w<3;w++)g.push(O.kF(t,e+6*u+2*w))}break;case"phfl":n[o]={},3==(d=O.NU(t,e))&&(n[o].mB=[O.Fg(t,e+2),O.Fg(t,e+6),O.Fg(t,e+10)]),2==d&&(n[o].color={L_:O.NU(t,e+2),Dq:[O.kF(t,e+4),O.kF(t,e+6),O.kF(t,e+8),O.kF(t,e+10)]});var S=e+2+(3==d?12:10);n[o].mC=O.j(t,S),S+=4,n[o].uT=1==t[S];break;case"mixr":n[o]={_J:1==O.NU(t,e+2),R:[]};for(u=0;u<20;u++)n[o].R.push(O.kF(t,e+4+2*u));break;case"clrL":n[o]={},p._r(t,n[o],e+6);break;case"nvrt":n[o]=1;break;case"grdm":var C={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{yC:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:""},Trns:{t:"VlLs",v:[]}};n[o]={rev:1==t[e+2],mz:1==t[e+3],e:C};var T=e+4;C.Nm.v=O.vq(t,T),T+=4+2*C.Nm.v.length;var U=O.NU(t,T);T+=2;for(u=0;u<U;u++){var F=O.j(t,T),L=O.j(t,T+4);0!=O.NU(t,T+8)&&console.log("Unknown mode of color in Gradient Map adjustment layer");var N=[];for(w=0;w<4;w++)N.push(255*O.NU(t,T+10+2*w)/65535);var I={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:N[0]},Grn:{t:"doub",v:N[1]},Bl:{t:"doub",v:N[2]}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:F},Mdpn:{t:"long",v:L}}};C.Clrs.v.push(I),T+=20}var E=O.NU(t,T);T+=2;for(u=0;u<E;u++){F=O.j(t,T),L=O.j(t,T+4);var P=O.NU(t,T+8);I={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*P/255)}},Lctn:{t:"long",v:F},Mdpn:{t:"long",v:L}}};C.Trns.v.push(I),T+=10}O.NU(t,T);T+=2,C.Intr.v=O.NU(t,T),T+=2;var J=O.NU(t,T);T+=2,n[o].mode=O.NU(t,T),T+=2,n[o].dP=O.j(t,T),T+=4,n[o].mU=1==O.NU(t,T),T+=2,n[o].mN=1==O.NU(t,T),T+=2,n[o].mF=O.j(t,T),T+=4,n[o].mu=O.NU(t,T),T+=2,n[o]._V=[];for(u=0;u<4;u++)n[o]._V.push(O.NU(t,T+2*u));T+=8,n[o]._C=[];for(u=0;u<4;u++)n[o]._C.push(O.NU(t,T+2*u));T+=8;O.NU(t,T);T+=2;break;case"selc":n[o]=A.Nd(t,e,l);break;case"vmsk":case"vsms":var B=n.vmsk=new nt.hT,X=O.eI(t,e+4);B.WZ=0==(X>>1&1),B.isEnabled=0==(X>>2&1),B.L=k.GN(t,e+8,l-8,s.$,s.z);break;case"shmd":n[o]={};var z=O.j(t,e);for(S=e+4,u=0;u<z;u++){h=O.sx(t,S,4);S+=4;var $=O.sx(t,S,4);S+=4,S+=4;var V=O.j(t,S);if(S+=4,"cust"==$||"cmls"==$||"extn"==$||"mlst"==$){var R={};p._r(t,R,S+4,!1),n[o][$]=R,"cmls"==$&&K.YU.tJU(n[o][$])}else console.log("unknown shmd key: "+$+", size: "+V);S+=V}break;case"shpa":d=O.j(t,e);0!=O.j(t,e+4)&&console.log("some patterns present!");break;case"TySh":var q=n[o]={};d=O.NU(t,e);q.UC=O.FB(t,e+2);O.NU(t,e+2+48);q.ho={};var H=p._r(t,q.ho,e+56),j=dt.Yl();for(var G in j)null==q.ho[G]&&(q.ho[G]=j[G]);q.O$={};var Y=p._r(t,q.O$,e+56+H+6);q._B=O.tLz(t,e+56+H+6+Y);q.ho.EngineData.v;q.Bd=m.Fp(q.ho.EngineData.v),null==q.Bd.ResourceDict&&(q.Bd.ResourceDict=JSON.parse(JSON.stringify(q.Bd.DocumentResources))),delete q.ho.EngineData;break;case"lfx2":case"lmfx":case"lfxs":O.j(t,e),O.j(t,e+4);n.lmfx={};H=p._r(t,n.lmfx,e+8);v.Xd(n.lmfx);break;case"FMsk":n[o]=O.$g(t,e,l);break;case"Txt2":n[o]={},n[o].raw=O.$g(t,e,l),n[o].gz=D.Fp(n[o].raw);break;case"Patt":n[o]=[];for(var Q=e,W=e;W-Q<l;){var Z=W,tt={};J=O.j(t,W);W+=4,W=_.kB(t,W,tt),n[o].push(tt),J%4!=0&&(J+=4-J%4),W=Z+J+4}break;case"SoLd":O.sx(t,e,4),O.j(t,e+4),O.j(t,e+8);n[o]={};p._r(t,n[o],e+12);null==n[o].nonAffineTransform&&(n[o].nonAffineTransform=JSON.parse(JSON.stringify(n[o].Trnf)));break;case"vstk":case"pths":O.j(t,e);n[o]={};p._r(t,n[o],e+4);break;case"vscg":$=O.sx(t,e,4),O.j(t,e+4);n[$]={};p._r(t,n[$],e+8);v.Xx(n[$],$);break;case"vogk":O.j(t,e),O.j(t,e+4);n[o]={};p._r(t,n[o],e+8);n[o]=n[o].keyDescriptorList.v;for(u=0;u<n[o].length;u++);break;case"lnk2":case"lnkD__":case"lnk3__":n[o]=[];for(T=e;T<e+l;){var et=new nt.JY;n[o].push(et);J=O.pK(t,T),Q=T+=8;if(et.type=O.sx(t,T,4),T+=4,"liFD"!=et.type)throw alert("Unknown Linked Layer type: "+et.type),"error";et.dm=O.j(t,T),T+=4;var it=O.$T(t,T);T+=1+it.oJ.length,et.VB=it.oJ,et.Xl=O.vq(t,T),T+=4+2*et.Xl.length,et.uV=O.sx(t,T,4),T+=4,et.gZ=O.sx(t,T,4),T+=4;var rt=O.pK(t,T);if(T+=8,et.open=t[T],T+=1,0!=et.open){var st={};(H=p._r(t,st,T+4))%4!=0&&(H+=4-H%4),console.log(st),T+=H+4}et.open=0,et.raw=O.$g(t,T,rt),T=Q+J,J%4!=0&&(T+=4-J%4)}break;case"FEid":T=e;n[o]=[];var at=T+l;d=O.j(t,T);for(T+=4;T<at;){T+=4;J=O.j(t,T);T+=4;var ht={};n[o].push(ht),ht.id=O.$T(t,T).oJ,T+=ht.id.length+1;d=O.j(t,T);T+=4,T+=4;O.j(t,T);T+=4,ht.rect=O.uq(t,T),T+=16;O.j(t,T);T+=4;var ot=O.j(t,T);T+=4;var lt=new a.wf(0);for(u=0;u<ot+2;u++){var ut=O.j(t,T);if(T+=4,0!=ut){T+=4;var ft=O.j(t,T),ct=null;T+=4,(u<3||25==u)&&(ct=y.Xv(!0,t,ht.rect.$,ht.rect.z,T,ft)),0==u&&(lt.T=ct),1==u&&(lt.q=ct),2==u&&(lt.H=ct),25==u&&(lt.o=ct),T+=ft}}ht.buffer=a.I(4*ht.rect.f()),a.GL(lt,ht.buffer),a.bt(ht);var pt=t[T];if(T++,0!=pt){ht.d=new nt.qu,ht.d.rect=O.uq(t,T),T+=16,T+=4;var vt=O.j(t,T);T+=4,ht.d.channel=y.Xv(!0,t,ht.d.rect.$,ht.d.rect.z,T,vt),ht.d.color=255,ht.d.hJ(),T+=vt}J%4!=0&&(T+=4-J%4)}break;default:console.log("unknown layer tag: "+o+", size: "+l)}-1=="Txt2 artd extd luni pths extn".split(" ").indexOf(o)&&l%4!=0&&console.log("size not multiple of 4!!!",o),"luni"!=o&&"TySh"!=o&&l%4!=0&&(l+=4-l%4),e+=l}else l%4!=0&&(l+=4-l%4),e+=l}var yt=[];for(u=0;u<yt.length;u++)delete n[yt[u]];return e},v.GT=function(t,e,i,n){for(var r in i)null==i[r]&&(alert("A bug occured (see console)."),console.log('Please, report a bug, that "'+r+'" tag was present with a null value.'),delete i[r]);for(var r in i){O.np(t,e,"8BIM");var s=e+=4,h=0;switch(O.np(t,e,r),e+=4,O.qe(t,e,0),e+=4,r){case"iOpa":case"knko":case"infx":case"clbl":case"lmgm":case"vmgm":O.tk(t,e,i[r],1),h=4;break;case"brst":h=0;for(var o=0;o<3;o++)0==i[r][o]&&(O.u(t,e+h,o),h+=4);break;case"lyid":case"lyvr":case"lspf":O.u(t,e,i[r]),h=4;break;case"lsct":O.u(t,e,i[r].type),h=4,i[r].kE&&(O.np(t,e+4,"8BIM"),O.np(t,e+8,i[r].kE),h=12);break;case"lnsr":O.np(t,e,i[r]),h=4;break;case"lclr":O.kW(t,e,i[r]),h=8;break;case"luni":O.ES(t,e,i[r]),h=4+2*i[r].length;break;case"fxrp":O.GP(t,e,i[r].x),O.GP(t,e+8,i[r].y),h=16;break;case"artb":case"artd":case"SoCo":case"GdFl":case"PtFl":case"CgEd":case"vibA":case"blwh":case"vstk":case"pths":O.u(t,e,16),h=p.Ny(t,i[r],e+4)+4;break;case"brit":t.VX(e,8),O._s(t.data,e+0,i[r].Pk),O._s(t.data,e+2,i[r].dy),O._s(t.data,e+4,i[r].ul),t.data[e+6]=i[r].uz,h=8;break;case"levl":var l=new Qi;h=M.QU(l,i[r]),O.$h(t,e,l.data);break;case"curv":h=b.Nv(t,e,i[r]);break;case"expA":h=14,t.VX(e,14),O.Ag(t.data,e,1),O.q_(t.data,e+2,i[r][0]),O.q_(t.data,e+6,i[r][1]),O.q_(t.data,e+10,i[r][2]);break;case"hue2":h=x.Nv(t,e,i[r]);break;case"blnc":h=19,t.VX(e,h);for(o=0;o<3;o++)for(var u=i[r].fY[o],f=0;f<3;f++)u.push(O._s(t.data,e+6*o+2*f,u[f]));t.data[e+18]=i[r].If?1:0;break;case"phfl":var c=null!=i[r].mB?3:2;O.kW(t,e,c);var d=i[r].mB,g=i[r].color;3==c&&(O.XU(t,e+2,d[0]),O.XU(t,e+6,d[1]),O.XU(t,e+10,d[2])),2==c&&(O.kW(t,e+2,g.L_),O.kW(t,e+4,g.Dq[0]),O.kW(t,e+6,g.Dq[1]),O.kW(t,e+8,g.Dq[2]),O.kW(t,e+10,g.Dq[3]));var w=e+2+(3==c?12:10);t.VX(w,5),O.nW(t.data,w,i[r].mC),w+=4,t.data[w]=i[r].uT?1:0,h=++w-e;break;case"mixr":h=44,t.VX(e,h),O.Ag(t.data,e,1),O.Ag(t.data,e+2,i[r]._J?1:0);for(o=0;o<20;o++)O._s(t.data,e+4+2*o,i[r].R[o]);break;case"clrL":O.kW(t,e,1),O.u(t,e+2,16),h=p.Ny(t,i[r],e+6)+6;break;case"nvrt":h=0;break;case"post":case"thrs":O.kW(t,e,i[r]),h=2;break;case"grdm":var S=i[r].e;t.VX(e,4),O.Ag(t.data,e,1),t.data[e+2]=i[r].rev?1:0,t.data[e+3]=i[r].mz?1:0;var C=e+4;O.ES(t,C,S.Nm.v),C+=4+2*S.Nm.v.length;var T=S.Clrs.v.length;O.kW(t,C,T),C+=2;for(o=0;o<T;o++){g=S.Clrs.v[o];O.u(t,C,g.v.Lctn.v),O.u(t,C+4,g.v.Mdpn.v),O.kW(t,C+8,0);var U=a.e.Ta(a.e.NG(g.v.Clr.v)),F=[U.Rd.v,U.Grn.v,U.Bl.v,0];for(f=0;f<4;f++)O.kW(t,C+10+2*f,Math.round(F[f]/255*65535));C+=20}var L=S.Trns.v.length;O.kW(t,C,L),C+=2;for(o=0;o<L;o++){g=S.Trns.v[o];O.u(t,C,g.v.Lctn.v),O.u(t,C+4,g.v.Mdpn.v),O.kW(t,C+8,Math.round(255*g.v.Opct.v.val/100)),C+=10}O.kW(t,C,2),C+=2,O.kW(t,C,S.Intr.v),C+=2,O.kW(t,C,32),C+=2,O.kW(t,C,i[r].mode),C+=2,O.u(t,C,i[r].dP),C+=4,O.kW(t,C,i[r].mU?1:0),C+=2,O.kW(t,C,i[r].mN?1:0),C+=2,O.u(t,C,i[r].mF),C+=4,O.kW(t,C,i[r].mu),C+=2;for(o=0;o<4;o++)O.kW(t,C+2*o,i[r]._V[o]);C+=8;for(o=0;o<4;o++)O.kW(t,C+2*o,i[r]._C[o]);C+=8,h=(C+=2)-e;break;case"selc":h=A.Nv(t,e,i[r]);break;case"FMsk":O.$h(t,e,i[r]),h=i[r].length;break;case"Txt2":var N=new Qi,I=D.nX(i[r].gz,N),E=a.I(I,!0);for(o=0;o<I;o++)E[o]=N.data[o];O.$h(t,e,E),h=E.length;break;case"vmsk":var P=i[r],J=0;O.u(t,e,3),P.WZ||(J+=2),P.isEnabled||(J+=4),O.u(t,e+4,J),h=8;var B=P.L.length;t.VX(e+8,26*B),k.GF(t.data,e+8,P.L,n.$,n.z),h+=26*B;break;case"shmd":O.u(t,e,Object.keys(i[r]).length);w=e+4;for(var X in i[r]){O.np(t,w,"8BIM"),w+=4,O.np(t,w,X),w+=4,O.u(t,w,0),w+=4,O.u(t,w,0),w+=4,O.u(t,w,16),w+=4;var z=p.Ny(t,i[r][X],w);z%4!=0&&(z+=4-z%4),O.u(t,w-8,z+4),w+=z}h=w-e;break;case"TySh":w=e;O.eL(t,w,1),w+=2;var $=i[r];N=new Qi;$.Bd.DocumentResources=JSON.parse(JSON.stringify($.Bd.ResourceDict));for(I=m.nX($.Bd,N),E=a.I(I,!0),o=0;o<I;o++)E[o]=N.data[o];$.ho.EngineData={t:"tdta",v:E};var V=$.Bd.EngineDict.Editor.Text;$.ho.Txt.v=V.substring(0,V.length-1),O.tLX(t,w,$.UC),w+=48,O.eL(t,w,50),w+=2,O.u(t,w,16),w+=4,w+=p.Ny(t,$.ho,w),O.eL(t,w,1),w+=2,O.u(t,w,16),w+=4,w+=p.Ny(t,$.O$,w),O.tTr(t,w,$._B),h=(w+=16)-e;break;case"lmfx":O.u(t,e,0),O.u(t,e+4,16);var R=JSON.parse(JSON.stringify(i[r])),q=!1;v.XG(R);for(o=0;o<ot.vz.length;o++)null!=R[ot.vz[o]]&&(q=!0);O.np(t,s,q?"lmfx":"lfx2"),h=p.Ny(t,R,e+8)+8;break;case"Patt":var H=e,j=e;for(o=0;o<i[r].length;o++){var G=i[r][o];C=j;O.u(t,j,0),j+=4,(Z=(j=_.ku(t,j,G))-C-4)%4!=0&&(Z+=4-Z%4),O.u(t,C,Z),j=C+Z+4}h=j-H;break;case"SoLd":O.np(t,e,"soLD"),O.u(t,e+4,4),O.u(t,e+8,16),h=p.Ny(t,i[r],e+12)+12;break;case"vscg__":O.np(t,e,i[r].key),O.u(t,e+4,16),h=p.Ny(t,i[r].R,e+8)+8;break;case"vogk":O.u(t,e,1),O.u(t,e+4,16),a.FU.tRG(i[r]);for(o=0;o<i[r].length;o++){var Y=i[r][o].v.keyOriginResolution;Y&&(Y.v=n.go)}var K={classID:"null",keyDescriptorList:{t:"VlLs",v:i[r]}};h=p.Ny(t,K,e+8)+8;break;case"lnkD":case"lnk2":case"lnk3":for(C=e,o=0;o<i[r].length;o++){var Q=i[r][o],W=C;O.XA(t,C,0),C+=8,O.np(t,C,Q.type),C+=4,O.u(t,C,Q.dm),C+=4,t.VX(C,1),t.data[C]=Q.VB.length,C++,O.np(t,C,Q.VB),C+=Q.VB.length,O.ES(t,C,Q.Xl),C+=4+2*Q.Xl.length,O.np(t,C,Q.uV),C+=4,O.np(t,C,Q.gZ),C+=4,O.XA(t,C,Q.raw.length),C+=8,t.VX(C,1),t.data[C]=Q.open,C++,O.$h(t,C,Q.raw),C+=Q.raw.length,O.u(t,C,1),C+=4;var Z=(C+=11)-W-8;O.XA(t,W,Z),Z%4!=0&&(t.VX(C,4-Z%4),C+=4-Z%4)}h=C-e;break;case"FEid":C=e;O.u(t,C,3),C+=4;for(var tt=0;tt<i[r].length;tt++){var et=i[r][tt],it=C+=4;C+=4,O.Fb(t,C,et.id),C+=et.id.length+1,O.u(t,C,1),C+=4;var nt=C+=4;C+=4,O.lW(t,C,et.rect),C+=16,O.u(t,C,8),C+=4,O.u(t,C,24),C+=4;var rt=new a.wf(et.rect.f());a.GQ(et.buffer,rt);for(o=0;o<26;o++){var st=null;if(0==o&&(st=rt.T),1==o&&(st=rt.q),2==o&&(st=rt.H),25==o&&(st=rt.o),O.u(t,C,null!=st?1:0),C+=4,null!=st){var at=C+=4;C+=4,t.VX(C,et.rect.f()+2),C=y.XQ(st,t.data,et.rect.$,et.rect.z,C,3),O.u(t,at,C-(at+4))}}if(O.u(t,nt,C-(nt+4)),t.VX(C,1),t.data[C]=et.d?1:0,C++,null!=et.d){var ht=et.d.rect,lt=et.d.channel;ht=et.rect,lt=a.I(ht.f()),a.set(lt,et.d.color),a.Jg(et.d.channel,et.d.rect,lt,ht),O.lW(t,C,ht),C+=16;var ut=C+=4;C+=4,t.VX(C,ht.f()+2),C=y.XQ(lt,t.data,ht.$,ht.z,C,3),O.u(t,ut,C-(ut+4))}Z=C-(it+4);O.u(t,it,Z),Z%4!=0&&(C+=4-Z%4)}h=C-e;break;default:console.log("unknown layer tag: "+r+", size: "+h),e-=12;continue}-1==["Txt2","artd","extd","luni","pths"].indexOf(r)&&h%4!=0&&(h+=4-h%4),O.qe(t,e-4,h),"luni"!=r&&"TySh"!=r&&h%4!=0&&(h+=4-h%4),e+=h}return e},v.Xd=function(t){for(var e=0;e<ot.order.length;e++){var i=ot.order[e],n=ot.vz[e];null==t[n]&&(t[n]={t:"VlLs",v:[]}),null!=t[i]&&(t[n].v.push(t[i]),delete t[i]);for(var r=[],s=0;s<t[n].v.length;s++){var a=t[n].v[s];null!=a.v.present&&1!=a.v.present.v||r.push(a)}t[n].v=r}},v.XG=function(t){for(var e=0;e<ot.order.length;e++){var i=ot.order[e],n=ot.vz[e],r=t[n].v.length;0!=r?1!=r||(t[i]=t[n].v[0],delete t[n]):delete t[n]}},v.Xx=function(t,e){"GdFl"==e&&(null==t.Angl&&(t.Angl={v:{type:"#Ang",val:90},t:"UntF"}),null==t.Algn&&(t.Algn={v:!0,t:"bool"}),null==t.Scl&&(t.Scl={v:{type:"#Prc",val:100},t:"UntF"}),null==t.Ofst&&(t.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"}),null==t.Rvrs&&(t.Rvrs={v:!1,t:"bool"}),null==t.Dthr&&(t.Dthr={v:!1,t:"bool"})),"PtFl"==e&&(null==t.Algn&&(t.Algn={v:!0,t:"bool"}),null==t.Scl&&(t.Scl={v:{type:"#Prc",val:100},t:"UntF"}),null==t.phase&&(t.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}))},v.clone=function(t,e){var i={};return"TySh"==t?(i.UC=e.UC.clone(),i.ho=JSON.parse(JSON.stringify(e.ho)),i.O$=JSON.parse(JSON.stringify(e.O$)),i._B=e._B.clone(),i.Bd=JSON.parse(JSON.stringify(e.Bd)),i):"fxrp"==t||"vmsk"==t?e.clone():JSON.parse(JSON.stringify(e))},d.Fp=function(t,e,i,n){return n=d.tHM(t,e,i,n)},d.nX=function(t,e,i,n,r){return n=d.tHA(t,e,i,n,r)},d.tHM=function(t,e,i,n){t.rect=O.uq(i,n),n+=16;var r=O.NU(i,n);n+=2,t.Gy=[];for(var s=e.uk,a=0;a<r;a++)t.Gy[a]={id:O.kF(i,n),length:(s?O.pK:O.j)(i,n+2)},n+=s?10:6;var h=O.sx(i,n,4);if(n+=4,"8BIM"!=h)throw console.log("Invalid Blend mode signature: "+h),alert("Error in Photoshop file: wrong signature."),"e";t.kE=O.sx(i,n,4),n+=4,t.opacity=i[n],n+=1,t.fB=1==i[n],n+=1,t._c=i[n],0!=i[n+=1]&&console.log("error in filler!"),n+=1;var o=O.j(i,n),l=n+=4;n=d.tHU(t,i,n),n=d.tyt(t,i,n);var u=O.$T(i,n);if(t.name=u.oJ,n+=u.length,u.length%4!=0&&(n+=4-u.length%4),n=v.Gr(i,n,l+o,t.add,s,e),t._P){var f=t._P;t.Ab()&&(t.Ab().JU=f[0],t.Ab().jQ=f[1]),t.add.vmsk&&(t.add.vmsk.JU=f[2],t.add.vmsk.jQ=f[3])}return t.add.lsct&&(t.add.lsct.kE&&(t.kE=t.add.lsct.kE),t.add.lsct=t.add.lsct.type),n},d.tHA=function(t,e,i,n,r){O.lW(i,n,t.rect),n+=16;var s=t.fp();O.kW(i,n,s.length),n+=2,r.push(n);for(var a=0;a<s.length;a++)O.eL(i,n,s[a]),O.u(i,n+2,0),n+=6;O.np(i,n,"8BIM"),n+=4,O.np(i,n,t.kE),n+=4,O.tk(i,n,t.opacity,1),n+=1,O.tk(i,n,t.fB?1:0,1),n+=1,O.tk(i,n,t._c,1),n+=1,O.tk(i,n,0,1);var h=n+=1;O.u(i,n,0);var o=n+=4;n=d.twv(t,i,n),n=d.tyG(t,i,n);var l=O.Fb(i,n,t.name);n+=l,l%4!=0&&(n+=4-l%4),t.add.lsct&&(t.add.lsct={type:t.add.lsct},"pass"==t.kE&&(t.add.lsct.kE="pass",t.kE="norm")),"pass"==t.kE&&(t.add.lsct={type:t.add.lsct,kE:"pass"}),n=v.GT(i,n,t.add,e),t.add.lsct&&(t.add.lsct.kE&&(t.kE=t.add.lsct.kE),t.add.lsct=t.add.lsct.type);var u=n-o;return O.u(i,h,u),n},d.tHU=function(t,e,i){var n=O.j(e,i);if(i+=4,0==n)return i;var r=i;t.d=new nt.qu,t.d.rect=O.uq(e,i),i+=16,t.d.color=e[i],i+=1;var s=d.GK(t.d,e,i);if(i+=1,s){for(var a=!1,h=255,o=0,l=255,u=0,f=0;f<t.Gy.length;f++)-3==t.Gy[f].id&&(a=!0);a&&(t.qz=d.Gv(e,i),i+=18);var c=i,p=e[i];i++,p>>0&1&&(h=e[i],i++),p>>1&1&&(o=O.FD(e,i),i+=8),p>>2&1&&(l=e[i],i++),p>>3&1&&(u=O.FD(e,i),i+=8),1==(i-c&1)&&i++,t._P=[h,o,l,u]}else 20==n?i+=2:(t.qz=d.Gv(e,i),i+=18);return r+n},d.twv=function(t,e,i){if(O.u(e,i,0),i+=4,null==t.d)return i;var n=i;O.u(e,i,0),O.lW(e,i,t.d.rect),i+=16,O.tk(e,i,t.d.color),i+=1,d.Gz(t.d,e,i,true),i+=1,t.qz&&(d.twE(e,i,t.qz),i+=18),O.tk(e,i,15),i+=1;var r=t.Ab(),s=t.add.vmsk;return O.tk(e,i,r?r.JU:255),i+=1,O.GP(e,i,r?r.jQ:0),i+=8,O.tk(e,i,s?s.JU:255),i+=1,O.GP(e,i,s?s.jQ:0),i+=8,i++,O.u(e,n-4,i-n),i},d.Gv=function(t,e){var i=new nt.qu;return d.GK(i,t,e),e+=1,i.color=t[e],e+=1,i.rect=O.uq(t,e),e+=16,i},d.twE=function(t,e,i){d.Gz(i,t,e,!1),e+=1,O.tk(t,e,i.color),e+=1,O.lW(t,e,i.rect),e+=16},d.GK=function(t,e,i){var n=e[i];return t.WZ=0==(n>>0&1),t.isEnabled=0==(n>>1&1),t.iV=1==(n>>3&1),n>>4&1},d.Gz=function(t,e,i,n){var r=0;t.WZ||(r+=1),t.isEnabled||(r+=2),t.iV&&(r+=8),n&&(r+=16),O.tk(e,i,r)},d.tyt=function(t,e,i){var n=O.j(e,i);i+=4,40!=n&&console.log("unexpected Layer Blending Ranges content, size:",n),t.gA=[];for(var r=0;r<n/4;r++)t.gA.push(O.NU(e,i)),i+=2,t.gA.push(O.NU(e,i)),i+=2;return i},d.tyG=function(t,e,i){O.u(e,i,2*t.gA.length),i+=4;for(var n=0;n<t.gA.length;n++)O.kW(e,i,t.gA[n]),i+=2;return i},y.Fp=function(t,e,i,n){return n=y.tyx(e.uk,e._a,t,i,n)},y.QU=function(t,e,i,n,r){return i=y.tyM(t,e,i,n,r)},y.tyx=function(t,e,i,n,r){for(var s=i.Gy,h={},o=0;o<s.length;o++){var l,u=s[o],f=u.id,c=u.length;l=-3==f?i.qz.rect:-2==f?i.d.rect:i.rect;var p=y.Xv(t,n,l.$,l.z,r,c);r+=c,-3==f?i.qz.channel=p:-2==f?i.d.channel=p:h["c"+f]=p}var v=new a.wf(0);if(v.o=null,3==e)v.T=h.c0,v.q=h.c1,v.H=h.c2,v.o=h["c-1"];else if(1==e)v.T=h.c0,v.q=h.c0,v.H=h.c0,v.o=h["c-1"];else if(4==e){var d=h.c0,g=h.c1,m=h.c2,w=h.c3,b=d.length;for(o=0;o<b;o++){var x=d[o],M=g[o],S=m[o],A=.00392156862745098*w[o];d[o]=Math.round(x*A),g[o]=Math.round((.2*x+.8*M)*A),m[o]=Math.round((.2*M+.8*S)*A)}v.T=d,v.q=g,v.H=m,v.o=h["c-1"],console.log("converting from CMYK to RGB")}return null==v.o&&null!=v.T&&(v.o=a.clone(v.T),a.set(v.o,255)),i.buffer=a.I(Math.max(0,4*i.rect.f())),a.GL(v,i.buffer),r},y.tyM=function(t,e,i,n,r){var s=t.fp(),h=new a.wf(t.rect.f());a.GQ(t.buffer,h);for(var o=0;o<s.length;o++){var l,u,f=s[o];l=-3==f?t.qz.rect:-2==f?t.d.rect:t.rect,-3==f&&(u=t.qz.channel),-2==f&&(u=t.d.channel),-1==f&&(u=h.o),0==f&&(u=h.T),1==f&&(u=h.q),2==f&&(u=h.H),e.VX(i,3*l.f()+4);var c=i,p=(i=y.XQ(u,e.data,l.$,l.z,i,r[1]?3:1))-c;p%2!=0&&(p+=p%2,i++),O.nW(e.data,n+6*o+2,p)}return i},y.Xv=function(t,e,i,n,r,s){var a=O.kF(e,r);return r+=2,y.UI(t,e,i,n,r,a,s-2)},y.XQ=function(t,e,i,n,r,s){return O._s(e,r,s),r+=2,r=y.UE(t,e,i,n,r,s)},y.UI=function(t,e,i,n,r,s,h){var o,l=i*n,u=3&l,f=l+(0==u?0:4-u);if(0==s){if(r+f<=e.length)o=e.slice(r,r+f);else{o=a.I(l);for(var c=0;c<l;c++)o[c]=e[r+c]}r+=l}else if(1==s){o=a.I(l);var p=t?4:2;r+=p*n+y.GZ(e,o,i,n,r,r+p*n,p)}else if(2==s||3==s){var v=new Uint8Array(e.buffer,r+2,h-6),d=pako.inflateRaw(v);if(3==s)for(var g=0;g<n;g++){var m=g*i+1,w=m+i-1,b=d[m-1];d[m-1]=b;for(var x=m;x<w;x++)b+=d[x],d[x]=255&b}if(d.length==f)o=d;else{o=a.I(f);for(c=0;c<d.length;c++)o[c]=d[c]}}else console.log("Unknown compression: "+s);return o},y.UE=function(t,e,i,n,r,s){var a=i*n;if(0==s)for(var h=0;h<a;h++)e[r++]=t[h];else if(1==s){r+=2*n+y.GA(t,e,i,n,r,r+2*n)}else if(2==s||3==s){if(3==s){for(var o=new Uint8Array(t.length),l=0;l<n;l++){var u=l*i+1,f=u+i-1,c=t[u-1];o[u-1]=c;for(var p=u;p<f;p++)o[p]=t[p]+(256-c)&255,c=t[p]}t=o}e[r]=120,e[r+1]=156,r+=2;var v=pako.deflateRaw(t,{tTg:4});O.xH(e,r,v),r+=v.length+4}else console.log("Unknown compression: "+s);return r},y.GZ=function(t,e,i,n,r,s,a){var h=s,o=0|n;if(2==a)for(var l=0;l<o;l++){var u=O.NU(t,r+(l<<1));y.GU(t,s,u,e,l*i,i),s+=u}else for(l=0;l<o;l++){u=O.j(t,r+(l<<2));y.GU(t,s,u,e,l*i,i),s+=u}return s-h},y.GA=function(t,e,i,n,r,s){for(var a=s,h=0;h<n;h++){var o=y.tyg(t,h*i,i,e,s);O.Ag(e,r+2*h,o),s+=o}return s-a},y.tyg=function(t,e,i,n,r){var s,a,h,o,l,u;for(o=e+i,h=e,a=r;i>0;h=s,i-=l)if(u=i<128?i:128,h<=o-3&&t[h+1]==t[h+0]&&t[h+2]==t[h+0]){for(s=h+3;s<h+u&&t[s]==t[h+0];)++s;l=s-h,n[a++]=257-l,n[a++]=t[h+0]}else{for(s=h;s<h+u&&!(s<=o-3&&t[s+1]==t[s+0]&&t[s+2]==t[s+0]);)++s;l=s-h,n[a++]=l-1;for(var f=0;f<l;f++)n[a+f]=t[h+f];a+=l}return a-r},y.GU=function(t,e,i,n,r,s){for(var a=0;a<i;){var h=t[e++];if(h>=128){var o=t[e++],l=r+(257-h);n.fill(o,r,l),r=l,a+=2}else{for(l=r+(1+h);r<l;)n[r++]=t[e++];a+=2+h}}},g.Fp=function(t,e){e.uk=!1,e.tdq=8;var i=new Uint8Array(t),n=0,r=0,s=0;if(n=r=g.XO(e,i,n),n=r=g.tDF(e,i,n),n=r=g.tLN(e,i,n),n=r=g.tCT(e,i,n),n=r=g.tRz(e,i,n),0==e.b.length){var h=e.Zs();h.Vp("Background"),e.b.push(h),h.buffer=a.clone(e.buffer),h.rect=new L(0,0,e.$,e.z)}if(e.TP.r1005&&(e.go=O.NU(e.TP.r1005,0)),e.TP.r1026){i=e.TP.r1026;for(var o=0;o<i.length;o+=2){(r=e.b[o>>>1])&&(r.nb=O.NU(i,o))}}if(e.TP.r1032){i=e.TP.r1032;var l=O.j(i,12);for(o=0;o<l;o++){var u=i[16+5*o+4],f=O.j(i,16+5*o)/32;e.UL[u].push(f)}}if(e.TP.r1065){i=e.TP.r1065;e.qO={},p._r(e.TP.r1065,e.qO,4,!1)}if(e.TP.r1069){i=e.TP.r1069;var v=[];for(o=2;o<i.length;o+=4)for(var d=O.j(i,o),y=0;y<e.b.length;y++){(r=e.b[y]).add.lyid==d&&3!=r.add.lsct&&v.push(y)}e.g=v}delete e.uk;new L(0,0,e.$,e.z);var m=e.add.Txt2,w=m;if(w&&null==(w=w.gz)._DocumentResources&&(w=gt.tdG(w)),m&&null!=m.gz._DocumentResources){"_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" ");var b=m.gz._DocumentResources._TextFrameSet._Resources;for(o=0;o<b.length;o++);}for(o=0;o<e.b.length;o++){var x=(r=e.b[o]).add.vmsk,M=r.Ab();if(r.kl()&&r.hy(e).d)r.hy(e).d.isEnabled=r.add.SoLd.filterFX.v.filterMaskEnable.v;if(x&&r.TT()&&null==r.add.vstk&&(r.add.vstk=JSON.parse(JSON.stringify(ot.nO.default)),r.add.vstk.strokeEnabled.v=!1),x&&null==r.add.vogk&&r.Ls(),null==M&&null!=r.d&&(0==r.d.iV?(r.d.iV=!0,r.qz=r.d.clone()):(x.qz=r.d,x.rb=!1,r.d.jQ=x.jQ,r.d.JU=x.JU)),null==M||null==x||M.jQ+x.jQ==0&&M.JU+x.JU==510||r.Sa(e),r.TT()&&(r.rect.km()||x&&0!=x.jQ)&&r.JV(e),r.add.TySh&&w){var S=r.add.TySh.Bd,A=dt.BR(S),k=S.EngineDict.ParagraphRun.RunArray,C=w._DocumentObjects._TextObjects;if(C.length<=s){console.log("Txt2 incomplete");continue}C=C[s]._Model._ParagraphRun._RunArray;var T=Math.min(C.length,k.length);for(y=0;y<T;y++){var U=k[y].ParagraphSheet.Properties,_=w._DocumentResources._ParagraphSheetSet._Resources,F=C[y]._RunData._ParagraphSheet;"string"==typeof F&&(F=_[parseInt(F.slice(1))]._Resource);var D=null==F._Parent?F:_[parseInt(F._Parent.slice(1))]._Resource,N=F._Features._ParagraphDirection;null==N&&(N=D._Features._ParagraphDirection),N&&(U._Direction=parseInt(N.slice(1)))}var I=w._DocumentResources._TextFrameSet._Resources[s]._Resource,E=new c(1,0,0,1,0,0);if(I._0){var P=parseFloat(I._0[0].slice(1)),J=parseFloat(I._0[1].slice(1));E.translate(P,J)}if(A)E.translate(A[0],A[1]),dt.Yc(S,[0,0,A[2]-A[0],A[3]-A[1]]);else if(I._Bezier&&I._Bezier._Points){var B=I._Bezier._Points;P=parseFloat(B[0].slice(1)),J=parseFloat(B[1].slice(1));0==P&&0==J||E.translate(P,J)}if(I._Data&&I._Data._FrameMatrix){var X=I._Data._FrameMatrix;X=X.map((function(t){return parseFloat(t.slice(1))})),E.concat(new c(X[0],X[1],X[2],X[3],X[4],X[5]))}E.concat(r.add.TySh.UC),r.add.TySh.UC=E,s++}}K.YU.lS(e,!0)},g.txd=function(t,e,i,n){for(var r=0;r<n;r++)if(t[i+r]!=e[i+r])return!1;return!0},g.nX=function(t,e,i){K.YU.tT(t),K.YU.lS(t,!1);for(var n=[],r=[],s=[],h=[],o=[],l=0,u=0;u<t.b.length;u++){var f=t.b[u];new L(0,0,t.$,t.z);if(f.kl()&&f.hy(t).d&&(f.add.SoLd.filterFX.v.filterMaskEnable.v=f.hy(t).d.isEnabled),f.add.SoLd&&(r.push(f.add.SoLd.Idnt.v),s.push(f.add.SoLd.placed.v)),f.add.TySh&&(f.add.TySh.ho.TextIndex={t:"long",v:n.length},n.push(f.add.TySh.Bd)),f.add.PtFl&&h.push(f.add.PtFl.Ptrn.v.Idnt.v),f.add.lmfx)for(var c=0;c<ot.vz.length;c++)for(var p=f.add.lmfx[ot.vz[c]].v,v=0;v<p.length;v++)p[v].v.Ptrn&&h.push(p[v].v.Ptrn.v.Idnt.v);var d=f.add.vstk;d&&"patternLayer"==d.strokeStyleContent.v.classID&&h.push(d.strokeStyleContent.v.Ptrn.v.Idnt.v),f.TT()&&(o[u]=[f.rect,f.buffer],f.rect=new L,f.buffer=a.I(0))}if(n.length>0){var y=t.add.Txt2?t.add.Txt2.gz:null;t.add.Txt2={},t.add.Txt2.gz=yt.tPy(n,null,y)}var m=t.add.lnk2;if(m){var w=t.add.lnk2=[];for(u=0;u<m.length;u++)-1!=r.indexOf(m[u].VB)&&w.push(m[u]);0==w.length&&delete t.add.lnk2}var b=t.add.FEid;if(b){var x=t.add.FEid=[];for(u=0;u<b.length;u++)-1!=s.indexOf(b[u].id)&&x.push(b[u]);0==x.length&&delete t.add.FEid}var M=t.add.Patt;if(M){var S=t.add.Patt=[];for(u=0;u<M.length;u++)-1!=h.indexOf(M[u].id)&&S.push(M[u])}l=g.tyq(t,e,l),l=g.tcT(t,e,l),l=g.tLs(t,e,l),l=g.tTF(t,e,l,i),l=g.tth(t,e,l,i[0]);for(u=0;u<t.b.length;u++){(f=t.b[u]).TT()&&(f.rect=o[u][0],f.buffer=o[u][1])}return m&&(t.add.lnk2=m),b&&(t.add.FEid=b),M&&(t.add.Patt=M),K.YU.lS(t,!0),l},g.XO=function(t,e,i){var n=O.sx(e,i,4);i+=4,"8BPS"!=n&&alert("invalid header signature: "+n);var r=O.NU(e,i);i+=2,t.uk=2==r,1!=r&&2!=r&&alert("invalid version: "+r),i+=6,t.FR=O.NU(e,i),i+=2,t.z=O.eI(e,i),i+=4,t.$=O.eI(e,i),i+=4;var s=O.NU(e,i);i+=2,8!=s&&alert(s+" Bits/Channel are not supported!"),t.tdq=s,t._a=O.NU(e,i),i+=2;var a=t._a,h="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" ");if(3!=a){if(1!=a&&4!=a)return alert("Color mode "+h[a]+" is not supported yet :("),null;alert("Project will be converted from "+h[a]+" to "+h[3]+" mode.")}return i},g.tyq=function(t,e,i){return e.VX(0,64),O.Fo(e.data,i,"8BPS"),i+=4,O.Ag(e.data,i,1),i+=2,O.nW(e.data,i,0),i+=4,O.Ag(e.data,i,0),i+=2,O.Ag(e.data,i,t.FR),i+=2,O.nU(e.data,i,t.z),i+=4,O.nU(e.data,i,t.$),i+=4,O.Ag(e.data,i,8),i+=2,O.Ag(e.data,i,3),i+=2},g.tDF=function(t,e,i){var n=O.eI(e,i);return i+=4,i+=n},g.tcT=function(t,e,i){return O.qe(e,i,0),i+=4},g.tLN=function(t,e,i){var n=O.j(e,i),r=0;i+=4;for(var s=[];r<n;){var a=O.sx(e,i+r,4);r+=4;var h=O.NU(e,i+r);r+=2,r+=O.$T(e,i+r).length,"8BIM"!=a&&(s.push(h),console.log("Unknown Image Resources signature: "+a+", ID: "+h));var o=O.j(e,i+r);r+=4,null!=t.TP["r"+h]&&console.log("--- two resources with same ID"),t.TP["r"+h]=O.$g(e,i+r,o),r+=o,o%2!=0&&r++}for(var l=0;l<s.length;l++)delete t.TP["r"+s[l]];return null==t.Ej()&&t.wh(30),i+n},g.tLs=function(t,e,i){t.TP.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]),O.Ag(t.TP.r1005,0,t.go),O.Ag(t.TP.r1005,8,t.go),t.TP.r1026=new Uint8Array(2*t.b.length);for(var n=0;n<t.b.length;n++)O.Ag(t.TP.r1026,2*n,t.b[n].nb);var r=t.UL,s=r[0].length+r[1].length,h=t.TP.r1032=a.I(16+5*s,!0),o=16,l=0;O.nW(h,0,1),O.nW(h,4,576),O.nW(h,8,576),O.nW(h,12,s);for(n=0;n<2;n++)for(var u=0;u<r[n].length;u++)O.nW(h,o,Math.round(32*r[n][u])),h[o+4]=n,o+=5;var f=new Qi;O.u(f,0,16);var c=p.Ny(f,t.qO,4);t.TP.r1065=f.data.slice(0,c+4);var v=t.g;h=t.TP.r1069=a.I(2+4*v.length,!0),O.Ag(h,0,v.length);for(n=0;n<v.length;n++)O.nW(h,2+4*n,t.b[v[n]].add.lyid);var d=new Date,y=[d.getFullYear(),d.getMonth()+1,d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()];for(n=0;n<6;n++)y[n]=(y[n]+"").padStart(2,"0");var g=[{t274:[1],t282:[72],t283:[72],t296:[2],t305:["Photopea Editor (www.photopea.com)"],t306:[y[0]+":"+y[1]+":"+y[2]+" "+y[3]+":"+y[4]+":"+y[5]]},{t259:[6],t282:[72],t283:[72],t296:[2],t513:[302],t514:[0]}];t.TP.r1058=new Uint8Array(UTIF.encode(g));var m=i;for(var w in O.u(e,i,4294967295),i+=4,t.TP){O.np(e,i+l,"8BIM"),l+=4;var b=parseInt(w.substring(1));O.kW(e,i+l,b),l+=2,l+=O.Fb(e,i+l,"");var x=t.TP["r"+b],M=x.length;O.u(e,i+l,M),l+=4,O.$h(e,i+l,x),l+=M,M%2==1&&l++}return O.u(e,m,l),i+l},g.tCT=function(t,e,i){var n,r=i,s=t.uk?8:4;return n=t.uk?O.pK(e,i):O.j(e,i),i+=s,0==n?r+s:(i=g.tPF(t,e,i),i=g.txv(t,e,i),i=v.Gr(e,i,r+s+n,t.add,t.uk,t),r+s+n)},g.tTF=function(t,e,i,n){var r=i;return O.u(e,i,0),i+=4,i=g.tdP(t,e,i,n),i=g.tRl(t,e,i),i=v.GT(e,i,t.add,t),O.u(e,r,i-r-4),i},g.tPF=function(t,e,i){var n,r,s=i,a=t.uk?8:4;if(n=t.uk?O.pK(e,i):O.j(e,i),i+=a,r=O.kF(e,i),i+=2,0==n)return console.log("no layers!"),i-2;for(var h=Math.abs(r),o=0;o<h;o++){var l=new nt;i=d.Fp(l,t,e,i),t.b[o]=l}for(o=0;o<h;o++){l=t.b[o];i=y.Fp(l,t,e,i)}return n%2!=0&&n++,s+n+a},g.tdP=function(t,e,i,n){var r=i;O.u(e,i,0),i+=4;var s=t.b.length;O.kW(e,i,-s),i+=2;for(var a=[],h=0;h<s;h++)i=d.nX(t.b[h],t,e,i,a);for(h=0;h<s;h++)i=y.QU(t.b[h],e,i,a[h],n);var o=i-r-4;return o%2!=0&&o++,O.u(e,r,o),r+o+4},g.txv=function(t,e,i){var n=O.j(e,i);return i+=4,i+=n},g.tRl=function(t,e,i){O.u(e,i,0);return i+=4},g.tRz=function(t,e,i){var n,r=O.NU(e,i);i+=2,t.buffer=a.I(t.$*t.z*4),a.Mw(t.buffer,4278190080);for(var s=i,h=0;h<t.FR;h++){if(0==r)n=y.UI(t.uk,e,t.$,t.z,i,r),i+=t.$*t.z;else if(1==r){n=a.I(t.$*t.z);var o=t.uk?4:2;0==h&&(i+=t.FR*t.z*o),i+=y.GZ(e,n,t.$,t.z,s+h*t.z*o,i,o)}else console.log("unknown compression of image data: ",r);a.kw(n,t.buffer,h),1==t.FR&&0==h&&(a.kw(n,t.buffer,1),a.kw(n,t.buffer,2))}return t.FR=4,i},g.tth=function(t,e,i,n){var r,s,h=t.$,o=t.z;O.kW(e,i,1),i+=2;var l=h*o;if(n)r=a.I(l);else{s=new a.wf(h*o),a.GQ(t.buffer,s);for(var u=0;u<l;u++){var f=s.o[u]*(1/255);s.T[u]=~~(s.T[u]*f+255*(1-f)),s.q[u]=~~(s.q[u]*f+255*(1-f)),s.H[u]=~~(s.H[u]*f+255*(1-f))}}for(var c=i,p=0;p<t.FR;p++){e.VX(i,h*o+4),n||(r=0==p?s.T:1==p?s.q:2==p?s.H:s.o),0==p&&(i+=t.FR*o*2);i+=y.GA(r,e.data,h,o,c+p*o*2,i)}return i},m.Fp=function(t){var e={};return m.Uo(t,e,0,0),e},m.nX=function(t,e){var i=0;return i=m.kH(t,e,i,0)},m.Uo=function(t,e,i,n){for(;t[i]!="<".charCodeAt(0);)i++;for(i+=2;;)if(t[i]=="/".charCodeAt(0)){i++;var r=O.indexOf(t," ".charCodeAt(0),i,i+50),s=O.indexOf(t,"\n".charCodeAt(0),i,i+50);-1==s&&(s=1/0),-1==r&&(r=1/0);var a=O.sx(t,i,Math.min(s,r)-i),h=m.eb(t,Math.min(s,r)+1,n+1,a);e[a]=h.R,i=Math.min(s,r)+1,i+=h.size}else{if(t[i]==">".charCodeAt(0)){i+=2;break}var o=t[i];10==o||9==o||32==o||console.log("unknown byte: "+o+", char: "+String.fromCharCode(o),i),i++}return i},m.kH=function(t,e,i,n){O.np(e,i,"<<\n"),i+=3;var r=m.ttB;for(var s in t)O.tk(e,i,"\t".charCodeAt(0),n+1),i+=n+1,O.np(e,i,"/"+s),i+=1+s.length,r(t[s])||t[s]instanceof Array?(O.np(e,i," "),i++):(O.np(e,i,"\n"),i++,O.tk(e,i,"\t".charCodeAt(0),n+1),i+=n+1),i=m.qY(t[s],e,i,n+1),O.np(e,i,"\n"),i++;return O.tk(e,i,"\t".charCodeAt(0),n),i+=n,O.np(e,i,">>"),i+=2},m.eb=function(t,e,i,n){for(var r=e,s={size:0,R:0};;){for(;t[e]==" ".charCodeAt(0)||t[e]=="\t".charCodeAt(0)||t[e]=="\n".charCodeAt(0);)e++;if(t[e]=="<".charCodeAt(0)){s.R={},e=m.Uo(t,s.R,e,i+1);break}if(t[e]=="(".charCodeAt(0)){for(var a=e+=3;t[a]!=")".charCodeAt(0)||t[a+1]!="\n".charCodeAt(0)&&t[a+1]!=" ".charCodeAt(0);)a++;s.R=O.Gm(t,e,a),e=a+2;break}if(t[e]=="[".charCodeAt(0)){for(e++,s.R=[];t[e]==" ".charCodeAt(0)||t[e]=="\t".charCodeAt(0)||t[e]=="\n".charCodeAt(0);)e++;for(;t[e]!="]".charCodeAt(0);){var h=m.eb(t,e,i+1,n);for(s.R.push(h.R),e+=h.size;t[e]==" ".charCodeAt(0)||t[e]=="\t".charCodeAt(0)||t[e]=="\n".charCodeAt(0);)e++}e++;break}var o=O.indexOf(t," ".charCodeAt(0),e,e+50),l=O.indexOf(t,"\n".charCodeAt(0),e,e+50);-1==l&&(l=1/0),-1==o&&(o=1/0);var u=O.sx(t,e,Math.min(o,l)-e).trim(),f=parseFloat(u);if(!isNaN(f)){s.R=parseFloat(u),e=Math.min(o,l)+1;break}if("true"==u||"false"==u){s.R="true"==u,e=Math.min(o,l)+1;break}console.log("unknown identifier: "+u),e=Math.min(o,l)+1}return s.size=e-r,s},m.qY=function(t,e,i,n){if(t instanceof Array)if(0==t.length||"number"==typeof t[0]){O.np(e,i,"[ "),i+=2;for(var r=0;r<t.length;r++){var s=t[r]+" ";O.np(e,i,s),i+=s.length}O.np(e,i,"]"),i+=1}else{O.np(e,i,"[\n"),i+=2;for(r=0;r<t.length;r++)O.tk(e,i,"\t".charCodeAt(0),n),i+=n,i=m.qY(t[r],e,i,n),O.np(e,i,"\n"),i++;O.tk(e,i,"\t".charCodeAt(0),n),i+=n,O.np(e,i,"]"),i+=1}else if(t instanceof Object)i=m.kH(t,e,i,n);else if("string"==typeof t)O.np(e,i,"("),i++,O.tk(e,i,254),i++,O.tk(e,i,255),i++,i=O.Gs(e,i,t),O.np(e,i,")"),i+=1;else{s=t+"";O.np(e,i,s),i+=s.length}return i},m.ttB=function(t){var e=typeof t;return"string"==e||"number"==e||"boolean"==e},w.Fp=function(t){var e=new Uint8Array(t),i=0,n={Fy:[],nw:[],list:[]},r=O.NU(e,i);i+=2;var s=O.NU(e,i);i+=2;O.sx(e,i,8);i+=8;var a=O.j(e,i);i+=4,a>0&&(n.Fy=w.tJ$(e,i,a,s,r)),i+=a;O.sx(e,i,8);i+=8;var h=O.j(e,i);i+=4,h>0&&(n.nw=w.trx(e,i,h)),i+=h;O.sx(e,i,8);i+=8;var o=O.j(e,i);if(i+=4,o>0){var l={};p._r(e,l,i+4),n.list=l.Brsh.v}i+=o;for(var u=n.list,f=0;f<u.length;f++)ut._o.check(u[f].v);return n},w.QU=function(t){var e=new Qi,i=0,n=0;O.kW(e,i,6),i+=2,O.kW(e,i,2),i+=2,O.np(e,i,"8BIMsamp"),i+=8,n=i+=4,i=w.tJf(e,i,t.Fy),O.u(e,n-4,i-n),O.np(e,i,"8BIMpatt"),i+=8,n=i+=4,i=w.tHW(e,i,t.nw),O.u(e,n-4,i-n);var r={classID:"null",Brsh:{t:"VlLs",v:t.list}};return O.np(e,i,"8BIMdesc"),i+=8,n=i+=4,O.u(e,i,16),i+=4,i+=p.Ny(e,r,i),O.u(e,n-4,i-n),e.data.slice(0,i).buffer},w.tJ$=function(t,e,i,n,r){for(var s=e+i,a=[];e<s;){var h={};a.push(h);var o=O.j(t,e),l=e+=4,u=O.$T(t,e);if(e+=u.length,h.id=u.oJ,1==n)e+=9,h.lU=O.uq(t,e),e+=16;else{e+=7;O.j(t,e);e+=4,h.lU=O.uq(t,e),e+=16;var f=O.j(t,e);e+=4,e+=4*f;O.j(t,e);e+=4;O.j(t,e);e+=4;O.uq(t,e);e+=16}O.NU(t,e);var c=t[e+=2];e+=1,h.channel=y.UI(!1,t,h.lU.$,h.lU.z,e,c),o%4!=0&&(o+=4-o%4),e=l+o}return a},w.tJf=function(t,e,i){for(var n=0;n<i.length;n++){var r=i[n],s=e+4;e+=4,O.Fb(t,e,r.id),e+=r.id.length+2,t.VX(e,1),t.data[e]=1,e+=3,O.u(t,e,3);var a=e+=4;e+=4,O.lW(t,e,r.lU),e+=16,O.u(t,e,56),e+=4,e+=224,O.u(t,e-4,1);var h=e;e+=4,O.u(t,e,8),e+=4,O.lW(t,e,r.lU),e+=16,O.kW(t,e,8),e+=2,t.VX(e,1),t.data[e]=1,e++,t.VX(e,2*r.lU.f()),e=y.UE(r.channel,t.data,r.lU.$,r.lU.z,e,1),t.VX(e,8);var o=(e+=8)-s;O.u(t,s-4,o),O.u(t,a,o-49),O.u(t,h,o-305),o%4!=0&&(e+=4-o%4)}return e},w.trx=function(t,e,i){for(var n=e+i,r=[];e<n;){var s={};r.push(s);var a=O.j(t,e),h=e+=4;e=_.kB(t,e,s),a%4!=0&&(a+=4-a%4),e=h+a}return r},w.tHW=function(t,e,i){for(var n=0;n<i.length;n++){var r=i[n],s=e+=4,a=(e=_.ku(t,e,r))-s;O.u(t,s-4,a),a%4!=0&&(s+=4-a%4),e=s+a}return e},b.Fp=function(t){var e=new Uint8Array(t),i=[],n=0,r=O.NU(e,n);if(n+=2,4!=r)throw"Unknown version of curves: "+r;var s=O.NU(e,n);n+=2;for(var a=0;a<s;a++){var h=b.Gk(e,n);n+=2+2*h.length,i.push(h)}if(n==e.length)return i;O.sx(e,n,4);n+=4;O.NU(e,n);n+=2;var o=O.NU(e,n);if(n+=2,0!=o)throw"extra curves for channels";return i},b.Nd=function(t,e,i){var n=[],r=t[e];e+=3;var s=O.j(t,e);e+=4;for(var a=0;a<4;a++){if(s>>>a&1){if(0==r){e+=2+2*(h=b.Gk(t,e)).length}else{var h=b.two(t,e);e+=256}n.push(h)}else n.push(0==r?[0,0,255,255]:b.tHN())}return n},b.tHN=function(){for(var t=[],e=0;e<256;e++)t.push(e);return t},b.Gk=function(t,e){var i=[],n=O.NU(t,e);e+=2;for(var r=0;r<n;r++){var s=O.NU(t,e);e+=2;var a=O.NU(t,e);e+=2,i.push(a,s)}return i},b.twT=function(t,e,i){var n=i.length/2;O.kW(t,e,n),e+=2;for(var r=0;r<n;r++)O.kW(t,e,i[2*r+1]),e+=2,O.kW(t,e,i[2*r+0]),e+=2},b.two=function(t,e){for(var i=[],n=0;n<256;n++)i.push(t[e+n]);return i},b.twX=function(t,e,i){t.VX(e,256);for(var n=0;n<256;n++)t.data[e+n]=i[n]},b.Nv=function(t,e,i){var n=e,r=256==i[0].length?1:0;t.VX(e,3),t.data[e]=r,t.data[e+1]=0,t.data[e+2]=1,e+=3,O.u(t,e,15),e+=4;for(var s=0;s<4;s++){var a=i[s];0==r?(b.twT(t,e,a),e+=2+2*a.length):(b.twX(t,e,a),e+=256)}return e-n},x.Nd=function(t,e,i){var n={};O.NU(t,e);e+=2,n.bc=1==t[e],e++,e++,n.qq=[O.kF(t,e),O.kF(t,e+2),O.kF(t,e+4)],e+=6,n.ry=[O.kF(t,e),O.kF(t,e+2),O.kF(t,e+4)],e+=6,n.gV=[];for(var r=0;r<6;r++){var s={};s.gX=[O.kF(t,e),O.kF(t,e+2),O.kF(t,e+4),O.kF(t,e+6)],e+=8,s.fY=[O.kF(t,e),O.kF(t,e+2),O.kF(t,e+4)],e+=6,n.gV.push(s)}return n},x.Nv=function(t,e,i){var n=t.data;t.VX(e,100),O.Ag(n,e,2),n[e+=2]=i.bc?1:0,e++,e++,O._s(n,e+0,i.qq[0]),O._s(n,e+2,i.qq[1]),O._s(n,e+4,i.qq[2]),e+=6,O._s(n,e+0,i.ry[0]),O._s(n,e+2,i.ry[1]),O._s(n,e+4,i.ry[2]),e+=6;for(var r=0;r<6;r++){var s=i.gV[r].gX,a=i.gV[r].fY;O._s(n,e+0,s[0]),O._s(n,e+2,s[1]),O._s(n,e+4,s[2]),O._s(n,e+6,s[3]),e+=8,O._s(n,e+0,a[0]),O._s(n,e+2,a[1]),O._s(n,e+4,a[2]),e+=6}return 100},M.Fp=function(t){for(var e=new Uint8Array(t),i=2,n=[],r=0;r<29;r++){var s=[];n.push(s);for(var a=0;a<5;a++)s.push(O.NU(e,i+10*r+2*a))}if((i+=290)==e.length)return n;O.sx(e,i,4);i+=4;O.NU(e,i);i+=2;var h=O.NU(e,i);i+=2;var o=h-29;for(r=0;r<o;r++){s=[];n.push(s);for(a=0;a<5;a++)s.push(O.NU(e,i+10*r+2*a))}return n},M.QU=function(t,e){var i=0;t.VX(0,292),O.Ag(t.data,i,2),i+=2;for(var n=0;n<29;n++)for(var r=e[n],s=0;s<5;s++)O.Ag(t.data,i+10*n+2*s,r[s]);if(i+=290,29==e.length)return i;t.VX(i,8+10*(e.length-29)),O.Fo(t.data,i,"Lvls"),i+=4,O.Ag(t.data,i,3),i+=2,O.Ag(t.data,i,e.length),i+=2;var a=e.length-29;for(n=0;n<a;n++)for(r=e[29+n],s=0;s<5;s++)O.Ag(t.data,i+10*n+2*s,r[s]);return i+=10*a},S.Fp=function(t){var e=new Uint8Array(t),i=2,n={Gd:[],tP:[]};O.sx(e,i,4);i+=4;O.NU(e,i);i+=2;var r=O.j(e,i);for(i+=4;i<r;){0!=(3&(l=O.j(e,i)))&&(l+=4-(3&l));var s=i+=4,a={};n.Gd.push(a),i=_.kB(e,i,a),i=s+l}var h=O.j(e,i);i+=4;for(var o=0;o<h;o++){var l=O.j(e,i),u=(s=i+=4,{VI:{},PH:{}});n.tP.push(u),i+=4,i+=p._r(e,u.VI,i),i+=4,i+=p._r(e,u.PH,i),i=s+l;var f=u.PH.blendOptions,c=u.PH.Lefx;f&&Object.keys(f.v).length,c&&(null==c.v.masterFXSwitch&&(c.v.masterFXSwitch={t:"bool",v:!0}),v.Xd(c.v))}return n},S.QU=function(t){var e=new Qi,i=0;O.kW(e,i,2),i+=2,O.np(e,i,"8BSL"),i+=4,O.kW(e,i,3);var n=i+=2;i+=4;for(var r=0;r<t.Gd.length;r++){var s=i+=4,a=(i=_.ku(e,i,t.Gd[r]))-s;O.u(e,s-4,a),0!=(3&a)&&(a+=4-(3&a)),i=s+a}O.u(e,n,i-n-4);var h=t.tP.length;O.u(e,i,h),i+=4;for(r=0;r<h;r++){s=i+=4;var o=t.tP[r];O.u(e,i,16),i+=4,i+=p.Ny(e,o.VI,i);var l=o.PH.Lefx;l&&(o.PH.Lefx=JSON.parse(JSON.stringify(l)),v.XG(o.PH.Lefx.v)),O.u(e,i,16),i+=4,i+=p.Ny(e,o.PH,i),l&&(o.PH.Lefx=l),O.u(e,s-4,i-s)}return e.data.slice(0,i).buffer},A.Nd=function(t,e,i){O.NU(t,e);e+=2;var n={};n.ir=1==O.NU(t,e),e+=2,n.uF=[];for(var r=0;r<10;r++){var s=[];n.uF.push(s);for(var a=0;a<4;a++)s.push(O.kF(t,e+2*a));e+=8}return n},A.Nv=function(t,e,i){t.VX(e,84),O.Ag(t.data,e,1),e+=2,O.Ag(t.data,e,i.ir?1:0),e+=2;for(var n=0;n<10;n++){for(var r=i.uF[n],s=0;s<4;s++)O._s(t.data,e+2*s,r[s]);e+=8}return 84},k.Fp=function(t){t=new Uint8Array(t);var e=0,i=[];Date.now(),O.sx(t,0,4);e+=4;O.j(t,e);e+=4;var n=O.j(t,e);e+=4;for(var r=0;r<n;r++){var s=O.vq(t,e);e+=2*s.length+4,1==(1&s.length)&&(e+=2);O.j(t,e);e+=4;var a=O.j(t,e),h=e+=4,o=O.$T(t,h).oJ;h+=o.length+1;var l=O.uq(t,h);h+=16;var u=k.GN(t,h,a-(h-e));i.push({Ff:s,VI:o,L:u,SZ:l}),e+=a}return i},k.QU=function(t){var e=new Qi,i=0;O.np(e,i,"cush"),i+=4,O.u(e,i,2),i+=4,O.u(e,i,t.length),i+=4;for(var n=0;n<t.length;n++){var r=t[n];O.ES(e,i,r.Ff),i+=4+2*r.Ff.length,1==(1&r.Ff.length)&&(i+=2),O.u(e,i,1),i+=4;var s=i+=4;O.Fb(e,i,r.VI),i+=r.VI.length+1,O.lW(e,i,r.SZ),i+=16,e.VX(i,26*r.L.length),k.GF(e.data,i,r.L,1,1);var a=(i+=26*r.L.length)-s;0!=(3&a)&&(a+=4-(3&a)),O.u(e,s-4,a),i=s+a}return e.data.slice(0,i).buffer},k.GN=function(t,e,i,n,r){null==n&&(n=1),null==r&&(r=1);for(var s=[],a=Math.floor(i/26),h=0;h<a;h++){var o,l,u=e+26*h,c={},p=0;if(s.push(c),c.type=O.kF(t,u),u+=2,6==c.type&&(p=24),8==c.type&&(c.all=O.kF(t,u),u+=2,p=22),0!=c.type&&3!=c.type||(c.length=O.kF(t,u),u+=2,c.AY=O.kF(t,u),u+=2,c.Fz=O.kF(t,u),u+=2,c.ev=O.j(t,u),u+=4,c.Nb=O.j(t,u),u+=4,p=10),1==c.type||2==c.type||4==c.type||5==c.type)l=O.$w(t,u),u+=4,o=O.$w(t,u),u+=4,c.kM=new f(o*n,l*r),l=O.$w(t,u),u+=4,o=O.$w(t,u),u+=4,c.P=new f(o*n,l*r),l=O.$w(t,u),u+=4,o=O.$w(t,u),u+=4,c.kq=new f(o*n,l*r),p=0;for(var v=0;v<p;v++)0!=t[u+v]&&console.log("Unexpected non-zero byte!",c,v,t[u+v])}return s},k.GF=function(t,e,i,n,r){for(var s=i.length,a=0;a<s;a++){var h=e+26*a,o=i[a];O._s(t,h,o.type),h+=2,o.type,8==o.type&&O._s(t,h,o.all),0!=o.type&&3!=o.type||(O._s(t,h,o.length),h+=2,O._s(t,h,o.AY),h+=2,O._s(t,h,o.Fz),h+=2),1!=o.type&&2!=o.type&&4!=o.type&&5!=o.type||(O.xl(t,h,o.kM.y/r),h+=4,O.xl(t,h,o.kM.x/n),h+=4,O.xl(t,h,o.P.y/r),h+=4,O.xl(t,h,o.P.x/n),h+=4,O.xl(t,h,o.kq.y/r),h+=4,O.xl(t,h,o.kq.x/n),h+=4)}},C.Fp=function(t){var e=new Uint8Array(t),i=[],n=0;return(n=C.bI(e,n,i))+3<e.length&&(i=[],n=C.bI(e,n,i)),i},C.bI=function(t,e,i){var n=O.NU,r=O.kF,s=n(t,e),h=n(t,e+=2);e+=2;for(var o=1/65535,l=255/65535,u=100/65535,f=0;f<h;f++){var c=n(t,e),p=null,v=n(t,e+=2),d=n(t,e+=2),y=n(t,e+=2),g=n(t,e+=2);if(e+=2,0==c)p={T:v*l,q:d*l,H:y*l};else if(1==c)(p=a.pq(v*o,d*o,y*o)).T*=255,p.q*=255,p.H*=255;else if(2==c)p=a.e.NG({classID:"CMYC",Cyn:{t:"doub",v:100-v*u},Mgnt:{t:"doub",v:100-d*u},Ylw:{t:"doub",v:100-y*u},Blck:{t:"doub",v:100-g*u}});else{if(7!=c)throw"e "+c+", "+f;var m=[v,r(t,e-6),r(t,e-4)],w=tt.jd(m);p={T:w[0],q:w[1],H:w[2]}}2==s&&(p.qm=O.vq(t,e),e+=4+2*p.qm.length),i.push(p)}return e},C.QU=function(t){var e=new Qi,i=0,n=O.kW;n(e,i,2),n(e,i+=2,t.length),i+=2;for(var r=0;r<t.length;r++){var s=t[r];n(e,i,0),n(e,i+=2,Math.round(257*s.T)),n(e,i+=2,Math.round(257*s.q)),n(e,i+=2,Math.round(257*s.H)),n(e,i+=2,0),i+=2;var a=s.qm?s.qm:"";O.ES(e,i,a),i+=4+2*a.length}return e.data.slice(0,i).buffer},T.Fp=function(t){var e,i=new Uint8Array(t),n=0,r=O.j(i,n);n+=4;O.sx(i,n,8);n+=8;O.UD(i,n);n+=4;var s=O.UD(i,n);n+=4;var a=O.UD(i,n);if(n+=4,2==r)e=new Float32Array(t,32,t.byteLength-32>>>2);else{if(3!=r)throw"unknown Mesh version: "+r;e=new Float32Array(s*a*2);var h=0,o=0,l=!0;for(n=32;n<i.length;){var u=O.UD(i,n);if(n+=4,l)o+=u;else{for(var f=0;f<u;f++)e[h+o+f<<1]=O.xJ(i,n),e[1+(h+o+f<<1)]=O.xJ(i,n+4),n+=8;o+=u}if(l=!l,0!=u&&o==s&&(o=0,l=!0,(h+=s)==s*a))break}}return{JX:s,ht:a,map:e}},T.nX=function(t){var e=t.JX,i=t.ht,n=t.map,r=new Uint8Array(32+i*e*8+8*i),s=0,a=0;O.nW(r,s,3),s+=4,O.Fo(r,s,"yfqLhseM"),s+=8,O.Fc(r,s,2),s+=4,O.Fc(r,s,e),s+=4,O.Fc(r,s,i),s+=4,O.Fc(r,s,0),s+=4,O.Fc(r,s,1),s+=4;for(var h=0;h<i;h++){O.Fc(r,s,0),s+=4,O.Fc(r,s,e),s+=4;for(var o=0;o<e;o++)O.Xk(r,s,n[a]),O.Xk(r,s+4,n[a+1]),a+=2,s+=8}return r.buffer},U.Fp=function(t){var e=new Uint8Array(t),i=0;O.sx(e,i,4);i+=4;O.NU(e,i);i+=2;var n=O.j(e,i);i+=4;for(var r=[],s=0;s<n;s++){var h=O.j(e,i);i+=4;var o={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};r.push(o),o.Nm.v=O.vq(e,i),i+=4+2*o.Nm.v.length;O.NU(e,i);i+=2;var l=O.NU(e,i);i+=2;for(var u=0;u<l;u++){var f=a.kv.oS(0,0,!0);f.v.Vrtc.v=O.NU(e,i),i+=2,f.v.Hrzn.v=O.NU(e,i),i+=2,o.Crv.v.push(f)}if(1==h);else{if(2!=h)throw"error";for(u=0;u<l;u++)o.Crv.v[u].v.Cnty.v=1==e[i],i+=1}O.j(e,i);i+=4;O.j(e,i);i+=4}return r},U.QU=function(t){var e=new Qi,i=0;O.np(e,i,"8BFS"),i+=4,O.kW(e,i,1),i+=2,O.u(e,i,t.length),i+=4;for(var n=0;n<t.length;n++){O.u(e,i,2),i+=4;var r=t[n];O.ES(e,i,r.Nm.v),i+=4+2*r.Nm.v.length,O.kW(e,i,2),i+=2;var s=r.Crv.v.length;O.kW(e,i,s),i+=2;for(var a=0;a<s;a++){var h=r.Crv.v[a];O.kW(e,i,h.v.Vrtc.v),i+=2,O.kW(e,i,h.v.Hrzn.v),i+=2}e.VX(i,s);for(a=0;a<s;a++)e.data[i]=r.Crv.v[a].v.Cnty.v,i++;O.u(e,i,0),i+=4,O.u(e,i,0),i+=4}return e.data.slice(0,i).buffer},_.Fp=function(t){var e=new Uint8Array(t),i=4;O.NU(e,i);i+=2;var n=O.j(e,i);i+=4;for(var r=[],s=0;s<n;s++){var a={};r.push(a),i=_.kB(e,i,a)}return r},_.QU=function(t){var e=new Qi,i=0;O.np(e,i,"8BPT"),i+=4,O.kW(e,i,1),i+=2,O.u(e,i,t.length),i+=4;for(var n=0;n<t.length;n++)i=_.ku(e,i,t[n]);return e.data.slice(0,i).buffer},_.kB=function(t,e,i){var n=O.j(t,e);e+=4,1!=n&&alert("Unknown version of pattern");var r=O.j(t,e);e+=4,1!=r&&2!=r&&3!=r&&console.log("Unsupported mode of pattern: "+r);var s=O.NU(t,e);e+=2;var h=O.NU(t,e);e+=2,i.lU=new L(0,0,h,s),i.name=O.vq(t,e),e+=4+2*i.name.length,i.name=i.name.substring(0,i.name.length-1);var o=t[e];e++,i.id=O.sx(t,e,o),e+=i.id.length;var l=-1;2==r&&(l=e,e+=772);var u=new a.wf(h*s);if(e=_.twQ(t,e,u),2==r)for(var f=0;f<u.T.length;f++){var c=3*u.T[f];u.T[f]=t[l+c+0],u.q[f]=t[l+c+1],u.H[f]=t[l+c+2]}return i.nn=a.I(4*i.lU.f()),a.GL(u,i.nn),e},_.ku=function(t,e,i){O.u(t,e,1),e+=4,O.u(t,e,3),e+=4,O.kW(t,e,i.lU.z),e+=2,O.kW(t,e,i.lU.$),e+=2,O.ES(t,e,i.name+"\0"),e+=4+2*i.name.length+2,O.tk(t,e,i.id.length),e++,O.np(t,e,i.id),e+=i.id.length;var n=new a.wf(i.lU.f());return a.GQ(i.nn,n),e=_.twO(t,e,n,i)},_.twQ=function(t,e,i){var n={lU:null,kj:[],sO:null,Gx:null};O.j(t,e);e+=4;O.j(t,e);e+=4,n.lU=O.uq(t,e),e+=16;var r=O.j(t,e);e+=4;for(var s=0;s<r+2;s++){var h=O.j(t,e);if(e+=4,0!=h){var o=O.j(t,e);if(e+=4,0!=o){O.j(t,e);e+=4;var l=O.uq(t,e);e+=16;O.NU(t,e);var u=t[e+=2];e++;var f=y.UI(!1,t,l.$,l.z,e,u);s<r&&n.kj.push(f),s==r&&(n.sO=f),s==r+1&&(n.Gx=f),e+=o-23}}}return n.kj[0]&&(i.T=n.kj[0]),n.kj[1]?i.q=n.kj[1]:i.q=a.clone(n.kj[0]),n.kj[2]?i.H=n.kj[2]:i.H=a.clone(n.kj[0]),n.Gx?i.o=n.Gx:a.set(i.o,255),e},_.twO=function(t,e,i,n){var r=e,s={lU:n.lU,kj:[i.T,i.q,i.H],sO:null,Gx:i.o};O.u(t,e,3),e+=4,O.u(t,e,0),e+=4,O.lW(t,e,s.lU),e+=16,O.u(t,e,24),e+=4;for(var a=0;a<26;a++){var h=e,o=a<3||25==a?1:0;if(O.u(t,e,o),e+=4,0!=o){O.u(t,e,0),e+=4,O.u(t,e,8),e+=4,O.lW(t,e,s.lU),e+=16,O.kW(t,e,8),e+=2,O.tk(t,e,1,1),e++;var l=a<3?s.kj[a]:s.Gx;t.VX(e,n.lU.f()+2),e=y.UE(l,t.data,n.lU.$,n.lU.z,e,1),O.u(t,h+4,e-h-8)}}return O.u(t,r+4,e-r-8),e},F.Fp=function(t){var e=new Uint8Array(t),i=0;O.sx(e,i,4);i+=4;O.NU(e,i);i+=2;for(var n={},r=(p._r(e,n,i+4),n.GrdL.v),s=[],a=0;a<r.length;a++)s[a]=r[a].v.Grad.v;return s},F.QU=function(t){var e=new Qi,i=0;O.np(e,i,"8BGR"),i+=4,O.kW(e,i,5),i+=2,O.u(e,i,16),i+=4;for(var n={classID:"null",GrdL:{t:"VlLs",v:[]}},r=n.GrdL.v,s=0;s<t.length;s++)r[s]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:t[s]}}};return i+=p.Ny(e,n,i),e.data.slice(0,i).buffer},O.Xn=function(t){for(var e="",i=3;i>=0;i--)e+=String.fromCharCode(t>>8*i&255);return e},O.twj=function(t){for(var e=0,i=t.length-1;i>=0;i--)e|=t.charCodeAt(i)<<8*(3-i);return e},O.indexOf=function(t,e,i,n){null==i&&(i=0),null==n&&(n=t.length),n=Math.min(n,t.length);for(var r=i;r<n;r++)if(t[r]==e)return r;return-1},O.txG=function(t,e,i){if(null==i&&(i=0),"string"==typeof e){for(var n=[],r=0;r<e.length;r++)n.push(e.charCodeAt(r));e=n}for(r=i;r<t.length;r++){for(var s=!0,a=0;a<e.length;a++)if(e[a]!=t[r+a]){s=!1;break}if(s)return r}return-1},O.Gm=function(t,e,i){for(var n=[],r="";e<i;){var s=t[e++];s=="\\".charCodeAt(0)?n.push(t[e++]):n.push(s)}for(var a=0;a<n.length;a+=2)r+=String.fromCharCode(n[a]<<8|n[a+1]);return r},O.tIw=function(t,e,i){for(var n=new Uint8Array(2),r=0;r<i.length;r++)O.Ag(n,0,i.charCodeAt(r)),n[0]!=")".charCodeAt(0)&&n[0]!="(".charCodeAt(0)&&n[0]!="\\".charCodeAt(0)||(t[e]="\\".charCodeAt(0),e++),t[e]=n[0],e++,n[1]!=")".charCodeAt(0)&&n[1]!="(".charCodeAt(0)&&n[1]!="\\".charCodeAt(0)||(t[e]="\\".charCodeAt(0),e++),t[e]=n[1],e++;return e},O.Gs=function(t,e,i){return t.VX(e,4*i.length),O.tIw(t.data,e,i)},O.tIC=function(t,e,i){for(var n="",r=0;r<i;r++){var s=t[e++]|t[e++]<<8;n+=String.fromCharCode(s)}return n},O.Gu=function(t,e,i){for(var n="",r=0;r<i;r++){var s=t[e++]<<8|t[e++];n+=String.fromCharCode(s)}return n},O.tIe=function(t,e,i){for(var n=0;n<i.length;n++){var r=i.charCodeAt(n);O.ey(t,e+2*n,r)}},O.xt=function(t,e,i){for(var n=0;n<i.length;n++){var r=i.charCodeAt(n);O.Ag(t,e+2*n,r)}},O.txp=function(t,e,i){t.VX(e,2*i.length),O.xt(t.data,e,i)},O.tIN=function(t,e,i){for(var n="",r=0;r<i;r++)n+="%"+("0"+t[e+r].toString(16)).slice(-2);return decodeURIComponent(n)},O.XZ=function(t,e){var i=O.j(t,e);return e+=4,i>65535?"":{_u:O.tIN(t,e,i-1),NK:4+i}},O.tyF=function(t,e){var i=O.UD(t,e);return e+=4,i>65535?"":O.tIC(t,e,i)},O.vq=function(t,e){var i=O.j(t,e);return e+=4,i>65535?"":O.Gu(t,e,i)},O.tDE=function(t,e,i){O.Fc(t,e,i.length),e+=4,O.tIe(t,e,i)},O.tcw=function(t,e,i){O.nW(t,e,i.length),e+=4,O.xt(t,e,i)},O.ES=function(t,e,i){t.VX(e,4+2*i.length),O.tcw(t.data,e,i)},O.tcS=function(t,e,i){t.VX(e,4+2*i.length),O.tDE(t.data,e,i)},O.tcE=function(t,e,i){for(var n=[],r=0;r<i;r++)n.push(String.fromCharCode(t[e+r]));return n},O.txi=function(t,e,i){for(var n=t.length-i.length,r=e;r<n;r++)for(var s=0;s<i.length&&t[r+s]==i.charCodeAt(s);s++)if(s==i.length-1)return r},O.sx=function(t,e,i){for(var n="",r=0;r<i;r++)n+=String.fromCharCode(t[e+r]);return n},O.Fo=function(t,e,i){for(var n=0;n<i.length;n++)t[e+n]=i.charCodeAt(n)},O.np=function(t,e,i){t.VX(e,i.length),O.Fo(t.data,e,i)},O.tcA=function(t,e,i){for(var n="",r=0;r<i;r++){var s=t[e+r];s<10?n+="  ":s<100&&(n+=" "),n+=s+", "}return n},O.NU=function(t,e){return t[e]<<8|t[e+1]},O.Ag=function(t,e,i){t[e]=i>>8&255,t[e+1]=255&i},O.kW=function(t,e,i){t.VX(e,4),O.Ag(t.data,e,i)},O.$R=function(t,e){return t[e+1]<<8|t[e]},O.ey=function(t,e,i){t[e+1]=i>>8&255,t[e]=255&i},O.Fl=function(t,e,i){t.VX(e,4),O.ey(t.data,e,i)},O.kF=function(t,e){return O.ed[0]=t[e+1],O.ed[1]=t[e],O.Xe[0]},O.tcU=function(t,e){return O.ed[0]=t[e],O.ed[1]=t[e+1],O.Xe[0]},O._s=O.Ag,O.eL=O.kW,O.eI=function(t,e){return O.NZ[0]=t[e+3],O.NZ[1]=t[e+2],O.NZ[2]=t[e+1],O.NZ[3]=t[e],O.$F[0]},O.nU=function(t,e,i){O.$F[0]=i,t[e+3]=O.NZ[0],t[e+2]=O.NZ[1],t[e+1]=O.NZ[2],t[e+0]=O.NZ[3]},O.qe=function(t,e,i){t.VX(e,4),O.nU(t.data,e,i)},O.eC=function(t,e){return O.NZ[0]=t[e+0],O.NZ[1]=t[e+1],O.NZ[2]=t[e+2],O.NZ[3]=t[e+3],O.$F[0]},O.x$=function(t,e,i){O.$F[0]=i,t[e+0]=O.NZ[0],t[e+1]=O.NZ[1],t[e+2]=O.NZ[2],t[e+3]=O.NZ[3]},O.tLC=function(t,e,i){t.VX(e,4),O.x$(t.data,e,i)},O.j=function(t,e){return 16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3])},O.nW=function(t,e,i){t[e]=i>>24&255,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=i>>0&255},O.u=function(t,e,i){t.VX(e,4),O.nW(t.data,e,i)},O.pK=function(t,e){return O.j(t,e)<<32|O.j(t,e+4)},O.tLP=function(t,e,i){O.nW(t,e,i>>16>>16),O.nW(t,e+4,4294967295&i)},O.XA=function(t,e,i){t.VX(e,8),O.tLP(t.data,e,i)},O.UD=O.eC,O.Fc=O.x$,O.GI=O.tLC,O.FD=function(t,e){for(var i=new Uint8Array(8),n=0;n<8;n++)i[n]=t[e+7-n];return new Float64Array(i.buffer)[0]},O.tLv=function(t,e){for(var i=new Uint8Array(8),n=0;n<8;n++)i[n]=t[e+n];return new Float64Array(i.buffer)[0]},O.GC=function(t,e,i){var n=new Float64Array(1);n[0]=i;for(var r=new Uint8Array(n.buffer),s=0;s<4;s++){var a=r[s];r[s]=r[7-s],r[7-s]=a}for(s=0;s<8;s++)t[e+s]=r[s]},O.GP=function(t,e,i){t.VX(e,8),O.GC(t.data,e,i)},O.Fg=function(t,e){return O.NZ[0]=t[e+3],O.NZ[1]=t[e+2],O.NZ[2]=t[e+1],O.NZ[3]=t[e+0],O.eG[0]},O.xJ=function(t,e){return O.NZ[0]=t[e+0],O.NZ[1]=t[e+1],O.NZ[2]=t[e+2],O.NZ[3]=t[e+3],O.eG[0]},O.q_=function(t,e,i){O.eG[0]=i,t[e+0]=O.NZ[3],t[e+1]=O.NZ[2],t[e+2]=O.NZ[1],t[e+3]=O.NZ[0]},O.XU=function(t,e,i){t.VX(e,4),O.q_(t.data,e,i)},O.Xk=function(t,e,i){O.eG[0]=i,t[e+0]=O.NZ[0],t[e+1]=O.NZ[1],t[e+2]=O.NZ[2],t[e+3]=O.NZ[3]},O.txo=function(t,e,i){t.VX(e,4),O.Xk(t.data,e,i)},O.$w=function(t,e){return O.eI(t,e)/16777215},O.xl=function(t,e,i){O.nU(t,e,Math.floor(16777215*i))},O.tRg=function(t,e,i){t.VX(e,4),O.xl(t.data,e,i)},O.$T=function(t,e){var i=t[e];return{oJ:O.sx(t,e+1,i),length:(i+=1-i%2)+1}},O.tLq=function(t,e,i){var n=i.length;return t[e]=n,O.Fo(t,e+1,i),n%2==0&&(t[e+1+n]=0,++n),n+1},O.Fb=function(t,e,i){return t.VX(e,i.length+2),O.tLq(t.data,e,i)},O.FB=function(t,e){var i=new c;return i.o=O.FD(t,e+0),i.H=O.FD(t,e+8),i.lA=O.FD(t,e+16),i.KI=O.FD(t,e+24),i.DX=O.FD(t,e+32),i.Ug=O.FD(t,e+40),i},O.eT=function(t,e,i){O.GC(t,e+0,i.o),O.GC(t,e+8,i.H),O.GC(t,e+16,i.lA),O.GC(t,e+24,i.KI),O.GC(t,e+32,i.DX),O.GC(t,e+40,i.Ug)},O.tLX=function(t,e,i){t.VX(e,48),O.eT(t.data,e,i)},O.tLz=function(t,e){var i=O.Fg(t,e),n=O.Fg(t,e+4);return new L(i,n,O.Fg(t,e+8)-i,O.Fg(t,e+12)-n)},O.tCy=function(t,e,i){O.q_(t,e,i.x),O.q_(t,e+4,i.y),O.q_(t,e+8,i.x+i.$),O.q_(t,e+12,i.y+i.z)},O.tTr=function(t,e,i){t.VX(e,16),O.tCy(t.data,e,i)},O.uq=function(t,e){var i=O.eI(t,e),n=O.eI(t,e+4),r=O.eI(t,e+8);return new L(n,i,O.eI(t,e+12)-n,r-i)},O.xr=function(t,e,i){O.nU(t,e,i.y),O.nU(t,e+4,i.x),O.nU(t,e+8,i.y+i.z),O.nU(t,e+12,i.x+i.$)},O.lW=function(t,e,i){t.VX(e,16),O.xr(t.data,e,i)},O.$g=function(t,e,i){for(var n=new Uint8Array(i),r=0;r<i;r++)n[r]=t[e+r];return n},O.xH=function(t,e,i){t.set(i,e)},O.$h=function(t,e,i){t.VX(e,i.length),O.xH(t.data,e,i)},O.tPU=function(t,e,i,n){n||(n=1);for(var r=0;r<n;r++)t[e+r]=i},O.tk=function(t,e,i,n){n||(n=1),t.VX(e,n),O.tPU(t.data,e,i,n)},O.Xe=new Int16Array(1),O.ed=new Uint8Array(O.Xe.buffer),O.$F=new Int32Array(1),O.NZ=new Uint8Array(O.$F.buffer),O.eG=new Float32Array(O.$F.buffer),L.prototype.f=function(){return this.$*this.z},L.prototype.clone=function(){return new L(this.x,this.y,this.$,this.z)},L.prototype.contains=function(t,e){return t>=this.x&&t<=this.x+this.$&&e>=this.y&&e<=this.y+this.z},L.prototype.Eo=function(t){return this.contains(t.x,t.y)},L.prototype.pk=function(t){return this.x<=t.x&&this.y<=t.y&&t.x+t.$<=this.x+this.$&&t.y+t.z<=this.y+this.z},L.prototype.py=function(t){this.x=t.x,this.y=t.y,this.$=t.$,this.z=t.z},L.prototype.v$=function(t){return this.x==t.x&&this.y==t.y&&this.$==t.$&&this.z==t.z},L.prototype.FA=function(t,e){this.x-=t,this.y-=e,this.$+=2*t,this.z+=2*e},L.prototype.tRS=function(t){this.FA(t.x,t.y)},L.prototype.sj=function(t){var e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.$,t.x+t.$),r=Math.min(this.y+this.z,t.y+t.z);return n<e||r<i?new L:new L(e,i,n-e,r-i)},L.prototype.p$=function(t){return!(t.y+t.z<this.y||t.x>this.x+this.$||t.y>this.y+this.z||t.x+t.$<this.x)},L.prototype.km=function(){return this.$<=0||this.z<=0},L.prototype.offset=function(t,e){this.x+=t,this.y+=e},L.prototype.xf=function(t){this.offset(t.x,t.y)},L.prototype.tRv=function(){this.x=this.y=this.$=this.z=0},L.prototype.kR=function(t,e,i,n){this.x=t,this.y=e,this.$=i,this.z=n},L.prototype.Fv=function(t){if(this.km())return t.clone();if(t.km())return this.clone();var e=this.clone();return e.tdH(t),e},L.Bt=new Float32Array(2),L.prototype.tdH=function(t){t.km()||(this.km()?this.py(t):(this.eM(t.x,t.y),this.eM(t.x+t.$,t.y+t.z)))},L.prototype.eM=function(t,e){var i=Math.min(this.x,t),n=Math.min(this.y,e);this.$=Math.max(this.x+this.$,t)-i,this.z=Math.max(this.y+this.z,e)-n,this.x=i,this.y=n},L.prototype.tRq=function(t,e,i,n){0==this.$&&0==this.z?this.tdh(t,e):this.eM(t,e),this.eM(i,n)},L.prototype.tdh=function(t,e){this.x=t,this.y=e,this.$=this.z=0},D.Fp=function(t){var e={};return D.xd(t,e,0,0),e},D.nX=function(t,e){var i=0;return O.np(e,i," "),i++,i=D.xv(t,e,i,0),i--,e.VX(i,2),e.data[i]=e.data[i+1]=0,i+=2},D.Uo=function(t,e,i,n){for(;t[i]!="<".charCodeAt(0);)i++,console.log("šipka");return i+=2,i=D.xd(t,e,i,n)},D.kH=function(t,e,i,n){return O.np(e,i,"<< "),i+=3,i=D.xv(t,e,i,n),O.np(e,i,">>"),i+=2},D.Jy=function(t){return 9==t||10==t||32==t},D.xd=function(t,e,i,n){for(;;){for(;D.Jy(t[i])||0==t[i];)i++;if(i>=t.length)break;if(t[i]!="/".charCodeAt(0)){if(t[i]==">".charCodeAt(0)){i+=2;break}var r=t[i];throw console.log(O.sx(t,i,i+100)),console.log("unknown byte: "+r+", char: "+String.fromCharCode(r)+", offset: "+i),i++,"e"}for(var s=++i;!D.Jy(t[s]);)s++;var a=O.sx(t,i,s-i);i=s+1;var h=D.eb(t,i,n,a);e["_"+a]=h.R,i+=h.size}return i},D.xv=function(t,e,i,n){for(var r in t){var s=r.substring(1,r.length);O.np(e,i,"/"+s),i+=1+s.length,O.np(e,i," "),i++,i=D.qY(t[r],e,i,n+1),O.np(e,i," "),i++}return i},D.eb=function(t,e,i,n){for(var r=e,s={type:"",size:0,R:0};D.Jy(t[e]);)e++;if(t[e]=="<".charCodeAt(0))s.type="Object",s.R={},e=D.Uo(t,s.R,e,i+1);else if(t[e]=="(".charCodeAt(0))if(s.type="String",t[++e]==")".charCodeAt(0))s.R="s",e++;else{for(var a=e+=2;t[a]!=")".charCodeAt(0)||t[a-1]=="\\".charCodeAt(0);)a+=1;s.R="s"+O.Gm(t,e,a),e=a+2}else if(t[e]=="[".charCodeAt(0)){for(e++,s.R=[],s.type="Array";D.Jy(t[e]);)e++;for(;t[e]!="]".charCodeAt(0);){var h=D.eb(t,e,i+1,n);if(-1==h)return-1;for(s.R.push(h.R),e+=h.size,delete h.size;D.Jy(t[e]);)e++}e++}else{for(var o=e;!D.Jy(t[o]);)o++;var l=O.sx(t,e,o-e),u=parseFloat(l);if(isNaN(u)||-1==l.indexOf("."))if(isNaN(u)||-1!=l.indexOf("."))if("true"==l||"false"==l)s.type="Boolean",s.R="true"==l;else{if("/"!=l.charAt(0))throw console.log("unknown value",JSON.stringify(l)),"e";s.type="BString",s.R=l}else s.type="Integer",s.R="i"+parseInt(l);else{s.type="Float";var f=parseFloat(l);s.R="f"+f}e=o+1}return s.size=e-r,s},D.tdX=function(t){if(t==Math.round(t))return t+".0";var e=t.toFixed(5);return 0<t&&t<1&&(e=e.substring(1,e.length)),-1<t&&t<0&&(e="-"+e.substring(2,e.length)),e},D.qY=function(t,e,i,n){if(t instanceof Array){O.np(e,i,"[ "),i+=2;for(var r=0;r<t.length;r++)i=D.qY(t[r],e,i,n),O.np(e,i," "),i++;O.np(e,i,"]"),i+=1}else if(t instanceof Object)i=D.kH(t,e,i,n);else if("string"==typeof t&&"s"==t.charAt(0))O.np(e,i,"("),i++,O.tk(e,i,254),i++,O.tk(e,i,255),i++,i=O.Gs(e,i,t.substring(1)),O.np(e,i,")"),i++;else if("string"==typeof t&&"/"==t.charAt(0))O.np(e,i,t),i+=t.length;else if("string"==typeof t&&"f"==t.charAt(0)){var s=parseFloat(t.substring(1)),a=D.tdX(s);O.np(e,i,a),i+=a.length}else if("string"==typeof t&&"i"==t.charAt(0))O.np(e,i,t.substring(1)),i+=t.length-1;else{a=t+"";O.np(e,i,a),i+=a.length}return i},N.Fp=function(t,e){var i=new Uint8Array(t),n=0,r=(O.sx(i,n,9),4),s=100;n+=9;var h=O.sx(i,n,4);n+=4,n++,e.$=O.j(i,n),n+=4,e.z=O.j(i,n),n+=4;var o=O.j(i,n);n+=4,0!=o&&alert("Unsupported image format, not RGB!"),-1==["file","v001","v002","v003"].indexOf(h)&&(s=O.j(i,n),n+=4,parseInt(h.slice(1))>=7||alert("Unknown XCF version: "+h),r=8);var l={};n=N.Xm(i,n,l);var u=[];n=N.XF(i,n,u,r);var f=[];n=N.XF(i,n,f,r),e.iw=0;for(var c=0;c<u.length;c++)N.tdF(i,u[c],e,l,r,s);for(;e.iw>0;)e.b.push(e.sd()),e.iw--;e.b.reverse(),delete e.iw,e.buffer=a.I(e.$*e.z*4),0==e.b.length&&console.log("No layers!!!");for(c=0;c<f.length;c++){var p=N.xn(i,f[c],l,r,s);p.aO[I.tVg]&&(e.t={channel:p.y_,rect:new L(0,0,e.$,e.z)})}},N.tdF=function(t,e,i,n,r,s){var h=i.Zs(),o=O.j(t,e),l=0;e+=4;var u=O.j(t,e);e+=4,h.rect=new L(0,0,o,u);O.j(t,e);e+=4;var f=O.XZ(t,e);e+=f.NK,h.Vp(f._u);var p={};(e=N.Xm(t,e,p),p[I.xN])&&(l=p[I.xN].length/4-1);if(p[I.Xs]&&(h.rect.x=O.eI(p[I.Xs],0),h.rect.y=O.eI(p[I.Xs],4)),p[I.xB]&&(h.opacity=O.j(p[I.xB],0)),p[I.tVm]&&(h.add.lsct=rt.Gp,h.rect=new L(0,0,0,0),h.buffer=a.I(0),h._c=24),p[I.xZ]){var v=O.j(p[I.xZ],0);h.kE=I.t$r[v],h.oP()&&"norm"==h.kE&&(h.kE="pass")}if(p[I.xA]&&0==O.j(p[I.xA],0)&&(h._c+=2),p[I.xF]){var d=O.j(p[I.xF],0);h.add.lsct=!0&d?rt.Gp:rt.Vc}if(p[I.Xu]){var y=p[I.Xu];for(var g in y){var m=y[g];if("gimp-text-layer"==g){var w=N.td_(m),b=w.text,x=w.font,M=w.color,S=w["font-size"];if(null==b&&w.markup){for(var A=(new DOMParser).parseFromString(w.markup,"image/svg+xml");null!=A.firstChild&&null!=A.firstChild.tagName;){var k=(A=A.firstChild).getAttribute("font"),C=A.getAttribute("foreground"),T=A.getAttribute("size");null!=k&&(x=k),null!=C&&(M=[1,(C=mt.bI(C)).T/255,C.q/255,C.H/255]),null!=T&&(S=""+parseFloat(T)/245)}b=A.textContent}h.add.TySh=dt.YD(0,0),h.add.TySh._B=new L(0,0,100,100),h.add.TySh.UC=new c(1,0,0,1,h.rect.x,h.rect.y);var U=h.add.TySh.Bd;dt.el(U,0,b);var _=dt.Sr(U,0,1),F=w.justify,D=w["line-spacing"];if(M&&(_.hj.FillColor={Type:1,Values:[1,parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3])]}),S&&(S=Math.round(parseFloat(S)),_.hj.FontSize=S,h.add.TySh.UC.Ug+=Math.min(17,.17*S)),D&&(D=Math.round(parseFloat(D)+1.2*_.hj.FontSize),_.hj.Leading=D,_.hj.AutoLeading=!1),F&&(_.re.Justification=["left","right","center","fill"].indexOf(F)),x&&"Sans-serif"!=x){for(var E=x.toLowerCase(),P="bold italic semi extra regular condensed light".split(" "),J=E.length,B=0;B<P.length;B++){var X=E.indexOf(P[B]);-1!=X&&X<J&&" "==E[X-1]&&(J=X)}J!=E.length&&(x=x.slice(0,J-1).split(" ").join("")+"-"+x.slice(J).split(" ").join("")),dt.kP(_,x)}dt.zX(U,0,b.length,_);var z=w["box-width"],$=w["box-height"],V=z?parseFloat(z):h.rect.$,R=$?parseFloat($):h.rect.z;dt.kN(U,1),dt.Yc(U,[0,0,Math.ceil(V),Math.ceil(R)])}else console.log("Unknown property "+g)}}for(;i.iw>l;)i.b.push(i.sd()),i.iw--;i.iw=l,h.add.lsct!=rt.Gp&&h.add.lsct!=rt.Vc||i.iw++;var q=4==r?O.j:O.pK;if(h.XX()){h.buffer=a.I(4*h.rect.f());var H=new a.wf(h.rect.f()),j=q(t,e),G=q(t,e+=r);e+=r,N.xb(t,j,H,n,r,s),a.GL(H,h.buffer),0!=G&&(h.d=new nt.qu,h.d.color=0,h.d.rect=h.rect.clone(),h.d.channel=N.xn(t,G,n,r,s).y_,p[I.xe]&&(h.d.isEnabled=1==O.j(p[I.xe],0)))}i.b.push(h)},N.td_=function(t){var e="("+$.hI(t,0,t.length-1)+")",i=[],n={};return N.xO(e,1,i),N.tRJ(i,n),n},N.tRJ=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=n[0];2==n.length?e[r]=n[1]:e[r]=n.slice(1)}},N.xO=function(t,e,i){for(;;){if(e>=t.length)throw"e";var n=t.charAt(e);if(e++,"("==n){var r=[];e=N.xO(t,e,r),i.push(r)}else if(" "==n||"\n"==n||"\r"==n);else{if(")"==n)return e;if('"'==n){for(var s=e;;){var a=t[e];if(e++,'"'==a)break;"\\"==a&&e++}i.push(JSON.parse(t.slice(s-1,e)))}else{for(s=e-1;" "!=t[e]&&")"!=t[e];)e++;i.push(t.slice(s,e))}}}},N.xn=function(t,e,i,n,r){var s=O.j(t,e);e+=4;var h=O.j(t,e);e+=4,e+=O.XZ(t,e).NK;var o={};e=N.Xm(t,e,o);var l=new a.wf(s*h),u=(4==n?O.j:O.pK)(t,e);return e+=n,N.xb(t,u,l,i,n,r),{y_:l.T,aO:o}},N.xb=function(t,e,i,n,r,s){O.j(t,e);e+=4;O.j(t,e);e+=4;var a=O.j(t,e);e+=4;var h=(4==r?O.j:O.pK)(t,e);e+=r,N.tRH(t,h,i,n,a,r,s)},N.tRH=function(t,e,i,n,r,s,h){var o=O.j(t,e),l=0,u=0;e+=4;var f=O.j(t,e);e+=4;var c=new L(0,0,o,f);100==h||150==h?l=1:600==h?l=4:alert("unsupported bit depth "+h);var p=r/l,v=(l=Math.round(r/p),[]);e=N.XF(t,e,v,s);var d=new a.wf(4096*l),y=new L,g=n[I.tVB][0],m=[d.T,d.q,d.H,d.o];3==p&&a.set(d.o,255);Date.now();for(var w=0;w<f;w+=64)for(var b=0;b<o;b+=64){var x=Math.min(o-b,64),M=Math.min(f-w,64),S=x*M;if(y.kR(b,w,x,M),N.tRc(t,v[u++],S*l,g,p,m),600==h)for(var A=N.tRI(),k=new Uint32Array(1),C=new Float32Array(k.buffer),T=0;T<p;T++)for(var U=m[T],_=0;_<S;_++){k[0]=U[_]<<24|U[S+_]<<16|U[(S<<1)+_]<<8|U[(S<<1)+S+_]<<0;var F=C[0];F<0?F=0:F>1&&(F=1),U[_]=A[~~(.5+1e3*F)]}a.h_(d,y,i,c)}},N.tRI=function(){var t=N.tdp;if(null!=t)return t;t=N.tdp=new Uint8Array(1001);for(var e=0;e<1001;e++)t[e]=~~(.49+255*a.hU(.001*e));return t},N.tRc=function(t,e,i,n,r,s){if(1==n)for(var a=0;a<r;a++)for(var h=s[a],o=0;o<i;){var l=t[e];if(e++,l<127){var u=t[e];e++,l++;for(var f=0;f<l;f++)h[o+f]=u}else if(127==l){var c=t[e],p=t[++e];u=t[++e];e++,l=c<<8|p;for(f=0;f<l;f++)h[o+f]=u}else if(128==l){c=t[e],p=t[++e];e++,l=c<<8|p;for(f=0;f<l;f++)h[o+f]=t[e+f];e+=l}else{l=256-l;for(f=0;f<l;f++)h[o+f]=t[e+f];e+=l}o+=l}else alert("Unknown compression "+n)},N.XF=function(t,e,i,n){for(var r=4==n?O.j:O.pK;;){var s=r(t,e);if(e+=n,0==s)break;i.push(s)}return e},N.Xm=function(t,e,i){for(;;){var n=O.j(t,e);e+=4;var r=O.j(t,e);if(e+=4,n==I.tRN)break;n==I.Xu?i[n]=N.tRB(t,e,e+r):i[n]=O.$g(t,e,r),e+=r}return e},N.tRB=function(t,e,i){for(var n={};e<i;){var r=O.XZ(t,e);e+=r.NK;var s=O.j(t,e);e+=4,1!=s&&console.log("unknown flags",s);var a=O.j(t,e);e+=4,n[r._u]=O.$g(t,e,a),e+=a}return n};var I={tRN:0,tRp:1,tRj:2,tt$:3,tVg:4,ttJ:5,xB:6,xZ:7,xA:8,ttI:9,tty:10,xe:11,ttE:12,ttl:13,tVR:14,Xs:15,tVt:16,tVB:17,tVV:18,tVD:19,tVc:20,Xu:21,tVL:22,tVE:23,tVh:24,tVW:25,tVq:26,tVp:27,tVi:28,tVm:29,xN:30,xF:31,tVo:32,tVn:33,tVl:34,tVU:35,tVk:36,tV_:37,t$R:38,t$t:0,t$g:1,t$a:2,t$o:3,t$X:1,tJc:2,tJL:0,tJM:1,tJo:1};function E(){}function P(){}function J(){}I.t$r="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(","),E.Fp=function(t,e){var i=E,n=B.parse(t),r=0;n.pages.length>1&&console.log(n.pages.length,"pages");for(var s=[],h=new L,o=0;o<n.pages.length;o++){var l=n.pages[o],u=l.layers,f=!1;if((M=i.jm(u,o)).f()>64e6||M.$>3e4||M.z>3e4)i.Mv(u,!0),i.jm(u,o).f()>=M.f()&&i.Mv(u,!1);M=i.jm(u,o);for(var p=0;p<u.length;p++){var v=u[p];"artboard"==i.pG(v)&&(f=!0)}if(!f){console.log("no artboard");var d={};for(var y in l)d[y]=l[y];d._class="group",l.layers=[d]}s.push(M.clone()),M.km()||(M.x=0,M.y=r,r+=M.z+200,h=h.Fv(M))}var g={};if(n.foreignSymbols)for(var m=0;m<n.foreignSymbols.length;m++){var w=n.foreignSymbols[m].symbolMaster;g[w.symbolID]={CR:w}}for(var b in i.ME(n.pages,g,e),g)v=g[b].CR,i.MW(v.layers);var x=E.xu(h,67108864);e.iI=!0,e.$=Math.round(h.$/x),e.z=Math.round(h.z/x),e.buffer=a.I(e.$*e.z*4),e.HT(n.pages[0].layers.length),e.rp={},r=0;for(o=0;o<n.pages.length;o++){var M,S=n.pages[o],A=new c(x,0,0,x,(M=s[o]).x,M.y-r);i.QR(S.layers,e,A,n,g,{},[]),r+=M.z+200}delete e.rp,1!=x&&alert("File scaled down "+x+"x")},E.tJN=0,E.pG=function(t){return t._class?t._class:t.$class},E.xu=function(t,e){for(var i=1;Math.round(t.$/i)*Math.round(t.z/i)>e;)i++;return 1==i||window.confirm("Your image is quite large ("+t.$+" x "+t.z+" px).\nPress OK to scale it down "+i+"x, or Cancel to keep the size.")||(i=1),i},E.jm=function(t,e){for(var i=[],n=E,r=0;r<t.length;r++){var s=t[r],h=n.uq(s.frame);0!=e&&"artboard"!=n.pG(s)||i.push(h)}return a.rect.Zx(i)},E.Mv=function(t,e){for(var i=[],n=E,r=0;r<t.length;r++){var s=t[r],h=n.uq(s.frame);h.$+=150,h.z+=150,i.push(h)}var o=a.rect.Zx(i);a.rect.tJW(i,e);var l=a.rect.Zx(i);if(1.5*l.f()<o.f()||o.$>3e4&&l.$<=3e4||o.z>3e4&&l.z<=3e4){alert("Re-arranging artboards");for(r=0;r<t.length;r++){var u=i[r],f=(s=t[r]).frame;f.x=u.x,f.y=u.y}}},E.ME=function(t,e,i){for(var n=E,r=0;r<t.length;r++){var s=t[r],a=n.pG(s);-1!=["page","artboard","group"].indexOf(a)?n.ME(s.layers,e,i):"symbolMaster"==a&&(e[s.symbolID]={CR:s})}},E.MW=function(t){for(var e=E,i=0;i<t.length;i++){var n=t[i],r=e.pG(n),s=null;if(-1!=["page","artboard","group"].indexOf(r)&&(s=e.MW(n.layers)),"symbolMaster"!=r&&"symbolInstance"!=r||(s=n),null!=s)return s}return null},E.QR=function(t,e,i,n,r,s,h){for(var o=E,l=[],u=0;u<t.length;u++){var f=t[u],c=f.frame?o.uq(f.frame):null,p=f.style,v="",d=null;null==p&&console.log("no styles");var y=o.Mm(f,i),g=o.pG(f),m="shapeGroup"==g||"shapePath"==g||"rectangle"==g||"oval"==g||"triangle"==g,w=-1!=["page","artboard","group"].indexOf(g);if("shapeGroup"==g)for(var b=0;b<f.layers.length;b++)"shapeGroup"==o.pG(f.layers[b])&&(w=!0);var x=f.exportOptions;if(x){var M=x.exportFormats;if(null==M&&(M=x.sizes),"artboard"!=g&&M&&0!=M.length){var S=M[0].scale;v="-e"+(1==S?"":S)+"-"}}var A=e.Zs();if(A.cE(f.isVisible),A.Vp(v+f.name.slice(0,250)),null!=p&&(d=o.tJH(n,e,p,c,y,A.getName(),m||"artboard"==g)),f.shouldBreakMaskChain)for(;0!=l.length;)o.MF(l.pop(),e);if(w){if(A.add.lsct=2==f.layerListExpandedType?rt.Gp:rt.Vc,A.kE="pass",A._c=24,A.cE(f.isVisible),e.b.push(e.sd()),"artboard"==g){var k=c.clone(),C=y.ka();k.x=-Math.floor(y.DX/C),k.y=-Math.floor(y.Ug/C),k.$=Math.floor(k.$/C),k.z=Math.floor(k.z/C),A.L$(k);var T=f.backgroundColor,U=Math.round(255*T.blue)<<16|Math.round(255*T.green)<<8|Math.round(255*T.red);if(16777215!=U){var _=e.Zs();_.Vp("Artboard Background"),_.rect=k,_.buffer=a.I(4*_.rect.f()),a.Mw(_.buffer,255<<24|U),e.b.push(_)}}o.QR(f.layers,e,y,n,r,s,h)}else if(m){A.add.vmsk=new nt.hT,A.add.vstk=JSON.parse(JSON.stringify(ot.nO.default)),A.add.vstk.strokeEnabled.v=!1,A.add.vogk=[];var F=null!=d&&1==d.frameFXMulti.v.length,O=p.fills,D=o.Mj(n,O,c,y,A.getName(),e,o.Mi(h,f.do_objectID+"_image"));if(0==D.length)F?A.add.vstk.fillEnabled.v=!1:A.add.iOpa=0,A.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.e.Ta({T:0,q:0,H:0})}};else{var N=D[0],I=null,P=null;if("SoFi"==N.type&&(I="SoCo",P=ot.IS),"GrFl"==N.type&&(I="GdFl",P=ot.fT),"patternFill"==N.type&&(I="PtFl",P=ot.fP),null!=I){A.add[I]={classID:"null"};for(b=0;b<P.length;b++){var J=P[b];A.add[I][J]=N.R.v[J]}var B=N.R.v.Opct.v.val;A.add.iOpa=Math.round(255*B/100)}}if(A._c|=16,A.add.vmsk.L=o.fW(f.layers?f.layers:[f],f.layers?y:i,A.add.vogk),(H=f.style.blur)&&H.isEnabled&&H.type<=1&&(A.add.vmsk.jQ=H.radius),2==A.add.vmsk.L.length&&console.log("shape with no content:",A.getName()),F){var X=d.frameFXMulti.v[0].v,z=A.add.vstk;p.borders[0];d.frameFXMulti.v=[],lt.Ki(X,z);var $=p.borderOptions,V=p.miterLimit;$&&(z.strokeStyleLineCapType.v.strokeStyleLineCapType=ot.nO.Ky[$.lineCapStyle],z.strokeStyleLineJoinType.v.strokeStyleLineJoinType=ot.nO.join[$.lineJoinStyle],z.strokeStyleLineDashSet.v=lt.Yo($.dashPattern,1/X.Sz.v.val),null!=V&&(z.strokeStyleMiterLimit.v=V))}A.Sa(e)}else if("bitmap"==g){var R=f.image.bdata,q=e.Pd(R,A.getName(),0,0);q._c=A._c,A=q;var H=p.blur,G=p.colorControls;if(H||G){A.add.SoLd.filterFX=et.lu(),e.wx({id:A.add.SoLd.placed.v,rect:new L,buffer:a.I(1),d:new nt.qu});O=A.add.SoLd.filterFX.v.filterFXList.v;if(H)(Y=et.$m("GsnB",{})).v.enab.v=H.isEnabled,Y.v.Fltr.v.Rds.v.val=H.radius,O.push(Y);if(G){var Y,K=G.brightness,Q=G.contrast,W=G.hue,Z=G.saturation;if(0!=W||1!=Z)(Y=et.$m("hue2",{})).v.enab.v=G.isEnabled,Y.v.Fltr.v.Adjs.v.push({t:"Objc",v:tt.nr([Math.round(180*W/Math.PI),Math.round(100*(Z-1)),0])}),O.push(Y);if(0!=K||1!=Q)(Y=et.$m("brit",{})).v.enab.v=G.isEnabled,(Q-=1)>0&&(Q/=2),tt.nt("brit",[Math.round(255*K),Math.round(100*Q),!0],Y.v.Fltr.v),O.push(Y)}}c.x=c.y=0;var st=a.K.DK(c).Z;y.UK(),a.K.UC(st,y,st),A.add.SoLd.Trnf=j._.Sz(st),A.add.SoLd.nonAffineTransform=j._.Sz(st),A.fc(e,!1)}else if("text"==g){if(null==f.attributedString)continue;var at,ht,ut=y.clone(),ft=0;ut.UK(),ut.o=ut.KI=Math.min(ut.o,ut.KI),A.add.lnsr="rend",A.add.TySh=dt.YD(0,0),A.add.TySh._B=new L(0,0,c.$,c.z),A.add.TySh.UC=ut;var ct=f.attributedString;ct.archivedAttributedString&&(ct=ct.archivedAttributedString);var pt=ct.NSString;null==pt&&(pt=ct.string),pt["NS.string"]&&(pt=pt["NS.string"]),null!=s[f.do_objectID]&&(pt=s[f.do_objectID]);var vt=o.Mi(h,f.do_objectID+"_stringValue");if(vt&&(pt=vt.value),null!=ct.attributes){at=[],ht=[];var yt=ct.attributes;for(b=0;b<yt.length;b++)at.push(yt[b].length,b),ht.push(yt[b].attributes)}else null==ct.NSAttributeInfo?(at=[pt.length,0],ht=[ct.NSAttributes]):(at=ct.NSAttributeInfo["NS.data"],ht=ct.NSAttributes,at=E.t$q(at,ht));for(b=0;b<at.length;b+=2)ft+=at[b];if(ft!=pt.length){for(;ft>pt.length;)at[at.length-2]--,ft--,0==at[at.length-2]&&(at.pop(),at.pop());at[at.length-2]+=pt.length-ft}pt=(pt=(pt=pt.replace(/\u2028/g,"\n")).replace(/\u2029/g,"\n")).replace(/\r/g,"\n");var gt=A.add.TySh.Bd;if(dt.el(gt,0,pt),""!=pt){o.t$k(gt,at,ht,pt);C=ut.ka();var mt=dt.Sr(gt,0,1),wt=mt.hj.AutoLeading?0:.6*mt.hj.Leading,bt=0,xt=Math.max(mt.hj.FontSize,wt)*C,Mt=c.$,St=c.z;if(0==f.textBehaviour){dt.kN(gt,0);var At=dt.Io(mt.re);1==At&&(bt=Mt*C),2==At&&(bt=Mt*C*.5)}else dt.kN(gt,1),dt.Yc(gt,[0,0,Math.round(Mt),Math.round(St)]),xt*=.35;A.add.TySh.UC.translate(bt,xt)}}else{if("symbolInstance"!=g&&"symbolMaster"!=g){if("slice"==g){console.log("slice layers are ignored by now");continue}console.log("unknown layer type: "+g,f);continue}var kt=f.symbolID;if(s[f.do_objectID]&&(kt=s[f.do_objectID].symbolID),""==kt)continue;var Ct={};for(var J in s)Ct[J]=s[J];if(f.overrides)for(var J in f.overrides)Ct[J]=f.overrides[J];var Tt=h.slice(0);f.overrideValues&&(Tt=Tt.concat(f.overrideValues));var Ut=r[kt];if(null==Ut){console.log("Unknown master master",f.symbolID);continue}var _t=E.uq(Ut.CR.frame),Ft=_t.$/c.$,Ot=_t.z/c.z,Lt=y.clone();Lt.scale(Ft,Ot),A.add.lsct=rt.Vc,A.kE="pass",A._c=24,A.cE(f.isVisible),e.b.push(e.sd()),o.QR(Ut.CR.layers,e,Lt,n,r,Ct,Tt)}if(p&&p.contextSettings){var Dt=p.contextSettings;A.kE=o.em[Dt.blendMode],A.kE=it.Cj[it.io.indexOf(A.kE)],A.opacity=Math.round(A.opacity*Dt.opacity)}null!=d&&(A.add.lmfx=d),e.b.push(A),f.hasClippingMask&&(l.push(A),e.b.push(e.sd()))}for(;0!=l.length;)o.MF(l.pop(),e)},E.Mi=function(t,e){for(var i=0;i<t.length;i++)if(t[i].overrideName.startsWith(e))return t[i]},E.t$q=function(t,e){for(var i=0,n=[];i+1<t.length;){var r=t[i];i++,r>127&&(r+=128*(t[i]-1),t[++i-1]>127&&(r+=128*(t[i]-1),i++));var s=t[i];i++,n.push(r,s)}return n},E.t$k=function(t,e,i,n){for(var r=E,s=0,a=0,h=0;h<n.length;h++){var o=n.charCodeAt(h);(1473<=o&&o<=1479||1488<=o&&o<=1514||1520<=o&&o<=1524||(1569<=o&&o<=1594||1600<=o&&o<=1749))&&s++}var l=s>n.length/2;for(h=0;h<e.length;h+=2){var u=e[h],f=0,c="";if(0!=u){var p,v=i[e[h+1]],d=dt.Sr(t,a,a+u-1);if(null==(p=v.NSColor))null==(p=v.MSAttributedStringColorDictionaryAttribute)&&(p=v.MSAttributedStringColorAttribute),p=null==p?"0 0 0":[p.red,p.green,p.blue].join(" ");else if("MSArchivedColor"==r.pG(p))p=p.dr+" "+p.dg+" "+p.db;else if(p.NSRGB)p=p.NSRGB,p=O.sx(p,0,p.length-1);else if(p.NSCMYK){p=p.NSCMYK;var y=1-(p=(p=O.sx(p,0,p.length-1)).split(" ").map(parseFloat))[0],g=1-p[1],m=1-p[2],w=1-p[3];p=y*w+" "+g*w+" "+m*w}else p.NSWhite&&(p="1 1 1");if(p=p.split(" "),d.hj.FillColor={Type:1,Values:[1,parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2])]},v.NSFont)f=v.NSFont.NSSize,c=v.NSFont.NSName;else{var b=v.MSAttributedStringFontAttribute;b.attributes?(f=(b=b.attributes).size,c=b.name):(f=(b=b.NSFontDescriptorAttributes).NSFontSizeAttribute,c=b.NSFontNameAttribute),null==c&&(c="DejaVuSans")}d.hj.FontSize=Math.round(f),dt.kP(d,c),null!=v.NSKern&&(d.hj.Tracking=Math.round(600*v.NSKern/f)),null!=v.NSUnderline&&(d.hj.Underline=v.NSUnderline>0),null!=v.NSStrikethrough&&(d.hj.Strikethrough=v.NSStrikethrough>0),1==v.MSAttributedStringTextTransformAttribute&&(d.hj.FontCaps=2);var x=v.NSParagraphStyle;null==x&&(x=v.paragraphStyle);var M=x?x.NSAlignment:null;if(x&&null==M&&(M=x.alignment),null!=M){var S=0;1==M?S=1:2==M?S=2:4==M?S=0:(S=M,console.log("unknown align",M)),l&&S<2&&(S=1-S),d.re.Justification=S}var A=x?x.NSMinLineHeight:null;x&&null==A&&(A=x.minimumLineHeight),x&&null!=A&&(d.hj.AutoLeading=!1,d.hj.Leading=Math.round(A)),d.re._Direction=l?1:0,dt.zX(t,a,a+u,d),a+=u}}},E.tJH=function(t,e,i,n,r,s,a){for(var h=E,o=JSON.parse(ot.default),l=!1,u=0;u<ot.order.length;u++)o[ot.vz[u]]={t:"VlLs",v:[]};for(var f=i.fills,c=h.Mj(t,f,n,r,s,e),p=0;p<2;p++){var v=i[["shadows","innerShadows"][p]];if(null!=v){var d=["DrSh","IrSh"][p],y=ot.vz[ot.order.indexOf(d)];for(u=0;u<v.length;u++){var g=v[u];if(g.isEnabled&&(0!=g.contextSettings.opacity&&0!=g.color.alpha)){var m=JSON.parse(ot.cz[ot.order.indexOf(d)]);o[y].v.unshift({t:"Objc",v:m}),l=!0,m.Clr.v=h.bI(g.color),m.blur.v.val=Math.round(g.blurRadius/r.ka());var w=g.offsetX,b=g.offsetY,x=Math.sqrt(w*w+b*b);m.Dstn.v.val=Math.round(x/r.ka()),m.lagl.v.val=Math.round(Math.atan2(b,-w)*(180/Math.PI)),m.layerConceals&&(m.layerConceals.v=0!=c.length),h.Qt(g,m)}}}}var M=i.borders;if(null!=M&&(0==c.length||null==i.blur||!i.blur.isEnabled))for(u=0;u<M.length;u++){var S=M[u];if(S.isEnabled){m=JSON.parse(ot.cz[ot.order.indexOf("FrFX")]);if(o[y=ot.vz[ot.order.indexOf("FrFX")]].v.unshift({t:"Objc",v:m}),l=!0,m.Clr.v=h.bI(S.color),0!=S.fillType&&S.gradient){var A=h.mM(S.gradient,n,r,s),k=["Type","Angl","Ofst","Scl"];for(u=0;u<k.length;u++)m[k[u]]=A[k[u]];m.Grad.v=A.Grad.v,m.PntT.v.FrFl="GrFl"}m.Sz.v.val=S.thickness/r.ka(),m.Styl.v.FStl=["CtrF","InsF","OutF"][S.position],h.Qt(S,m)}}for(u=a?1:0;u<c.length;u++){var C=c[u];o[y=ot.vz[ot.order.indexOf(C.type)]].v.unshift(C.R),l=!0}return l?o:null},E.Mj=function(t,e,i,n,r,a,h){if(null==e)return[];for(var o=E,l=[],u=0;u<e.length;u++)e[u].isEnabled&&l.push(e[u]);e=l;var f=[];for(u=0;u<e.length;u++){var c=e[u],p=null,v=null;if(0==c.fillType)p="SoFi",(v={t:"Objc",v:m=JSON.parse(ot.cz[ot.order.indexOf("SoFi")])}).v.Clr.v=o.bI(c.color);else if(1==c.fillType)p="GrFl",v={t:"Objc",v:o.mM(c.gradient,i,n,r)};else if(4==c.fillType&&null!=c.image){var d=c.image;h&&(d=h.value);var y=s.Uw(d.bdata.buffer);if(null!=y&&"pdf"!=y){var g,m,w=0,b=0,x=0;if(a.rp[d.key])g=a.rp[d.key];else{var M=s.aD(y).cA(d.bdata)[0];(g={data:M.data,lU:new L(0,0,M.MD.$,M.MD.z)}).id=at.kf()+"-d71c-11e5-b1ae-a548a96e5f9f",g.name="someImage",g.nn=new Uint8Array(g.data),delete g.data,a.EO(g),a.rp[d.key]=g}p="patternFill",v={t:"Objc",v:m=JSON.parse(ot.cz[ot.order.indexOf("patternFill")])};var S=c.patternFillType,A=c.patternTileScale;m.Algn.v=!0,m.Ptrn.v.Idnt.v=g.id,0==S?(w=A*g.lU.$/Math.min(g.lU.$,g.lU.z),b=-n.DX,x=-n.Ug):(w=Math.max(i.$,i.z)/Math.min(g.lU.$,g.lU.z),b=-n.DX-(g.lU.$*w-i.$)/2,x=-n.Ug-(g.lU.z*w-i.z)/2),m.Scl.v.val=100*w*(1/n.ka()),m.phase.v.Hrzn.v=Math.round(b/n.ka()),m.phase.v.Vrtc.v=Math.round(x/n.ka())}}else 5==c.fillType?console.log("fill type Noise not supported yet"):console.log("unknown fill type",c.fillType);null!=p&&(o.Qt(c,v.v),f.push({type:p,R:v}))}return f},E.trU=function(t){var e=E,i=new L(0,0,1,1);for(t=t.slice(0);;){for(var n=!1,r=0;r<t.length-1;r++){var s=t[r],a=t[r+1],h=null,o=s.contextSettings;if(0==s.fillType&&(null==o||1==o.opacity&&0==o.blendMode)&&1==s.color.alpha){var l="norm",u=1;if((o=a.contextSettings)&&(u=o.opacity,l=it.FC(e.em[o.blendMode])),0==a.fillType&&(h=JSON.parse(JSON.stringify(a)),e.MK(h.color,s.color,h.color,i,l,u)),1==a.fillType)for(var f=(h=JSON.parse(JSON.stringify(a))).gradient.stops,c=0;c<f.length;c++)e.MK(f[c].color,s.color,f[c].color,i,l,u);if(null!=h&&h.contextSettings)(o=h.contextSettings).opacity=1,o.blendMode=0}if(null!=h){t.splice(r,0,h),n=!0;break}}if(!n||t.length<2)break}return t},E.MK=function(t,e,i,n,r,s){var h=E,o=a.I(4);h.MU(t,o);var l=a.I(4);h.MU(e,l),a.a.MR(r,o,n,l,n,n,s),h.tJy(l,i)},E.MU=function(t,e){e[0]=255*t.red,e[1]=255*t.green,e[2]=255*t.blue,e[3]=255*t.alpha},E.tJy=function(t,e){e.red=t[0]/255,e.green=t[1]/255,e.blue=t[2]/255,e.alpha=t[3]/255},E.MF=function(t,e){(t=t.clone())._c=24,t.Vp("Mask by "+t.getName()),e.b.push(t),t.add.lsct=rt.Gp,t.add.lyid=e.KU(),delete t.add.lmfx,delete t.add.SoCo,delete t.add.GdFl,delete t.add.PtFl,delete t.add.iOpa,t.add.vmsk.rb=!0,t.Sa(e),16==(16&t._c)&&(t._c-=16),2==(2&t._c)&&(t._c-=2),t.kE="pass",t.opacity=255},E.em="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns".split(" "),E.mM=function(t,e,i,n){(i=i.clone()).UK(),i.DX=i.Ug=0;var r=E,s=JSON.parse(ot.cz[ot.order.indexOf("GrFl")]),h=s.Grad.v,o=0,l=0;if(h.Intr.v=0,null==t)return s;var u=t.gradientType,c=r.ie(t.from),p=r.ie(t.to);c.offset(-.5,-.5),p.offset(-.5,-.5),c=i.Sk(c),p=i.Sk(p);var v=Math.atan2(-(p.y-c.y),p.x-c.x);s.Type.v.GrdT=["Lnr","Rdl","Angl"][u],s.Scl.v.val=100*f.Ln(c,p),0==u&&(s.Angl.v.val=180/Math.PI*v,s.Scl.v.val=100*f.Ln(c,p),o=(c.x+p.x)/2,l=(c.y+p.y)/2),1==u&&(s.Scl.v.val=200*f.Ln(c,p),o=c.x,l=c.y),2==u&&(s.Angl.v.val=180/Math.PI*(v-Math.PI/2));var d=s.Ofst.v;d.Hrzn.v.val=100*o,d.Vrtc.v.val=100*l;for(var y=[],g=0;g<t.stops.length;g++){var m=t.stops[g],w=m.color;y.push([m.position,w?[w.red,w.green,w.blue]:[0,0,0],w.alpha])}return a.e.zO(y,h),s},E.Qt=function(t,e){var i=E,n=1,r=t.contextSettings;null!=r?(e.Md.v.BlnM=i.em[r.blendMode],n*=r.opacity):e.Md.v.BlnM=i.em[0],e.enab.v=t.isEnabled,null!=e.uglg&&(e.uglg.v=!1),null!=t.color&&(n*=t.color.alpha),e.Opct.v.val=Math.round(100*n)},E.bI=function(t){return a.e.Ta(t?{T:255*t.red,q:255*t.green,H:255*t.blue}:{T:0,q:0,H:0})},E.fW=function(t,e,i){for(var n=E,r=[{type:6},{type:8,all:0}],s=0;s<t.length;s++){var h=t[s],o=h.booleanOperation,l=0,u=!1;-1==o?l=0:0==o?l=1:1==o?l=2:2==o?l=3:3==o&&(l=0),0==s&&(l=1);for(var f=E.uq(h.frame),c=n.Mm(h,e),p=h.path?h.path:h,v=[{type:0,length:0,AY:l,Fz:2,ev:0,Nb:0}],d=p.points,y=0;y<d.length;y++){var g=d[y],m=n.ie(g.curveTo),w=n.ie(g.point),b=n.ie(g.curveFrom);u=u||g.hasCurveFrom&&!b.v$(w)||g.hasCurveTo&&!m.v$(w)}var x=[];if(u){var M=d.length;v[0].length=M;for(y=0;y<M;y++){g=d[y];v[M-y]={type:1,kM:n.ie(g.curveFrom),P:n.ie(g.point),kq:n.ie(g.curveTo)}}c.scale(1/f.$,1/f.z),c.UK(),a.A.Nj(v,c)}else{var S=[],A=d.length;if(0==A)continue;for(var y=0;y<A;y++){x[y]=d[y].cornerRadius;var g=n.ie(d[y].point);S.push(g.x,g.y)}c.scale(1/f.$,1/f.z),c.UK(),a.K.UC(S,c,S);var k=a.A.AG(S,x);(v=v.concat(k))[0].length=v.length-1}if(!p.isClosed)for(y=0;y<v.length;y++)v[y].type+=3;r=r.concat(v);var C=a.FU.kh(),T=n.pG(h);if(0==c.H&&0==c.lA){var U=c.DX,_=c.Ug,F=[U,_,U+c.o,_+c.KI];"rectangle"==T&&4==x.length&&(C=a.FU.Ne(2,F,x)),"oval"==T&&(C=a.FU.Ne(5,F))}i.push(C)}return r},E.Mm=function(t,e){var i=e.clone(),n=t.frame?E.uq(t.frame):null;return n&&i.translate(-n.x-n.$/2,-n.y-n.z/2),t.isFlippedHorizontal&&i.scale(-1,1),t.isFlippedVertical&&i.scale(1,-1),i.rotate(-t.rotation*(Math.PI/180)),n&&i.translate(n.$/2,n.z/2),i},E.ie=function(t){return t=t.slice(1,t.length-1).split(","),new f(parseFloat(t[0]),parseFloat(t[1]))},E.uq=function(t){return new L(t.x,t.y,t.width,t.height)},E.xr=function(t){return{_class:"rect",constrainProportions:!1,x:t.x,y:t.y,width:t.$,height:t.z}},P.Fp=function(t,e){for(var i=UZIP.parse(t),n=JSON.parse($.hI(i.manifest)),r=JSON.parse($.hI(i["resources/graphics/graphicContent.agc"])).resources,s=[],h=n.children,o=0;o<h.length;o++){var l=h[o];if("artwork"==l.name)for(var u=l.children,f=0;f<u.length;f++)if(u[f]["uxdesign#bounds"]){var p=u[f],v=JSON.parse($.hI(i["artwork/"+p.path+"/graphics/graphicContent.agc"]));if(1!=v.children.length)throw"e";p._node=v.children[0],s.push(p)}}var d=[],y=new L;for(o=0;o<s.length;o++){p=s[o];var g=E.uq(p["uxdesign#bounds"]);d.push(g),y=y.Fv(g)}var m=E.xu(y,67108864);e.iI=!0,e.$=Math.round(y.$/m),e.z=Math.round(y.z/m),e.buffer=a.I(e.$*e.z*4),e.HT(s.length);var w=new c(m,0,0,m,y.x,y.y);e.rp={};for(o=0;o<s.length;o++){p=s[o],g=E.uq(p["uxdesign#bounds"]);var b=p._node,x=w.clone(),M=g.clone(),S=x.ka();x.translate(-g.x,-g.y),M.x=-Math.floor(x.DX/S),M.y=-Math.floor(x.Ug/S),M.$=Math.floor(M.$/S),M.z=Math.floor(M.z/S),x.translate(g.x,g.y),P.sK(b,e,x,r,i,M);var A=e.b[e.b.length-1];A.Vp(p.name),A.L$(M),o!=s.length-1&&(A.add.lsct=rt.Vc)}delete e.rp},P.FB=function(t){return null==t?new c:new c(t.a,t.b,t.c,t.d,t.tx,t.ty)},P.sK=function(t,e,i,n,r,s){var h,o,l,u,f=P,p=t.type,v=t[p],d=t.style,y="none",g="none";($=f.FB(t.transform)).UK();var m=i.clone();m.concat($);var w=e.Zs(),b=t.name;if(w.Vp(b?b.slice(0,250):"Layer"),null!=t.visible&&w.cE(t.visible),d&&(y=(h=d.stroke)?h.type:"none",g=(o=d.fill)?o.type:"none",l=d.filters,u=d.clipPath,d.opacity&&(w.opacity=Math.round(255*d.opacity)),"solid"==g&&o.color.alpha&&(w.opacity=Math.round(w.opacity*o.color.alpha)),l)){w.add.lmfx=f.tJD(l);for(var x=0;x<l.length;x++)if("uxdesign#blur"==l[x].type){var M=l[x],S=M.params,A=S.brightnessAmount;null==A&&(A=0),A=Math.abs(A/100),null!=M.visible&&1!=M.visible||!S.backgroundEffect||(w.opacity=Math.round(w.opacity*(A+(1-A)*S.fillOpacity)))}}if("artboard"==p||"group"==p){if(u&&n.clipPaths[u.ref]){var k=n.clipPaths[u.ref].children[0];($=f.FB(k.transform)).UK(),(_=m.clone()).concat($),w.add.vmsk=new nt.hT,w.add.vmsk.L=f.fW(k.shape),(_=_.clone()).UK(),a.A.Nj(w.add.vmsk.L,_),w.Sa(e)}w.add.lsct=rt.Gp,w.kE="pass",w._c=24,null!=t.visible&&w.cE(t.visible),e.b.push(e.sd());var C=v.children,T=o;if(T&&(T=T.color),T&&(T=T.value),o&&("solid"!=g||255!=T.r||255!=T.g||255!=T.b)){var U=e.Zs();U.Vp("BACKGROUND"),U._c|=16,U.add.vstk=JSON.parse(JSON.stringify(ot.nO.default)),U.add.vmsk=new nt.hT,U.add.vmsk.L=f.fW({type:"rect",x:s.x,y:s.y,width:s.$,height:s.z}),f.uP(o,g,m,s,s,U,e,n,r),U.Sa(e),e.b.push(U)}for(x=0;x<C.length;x++)P.sK(C[x],e,m,n,r,s)}else if("shape"!=p||"rect"!=t.shape.type||null!=t.shape.r&&0!=t.shape.r||null==d||"pattern"!=d.fill.type)if("shape"==p){w._c|=16,w.add.vstk=JSON.parse(JSON.stringify(ot.nO.default)),w.add.vmsk=new nt.hT,w.add.vmsk.L=f.fW(v);var _,F=a.A.gw(w.add.vmsk.L,null);(_=m.clone()).UK(),a.A.Nj(w.add.vmsk.L,_);var O=a.A.gw(w.add.vmsk.L,null);if("none"==y);else{var D,N=h.color.value;"SoFi",(D={t:"Objc",v:JSON.parse(ot.cz[ot.order.indexOf("SoFi")])}).v.Clr.v=a.e.Ta({T:N.r,q:N.g,H:N.b});var I=h.align,E=h.cap;null==I&&(I="center");var J=w.add.vstk;J.strokeEnabled.v=!0,J.strokeStyleLineWidth.v.val=h.width,I&&(J.strokeStyleLineAlignment.v.strokeStyleLineAlignment=ot.nO.e$[["inside","center","outside"].indexOf(I)]),E&&(J.strokeStyleLineCapType.v.strokeStyleLineCapType=ot.nO.Ky[["butt","round","square"].indexOf(E)]);var B=["SoFi","GrFl","patternFill"].indexOf("SoFi"),X=[ot.IS,ot.fT,ot.fP][B];J.strokeStyleContent.v={classID:ot.nO.aw[0]};var z=J.strokeStyleContent.v={classID:ot.nO.aw[B]};for(x=0;x<X.length;x++)z[X[x]]=D.v[X[x]]}f.uP(o,g,m,F,O,w,e,n,r),w.Sa(e)}else if("text"==p){var $,V=t.text,R=V.frame,q=d.font,H=d.textAttributes;w.getName().startsWith("Awesome")&&console.log(t,V,q),($=m.clone()).UK(),w.add.lnsr="rend",w.add.TySh=dt.YD(0,0),w.add.TySh._B=new L(0,0,100,100),w.add.TySh.UC=$;var G=w.add.TySh.Bd;dt.el(G,0,V.rawText);N=o.color.value;var Y=dt.Sr(G,0,1);dt.kP(Y,q.postscriptName),Y.hj.FontSize=Math.round(q.size),Y.hj.FillColor={Type:1,Values:[1,N.r/255,N.g/255,N.b/255]},H&&(H.paragraphAlign&&(Y.re.Justification=["left","right","center"].indexOf(H.paragraphAlign)),H.letterSpacing&&(Y.hj.Tracking=Math.round(H.letterSpacing)),H.lineHeight&&(Y.hj.AutoLeading=!1,Y.hj.Leading=Math.round(H.lineHeight))),dt.zX(G,0,V.rawText.length,Y),"area"==R.type&&(dt.kN(G,1),dt.Yc(G,[0,0,R.width,R.height]))}else console.log(p,t);else{var K=o.pattern,Q=r["resources/"+K.meta.ux.uid],W=e.Pd(Q,w.getName(),0,0);W._c=w._c,w=W;var Z=a.K.DK(new L(0,0,K.width,K.height)).Z,tt=new c;tt.scale(K.width/t.shape.width,K.height/t.shape.height),m.concat(tt),m.UK(),a.K.UC(Z,m,Z),w.add.SoLd.Trnf=j._.Sz(Z),w.add.SoLd.nonAffineTransform=j._.Sz(Z),w.fc(e,!1)}e.b.push(w)},P.fW=function(t){var e=t.type,i=[{type:6},{type:8,all:0}];if("rect"==e){var n=t.r,r=t.x,s=t.y,h=t.width,o=t.height;i=null==n?a.A.FH.Rect(r,s,h,o,0):i.concat([{type:0,AY:1,length:8,ev:0,Nb:0,Fz:1}]).concat(a.A.AG([r,s,r+h,s,r+h,s+o,r,s+o],n,!1))}else if("circle"==e){n=t.r;i=a.A.FH.QJ(t.cx-n,t.cy-n,2*n,2*n)}else if("ellipse"==e){var l=t.rx,u=t.ry;i=a.A.FH.QJ(t.cx-l,t.cy-u,2*l,2*u)}else if("path"==e||"compound"==e)i=i.concat(a.A.eX(t.path));else if("line"==e){var f=t.x1,c=t.x2,p=t.y1,v=t.y2;i=i.concat([{type:0,AY:1,length:2,ev:0,Nb:0,Fz:1}]).concat(a.A.AG([f,p,c,v],0,!0))}else console.log(e,t);return i},P.tJD=function(t){for(var e=JSON.parse(ot.default),i=0;i<ot.order.length;i++)e[ot.vz[i]]={t:"VlLs",v:[]};for(i=0;i<t.length;i++){var n=t[i],r=n.type,s=n.params,h=n.visible;if("dropShadow"==r){var o=ot.vz[ot.order.indexOf("DrSh")],l=JSON.parse(ot.cz[ot.order.indexOf("DrSh")]);e[o].v.unshift({t:"Objc",v:l});var u=s.dropShadows;if(1!=u.length)throw"e";var f=u[i],c=f.color,p=c.value,v=f.dx,d=f.dy;l.Clr.v=a.e.Ta({T:p.r,q:p.g,H:p.b}),l.Opct.v.val=Math.round(100*(null!=c.alpha?c.alpha:1)),l.uglg.v=!1,l.enab.v=null==h||h,l.lagl.v.val=Math.round(180/Math.PI*Math.atan2(d,-v)),l.Dstn.v.val=Math.round(Math.sqrt(v*v+d*d)),l.blur.v.val=Math.round(2.3*f.r)}else console.log(r,n)}return e},P.uP=function(t,e,i,n,r,h,o,l,u){var p=P;if("none"==e)h.add.vstk.fillEnabled.v=!1,h.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.e.Ta({T:0,q:0,H:0})}};else{var v,d,y;if("solid"==e){var g=t.color.value;v="SoCo",d=ot.IS,(y={t:"Objc",v:D=JSON.parse(ot.cz[ot.order.indexOf("SoFi")])}).v.Clr.v=a.e.Ta({T:g.r,q:g.g,H:g.b})}else if("gradient"==e){v="GdFl",d=ot.fT;var m,w=(D=JSON.parse(ot.cz[ot.order.indexOf("GrFl")])).Grad.v;w.Intr.v=0;var b,x=t[e],M=l.gradients[x.ref],S=["linear","radial"].indexOf(M.type),A=M.stops;if(D.Type.v.GrdT=["Lnr","Rdl","Angl"][S],0==S){var k=new f(x.x1,x.y1),C=new f(x.x2,x.y2);k.x=C.x+.5*(k.x-C.x),k.y=C.y+.5*(k.y-C.y)}else k=new f(x.cx,x.cy),C=new f(x.cx+x.r,x.cy);if(m=r,"objectBoundingBox"==x.units)k=(b=new c(n.$,0,0,n.z,n.x,n.y)).Sk(k),C=b.Sk(C);k=(b=p.FB(x.transform)).Sk(k),C=b.Sk(C),(b=i.clone()).UK(),k=b.Sk(k),C=b.Sk(C),a.e.qa(k,C,m,D);for(var T=[],U=0;U<A.length;U++){var _=A[U],F=_.color,O=(g=F.value,F.alpha);null==O&&(O=1),T.push([_.offset,[g.r/255,g.g/255,g.b/255],O])}a.e.zO(T,w),y={t:"Objc",v:D}}else if("pattern"==e){v="PtFl",d=ot.fP;var D,N,I=1,E=0,J=0;y={t:"Objc",v:D=JSON.parse(ot.cz[ot.order.indexOf("patternFill")])};var B=t[e],X=B.meta.ux,z=X.uid,$=u["resources/"+z].buffer,V=s.Uw($);if(o.rp[z])N=o.rp[z];else(N={data:s.aD(V).cA($)[0].data,lU:new L(0,0,B.width,B.height)}).id=at.kf()+"-d71c-11e5-b1ae-a548a96e5f9f",N.name="someImage",N.nn=new Uint8Array(N.data),delete N.data,o.EO(N),o.rp[z]=N;if(D.Algn.v=!0,D.Ptrn.v.Idnt.v=N.id,"cover"==X.scaleBehavior)I=1*Math.max(r.$,r.z)/Math.min(N.lU.$,N.lU.z),E=r.x-(N.lU.$*I-r.$)/2,J=r.y-(N.lU.z*I-r.z)/2;else{if("fill"!=X.scaleBehavior)throw"Unknown scale behaviour";I=1*Math.min(r.$,r.z)/Math.max(N.lU.$,N.lU.z),E=r.x-(N.lU.$*I-r.$)/2,J=r.y-(N.lU.z*I-r.z)/2}D.Scl.v.val=100*I,D.phase.v.Hrzn.v=Math.round(E),D.phase.v.Vrtc.v=Math.round(J)}else console.log(e);if(null!=v){h.add[v]={classID:"null"};for(U=0;U<d.length;U++){var R=d[U];h.add[v][R]=y.v[R]}}}},J.Fp=function(t,e){t=new Uint8Array(t);var i=$.hI(t,0,t.length),n=(new DOMParser).parseFromString(i,"image/svg+xml"),r=n.getElementsByTagName("style")[0];if(r){var s=J.Ms(r.textContent,"{","}");r={};for(var h=0;h<s.length;h+=2)for(var o=s[h].split(/,?\s+/),l=0;l<o.length;l++)r[o[l]]=s[h+1]}else r={};for(var u=n.firstChild;"svg"!=u.tagName;)u=u.nextSibling;var f=new L(0,0,100,100),p=u.getAttribute("viewBox");if(p){var v=p.split(" ").map(parseFloat);f.x=v[0],f.y=v[1],f.$=v[2],f.z=v[3]}else u.getAttribute("width")&&(f.$=parseFloat(u.getAttribute("width")),f.z=parseFloat(u.getAttribute("height")));f=a.K.Cn(f),e.iI=!0,e.$=f.$,e.z=f.z,e.buffer=a.I(4*f.f());var d=new c(1,0,0,1,-f.x,-f.y),y={PH:J.NJ(u),sn:r};J.Q$(n,u.children,e,d,y,new c)},J.Q$=function(t,e,i,n,r,h){for(var o=J,l=["display","opacity","fill-opacity"],u=0;u<e.length;u++){var f=e[u],c=f.tagName,p=f.getAttribute("id"),v=o.NJ(f,r.sn),d=JSON.parse(JSON.stringify(r.PH)),y=1,g="clip-path",m=null;for(var w in v)-1==l.indexOf(w)&&(d[w]=v[w]);f.getAttribute("dx")&&(n.DX+=o.QH(f.getAttribute("dx"),13)),f.getAttribute("dy")&&(n.Ug+=o.QH(f.getAttribute("dy"),13));var b=o.N$(f);b.concat(n);var x=f.getAttribute("visibility"),M=v.display,S=i.Zs();if("hidden"!=x&&"none"!=M||S.cE(!1),S.Vp(null!=p?p:"Layer"),v.opacity&&(y*=parseFloat(v.opacity)),v["fill-opacity"]&&(y*=parseFloat(v["fill-opacity"])),S.opacity=Math.round(255*y),v["mix-blend-mode"]){var A=it.l_.indexOf(v["mix-blend-mode"]);-1!=A&&(S.kE=it.Cj[A])}if(null==f.getAttribute(g)&&(g="mask"),null!=f.getAttribute(g)){(m=i.Zs()).Vp("Clip-Path"+(p?": "+p:"")),m.add.lsct=rt.Gp,m.kE="pass",m._c=24;var k=m.add.vmsk=new nt.hT;i.b.push(i.sd()),C=(C=f.getAttribute(g)).slice(4,C.length-1);var C,T=t.getElementById(C.slice(1)),U=T.children,_=[];if(T.getAttribute(g))C=(C=T.getAttribute(g)).slice(4,C.length-1),_=t.getElementById(C.slice(1)).children;for(var F=0;F<U.length;F++){(D=o.N$(U[F])).concat(b);var O=o.fW(t,U[F]).slice(2);a.A.Nj(O,D),k.L=k.L.concat(O)}for(F=0;F<_.length;F++){var D;(D=o.N$(U[F])).concat(b);O=o.fW(t,_[F]).slice(2);for(var N=0;N<O.length;N++)null!=O[F].AY&&(O[F].AY=3);a.A.Nj(O,D),k.L=k.L.concat(O)}m.Ls(),m.Sa()}if("g"==c||"a"==c||"svg"==c||"switch"==c||("text"==c||"textPath"==c)&&f.children.length>0){"text"==c&&(h=o.JD(f,h));var I=f.children.length,E=r.PH;r.PH=d;var P="text"!=c&&"textPath"!=c||I>1;if(P){var B=S.op();S.add.lsct=B?rt.Gp:rt.Vc,S.kE="pass",S._c=24,S.cE(B),i.b.push(i.sd())}o.Q$(t,f.children,i,b,r,h),P&&i.b.push(S),r.PH=E}else if("use"==c){(wt=o.JD(f)).concat(b);var X=o.Nr(f),z=t.getElementById(X.slice(1));E=r.PH;r.PH=d,o.Q$(t,[z],i,wt,r,h),r.PH=E}else if("path"==c||"rect"==c||"circle"==c||"ellipse"==c||"polygon"==c||"polyline"==c||"line"==c){S._c|=16,S.add.vmsk=new nt.hT,S.add.vstk=JSON.parse(JSON.stringify(ot.nO.default)),S.add.vstk.strokeEnabled.v=!1;var $=S.add.vstk;(k=S.add.vmsk).L=o.fW(t,f),a.A.Nj(k.L,b);var V=a.A.gw(k.L),R=d.stroke,q=d["stroke-width"],H=d["stroke-dasharray"],G=d.fill,Y=d["stroke-linejoin"],K=d["stroke-linecap"],Q=d["paint-order"];if(null==R||"none"==R);else{var W=o.Mu(t,R,b,V),Z=["SoFi","GrFl","patternFill"].indexOf(W.type),tt=[ot.IS,ot.fT,ot.fP][Z],et=$.strokeStyleContent.v={classID:ot.nO.aw[Z]},st=1;for(F=0;F<tt.length;F++)et[tt[F]]=W.R.v[tt[F]];q=q?parseFloat(q):1,Q&&"stroke fill"==Q.replace(/\s\s+/g," ").slice(0,11)&&(st=2,q/=2),$.strokeEnabled.v=!0,Y&&($.strokeStyleLineJoinType.v.strokeStyleLineJoinType=ot.nO.join[["miter","round","bevel"].indexOf(Y)]),K&&($.strokeStyleLineCapType.v.strokeStyleLineCapType=ot.nO.Ky[["butt","round","square"].indexOf(K)]),$.strokeStyleLineWidth.v.val=q*j._.ka(b),$.strokeStyleLineAlignment.v.strokeStyleLineAlignment=ot.nO.e$[st],$.strokeStyleOpacity.v.val=100*(d["stroke-opacity"]?parseFloat(d["stroke-opacity"]):1),null!=H&&"none"!=H&&($.strokeStyleLineDashSet.v=lt.Yo(H.split(",").map(parseFloat),1/q))}if("none"==G)S.add.vstk.fillEnabled.v=!1,S.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.e.Ta({T:0,q:0,H:0})}};else{var at=null,ht=null;if("SoFi"==(W=o.Mu(t,G,b,V)).type&&(at="SoCo",ht=ot.IS),"GrFl"==W.type&&(at="GdFl",ht=ot.fT),"patternFill"==W.type&&(at="PtFl",ht=ot.fP),null!=at){S.add[at]={classID:"null"};for(F=0;F<ht.length;F++){w=ht[F];S.add[at][w]=W.R.v[w]}}}if(d.filter){var ut=d.filter;ut=ut.slice(5,ut.length-1);var ft=t.getElementById(ut).children[0];"feGaussianBlur"==ft.tagName&&(S.add.vmsk.jQ=parseFloat(ft.getAttribute("stdDeviation"))*j._.ka(b))}S.Ls(),S.Sa(i),i.b.push(S)}else if("text"!=c&&"tspan"!=c||""==f.textContent)if("image"==c){if("data"==(X=o.Nr(f)).slice(0,4)){var ct=s.cr(X),pt=i.Pd(ct,S.getName(),0,0);pt._c=S._c;var vt=(S=pt).rect.clone();vt.x=vt.y=0;var yt=o.JD(f);yt.concat(b);var gt=a.K.DK(vt).Z;a.K.UC(gt,yt,gt),S.add.SoLd.Trnf=j._.Sz(gt),S.add.SoLd.nonAffineTransform=j._.Sz(gt),S.fc(i,!1),i.b.push(S)}}else console.log("unknown tag: "+c,f.children.length,f.textContent.length);else{var wt,bt=13;if((wt=(h=o.JD(f,h)).clone()).concat(b),f.children.length>0){var xt=o.NJ(f.children[0],r.sn);for(var w in xt)-1==l.indexOf(w)&&(d[w]=xt[w])}var Mt=d["xml:space"],St=f.textContent;"preserve"==Mt&&(St=St.replace(/\t/g," ").replace(/\n/g," ")),null==p&&S.Vp(St),S.add.TySh=dt.YD(0,0),S.add.TySh._B=new L(0,0,100,100),S.add.TySh.UC=wt.clone();var At=S.add.TySh.Bd;dt.el(At,0,St);G=d.fill;var kt=d["font-size"],Ct=d["font-weight"],Tt=d["font-family"],Ut=d["text-decoration"],_t=(R=d.stroke,q=d["stroke-width"],dt.Sr(At,0,1));if(G&&"none"!=G){var Ft=mt.bI(G);_t.hj.FillColor={Type:1,Values:[1,Ft.T/255,Ft.q/255,Ft.H/255]}}if("underline"==Ut&&(_t.hj.Underline=!0),kt&&(bt=o.QH(kt,bt)),_t.hj.FontSize=Math.round(bt),dt.kP(_t,"LiberationSans"),"bold"==Ct&&dt.kP(_t,"LiberationSans-Bold"),Tt){var Ot=Tt+":"+(Ct||"normal"),Lt={"FreeMono:normal":"NimbusMono-Regular","FreeMono:bold":"NimbusMono-Bold","'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol"};Lt[Ot]&&dt.kP(_t,Lt[Ot])}if(d["text-anchor"]&&(_t.re.Justification=["start","end","middle"].indexOf(d["text-anchor"])),dt.zX(At,0,St.length,_t),null==R||"none"==R);else{var Dt=JSON.parse(ot.cz[ot.order.indexOf("FrFX")]);Dt.Clr.v=a.e.Ta(mt.bI(R)),Dt.Sz.v.val=Math.round(parseFloat(q)*j._.ka(wt));var Nt=JSON.parse(ot.default);for(F=0;F<ot.order.length;F++)Nt[ot.vz[F]]={t:"VlLs",v:[]};Nt.frameFXMulti.v.push({t:"Objc",v:Dt}),S.add.lmfx=Nt}i.b.push(S)}null!=m&&i.b.push(m)}},J.fW=function(t,e){var i,n=J,r=e.tagName,s=[{type:6},{type:8,all:0}];if("path"==r&&(s=s.concat(a.A.eX(e.getAttribute("d")))),"rect"==r){var h=e.getAttribute("rx"),o=n.JD(e);s=a.A.FH.Rect(o.DX,o.Ug,parseFloat(e.getAttribute("width")),parseFloat(e.getAttribute("height")),h?parseFloat(h):0)}if("circle"==r||"ellipse"==r){var l=0,u=0,f=(h=0,0);e.getAttribute("cx")&&(l=parseFloat(e.getAttribute("cx"))),e.getAttribute("cy")&&(u=parseFloat(e.getAttribute("cy"))),e.getAttribute("rx")&&(h=parseFloat(e.getAttribute("rx"))),e.getAttribute("ry")&&(f=parseFloat(e.getAttribute("ry"))),e.getAttribute("r")&&(h=f=parseFloat(e.getAttribute("r"))),s=a.A.FH.QJ(l-h,u-f,2*h,2*f)}"polygon"!=r&&"polyline"!=r&&"line"!=r||(i="line"==r?[e.getAttribute("x1"),e.getAttribute("y1"),e.getAttribute("x2"),e.getAttribute("y2")].map(parseFloat):e.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat),s=a.A.FH.eO(i,0,"polygon"!=r));if("use"==r){var p=n.Nr(e),v=t.getElementById(p.slice(1)),d=new c;"rect"!=v.tagName&&(d=n.JD(v)),d.concat(n.N$(v)),s=n.fW(t,v),a.A.Nj(s,d)}return s},J.Ms=function(t,e,i){for(var n=[],r=0,s=!1;;){var a=t.indexOf(s?i:e,r);if(-1==a)break;n.push(t.slice(r,a).trim()),r=a+1,s=!s}return n},J.QH=function(t,e){return"m"==t.charAt(t.length-1)?e*parseFloat(t.slice(0,t.length-2)):parseFloat(t)},J.Mu=function(t,e,i,n){var r,s,h=J,o=null!=e?e.indexOf("("):-1;if(-1!=o){var l=e.indexOf(")"),u=e.slice(0,o).trim(),f=e.slice(o+1,l).trim();if("url"==u)if("#"==f.charAt(0)){var c=t.getElementById(f.slice(1));if("Gradient"==c.tagName.slice(6))r="GrFl",s={t:"Objc",v:h.mM(t,c,i,n)}}else console.log("unknown url",url);else if("rgb"==u){r="SoFi",(s={t:"Objc",v:JSON.parse(ot.cz[ot.order.indexOf("SoFi")])}).v.Clr.v=a.e.Ta(mt.bI(e))}else console.log("unknown fill",e)}else{r="SoFi",(s={t:"Objc",v:JSON.parse(ot.cz[ot.order.indexOf("SoFi")])}).v.Clr.v=a.e.Ta(mt.bI(e))}return{type:r,R:s}},J.N$=function(t){var e=new c,i=t.getAttribute("transform");i&&(e=J.QI(i));var n=t.getAttribute("style");if(null!=n){var r={};J.QP(r,n,["transform"]),(n=r.transform)&&e.concat(J.QI(n))}return e},J.JD=function(t,e){var i=new c,n=t.getAttribute("x"),r=t.getAttribute("y");return n?i.DX=parseFloat(n):e&&(i.DX=e.DX),r?i.Ug=parseFloat(r):e&&(i.Ug=e.Ug),i},J.QI=function(t){for(var e=J.Ms(t,"(",")"),i=new c,n=0;n<e.length;n+=2){var r=i;(i=J.trb(e[n],e[n+1])).concat(r)}return i},J.trb=function(t,e){for(var i=new c,n=!0,r=0;r<e.length;r++){var s=e.charAt(r);","==s||" "==s?n=!0:"."==s?(n||(e=e.slice(0,r)+","+e.slice(r),r++),n=!1):"-"==s&&r>0&&"e"!=e[r-1]&&(e=e.slice(0,r)+" "+e.slice(r),r++,n=!0)}if(e=e.split(/\s*[\s,]\s*/).map(parseFloat),"translate"==t)1==e.length?i.translate(e[0],0):i.translate(e[0],e[1]);else if("scale"==t)1==e.length?i.scale(e[0],e[0]):i.scale(e[0],e[1]);else if("rotate"==t){var a=0,h=0;1!=e.length&&(a=e[1],h=e[2]),i.translate(-a,-h),i.rotate(-Math.PI*e[0]/180),i.translate(a,h)}else"matrix"==t?i=new c(e[0],e[1],e[2],e[3],e[4],e[5]):console.log("unknown transform: ",t);return i},J.NJ=function(t,e){for(var i={},n="fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" "),r=0;r<n.length;r++){var s=t.getAttribute(n[r]);null!=s&&"inherit"!=s&&(i[n[r]]=s)}var a=t.getAttribute("class");null!=e&&null!=a&&null!=e["."+a]&&J.QP(i,e["."+a],n);var h=t.getAttribute("style");return null!=h&&J.QP(i,h,n),i},J.QP=function(t,e,i){e=e.trim().split(";");for(var n=0;n<e.length;n++)for(var r=e[n].split(":"),s=0;s<i.length;s++)r[0].trim()==i[s]&&(t[i[s]]=r[1].trim())},J.Nr=function(t){var e=t.getAttribute("xlink:href");return null==e&&(e=t.getAttribute("href")),e},J.mM=function(t,e,i,n){var r=J,s=new c,h=e.getAttribute("gradientTransform");h&&(s=r.QI(h)),s.concat(i);var o=JSON.parse(ot.cz[ot.order.indexOf("GrFl")]),l=o.Grad.v;l.Intr.v=0;var u=e.tagName,p=new f(0,0),v=new f(n.$,0);"linearGradient"==u&&(o.Type.v.GrdT="Lnr",e.getAttribute("x1")&&(p.x=parseFloat(e.getAttribute("x1"))),e.getAttribute("y1")&&(p.y=parseFloat(e.getAttribute("y1"))),e.getAttribute("x2")&&(v.x=parseFloat(e.getAttribute("x2"))),e.getAttribute("y2")&&(v.y=parseFloat(e.getAttribute("y2"))),p.x=v.x+.5*(p.x-v.x),p.y=v.y+.5*(p.y-v.y)),"radialGradient"==u&&(o.Type.v.GrdT="Rdl",e.getAttribute("cx")&&(p.x=parseFloat(e.getAttribute("cx"))),e.getAttribute("cy")&&(p.y=parseFloat(e.getAttribute("cy"))),v.kR(p.x,p.y),e.getAttribute("r")&&(v.x+=parseFloat(e.getAttribute("r")))),"userSpaceOnUse"==e.getAttribute("gradientUnits")?(p=s.Sk(p),v=s.Sk(v)):(p.x=n.x+p.x*n.$,p.y=n.y+p.y*n.z,v.x=n.x+v.x*n.$,v.y=n.y+v.y*n.z),a.e.qa(p,v,n,o);var d=e.children;if(0==d.length){var y=r.Nr(e);if(null==y)throw"gradient has no stops";var g=t.getElementById(y.slice(1));if(null==g)throw console.log(y.slice(1)),"e";var m=r.mM(t,g,s,n);o.Grad=m.Grad}else{for(var w=[],b=0;b<d.length;b++){var x=d[b],M=r.NJ(x),S=M["stop-color"],A=M["stop-opacity"],k=x.getAttribute("offset");null==S&&(S="#000000"),null==A&&(A="1");var C=k?parseFloat(k):0;S=mt.bI(S),w.push([C,[S.T/255,S.q/255,S.H/255],parseFloat(A)])}a.e.zO(w,l)}return o},J.QU=function(t,i){var n=[],r=J;r.M_=i.Nt?"\t":"";var h=i.tCa,o=i.tCi;n.push('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+t.$+" "+t.z+'" width="'+h+'" height="'+o+'">');var l={WU:[],C:[],CV:0,gu:0,gc:0,_q:{},_l:{},ad:0,tP:{},Co:{},Cl:0,LS:[]};if(J.gR(t,l,t.root.children,1,i),0!=l.WU.length&&(n.push(r.Vs(1)+"<defs>"),(n=n.concat(l.WU)).push(r.Vs(1)+"</defs>")),n.push(r.Vs(1)+"<style>"),i.LS)for(var u=0;u<l.LS.length;u++){var f=l.LS[u],c=e.NW.jq(f);f==e.jv(c)&&n.push(r.Vs(2)+'@font-face { font-family: "'+f+'";  src: url(data:font/sfnt;base64,'+s.Yw(c._data.buffer)+");  }")}for(var p in n.push(r.Vs(2)+"tspan { white-space:pre }"),l.tP)n.push(r.Vs(2)+"."+p+" { "+l.tP[p]+" } ");n.push(r.Vs(1)+"</style>"),(n=n.concat(l.C)).push("</svg>"),n=n.join(i.Nt?"\n":"");var v=a.I(Math.round(1.5*n.length)),d=$.aX(n,v,0);if(r.IQ){console.log(r.IQ);var y="SVGParser.gen.db = [\n";for(u=0;u<r.IQ.length;u++){var g=r.IQ[u];y+='{\n\tnam: "'+g.tdO+'",\n\tpts: [\n';for(var m=0;m<g.x_.length;m++){var w=g.x_[m];y+='\t\t["'+w[0]+'", { cmds: '+JSON.stringify(w[1].lX)+", crds:"+JSON.stringify(w[1].Z)+" } ]"+(m==g.x_.length-1?"":",")+"\n"}y+="\t]\n}"+(u==r.IQ.length-1?"":",")+"\n"}y+="]\n",console.log(y)}return v.buffer.slice(0,d)},J.M_="",J.Vs=function(t){for(var e="",i=0;i<t;i++)e+=J.M_;return e},J._X=function(t){return""+parseFloat(t.toFixed(3))},J.gR=function(t,e,i,n,r){for(var h=J,o=0;o<i.length;o++){var l=i[o].i,u=(l.add.lsct,l.add.vmsk),f=(l.add.vstk,l.add.TySh),c=[];if(r.hidden||l.op()){var p=l.opacity/255,v=l.add.iOpa?l.add.iOpa/255:1;if(1!=p&&c.push("opacity: "+h._X(p)),1!=v&&c.push("fill-opacity: "+h._X(v)),"norm"!=l.kE){var d=it.l_[it.Cj.indexOf(l.kE)];null!=d&&c.push("mix-blend-mode: "+d)}l.op()||c.push("display: none");var y=[],g=[],m=l.getName(),w=m.indexOf(" .");-1!=w&&(g.push(m.slice(w+2)),m=m.slice(0,w)),r.names&&y.push('id="'+h.oJ(m)+'"');var b=l.add.lmfx;if(b&&(b=b.solidFillMulti.v[0]),b&&(b=b.v),b&&b.enab.v){var x=b.Opct.v.val/100,M=h._X(1-x),S=a.e.NG(b.Clr.v);e.gu++,e.WU.push(h.Vs(2)+'<filter id="flt'+e.gu+'"> <feColorMatrix in="SourceGraphic" type="matrix" values="'+M+" 0 0 0 "+h._X(x*S.T/255)+"   0 "+M+" 0 0 "+h._X(x*S.q/255)+"   0 0 "+M+" 0 "+h._X(x*S.H/255)+'   0 0 0 1 0" /> </filter>'),c.push("filter: url(#flt"+e.gu+")")}if(l.oP()){if(h.IQ&&3==l.getName().split("-").length&&h.IQ.push({tdO:l.getName(),Dj:0,x_:[]}),u){e.gc++,y.push('clip-path="url(#cp'+e.gc+')"'),e.WU.push(h.Vs(2)+'<clipPath clipPathUnits="userSpaceOnUse" id="cp'+e.gc+'">');var A=a.A.Tp(u.L);e.WU.push(h.Vs(3)+'<path d="'+A.Ni+'" />'),e.WU.push(h.Vs(2)+"</clipPath>")}0!=c.length&&y.push('style="'+c.join(";")+'"'),e.C.push(h.Vs(n)+"<g "+h.Jc(y,g)+">"),h.gR(t,e,i[o].children,n+1,r),e.C.push(h.Vs(n)+"</g>")}else if(l.TT()&&null==u){var k=new L(0,0,t.$,t.z);h.gs(c,l.add,e,k),0!=c.length&&y.push('style="'+c.join(";")+'"'),e.C.push(h.Vs(n)+'<rect width="'+t.$+'" height="'+t.z+'" '+h.Jc(y,g)+" />")}else if(u){k=a.A.gw(u.L);0!=(A=a.A.Tp(u.L)).SB&&y.push('fill-rule="evenodd"');var C=A.Ni;if(h.gs(c,l.add,e,k),0!=c.length){var T=c.join(";");null==(W=e.Co[T])&&(W="shp"+e.Cl,e.Cl++,e.Co[T]=W,e.tP[W]=T),g.push(W)}if(e.C.push(h.Vs(n)+"<path "+h.Jc(y,g)+' d="'+C+'" />'),h.IQ){var U=a.K.Cp(u.L);U.Z=U.Z.map(Math.round);var _=h.IQ[h.IQ.length-1];_.Dj+=JSON.stringify(U).length,_.x_.push([c[0].split("#").pop(),U])}}else if(f&&!r.tCG){var F=f.Bd,O=f.UC.clone(),D=0,N=0;if(1==dt.gG(F)){var I=dt.Sr(F,0,0).re.Justification,E=0,P=dt.BR(F)[2];2==I&&(E=P/2),1==I&&(E=P),O.translate(E,0)}c.push("transform: "+h.eT(O));var B=dt.Fk(F),X=F.EngineDict.ParagraphRun,z=X.RunArray,$=X.RunLengthArray;0!=c.length&&y.push('style="'+c.join(";")+'"'),e.C.push(h.Vs(n)+"<text "+h.Jc(y,g)+" >");var V=l.add.lmfx;V&&(V=V.frameFXMulti.v[0]),V&&(V=V.v);for(var R=0;R<z.length;R++){var q=[],H=$[R],G=B.slice(D,D+H-1),Y=dt.Sr(F,D,D),K=Y.vT[Y.hj.Font].Name;-1==e.LS.indexOf(K)&&e.LS.push(K),mt.bC(q,Y,f.UC,!0,r.LS),V&&(c.push("stroke: "+mt.YP(V.Clr.v)),c.push("stroke-width: "+V.Sz.v.val));var Q=1.12*Y.hj.FontSize;if(0==R&&(Q=0==dt.gG(F)?0:Y.hj.FontSize),N+=Q,""!=G){var W;T=q.join(";");null==(W=e.Co[T])&&(W="txt"+e.Cl,e.Cl++,e.Co[T]=W,e.tP[W]=T),e.C.push(h.Vs(n+1)+'<tspan x="0" y="'+h._X(N)+'" class="'+W+'">'+h.oJ(G)+"</tspan>")}D+=H}e.C.push(h.Vs(n)+"</text>")}else if(l.add.SoLd){var Z=l.add.SoLd,tt=Z.Idnt.v,et=0,nt=Z.Crop?Z.Crop.v:null;if(null!=e._l[tt])et=e._l[tt];else{e.ad++,et=e.ad,e._l[tt]=e.ad;var rt=t.Hj(tt,nt),st="";if(null==rt)return;var ht=rt.Eq,ot=s.Uw(rt.raw.buffer);if("pdf"==ot){var lt=new at("h");s.PDF.cA(rt.raw.buffer,lt),lt.f$(),lt.HZ(),lt.r(),lt.LD(),Z.Crop&&1==Z.Crop.v&&j.$p.tt(lt,lt.root.AK(lt,!0));var ut=s.SVG.Dz(lt,lt.$,lt.z);st="data:image/svg+xml;base64,"+s.Yw(ut)}else if("jpg"==ot||"png"==ot||"gif"==ot||"svg"==ot){st="data:"+{jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"}[ot]+";base64,"+s.Yw(rt.raw.buffer)}else st=s.Km(ht[0],ht[1].$,ht[1].z);e.WU.push(h.Vs(2)+'<image width="'+ht[1].$+'" height="'+ht[1].z+'" id="img'+et+'" href="'+st+'"/>')}var ft=a.F.Cw(Z);0!=c.length&&y.push('style="'+c.join(";")+'"');var ct=h.Jc(y,g);e.C.push(h.Vs(n)+"<use "+ct+' href="#img'+et+'" transform="'+h.eT(ft)+'"/>')}else if(!l.rect.km()&&(r.tCd||f)){0!=c.length&&y.push('style="'+c.join(";")+'"');ct=h.Jc(y,g);var pt=l.rect;e.ad++;st=s.Km(l.buffer,pt.$,pt.z);e.WU.push(h.Vs(2)+'<image width="'+l.rect.$+'" height="'+l.rect.z+'" id="img'+e.ad+'" href="'+st+'"/>'),e.C.push(h.Vs(n)+"<use "+ct+' href="#img'+e.ad+'" x="'+pt.x+'" y="'+pt.y+'" />')}}}},J.Jc=function(t,e){return 0!=e.length&&t.push('class="'+e.join(" ")+'"'),t.join(" ")},J.oJ=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")},J.eT=function(t){return"matrix("+[t.o,t.H,t.lA,t.KI,t.DX,t.Ug].map(J._X).join(",")+")"},J.gs=function(t,e,i,n){var r=J,s=e.vstk,a=e.vmsk,h=e.lmfx;if(a&&0!=a.jQ){var o=r._X(a.jQ);null==i._q[o]&&(i.gu++,i._q[o]=i.gu,i.WU.push(r.Vs(2)+'<filter x="-50%" y="-50%" width="200%" height="200%" id="flt'+i.gu+'"> <feGaussianBlur stdDeviation="'+o+'" /> </filter>')),t.push("filter: url(#flt"+i._q[o]+")")}var l=lt.Yy(h),u=l[0],f=l[1];if(s&&!s.fillEnabled.v)t.push("fill: none");else if(e.SoCo&&null==f||u){var c=mt.YP((u||e.SoCo).Clr.v);t.push("fill: "+c)}else(e.GdFl||f)&&(r.NH(f||e.GdFl,i,n),t.push("fill: url(#grd"+i.CV+")"));if(null!=s&&s.strokeEnabled.v||(s=lt.Yq(h)),s&&s.strokeEnabled.v){var p=s.strokeStyleContent.v;"solidColorLayer"==p.classID?t.push("stroke: "+mt.YP(p.Clr.v)):(r.NH(p,i,n),t.push("stroke: url(#grd"+i.CV+")"));var v=ot.nO.Ky.indexOf(s.strokeStyleLineCapType.v.strokeStyleLineCapType),d=ot.nO.join.indexOf(s.strokeStyleLineJoinType.v.strokeStyleLineJoinType),y=s.strokeStyleOpacity.v.val/100,g=s.strokeStyleLineWidth.v.val;2==ot.nO.e$.indexOf(s.strokeStyleLineAlignment.v.strokeStyleLineAlignment)&&(g*=2,t.push("paint-order:stroke fill markers"));for(var m=s.strokeStyleLineDashSet.v,w=[],b=0;b<m.length;b++)w.push(Math.round(m[b].v.val*g));0!=v&&t.push("stroke-linecap:"+["butt","round","square"][v]),0!=d&&t.push("stroke-linejoin:"+["miter","round","bevel"][d]),1!=y&&t.push("stroke-opacity:"+r._X(y)),1!=g&&t.push("stroke-width: "+r._X(g)),0!=w.length&&t.push("stroke-dasharray: "+w.join(","))}},J.NH=function(t,e,i){e.CV++;var n=J,r=t.Grad.v,s=r.Clrs.v.slice(0),h=r.Trns.v.slice(0),o=(t.Ofst.v,"Rdl"==t.Type.v.GrdT?1:0),l=(1==o?"radial":"linear")+"Gradient",u=a.e.qL(t,i);0==o&&(u[0].x=u[1].x+2*(u[0].x-u[1].x),u[0].y=u[1].y+2*(u[0].y-u[1].y));var c=n.Vs(2)+"<"+l+' id="grd'+e.CV+'" gradientUnits="userSpaceOnUse" ';0==o&&e.WU.push(c+' x1="'+n._X(u[0].x)+'" y1="'+n._X(u[0].y)+'" x2="'+n._X(u[1].x)+'" y2="'+n._X(u[1].y)+'">'),1==o&&e.WU.push(c+' cx="'+n._X(u[0].x)+'" cy="'+n._X(u[0].y)+'" r="'+n._X(f.Ln(u[0],u[1]))+'">');var p=t.Rvrs.v;p&&(s.reverse(),h.reverse());for(var v=0;v<s.length;v++){var d=s[v].v,y=1==(y=v<h.length?h[v].v.Opct.v.val/100:1)?"":'stop-opacity="'+n._X(y)+'"',g=d.Lctn.v/4096;p&&(g=1-g),e.WU.push(n.Vs(3)+'<stop offset="'+n._X(g)+'" stop-color="'+mt.YP(d.Clr.v)+'" '+y+" />")}e.WU.push(n.Vs(2)+"</"+l+">")};var B={parse:function(t){var e=new Uint8Array(t),i=null;if(80==e[0]&&75==e[1]){Date.now();var n=UZIP.parse(e.buffer);i=n["document.json"];i=JSON.parse($.hI(i,0,i.length)),B.Qg(i,n)}else{var r=z.parse(t);i=B.aG(r[2][0][1])}return i},Qg:function(t,e){var i=typeof t;if("string"==i||"number"==i||"boolean"==i)return t;if(t instanceof Array){for(var n=0;n<t.length;n++)t[n]=B.Qg(t[n],e);return t}var r=t._class;if(null==r)return t;if("MSJSONFileReference"==r){var s=t._ref;if(null==e[s+".json"]){if(null!=e[s+".png"])return{key:s.split("/").pop(),bdata:e[s+".png"]};if(null!=e[s+".jpg"])return{key:s.split("/").pop(),bdata:e[s+".jpg"]};if(null!=e[s+".pdf"])return{key:s.split("/").pop(),bdata:e[s+".pdf"]};if(null!=e[s])return{key:s.split("/").pop(),bdata:e[s]};throw console.log(t,e),"e"}var a=$.hI(e[s+".json"],0,e[s+".json"].length);t=JSON.parse(a)}else if("MSAttributedString"==r){var h=(a=atob(t.archivedAttributedString._archive)).length-1,o=new Uint8Array(h);for(n=0;n<h;n++)o[n]=a.charCodeAt(n);t.archivedAttributedString=B.aG(o)}for(var l in t)t[l]=B.Qg(t[l],e);return t},ay:function(t,e,i,n){if(t instanceof Uint8Array)return null;if(-1!=n.indexOf(t))return null;if(n.push(t),t==e)return i;for(var r in t){i.push(r);var s=B.ay(t[r],e,i,n);if(s)throw console.log(t,s),"e";i.pop()}},aG:function(t){for(var e=X.parse(t,0),i=e.$objects,n=new Uint8Array(i.length),r=B.pg(i,n,e.$top.root),s=0;s<i.length;s++)0==n[s]&&0!=s&&(console.log(s,i[s]),B.ay(r,s,[],[]));for(s=0;s<i.length;s++){var a=i[s];if(a._class&&("bitmap"==a._class||"fill"==a._class&&4==a.fillType)){var h=null,o=null;if(a.image&&a.image.data)o=a.image.sha1["NS.bytes"],o=btoa(O.sx(o,0,o.length)),h=a.image.data instanceof Uint8Array?a.image.data:a.image.data["NS.bytes"];else o=a.imageSHA?a.imageSHA instanceof Uint8Array?a.imageSHA:a.imageSHA["NS.bytes"]:a.image.sha1["NS.bytes"],o=btoa(O.sx(o,0,o.length)),(h=(r.assets?r.assets.imageCollection:r.images).images[o].data)["NS.bytes"]&&(h=h["NS.bytes"]);h=new Uint8Array(h.buffer.slice(h.byteOffset,h.byteOffset+h.length)),delete a.imageSHA,a.image={key:o,bdata:h}}}return r},tHd:function(t){return"MSImmutable"==t.slice(0,11)?"MS"+t.slice(11):t},pg:function(t,e,i){var n=t[i];if(1==e[i])return n;if(e[i]=1,"string"==typeof n)return n;if("number"==typeof n)return n;if("boolean"==typeof n)return n;if(n instanceof Array)return n;if(n instanceof Uint8Array)return n;if(null==t[n.$class]){if(null==n.$class&&null!=n["NS.data"])return n;throw console.log(i,n),"e"}var r=t[n.$class],s=B.tHd(r.$classname);e[n.$class]=1,n.$class=s,B.ag[s]&&(delete n.$class,n._class=B.ag[s]);var a=B.pg;if("NSMutableArray"==s||"NSArray"==s){var h=[];if(null!=n["NS.objects"])for(var o=0;o<n["NS.objects"].length;o++)h.push(a(t,e,n["NS.objects"][o]));else for(o=0;null!=n["NS.object."+o];o++)h.push(a(t,e,n["NS.object."+o]));return t[i]=h,h}if("NSDictionary"==s||"NSMutableDictionary"==s){var l={$class:s};if(null!=n["NS.keys"])for(o=0;o<n["NS.keys"].length;o++){(u=a(t,e,n["NS.keys"][o]))instanceof Uint8Array?u=btoa(B.JC.sx(u,0,u.length)):"string"!=typeof u&&"number"!=typeof u&&(u=btoa(B.JC.sx(u["NS.bytes"],0,u["NS.bytes"].length))),l[u]=a(t,e,n["NS.objects"][o])}else for(o=0;null!=n["NS.key."+o];o++){var u;(u=a(t,e,n["NS.key."+o]))instanceof Uint8Array?u=btoa(B.JC.sx(u,0,u.length)):"string"!=typeof u&&"number"!=typeof u&&(u=btoa(B.JC.sx(u["NS.bytes"],0,u["NS.bytes"].length))),l[u]=a(t,e,n["NS.object."+o])}for(var f in n)delete n[f];for(var f in l)n[f]=l[f];return n}if("NSURL"==s)return{$class:s,base:a(t,e,n["NS.base"]),relative:a(t,e,n["NS.relative"])};if(-1!=B.twV.indexOf(s))return t[i]=a(t,e,n.array_do),t[i];if(null!=n.do_objectID&&(n.do_objectID=a(t,e,n.do_objectID)),-1!=B.twJ.indexOf(s))return n;var c=B.twf[s];if(null==c)throw console.log(t,n),"unknown class "+s;for(o=0;o<c.length;o++)null!=n[c[o]]&&(n[c[o]]=a(t,e,n[c[o]]));if("MSTextLayer"==s){var p,v,d,y=n;if("string"!=typeof(d=(p=y.attributedString?y.attributedString.archivedAttributedString:y.storage).NSString)&&(d=$.hI(d["NS.bytes"],0,d["NS.bytes"].length)),p.NSAttributeInfo)v=p.NSAttributeInfo["NS.bytes"];else{for(var g=d.length,m=[];g>0;){var w=Math.min(100,g);m.push(w,0),g-=w}v=new Uint8Array(m)}var b={$class:"NSAttributedString",NSString:d,NSAttributes:p.NSAttributes instanceof Array?p.NSAttributes:[p.NSAttributes]};y.attributedString={_class:"MSAttributedString",archivedAttributedString:b},b.NSAttributeInfo={$class:"NSMutableData","NS.data":v},delete y.storage}return n}};B.JC={NU:function(t,e){return t[e+1]<<8|t[e]},j:function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},sx:function(t,e,i){for(var n="",r=0;r<i;r++)n+=String.fromCharCode(t[e+r]);return n}},B.ag={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"},B.twV=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"],B.twJ="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData MSStyleReflection".split(" "),B.twf={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"]};var X={parse:function(t,e){O.sx(t,e,8);e+=8;var i=X.parse.twu(t,t.length-31),n=[];if(1==i.aW){e=t.length-31-i.aW*i.ae;for(var r=0;r<i.ae;r++)n.push(t[e+r])}else if(2==i.aW)for(e=t.length-31-i.aW*i.ae,r=0;r<i.ae;r++)n.push(O.NU(t,e+2*r));else{if(4!=i.aW)throw"e";for(e=t.length-31-i.aW*i.ae,r=0;r<i.ae;r++)n.push(O.j(t,e+4*r))}return X.parse.pg(t,n,i.root,i)}};X.parse.pg=function(t,e,i,n){var r=X.JC,s=n.tdl,a=4==s?r.j:2==s?r.NU:r.tIJ,h=X.parse,o=e[i],l=t[o],u=l>>4,f=15&l,c=null;if(o+=1,-1!=[4,5,6,10,12,13].indexOf(u)&&15==f){var p=h.eI(t,o);o+=p.Dj,f=p.R}if(0==u)c=8!=f&&(9==f||null);else if(1==u)c=h.eI(t,o-1).R;else if(2==u)c=1<<f==4?O.Fg(t,o):O.FD(t,o);else if(3==u)c=O.FD(t,o);else if(4==u)c=new Uint8Array(t.buffer,o,f);else if(5==u)c=O.sx(t,o,f);else if(6==u)c=O.Gu(t,o,f);else if(8==u){c=0;for(var v=0;v<f+1;v++)c=c<<8|t[o+v]}else if(10==u){c=[];for(v=0;v<f;v++)c.push(h.pg(t,e,a(t,o+s*v),n))}else if(12==u){c=[];for(v=0;v<f;v++)c.push(h.pg(t,e,a(t,o+s*v),n))}else{if(13!=u)throw"unknown mask "+u;c={};for(v=0;v<f;v++){var d=h.pg(t,e,a(t,o+s*v),n),y=h.pg(t,e,a(t,o+s*(f+v)),n);c[d]=y}}return c},X.parse.eI=function(t,e){for(var i=1<<(15&t[e]),n=0,r=0;r<i;r++)n=n<<8|t[e+1+r];return{R:n,Dj:i+1}},X.parse.twu=function(t,e){var i={};return e+=6,i.aW=t[e],e++,i.tdl=t[e],e++,e+=4,i.ae=O.j(t,e),e+=4,e+=4,i.root=O.j(t,e),e+=4,e+=4,i.tTv=O.j(t,e),e+=4,i},X.JC={tIJ:function(t,e){return t[e]},NU:function(t,e){return t[e]<<8|t[e+1]},j:function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]},sx:function(t,e,i){for(var n="",r=0;r<i;r++)n+=String.fromCharCode(t[e+r]);return n}};var z={parse:function(t){var e=new Uint8Array(t),i=z.XO(e),n=[],r=new Uint8Array(e.length),s=[];n.push(s),z.Qi(e,i,1,r,s);for(var a=0;a<s.length;a++){var h=[];n.push(h),z.Qi(e,i,s[a][3],r,h),s[a][3]=a+1}return n},Qi:function(t,e,i,n,r){var s=--i*e.ic+(0==i?100:0),a=t[s];if(0!=z.NU(t,s+1))throw"free block in a page";var h=z.NU(t,s+3),o=z.NU(t,s+5);0==o&&(o=65536);t[s+7],z.NU(t,s+8);(2==a||5==a)&&(s+=4);for(var l=0;l<h;l++){var u=i*e.ic+z.NU(t,s+8+2*l),f=-1,c=0,p=0;if(2!=a&&5!=a||(f=z.j(t,u),u+=4),2!=a&&10!=a&&13!=a||(u+=(c=z.ND(t,u)).Dj),5!=a&&13!=a||(u+=z.ND(t,u).Dj),5!=a){var v=e.ic-(0==i?100:0),d=c.Dq,y=13==a?v-35:Math.floor(64*(v-12)/255)-23,g=Math.floor(32*(v-12)/255)-23,m=g+(d-g)%(v-4);if(d<=y)z.sa(t,u,n,0,d);else{var w=m<=y?m:g,b=0;for(z.sa(t,u,n,0,w),b+=w,p=z.j(t,u+w);0!=p;){var x=(p-1)*e.ic;p=z.j(t,x);var M=Math.min(e.ic-4,d-b);z.sa(t,x+4,n,b,M),b+=M}}r.push(z.tII(n,d))}else z.Qi(t,e,f,n,r)}},tII:function(t,e){var i=0,n=z.ND(t,i);i+=n.Dj;for(var r=[],s=[];i<n.Dq;){i+=(h=z.ND(t,i)).Dj,r.push(h.Dq)}if(i!=n.Dq)throw"e";for(var a=0;a<r.length;a++){var h;if(0==(h=r[a]))s.push(null);else if(1==h)s.push(z.tIT(t,i)),i+=1;else if(2==h)s.push(z.kF(t,i)),i+=2;else if(3==h)s.push(z.tID(t,i)),i+=3;else if(4==h)s.push(z.eI(t,i)),i+=4;else if(7==h)s.push(z.tIa(t,i)),i+=16;else if(8==h)s.push(0);else if(9==h)s.push(1);else if(h>=12&&0==(1&h)){var o=h-13>>1,l=new Uint8Array(o);z.sa(t,i,l,0,o),s.push(l),i+=o}else{if(!(h>=13&&1==(1&h)))throw"unknonw type "+h;o=h-12>>1;s.push(z.hI(t,i,o)),i+=o}}return s},XO:function(t){if(1!=t[18]||1!=t[19]||0!=t[20]||64!=t[21]||32!=t[22]||32!=t[23])throw"unexpected SQL3 header";var e={_U:z.sx(t,0,15),ic:z.NU(t,16),tTW:z.j(t,24),size:z.j(t,28),tTp:z.j(t,32),tTo:z.j(t,36),tTU:z.j(t,40),tTk:z.j(t,44),tPR:z.j(t,48),tPV:z.j(t,52),sY:z.j(t,56),tPq:z.j(t,60),tPl:0!=z.j(t,64),tPj:z.j(t,68),tdM:z.j(t,92),tdS:z.j(t,96)};if(1==e.ic&&(e.ic=65536),1!=e.sY)throw"unsupported text encoding "+e.sY;return e},tIy:function(t,e){return t[e]<<16|t[e+1]<<8|t[e+2]},tID:function(t,e){var i=z.tIy(t,e);return 8388608&i?-(16777215-i+1):i},tIT:function(t,e){return z.pn[0]=t[e],z.tIj[0]},eI:function(t,e){for(var i=z.pn,n=0;n<4;n++)i[n]=t[e+3-n];return z.tyD[0]},kF:function(t,e){var i=z.pn;return i[0]=t[e+1],i[1]=t[e],z.tIB[0]},NU:function(t,e){return t[e]<<8|t[e+1]},j:function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]},tIa:function(t,e){for(var i=z.pn,n=0;n<8;n++)i[n]=t[e+7-n];return z.tyo[0]},ND:function(t,e){for(var i=e,n=0;;){var r=t[e];if(e++,n=128*n+(127&r),r<128)break}return{Dq:n,Dj:e-i}},sx:function(t,e,i){for(var n="",r=0;r<i;r++)n+=String.fromCharCode(t[e+r]);return n},hI:function(t,e,i){for(var n="",r=0;r<i;r++)n+="%"+z.tIE(t[e+r].toString(16));return decodeURIComponent(n)},sa:function(t,e,i,n,r){if(null==t[e+r-1]||null==i[n+r-1])throw console.log(e,n,r),"e";for(var s=0;s<r;s++)i[n+s]=t[e+s]},tIE:function(t){return t.length<2?"0"+t:t}};z.pn=new Uint8Array(8),z.tIj=new Int8Array(z.pn.buffer),z.tIB=new Int16Array(z.pn.buffer),z.tyD=new Int32Array(z.pn.buffer),z.tyo=new Float64Array(z.pn.buffer);var $={};function V(t,e,i){this.In=t,this.$W=e,this.tdN=i,this.sz=0,this.FY=-1,this.FN=0,this.Cf=[],this._N=null,this.se=null,this.tR=null,this.FF=null,this.tD=null}$.parse=function(t,e,i){for(var n=$.ai(t,e,i),r=[0,0,{}],s=0,a=[],h=0,o=0,l=0,u=0,f=0;f<100;f++)r.push(0,0,0);for(;32==n[e]||10==n[e];)e++;for(e++;32==n[e]||10==n[e];)e++;for(;e<i&&-1<s;){if(o=r[s],l=r[s+1],0==o){if(0==l){e++,r[s+1]=1,r[s+=3]=3,r[s+1]=0,r[s+2]=0;continue}if(1==l)a[h++]=r[s+5],e++,r[s+1]=2,r[s+=3]=2,r[s+1]=0,r[s+2]=0;else if(2==l){var c=a[--h],p=r[s+5];r[s+2][c]=p,125==n[e]?(e++,s-=3):(e++,r[s+1]=0)}}else if(1==o){if(0==l){r[s+1]=1,r[s+=3]=2,r[s+1]=0,r[s+2]=0;continue}if(1==l){p=r[s+5];r[s+2].push(p),93==n[e]?(e++,s-=3):(e++,r[s+1]=0)}}else if(2==o){if(0==l)if(123==(u=n[e]))125==n[++e]?(e++,r[s+2]={},s-=3):(r[s+1]=1,r[s+=3]=0,r[s+1]=0,r[s+2]={});else if(91==u)93==n[++e]?(e++,r[s+2]=[],s-=3):(r[s+1]=1,r[s+=3]=1,r[s+1]=0,r[s+2]=[]);else if(34==u){if(34!=n[++e]){r[s+1]=1,r[s+=3]=3,r[s+1]=0,r[s+2]="";continue}e++,r[s+2]="",s-=3}else if(102==u)e+=5,r[s+2]=!1,s-=3;else if(116==u)e+=4,r[s+2]=!0,s-=3;else if(110==u)e+=4,r[s+2]=null,s-=3;else{for(var v="";48<=u&&u<=57||46==u||101==u||69==u||43==u||45==u;)v+=String.fromCharCode(u),u=n[++e];r[s+2]=parseFloat(v),s-=3}else if(1==l){r[s+2]=r[s+5],s-=3;continue}}else if(3==o){for(var d=[];u=n[e],e++,34!=u;)if(92==u){if(u=n[e],e++,34==u||47==u||92==u)d.push(String.fromCharCode(u));else if(110==u)d.push("\n");else if(114==u)d.push("\r");else if(116==u)d.push("\t");else if(117==u)throw"e"}else d.push(String.fromCharCode(u));r[s+2]=d.join(""),s-=3}for(;32==n[e]||10==n[e];)e++}return r[2]},$.tr_=function(t,e,i){for(var n="",r=e;r<e+i;r++)n+=String.fromCharCode(t[r]);return n},$.ai=function(t,e,i){var n=[],r=0,s=0;for(i+=e;e<i;){if(0==(128&(r=t[e++])))s=r;else if(192==(224&r))s=(31&r)<<6,s|=63&(r=t[e++]);else if(224==(240&r))s=(15&r)<<12,s|=(63&(r=t[e++]))<<6,s|=63&(r=t[e++]);else{if(240!=(248&r))throw"e";s=(7&r)<<18,s|=(63&(r=t[e++]))<<12,s|=(63&(r=t[e++]))<<6,s|=63&(r=t[e++])}n.push(s)}return n},$.ao=window.TextDecoder?new window.TextDecoder:null,$.hI=function(t,e,i){if(null==e&&(e=0),null==i&&(i=t.length),$.ao&&0==e&&i==t.length)return $.ao.decode(t);for(var n=$.ai(t,e,i),r=n.length,s=0;s<r;s++)n[s]=String.fromCharCode(n[s]);return n.join("")},$.aX=function(t,e,i){for(var n=t.length,r=0,s=0;s<n;s++){var a=t.charCodeAt(s);if(0==(4294967168&a))e[i+r]=a,r++;else if(0==(4294965248&a))e[i+r]=192|a>>6,e[i+r+1]=128|a>>0&63,r+=2;else if(0==(4294901760&a))e[i+r]=224|a>>12,e[i+r+1]=128|a>>6&63,e[i+r+2]=128|a>>0&63,r+=3;else{if(0!=(4292870144&a))throw"e";e[i+r]=240|a>>18,e[i+r+1]=128|a>>12&63,e[i+r+2]=128|a>>6&63,e[i+r+3]=128|a>>0&63,r+=4}}return r},V.prototype.StartPage=function(t,e,i,n){this.se=[t,e,i,n];var r=this.$W.ka();t=Math.round(t*r),e=Math.round(e*r),i=Math.round(i*r),n=Math.round(n*r);var s=this.In,a=this.tR;if(s.$+=Math.round(i-t),s.z=Math.max(s.z,Math.round(n-e)),this.$W.Ug=this.tdN?n:-e,a){var h=a[2]-a[0]+30;this.$W.DX+=h,this.sz+=h,s.$+=30}else this.$W.DX=-t;this.tR=[t,e,i,n],s.b.push(s.sd())},V.prototype.af=function(){var t=this.In;return t.b[t.b.length-1]},V.prototype.aB=function(){var t=JSON.parse(JSON.stringify(ot.nO.default));return t.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter",t.strokeEnabled.v=!1,t.fillEnabled.v=!1,t},V.prototype.aU=function(){var t=this.In,e=t.Zs();return e.Vp("Path "+t.b.length),this.In.b.push(e),e._c|=16,e.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.e.Ta({T:0,q:0,H:0})}},e.add.vmsk=new nt.hT,e.add.vstk=this.aB(),e},V.prototype.QQ=function(t){var e=[{type:6},{type:8,all:0}].concat(a.A.eX(Typr.U.pathToSVG(t)));return a.A.Nj(e,this.$W),e},V.QO=function(t,e){for(var i=0;i<t.length;i++)null!=t[i].AY&&(t[i].AY=e)},V.tDy=function(t){return Math.sqrt(Math.abs(t[0]*t[3]-t[1]*t[2]))},V.SI=function(t){return a.e.Ta({T:255*t[0],q:255*t[1],H:255*t[2]})},V.Ng=function(t){return new c(t[0],t[1],t[2],t[3],t[4],t[5])},V.prototype.Stroke=function(t){if(!(-1!=this.FY&&this.FY!=this.FN||t.pth.cmds.length<=1)){var e=this.QQ(t.pth);if(!(e.length<=2)){this.Na(t),V.QO(e,-1),e[2].AY=1;var i=V.SI(t.COLR),n=this.af(),r=this.aB();r.strokeEnabled.v=!0,r.strokeStyleMiterLimit.v=t.mlimit,r.strokeStyleLineDashSet.v=lt.Yo(t.dash,1/t.lwidth),r.strokeStyleLineDashOffset.v.val=t.doff,r.strokeStyleLineJoinType.v.strokeStyleLineJoinType=ot.nO.join[t.ljoin],r.strokeStyleLineCapType.v.strokeStyleLineCapType=ot.nO.Ky[t.lcap],r.strokeStyleLineWidth.v.val=Math.max(.4,t.lwidth*V.tDy(t.ctm)),r.strokeStyleContent.v.Clr.v=i;var s=null!=n&&null!=n.add.vmsk&&!n.oP(),a=s&&!n.add.vstk.strokeEnabled.v&&nt.hT.tyB(n.add.vmsk.L,e,!0);s&&!n.add.vstk.fillEnabled.v&&JSON.stringify(r)==JSON.stringify(n.add.vstk)?(V.QO(e,-1),n.add.vmsk.L=n.add.vmsk.L.concat(e.slice(2))):a?(n.add.vstk=r,r.fillEnabled.v=!0):((n=this.aU()).add.vmsk.L=e,n.add.vstk=r)}}},V.prototype.Fill=function(t,e){if((-1==this.FY||this.FY==this.FN)&&0!=t.ca){var i=t.pth.cmds;if(0!=i.length&&(2!=i.length||'["M","L"]'!=JSON.stringify(i))){var n=a.K.jm(t.cpth.crds),r=a.K.jm(t.pth.crds);if(!r.sj(n).km()){var s=t.pth;null==this.FF&&V.Sj(s.cmds.join(""),s.crds,[r.x,r.y,r.x+r.$,r.y+r.z])&&r.pk(n)?s=t.cpth:this.Na(t);var h=this.QQ(s);V.QO(h,e?0:-1),h[2].AY=1;var o=a.K.DK(r);a.K.UC(o.Z,this.$W,o.Z),r=a.K.jm(o.Z);var l=V.vP(t.colr,this.$W,r),u=this.af();if(null!=u&&null!=u.add.vstk&&!u.add.vstk.strokeEnabled.v&&u.add.SoCo&&"SoFi"==l.type&&JSON.stringify(u.add.SoCo.Clr.v)==JSON.stringify(l.R.v.Clr.v))for(var f=u.add.vmsk.L,c=2;c<h.length;c++)f.push(h[c]);else delete(u=this.aU()).add.SoCo,u.add.vmsk.L=nt.hT.Cx(h),V.uP(t.colr,u,this.$W,r),V.vE(t,u)}}}},V.uP=function(t,e,i,n){var r=V.vP(t,i,n),s=null,a=null;if(e.add.vstk.fillEnabled.v=!0,"SoFi"==r.type&&(s="SoCo",a=ot.IS),"GrFl"==r.type&&(s="GdFl",a=ot.fT),"patternFill"==r.type&&(s="PtFl",a=ot.fP),null!=s){e.add[s]={classID:"null"};for(var h=0;h<a.length;h++){var o=a[h];e.add[s][o]=r.R.v[o]}}},V.Si=function(t,e){for(var i=0;i<8;i+=2){for(var n=!0,r=0;r<8;r++)if(Math.abs(e[r]-t[r+i&7])>=2){n=!1;break}if(n)return!0}return!1},V.Sj=function(t,e,i){var n=!1;if("MLLLZ"==t&&8==e.length||"MLLLLZ"==t&&10==e.length){10==e.length&&(e=e.slice(0,8));var r=i[0],s=i[1],a=i[2],h=i[3];n||(n=V.Si(e,[r,s,a,s,a,h,r,h])),n||(n=V.Si(e,[r,h,a,h,a,s,r,s]))}return n},V.prototype.Na=function(t){var e=this.In,i=t.cpth,n=i.cmds.join(""),r=i.crds,s=n+" "+r.join(","),a=V.Sj(n,r,this.se);if(!(a&&null==this.FF||s==this.FF||(null!=this.FF&&(e.b.push(this.tD),this.FF=null),a))){this.FF=s,e.b.push(e.sd());var h=e.Zs();h.Vp("Mask"),h.add.lsct=rt.Vc,h.kE="pass",h._c=24,(h.add.vmsk=new nt.hT).L=this.QQ(t.cpth),this.tD=h}},V.vP=function(t,e,i){var n,r;null!=t.length?(n="SoFi",(r={t:"Objc",v:JSON.parse(ot.cz[ot.order.indexOf("SoFi")])}).v.Clr.v=V.SI(t)):(n="GrFl",r={t:"Objc",v:V.tDa(t,e,i)});return{type:n,R:r}},V.tDa=function(t,e,i){var n=JSON.parse(ot.cz[ot.order.indexOf("GrFl")]),r=n.Grad.v;r.Intr.v=0;var s=V.Ng(t.mat);s.concat(e);var h=new f(0,0),o=new f(i.$,0),l=t.crds;"rad"==t.typ?(n.Type.v.GrdT="Rdl",h.x=l[0],h.y=l[1],o.x=h.x,o.y=h.y,o.x+=l[5]):(n.Type.v.GrdT="Lnr",h.x=l[0],h.y=l[1],o.x=l[2],o.y=l[3],h.x=o.x+.5*(h.x-o.x),h.y=o.y+.5*(h.y-o.y)),h=s.Sk(h),o=s.Sk(o),a.e.qa(h,o,i,n);var u=t.grad;return a.e.zO(u,r),n},V.prototype.PutText=function(t,e,i){if(!(-1!=this.FY&&this.FY!=this.FN||0==e.length||1==e.length&&0==e.charCodeAt(0))){this.Na(t);var n=this.In,r=t.font,s=V.Ng(t.ctm),a=null;s.concat(this.$W);var h=V.Ng(r.Tm);h.concat(s);var o=j._.ka(h),l=new c(1/o,0,0,-1/o,0,0);l.concat(h);var u=r.Tfs*o;100==r.Th&&0==r.Trise||console.log(r);for(var f=n.b.length-1;f>=0&&null==n.b[f].add.TySh;)f--;if(f>=0&&n.b[f].add.TySh){var p=n.b[f],v=p.add.TySh.UC;v.o==l.o&&v.H==l.H&&v.lA==l.lA&&v.KI==l.KI&&0==Math.abs(v.Ug-l.Ug)&&Math.abs(v.DX+this.Cf[f]-l.DX)<.3*u&&(a=p,this.Cf[f]=l.DX-v.DX)}null==a&&(f=n.b.length,this.Cf[f]=0,a=n.Zs(),n.b.push(a),a.add.lnsr="rend",a.add.TySh=dt.YD(0,0),a.add.TySh.UC=l),this.Cf[f]+=i*u;var d=a.add.TySh.Bd,y=dt.Fk(d).length-1,g=y+e.length;dt.el(d,y,e),null==this._N&&(this._N=dt.Sr(d,y,y));var m=this._N;m.hj.FontSize=Math.round(u),m.hj.Tracking=100*r.Tc,m.hj.Underline=1==r.Tun,m.hj.FillColor={Type:1,Values:[1,t.colr[0],t.colr[1],t.colr[2]]},0!=r.Tal&&(m.re.Justification=r.Tal);var w=r.Tf,b={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT"};b[w]&&(w=b[w]),dt.kP(m,w),dt.zX(d,y,g-1,m),a.jK()}},V.prototype.PutImage=function(t,e,i,n,r){if(-1==this.FY||this.FY==this.FN){this.Na(t);var h=V.Ng(t.ctm);h.concat(this.$W);var o=new c(1/i,0,0,-1/n,0,1);if(o.concat(h),h=o,e=V.vW(e,i,n),r&&(r=V.vW(r,i,n)),null==r)e.length==i*n*4&&(e=new Uint8Array(s.PNG.Dz([[e.buffer,0]],i,n)));else{e=this.EJ(e,i,n),r=this.EJ(r,i,n);var l=a.I(i*n);a.rY(r,l,0),a.kw(l,e,3),e=new Uint8Array(s.PNG.Dz([[e.buffer,0]],i,n))}var u=this.In,f=u.Pd(e,"Bitmap",0,0),p=f.rect.clone();p.x=p.y=0;var v=a.K.DK(p).Z;a.K.UC(v,h,v),f.add.SoLd.Trnf=j._.Sz(v),f.add.SoLd.nonAffineTransform=j._.Sz(v),f.fc(u,!1),V.vE(t,f),u.b.push(f)}},V.vE=function(t,e){e.opacity=Math.round(255*t.ca);var i=V.QY[t.bmode];null==i?console.log("Unknown blend mode",i):e.kE=i},V.QY={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "},V.vW=function(t,e,i){var n=s.Uw(t.buffer);if("jpg"==n&&(t=new Uint8Array(s.JPG.t$i(t.buffer))),null==n&&t.length!=e*i*4){var r=new Uint8Array(e*i*4),a=new Uint8Array(Math.ceil(e*i/8));UTIF.decode._decodeG4(t,0,t.length,a,0,e,1);for(var h=0;h<e*i;h++){var o=4*h,l=255*(a[h>>3]>>7-(7&h)&1);r[o]=l,r[o+1]=l,r[o+2]=l,r[o+3]=255}t=r}return t},V.prototype.EJ=function(t,e,i){if(t.length!=e*i*4){var n=s.Uw(t.buffer),r=s.aD(n);t=new Uint8Array(r.cA(t)[0].data)}return t},V.prototype.ShowPage=function(){var t=this.In;this.FN++;var e=this.tR;null!=this.FF&&(t.b.push(this.tD),this.FF=null);var i=t.Zs();t.b.push(i),i.L$(new L(Math.round(this.sz),0,Math.round(e[2]-e[0]),Math.round(e[3]-e[1]))),i.Vp("Page "+this.FN),i.add.lsct=rt.Vc,i.kE="pass",i._c=24},V.prototype.Print=function(t){console.log("Print:",t)},V.prototype.Done=function(){var t=this.In;1==this.FN&&(t.b[t.b.length-1].add.lsct=rt.Gp),t.HT(this.FN);for(var e=0;e<t.b.length;e++){var i=t.b[e];i.add.vmsk;i.Ls(),i.Sa(t)}t.iI=!0,t.buffer=a.I(t.$*t.z*4)};var R={QU:function(t,e,i){for(var n=t.add.artd?t.root.children:[t.root],r=new L(0,0,t.$,t.z),s=0;s<n.length;s++){var h=n[s],o=t.add.artd?h.i.As():r;i.StartPage(0,0,o.$,o.z);var l=UDOC.getState([[0,0,o.$,o.z]]),u=new c;if(u.translate(-o.x,-o.y-o.z),u.scale(1,-1),e[0]){var f=t.cn();r.v$(o)||(f=a.I(4*o.f()),a.Pg(t.cn(),r,f,o));var p=new c;p.translate(o.x,o.y),R.Ed(l,i,f,o,p,u)}else R.Ec(t,h,l,i,u,e);i.ShowPage()}i.Done()},EI:function(t){return[(t=a.e.NG(t)).T/255,t.q/255,t.H/255]},Ec:function(t,e,i,n,r,h){var o=e.i,l=(o.add.lsct,o.add.lmfx),u=o.add.vmsk,p=o.add.vstk,v=o.add.TySh;if(o.op()){var d=o.opacity/255,y=o.add.iOpa?o.add.iOpa/255:1;for(var g in V.QY)V.QY[g]==o.kE&&(i.bmode=g);if(i.ca=i.CA=d*y,o.oP())for(var m=0;m<e.children.length;m++)R.Ec(t,e.children[m],i,n,r,h);else if(u){var w=u.L,b=a.A.gw(w),x=a.K.Cp(w),M=!1,S=!1,A=!1;if(a.K.UC(x.Z,r,x.Z),i.pth={cmds:x.lX,crds:x.Z},p.fillEnabled.v){var k=lt.Yy(l),C=k[0],T=k[1];if(null==C&&(C=o.add.SoCo),null==T&&(T=o.add.GdFl),C&&null==T)i.colr=R.EI(C.Clr.v);else if(T){var U,_=T,F=[],O="Rdl"==_.Type.v.GrdT?"rad":"lin",L=a.e.qL(_,b),D=r.Sk(L[0]),N=r.Sk(L[1]);"rad"==O?U=[D.x,D.y,0,D.x,D.y,f.Ln(D,N)]:(D.kR(N.x+2*(D.x-N.x),N.y+2*(D.y-N.y)),U=[D.x,D.y,N.x,N.y]);var I=_.Grad.v.Clrs.v;for(m=0;m<I.length;m++){var E=I[m].v;F.push([E.Lctn.v/4096,R.EI(E.Clr.v)])}i.colr={typ:O,mat:[1,0,0,1,0,0],grad:F,crds:U}}M=!0}var P=lt.Yq(l);if(!p.strokeEnabled.v&&P&&(p=P),p.strokeEnabled.v){var J=p.strokeStyleContent.v,B=p.strokeStyleLineDashSet.v,X=ot.nO.e$.indexOf(p.strokeStyleLineAlignment.v.strokeStyleLineAlignment);if(null==J.Clr)return;var z=a.e.NG(J.Clr.v);i.COLR=[z.T/255,z.q/255,z.H/255],i.lwidth=p.strokeStyleLineWidth.v.val*(2==X?2:1),i.mlimit=p.strokeStyleMiterLimit.v,i.doff=p.strokeStyleLineDashOffset.v.val,i.ljoin=ot.nO.join.indexOf(p.strokeStyleLineJoinType.v.strokeStyleLineJoinType),i.lcap=ot.nO.Ky.indexOf(p.strokeStyleLineCapType.v.strokeStyleLineCapType),i.dash=[];for(m=0;m<B.length;m++)i.dash.push(B[m].v.val*i.lwidth);S=!0,2==X&&(A=!0)}M&&!A&&n.Fill(i),S&&n.Stroke(i),M&&A&&n.Fill(i)}else if(v&&0==h[1]){var $=v.Bd,q=v.UC.clone(),H=new c(1,0,0,-1,0,0),j=0,G=0;0==dt.gG($)&&2==dt.Sr($,0,0).re.Justification&&(H.DX-=o.rect.$/2),H.concat(q),H.concat(r);var Y=dt.Fk($),K=$.EngineDict.ParagraphRun,Q=K.RunArray,W=K.RunLengthArray,Z=o.add.lmfx;Z&&(Z=Z.frameFXMulti.v[0]),Z&&(Z=Z.v);for(m=0;m<Q.length;m++){var tt=W[m],et=Y.slice(j,j+tt-1);if(""!=et){var nt=dt.Sr($,j+et.length-1,j+et.length-1);z=dt.NG(nt.hj);i.colr=[z.T/255,z.q/255,z.H/255];var rt=nt.vT[nt.hj.Font].Name;i.font.Tf=rt,i.font.Tfs=Math.round(nt.hj.FontSize);var st=1.12*nt.hj.FontSize;0==m&&(st=0==dt.gG($)?0:nt.hj.FontSize),G+=st;var at=new c;at.translate(0,-G),at.concat(H),i.ctm=[at.o,at.H,at.lA,at.KI,at.DX,at.Ug],2==nt.hj.FontCaps&&(et=et.toUpperCase()),n.PutText(i,et,0),j+=tt}}}else if(!o.rect.km()){var ht,ut,ft=new c;if(o.add.SoLd){var ct=o.add.SoLd,pt=ct.Idnt.v,vt=t.Hj(pt,ct.Crop?ct.Crop.v:null);if(null==vt)return;var yt=vt.Eq,gt=s.Uw(vt.raw.buffer);ht=-1!=h[2].indexOf(gt)?vt.raw:yt[0],ut=yt[1],ft=a.F.Cw(ct)}else ht=o.buffer,ut=o.rect,ft.translate(ut.x,ut.y);var mt=l;if(mt&&(mt=mt.solidFillMulti.v[0]),mt&&(mt=mt.v),mt&&mt.enab.v){var wt=ht;ht=ht.slice(0);var bt=it.Cj[it.io.indexOf(mt.Md.v.BlnM)],xt=a.e.NG(mt.Clr.v),Mt=4278190080|Math.round(xt.H)<<16|Math.round(xt.q)<<8|Math.round(xt.T);z=a.I(4*ut.f());a.Mw(z,Mt),a.a.MR(bt,z,ut,ht,ut,ut,mt.Opct.v.val/100);for(m=0;m<ht.length;m+=4)ht[m+3]=wt[m+3]}R.Ed(i,n,ht,ut,ft,r)}}},Ed:function(t,e,i,n,r,s){var a=new c;a.scale(n.$,-n.z),a.translate(0,n.z),a.concat(r),a.concat(s),t.ctm=[a.o,a.H,a.lA,a.KI,a.DX,a.Ug],e.PutImage(t,i,n.$,n.z),t.ctm=[1,0,0,1,0,0]}},q={};function H(){}q.Fp=function(t,e){var i=new Uint8Array(t);return q.QA(i,0,e)},q.QA=function(t,e,i){var n=O.UD,r=O.sx,s={VB:r(t,e,4),M:e+8,size:n(t,e+4)};if(i&&null!=i[s.size]&&(s.size=i[s.size]),"RIFF"!=s.VB&&"LIST"!=s.VB||(s.aw=r(t,e+8,4)),s.size<0||s.M+s.size>t.length)throw"e";if("RIFF"==s.VB||"LIST"==s.VB&&"cmpr"!=s.aw&&"stlt"!=s.aw){s.sub=[],e+=12;for(var a=s.M+s.size;e<a;){var h=q.QA(t,e,i);s.sub.push(h),e+=8+h.size+(1&h.size)}}return s},H.Fp=function(t,e){var i=new Uint8Array(t);if(e.iI=!0,"WL"==O.sx(i,0,2))alert("Unsupported CDR version");else{var n=H.Qm,r=q.Fp(i.buffer),s={data:i,M:0,_D:H.tTH(i[11])};s.tc=s._D<600?16:32,H.OR(s,r.sub,e,0);var a=n(r,"cmpr").sub,h=a[0],o=a.slice(1),l=n(h,"mcfg").R.tGw,u=Math.round(300*l.x),f=Math.round(300*l.y);e.$=u,e.z=f;var p=n(h,"filt").sub,v=n(h,"otlt").sub;h.tC={};for(var d=0;d<p.length;d++)h.tC[p[d].sub[0].R.id]=p[d].sub[0].R;h.tM={};for(d=0;d<v.length;d++)h.tM[v[d].R.id]=v[d].R;var y=new c(300,0,0,-300,150*l.x,150*l.y),g=o[1];H.sK(g,h,e,y),e.HT(1),e.b[e.b.length-1].L$(new L(0,0,u,f))}},H.Qm=function(t,e){for(var i=null,n=0;n<t.sub.length;n++){var r=t.sub[n];r.VB!=e&&r.aw!=e||(i=r)}return i},H.sK=function(t,e,i,n){var r,s,h=H.Qm,o=t.aw?t.aw:t.VB,l=h(t,"lgob"),u=h(t,"txsm");l&&(r=h(l,"trfl"),s=h(l,"loda"));var f=r?r.sub[0].Iw.clone():new c;f.concat(n);var p=i.Zs();if("page"==o||"layr"==o||"grp "==o){p.Vp(("page"==o?"Page":"Group")+" "+i.b.length),p.add.lsct=rt.Gp,p.kE="pass",p._c=24;var v=[];if("page"==o&&(v=h(t,"gobj").sub),"layr"==o&&(v=t.sub.slice(2)),"grp "==o&&(v=t.sub.slice(4)),0==v.length)return;i.b.push(i.sd());for(var d=v.length-1;d>=0;d--)H.sK(v[d],e,i,n)}else if("obj "==o&&s.R&&s.R.path){p.Vp("Object "+i.b.length);var y=e.tC[s.R.tGy],g=e.tM[s.R.tGT],m=(p.getName(),y&&0!=y.type),w=m&&null!=y.R?y.R:[0,0,0];p._c|=16,p.add.vstk=JSON.parse(JSON.stringify(ot.nO.default));var b=p.add.vstk;if(b.strokeEnabled.v=!1,p.add.vmsk=new nt.hT,g&&1!=g.tGG){b.strokeEnabled.v=!0,b.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter",b.strokeStyleLineWidth.v.val=300*g.lineWidth;var x=g.color;b.strokeStyleContent.v.Clr.v=a.e.Ta({T:255*x[0],q:255*x[1],H:255*x[2]})}var M=s.R.path,S={crds:M.Z,cmds:M.lX};p.add.vmsk.L=[{type:6},{type:8,all:0}].concat(a.A.eX(Typr.U.pathToSVG(S))),a.A.Nj(p.add.vmsk.L,f),V.uP(w,p,f,a.A.gw(p.add.vmsk.L)),b.fillEnabled.v=m,p.Ls(),p.Sa(i)}else if("obj "==o&&u){var A=s.R.tGM,k="";p.add.TySh=dt.YD(0,0);f.ka();p.add.TySh.UC.translate(f.DX,f.Ug);var C=p.add.TySh.Bd,T=u.R.s_;for(d=0;d<T.length;d++){var U=T[d],_=k.length;k+=U.text+"\n",dt.el(C,_,U.text+"\n");var F=H.tDv(U.tGg,e),O=dt.Sr(C,_,k.length);3==F.align?O.re.Justification=1:O.re.Justification=0;var L=F.fill.R;O.hj.FillColor={Type:1,Values:[1,L[0],L[1],L[2]]},O.hj.FontSize=Math.round(F.tGS.fontSize*f.ka()),dt.zX(C,_,k.length-1,O)}dt.kN(C,1),dt.Yc(C,[0,0,Math.round(A.x*f.o),Math.round(-A.y*f.KI)]),p.Vp(k.slice(0,10))}else p=null;p&&i.b.push(p)},H.tDv=function(t,e){var i=H.Qm(e,"stlt").R,n=JSON.parse(JSON.stringify(i.B_[t]));if(0!=n.tS){var r=i.B_[n.tS];for(var s in r)null!=n[s]&&0!=n[s]||(n[s]=r[s]);delete n.tS}return n.align=i.tGO[n.tGs],n.fill=e.tC[i.txw[n.uR]],n.tdv=e.tM[i.txc[n.uN]],n.tGS=i.us[n.txg],n},H.tDB=function(t){var e=t.data[t.M];return t.M+=1,e},H.uO=function(t){var e=O.$R(t.data,t.M);return t.M+=2,e},H._t=function(t){var e=O.UD(t.data,t.M);return t.M+=4,e},H.NO=function(t){var e=O.tcU(t.data,t.M);return t.M+=2,e},H.Nn=function(t){var e=O.eC(t.data,t.M);return t.M+=4,e},H.FD=function(t){var e=O.tLv(t.data,t.M);return t.M+=8,e},H.EE=function(t){for(var e=0;0!=t.data[t.M+e];)e++;var i=O.sx(t.data,t.M,e);return t.M+=e+1,i},H.tce=function(t){return t._D<600?Math.PI*H.NO(t)/1800:Math.PI*H.Nn(t)/18e7},H.tLa=function(t){return t._D<1500?H._T(t):H.FD(t)/254e3},H._T=function(t){return t._D<600?H.NO(t)/1e3:H.Nn(t)/254e3},H.tLb=function(t){return t._D<600?CRDParser.uO(t):H._t(t)},H.tLu=function(t){return t._D<600?CRDParser.NO(t):H.Nn(t)},H.OR=function(t,e,i,n){for(var r=H,s=r.tDB,h=r.uO,o=r._t,l=r.NO,u=r.Nn,p=r.FD,v=r._T,d=r.tLa,y=r.tce,g=r.tLb,m=r.tLu,w=0;w<e.length;w++){var b=t._D,x=e[w];if(t.M=x.M+("LIST"==x.VB?4:0),"vrsn"==x.VB){var M=h(t);t._D=M,console.log("Version",M),t.tc=M<600?16:32}else if("DISP"==x.VB);else if("LIST"==x.VB&&"cmpr"==x.aw){var S=o(t),A=(o(t),o(t),o(t),new Uint8Array(t.data.buffer,t.M+8+2,S-6-8)),k=pako.inflateRaw(A),C=0;t.M+=S,A=new Uint8Array(t.data.buffer,t.M+8+2);for(var T=pako.inflateRaw(A),U=[],_=0;_<T.length;_+=4)U.push(O.UD(T,_));for(x.sub=[];C<k.length;){var F=q.QA(k,C,U);C=F.M+F.size,x.sub.push(F)}var D={data:k,M:0,_D:b,tc:t.tc};H.OR(D,x.sub,i,n+1)}else if("LIST"==x.VB&&"stlt"==x.aw){var N=t.M,I=32;if(x.R={},0==(st=o(t)))return;x.R.txw=H.OV(t,b>=1300),x.R.txc=H.OV(t),x.R.us={};for(var E=o(t),P=0;P<E;P++){var J=o(t);t.M+=b<1e3?12:20;var B=h(t),X=h(t);t.M+=8;var z=v(t);t.M+=b<1e3?12:20,x.R.us[J]={txE:B,tdE:X,fontSize:z}}x.R.tGO=H.OV(t);var $=o(t);t.M+=52*$;var V=o(t);t.M+=152*V;var R=o(t);t.M+=784*R;var j=o(t);for(P=0;P<j;P++)t.M+=40,b>1300&&(t.M+=4),b>=1300?o(t)?t.M+=68:t.M+=12:(t.M+=20,b>=1e3&&(t.M+=8),o(t)&&(t.M+=8),t.M+=8);var G=o(t);x.R.txO={};for(P=0;P<G;P++){var Y=o(t),K={};t.M+=12,K.right=v(t),K.tdj=v(t),K.left=v(t),x.R.txO[Y]=K}var Q=o(t);b>=1300&&(I+=4),t.M+=I*Q;var W=o(t);if(t.M+=28*W,b>800){var Z=o(t);t.M+=12*Z}x.R.B_={};for(P=0;P<st;P++){var tt=o(t),et=o(t);(ut={}).tS=o(t),t.M+=8;var it=o(t);b>=1200&&(it*=2),t.M+=it,ut.uR=o(t),ut.uN=o(t),tt>1&&(ut.txg=o(t),ut.tGs=o(t),ut.tdb=o(t),ut.tdz=o(t),b>800&&(ut.tGt=o(t))),tt>2&&(ut.tGH=o(t),ut.tGI=o(t),ut.tGD=o(t),ut.tGh=o(t),ut.tGe=o(t)),x.R.B_[et]=ut}}else if("LIST"==x.VB)H.OR(t,x.sub,i,n+1);else if("txsm"==x.VB){if(x.R={},b<600)throw"e";if(b<700)throw"e";if(b>=1600)throw"e";t.M+=b>=1500?37:36,o(t)&&b<800&&(t.M+=32),b<800&&(t.M+=4),x.R.tG_=o(t),x.R.s_=[],t.M+=48,b>=800&&o(t)&&(t.M+=32,b>=1300&&(t.M+=8)),b>=1500&&(t.M+=12);var nt=1;(tt=o(t))||(b>=800&&(t.M+=4),b>800&&(t.M+=2),b>=1400&&(t.M+=2),t.M+=24,b<800&&(t.M+=8),nt=o(t));for(_=0;_<nt;_++){var rt=o(t);P=0;b>=1300&&tt&&t.M++,t.M++;var st=o(t),at=[];for(P=0;P<st;P++){var ht=s(t),ot=0;s(t);var lt=s(t);b>=800&&(ot=s(t));var ut={};if(1&lt){ut.txE=h(t);var ft=h(t);ft&&(ut.txR=ft)}if(2&lt&&(t.M+=4),4&lt&&(ut.txV=v(t)),8&lt&&(t.M+=4),16&lt&&(t.M+=4),32&lt&&(t.M+=4),64&lt&&(ut.uR=o(t),b>=1500&&(t.M+=48)),128&lt&&(ut.uN=o(t)),8&ot)if(b>=1300){var ct=o(t);t.M+=2*ct}else t.M+=4;if(32&ot)s(t)&&(t.M+=52);2==ht&&b>=1300&&(t.M+=48),at.push(ut)}var pt=o(t),vt=[];for(P=0;P<pt;P++){var dt=0;dt=b>=1200?4294967295&readU64(t):o(t),vt[P]=dt>>16|1&dt}b>=1200&&o(t);var yt=H.EE(t);x.R.s_.push({tGg:rt,text:yt,B_:at})}}else if("font"==x.VB){var gt=h(t),mt=h(t);t.M+=14;var wt=H.EE(t);x.R={id:gt,txI:mt,name:wt}}else if(-1!=["IKEY","ICMT","pfrd","bcfg"].indexOf(x.VB));else if("flgs"==x.VB)x.R=o(t);else if("bbox"==x.VB){var bt=v(t),xt=v(t),Mt=v(t),St=v(t);x.R=new L(bt,xt,Mt-bt,St-xt)}else if("fild"==x.VB){var At=o(t),kt=0;b>=1300&&(t.M+=4,kt=h(t),t.M+=2);var Ct=h(t);if(0==Ct);else if(1==Ct)t.M+=b>=1300?13:2,$t=H.bI(t);else if(2==Ct){t.M+=b>=1300?8:2;var Tt=s(t);b>=1300?(t.M+=17,l(t)):b>=600?(t.M+=19,u(t)):(t.M+=11,l(t));var Ut=y(t),_t=.5+m(t),Ft=.5+m(t)-.5;b>=600&&(t.M+=2);g(t),s(t);t.M++;var Ot=65535&g(t);b>=1300&&(t.M+=3);var Lt=[];for(P=0;P<Ot;P++){var Dt=H.bI(t);b>=1300&&(t.M+=158==kt||b>=1600&&150==kt?26:5);var Nt=g(t)/100;b>=1300&&(t.M+=3),Lt.push([Nt,Dt])}$t={typ:1==Tt?"lin":"rad",crds:[_t-Math.cos(Ut)/2,Ft-Math.sin(Ut)/2,_t,Ft],grad:Lt,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",Ct);x.R={id:At,type:Ct,R:$t}}else if("outl"==x.VB){var It=o(t);if(b>=1300)for(var Et=0,Pt=0;1!=Et;)t.M+=Pt,Et=o(t),Pt=o(t);var Jt=h(t),Bt=h(t),Xt=h(t);b<1300&&b>=600&&(t.M+=2);var zt=v(t);h(t);b>=600&&(t.M+=2);y(t);b>=1300?t.M+=46:b>=600&&(t.M+=52);var $t=H.bI(t,270963208==It||276198e3==It,It);x.R={id:It,tGG:Jt,txS:Bt,txq:Xt,lineWidth:zt,color:$t}}else if("mcfg"==x.VB){1300<=b?t.M+=12:900<=b?t.M+=4:600<=b&&b<700&&(t.M+=28);var Vt=0,Rt=0;if(b<400)throw"e";Vt=v(t),Rt=v(t),x.R={tGw:new f(Vt,Rt)}}else if("loda"==x.VB){N=t.M,g(t);var qt=g(t),Ht=g(t),jt=g(t),Gt=g(t),Yt=[],Kt=[];t.M=N+Ht;for(P=0;P<qt;P++)Yt[P]=g(t);t.M=N+jt;for(P=qt-1;P>=0;P--)Kt[P]=g(t);x.R={};for(P=0;P<qt;P++){t.M=N+Yt[P];var Qt=Kt[P];if(10==Qt)x.R.tGT=o(t);else if(20==Qt)x.R.tGy=o(t);else if(200==Qt)x.R.txX=g(t);else if(30==Qt)if(b<400&&Gt--,1==Gt){bt=d(t),xt=d(t);var Wt=0,Zt=0;if(!(b<1500))throw"e";Zt=d(t),b<900?Zt:d(t),b<900?Zt:d(t),Wt=b<900?Zt:d(t),x.R.path=a.K.Cp(a.A.FH.Rect(0,0,bt,xt,Wt))}else if(2==Gt){var te=v(t),ee=v(t),ie=(y(t),y(t),Math.abs(te)),ne=Math.abs(ee);x.R.path=a.K.Cp(a.A.FH.QJ(0,0,ie,-ne))}else 3==Gt?x.R.path=H.tT$(t):6==Gt?x.R.tGM=H.tCv(t):37==Gt?x.R.path=H.tCs(t):console.log(Gt)}}else if("trfd"==x.VB){N=t.M,g(t),qt=g(t),Ht=g(t);t.M=N+Ht;for(Yt=[],P=0;P<qt;P++)Yt[P]=g(t);for(P=0;P<qt;P++){t.M=N+Yt[P],b>=1300&&(t.M+=8);var re=h(t);if(8==re){var se,ae,he,oe;if(b>=600&&(t.M+=6),!(b>=500))throw"e";se=p(t),ae=p(t),bt=p(t)/(b<600?1e3:254e3),he=p(t),oe=p(t),xt=p(t)/(b<600?1e3:254e3),x.Iw=new c(se,he,ae,oe,bt,xt)}else console.log(re)}}else{}}},H.OV=function(t,e){for(var i=H._t,n={},r=i(t),s=0;s<r;s++){var a=i(t);t.M+=4;var h=i(t);n[a]=h,e&&(t.M+=48)}return n},H.tCv=function(t){var e=H._T;return t.M+=4,new f(e(t),e(t))},H.tCs=function(t){var e=H,i=(e._t,e.uO);e._T;t.M+=4;var n=i(t)+i(t);return t.M+=16,H.EW(t,n)},H.tT$=function(t){var e=H.uO(t);return t.M+=2,H.EW(t,e)},H.EW=function(t,e){for(var i=H._T,n=t._D<600?2:4,r=t.M,s={Z:[],lX:[]},a=0,h=0,o=0,l=0;l<e;l++){a=i(t),h=i(t);var u=t.data[r+e*n*2+l];64&u||128&u?64&u&&!(128&u)?(s.Z.push(a,h),s.lX.push("L"),o+=2):!(64&u)&&128&u?(s.Z.push(a,h),s.lX.push("C"),o+=6):64&u&&128&u&&s.Z.push(a,h):(s.Z.push(a,h),s.lX.push("M"),o+=2)}if(o!=s.Z.length)throw"e";return s},H.tHR=function(t,e){var i=O.UD,n=i(t,e+=8),r=i(t,e+=4);e+=4;var s=e+=28,h=a.I(n*r*4);e+=1024;for(var o=0;o<r;o++)for(var l=0;l<n;l++){var u=(r-o-1)*n+l,f=t[e+(o*n+l)]<<2,c=u<<2;h[c+0]=t[s+f+2],h[c+1]=t[s+f+1],h[c+2]=t[s+f+0],h[c+3]=255}return{nn:h,rect:new L(0,0,n,r)}},H.tTH=function(t){return 32==t?300:t<49?0:t<58?100*(t-48):t<65?0:100*(t-55)},H.bI=function(t,e,i){var n=H.uO,r=H._t,s=t._D,a=0,h=0;if(!(s>=500))throw"e";if(1==(a=n(t))&&s>=1300&&(a=25),25==a||30==a)throw"e";if(14==a)throw"e";t.M+=6,h=r(t);var o=[];if(2==a||17==a){var l=[h>>>0&255,h>>>8&255,h>>>16&255,h>>>24&255];if(2==a)for(var u=0;u<4;u++)l[u]=Math.round(255*l[u]/100);for(u=0;u<4;u++)l[u]/=255;o=UDOC.C.cmykToRgb(l)}else console.log("Unknown color model "+a,h,h.toString(16));return o};var j={};function G(t,e,i,n,r,a,h){this.Fr=null,this.x_=t?t.slice(0):null,this.ZI=4,this.kt=null,this.Hc=null,this.dk=null,this.kd=-1,this.HL=[];for(var o=0;o<8;o++)this.HL.push(bt.IX(s.tIU(0,PIMG.rotate,-.5,-.5,-45-45*o)));this.Ha=e,this.tVZ=i,this.tVs=n,this.tVu=r,this.Hv=a,this.eg=h}function Y(t,e){this.UB=null,this.kd=-1,this.Qf(t)}j.NY=function(t,e,i){this.name=t,this.id=e,null!=i&&(this.Xg=i)},j.NY.prototype.Ly=function(t,e,i,n,r){},j.NY.prototype.enable=function(t,e,i,n,r,s){var a=new xt(bt.E.Y,!0);a.data={X:bt.m.gM,Ut:"default"},e.N(a)},j.NY.prototype.disable=function(t,e,i,n){},j.NY.prototype.cL=function(t,e,i,n,r){},j.NY.prototype.XY=function(t,e,i,n,r){},j.NY.prototype.Nu=function(t,e,i,n,r){},j.NY.prototype.OH=function(t,e,i,n,r){},j.NY.prototype.FJ=function(t,e,i,n){},j.NY.prototype.xz=function(t,e,i,n){},j.NY.prototype.wD=function(t,e){},j.NY.prototype.mK=function(t,e){},j.NY.prototype.sG=function(t,e,i,n,r){},j.NY.prototype.qB=function(t,e){},j.NY.prototype.jV=function(t){return!1},j.NY.prototype.mW=function(t){return!1},j.NY.prototype.ZQ=function(){return!1},j.NY.prototype.Oy=function(t,e){return!0},j.NY.prototype.Nm=function(){return null},j.NY.prototype.E_=function(t,e,i){},j.NY.prototype.hR=function(){return!1},j.NY.prototype.hH=function(t,e,i,n){},j.Ft="0",j.sQ="1",j.hw="2",j.hL="5",j.tTw="6",j.tTK="7",j.pF="8",j.tTs="9",j.Wz="10",j.hx="14",j.tTu="16",j.Fj="18",j.FK="19",j.hM="20",j.Tz="23",j.F_="24",j.mg="27",j.so="31",j.tPO="34",j.tPn="35",j._x="36",j._h="37",j.MY="38",j.hW="39",j.hq="40",j.hp="41",j.tPB="42",j.hX="43",j.Jv="47",j.Oc="51",j.tdd="52",j.tdU="54",j.tGE="55",j.tGf="56",j.tGj="57",j.txM="58",j.mS="59",j.ML="61",j._y="100",j.mE="101",j.nP="230",j.tHt="231",j.ni="232",j.uh="233",j.rt="234",j.Mb="235",j.mq="236",j.mh=function(t,e,i){j.NY.call(this,t,e,i),this.kS={brush:t?ut.wi():null,bmode:"norm",opacity:1,flow:1,smth:0,wconf:{GS:10,Gh:!0},algnd:!1,sfrom:0,expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0},this.Uu=null,this.yd=null,this.St=null,this.TK=null,this.gk=null,this.tv=null,this.th=null,this.Ud=null,this._g=1,this.qt=!1,this.Ua=null,this.caller=null},j.mh.prototype=new j.NY,j.mh.prototype.Ly=function(t,e,i,n,r){if("draw"==t.X){var s=t.txl,a=this.kS.bmode;this.rD(i),this.kS.bmode="norm",this.ps(i,"draw",t.txf,s,s),this.kS.bmode=a,this.r(i,s),this.finish(i,s,t._F)}},j.mh.prototype.jV=function(t){return-1!=W.jH.indexOf(t)},j.mh.prototype.FJ=function(t,e,i,n){var r=this.kS.brush,s=j.mh.Og(r,n);null!=s&&((a=new xt(bt.E.Y,!0)).data={X:bt.m.u_,gg:Q.kT,HF:s},e.N(a));if(!n.l(W.sf)&&-1!=n.fG()){var a,h=bt.bM(Math.round(100*this.kS.opacity),n.fG())/100;this.kS.opacity=h,(a=new xt(bt.E.Y,!0)).data={X:bt.m.nv,c:this.id,SV:{opacity:h}},e.N(a)}if(this.id==j.pF&&n.l(W.kz)!=this.qt&&null!=t){var o=this.kS.qsmode;o=2==o?null==t.t?0:1:2,this.OS(o,e),this.qt=n.l(W.kz)}else this.qt=n.l(W.kz);this.id!=j.mg&&this.id!=j.FK&&this.id!=j.hM&&this.id!=j.Tz&&this.id!=j.F_||this.Hf(e,i,n)},j.mh.Og=function(t,e){var i=t.Brsh.v.Dmtr.v.val,n=null!=t.Brsh.v.Hrdn?t.Brsh.v.Hrdn.v.val:-1,r=i,s=n,a=e.l(W.Yz);if(e.l(W.fm)&&(a?n=25*Math.floor((n-1)/25):i>10?i=5*Math.floor((i-1)/5):i--),e.l(W.Oq)&&(a?n=25*Math.ceil((n+1)/25):i>9?i=5*Math.ceil((i+1)/5):i++),i=Math.max(1,i),n=Math.max(0,Math.min(100,n)),-1==s&&(n=-1),i!=r||n!=s){var h=JSON.parse(JSON.stringify(t));return h.Brsh.v.Dmtr.v.val=i,-1!=s&&(h.Brsh.v.Hrdn.v.val=n),h}return null},j.mh.prototype.Hf=function(t,e,i){if(0!=e.lL.list.length){var n=ct.YF(this.kS.brush,e.lL.Fy,this._g),r=bt.IX(n);this.id!=j.mg&&this.id!=j.FK&&this.id!=j.Tz&&this.id!=j.F_||null==i||!i.l(W.kz)||(r="crosshair");var s=new xt(bt.E.Y,!0);s.data={X:bt.m.gM,Ut:r},t&&t.N(s)}},j.mh.prototype.enable=function(t,e,i,n){this.caller=e;var r=new xt(bt.E.Y,!0);r.data={X:bt.m.u_,gg:Q.kT,HF:JSON.parse(JSON.stringify(this.kS.brush))},e.N(r),t&&0!=t.n.s&&(this._g=t.n.s),this.Hf(e,i,n)},j.mh.prototype.qB=function(t,e){e==Q.kT&&(this.kS.brush=t.lL.CU,this.Hf(this.caller,t))},j.mh.prototype.sG=function(t,e,i,n,r){for(var s in t)this.kS[s]=t[s]},j.mh.prototype.rD=function(t){var e=t.b[t.g[0]],i=e.G<=0?null:1==e.G?e.Ab():e.hy(t).d;this.Ud=null==t.t?null:{rect:t.t.rect.clone(),channel:a.clone(t.t.channel)},this.gk=i?i.channel:e.buffer,this.TK=(i?i.rect:e.rect).clone();var n=new L(0,0,t.$,t.z).Fv(this.TK);if(this.mi()||n.v$(this.TK)?this.gk=this.gk.slice(0):i?i.extend(n):e.extend(n),this.tv=this.TK,this.th=this.gk,e.G<=0&&(this.id==j.mg||this.id==j.FK)){var r=this.kS.sfrom;0!=r&&(this.tv=new L(0,0,t.$,t.z),this.th=a.clone(t.cn(1==r?t.g[0]:null)))}},j.mh.prototype.hQ=function(t,e,i){if(t.l(W.kz)){var n=new xt(bt.E.W,!0);return n.c=j.hx,n.data={X:"pickhere",tRa:i},e.N(n),!0}return!1},j.mh.prototype.Pa=function(t,e,i,n,r,s){if(t.FS()){this.rD(t);var h=new L(0,0,t.$,t.z),o=null;if(null!=s){var l=t.b[t.g[0]],u=l.G<=0?null:1==l.G?l.Ab():l.hy(t).d;o=a.I(4*h.f()),u?j.mh.gb(this.gk,this.TK,u.color,o,h):a.Pg(this.gk,this.TK,o,h)}if(this.Uu&&this.id==j.pF&&0!=this.kS.qsmode);else{var f=this.id==j.pF?t.b[t.g[0]].rect:h;this.Uu=new ct(this.kS.brush,e.lL.Fy,e.lL.nw,{OO:r,tX:s,tRh:50*this.kS.smth*bt.h()/t.n.s,tf:this.id==j.F_},e.AF,e.ze,f,o)}this.id==j.pF&&this.Uu.Kb(this.kS.brush,2==this.kS.qsmode?0:16777215);var c=t.n.kp(n.x,n.y);c=j.UP.ep(t,c,e),i.l(W.Yz)&&this.yd?(this.Uu.moveTo(this.yd.x,this.yd.y,n.Gl),this.Uu.lineTo(c.x,c.y,n.Gl)):this.Uu.moveTo(c.x,c.y,n.Gl),this.yd=c,this.St=new ft(c)}else this.Uu=null},j.mh.prototype.xR=function(t,e,i){0!=t.n.s&&t.n.s!=this._g&&(this._g=t.n.s,this.Hf(this.caller,i))},j.mh.prototype.Mq=function(t,e,i,n){if(null!=this.Uu){t.b[t.g[0]];var r=t.n.kp(n.x,n.y);r=j.UP.ep(t,r,e);var s=this.St.Kj(r,i);this.Uu.lineTo(s.x,s.y,n.Gl),this.yd=s}},j.mh.prototype.xz=function(t,e,i,n){this.id==j.pF&&null!=t&&(null!=t.t&&t.g[0]==this.tRe||(this.tRe=t.g[0],this.OS(0,e)))},j.mh.prototype.r=function(t,e){if(null==e&&(e=this.Uu.YN(),this.mi()&&(e=e.sj(this.TK))),!e.km()){var i=t.b[t.g[0]];i.G<=0&&i.r(e),1==i.G&&(i.Ab().rb=!0,i.Sa(t)),3==i.G&&i.r(),t.r(t.root.KS(e,t,t.g[0]))}},j.mh.prototype.Nu=function(t,e,i,n,r){if(null!=this.Uu){if(this.Uu.finish(),this.id!=j.Fj&&this.ue(t),this.id==j.pF){var s=t.t;t.t=this.Ud;var a=new xt(bt.E.W,!0);a.data={X:"setsel",_F:this.name,t:s},a.c=j.sQ,e.N(a),0==this.kS.qsmode&&this.OS(1,e)}else this.finish(t,this.Uu.Yd()),this.Uu=null;this.dir=0}},j.mh.prototype.OS=function(t,e){if(t!=this.kS.qsmode){this.kS.qsmode=t;var i=new xt(bt.E.Y,!0);i.data={X:bt.m.nv,c:this.id,SV:{qsmode:t}},e.N(i)}},j.mh.prototype.mi=function(){var t=this.id;return t==j.pF||t==j.so||t==j.hW||t==j.hq||t==j.hp},j.mh.prototype.finish=function(t,e,i){var n,r,s=t.b[t.g[0]],h=s.G<=0?null:1==s.G?s.Ab():s.hy(t).d,o=h?h.rect:s.rect;if(this.mi()||!o.v$(this.TK)){if(null==h)if(this.mi())s.hJ();else{var l=e.Fv(this.TK),u=a.I(4*l.f());a.Pg(s.buffer,s.rect,u,l),s.buffer=u,s.rect=l}else h.hJ();this.r(t,o)}s.G<=0?(n=a.I(4*e.f()),a.Pg(this.gk,this.TK,n,e),r=a.I(4*e.f()),a.Pg(s.buffer,s.rect,r,e)):(n=a.I(e.f()),a.set(n,h.color),a.Jg(this.gk,this.TK,n,e),r=a.I(e.f()),a.set(r,h.color),a.Jg(h.channel,h.rect,r,e));var f=new Z(i||this.name,this);f.data={X:"putbrush",i:t.g[0],qx:s.G,Ge:e,tY:n,tB:r},t.Af(f)},j.mh.prototype.mK=function(t,e){this.hl(t,e,t.tY,t.tRF)},j.mh.prototype.wD=function(t,e){this.hl(t,e,t.tB,t.ttC)},j.mh.prototype.hl=function(t,e,i,n){var r=e.b[t.i];if("putbrush"==t.X&&(t.qx<=0&&(r.extend(t.Ge),a.Pg(i,t.Ge,r.buffer,r.rect),r.hJ()),1==t.qx||3==t.qx)){var s=1==t.qx?r.Ab():r.hy(e).d;a.Jg(i,t.Ge,s.channel,s.rect),1==t.qx&&(r.Ab().rb=!0,r.Sa(e))}"drawtemp"==t.X&&(r.UM.nI=n,r.cX(e,0,0,e.t)),r.r(),e.r()},j.mh.prototype.ue=function(t){this.ps(t,this.Ua,this.Uu.GE(),this.Uu.AK(),this.Uu.YN()),this.r(t)},j.mh.prototype.ps=function(t,e,i,n,r){var s=this.kS,h=t.b[t.g[0]],o=h.G<=0?null:1==h.G?h.Ab():h.hy(t).d,l=a.I(4*r.f());if(null==o?a.Pg(this.gk,this.TK,l,r):j.mh.gb(this.gk,this.TK,o.color,l,r),t.t&&"qselect"!=e){var u=r.sj(t.t.rect),f=a.I(4*u.f());a.Pg(i,n,f,u),a.Sm(t.t.channel,t.t.rect,f,u),i=f,n=u}if("draw"==e&&a.a.MR(s.bmode,i,n,l,r,r,s.opacity),"erase"==e){var c=a.I(4*r.f());if(a.Pg(i,n,c,r),null==o){var p=a.I(r.f());a.rY(c,p,3),a.Yi(p,s.opacity),a.UK(p),a.Sm(p,r,l,r)}else a.Mw(c,0,4278190080),a.a.MR("norm",c,r,l,r,r,s.opacity)}if("clone"==e||"heal"==e){var v=this.mo(),d=this.tv.clone();d.offset(v.x,v.y),(I=r.clone()).FA(1,1);var y=a.I(4*I.f()),g=a.I(I.f());if(a.Pg(i,n,y,I),a.rY(y,g,3),a.Mw(y,0),null==o){a.Pg(this.th,d,y,I);var m=a.I(I.f());a.rY(y,m,3),a.Yj(m,g)}else j.mh.gb(this.gk,d,o.color,y,I);if("clone"==e&&(a.kw(g,y,3),a.a.MR(s.bmode,y,I,l,r,r,s.opacity)),"heal"==e){var w=a.clone(g);a.round(w,20);var b=a.I(4*I.f());a.Pg(this.gk,this.TK,b,I),a.a.fX(y,I,b,I,w,I,0,I,1,!1),a.ih.zZ(b,w,I),a.a.fX(b,I,l,r,g,I,0,r,1,!1)}}if("dodge"==e||"burn"==e){y=a.I(4*r.f());var x=0,M=0,S=0;a.Pg(i,n,y,r);var A=4*r.f(),k=j.mh.Oh;this.qt&&(e="dodge"==e?"burn":"dodge");var C=s.rng;"dodge"==e&&(x=[.5,1,2][C],M=[1,.5,1][C],S=[.5,0,0][C]),"burn"==e&&(x=[2,1,.5][C],M=[1,2,1][C],S=[-1,0,0][C]);for(var T=0;T<A;T+=4){var U=y[T+3];l[T+0]=k(l[T+0],x,M,S,U),l[T+1]=k(l[T+1],x,M,S,U),l[T+2]=k(l[T+2],x,M,S,U)}}if("sponge"==e){y=a.I(4*r.f()),g=a.I(r.f());a.Pg(i,n,y,r),a.rY(y,g,3),a.sa(l,y);var _=s.smode;this.qt&&(_=1-_);var F=a.I(256);for(T=0;T<256;T++)F[T]=T;var O=a.I(256);a.set(O,127+[-50,23][_]);var D=a.I(256);a.set(D,127+[25,-5][_]);var N={type:"remapHSL",tz:F,pe:O,tZ:D,xT:1,xP:0,tm:0};tt.kn(N,y,y),a.a.fX(y,r,l,r,g,r,0,r,1,!1)}if("copy"==e&&a.Pg(i,n,l,r),"sheal0"==e||"sheal1"==e||"sheal2"==e){y=a.I(4*r.f()),g=a.I(r.f());a.Pg(i,n,y,r),a.rY(y,g,3),(0,[null,null,a.te.zZ][parseInt(e.charAt(5))])(this.gk,this.TK,g,l,r)}if("qselect"==e){var I,E=this.kS.brush,P=this.kS.qsmode,J=Math.max(40,Math.round(1.7*E.Brsh.v.Dmtr.v.val));(I=r.clone()).FA(J,J),I=I.sj(this.TK);y=a.I(4*I.f());a.Pg(i,n,y,I);for(g=a.I(I.f()),T=0;T<g.length;T++){var B=y[T<<2],X=y[3+(T<<2)];g[T]=255==B&&255==X?255:0==B&&255==X?0:100}null==t.t&&(t.t={channel:a.I(0),rect:new L}),a.extend(t.t,I);var z=a.I(I.f());a.Jg(t.t.channel,t.t.rect,z,I),2==P&&(a.UK(g),a.UK(z)),a.Pg(this.gk,this.TK,y,I);var $=a.oC.oC(I,y,g);a.lO.Fv(z,$,$),2==P&&a.UK($),a.Jg($,I,t.t.channel,t.t.rect),t.Ow=!0}null==o?a.Pg(l,r,h.buffer,h.rect):j.mh.mY(l,r,o)},j.mh.mo=function(){return null},j.mh.Oh=function(t,e,i,n,r){var s=t*(1/255),a=n+e*Math.pow(s,i),h=Math.round(a*r+s*(255-r));return Math.max(0,Math.min(255,h))},j.mh.gb=function(t,e,i,n,r){var s=a.I(r.f());a.set(s,i),a.Jg(t,e,s,r),a.Mw(n,4278190080),a.tH$(s,n)},j.mh.mY=function(t,e,i){var n=a.I(e.f());a.BS(t,n),a.Jg(n,e,i.channel,i.rect)},j.MV=function(t,e,i){j.NY.call(this,t,e,i),this.kS={uy:"front",jQ:0,lQ:{yC:0,x:3,y:2}},this.uc=new f(-1,-1),this.kt=new f(-1,-1),this.Sx="default",this.IY=!1,this.Ce=!1,this.qt=!1,this.Sg=0,this.So=0,this.SQ=!1,this.xh=null,this.xX=null},j.MV.prototype=new j.NY,j.MV.prototype.mW=function(t){return this.SQ||t.Vv&&this.id!=j.hL},j.MV.prototype.Mf=function(t,e,i){var n=new xt(e,!0);n.data=i,t.N(n)},j.MV.prototype.hf=function(t,e){var i=new xt(bt.E.Y,!0);i.data={X:bt.m.gM,Ut:e},t.N(i)},j.MV.prototype.AK=function(t,e,i){e=null==t.t||this.Sg>1||this.So>1?e:null;var n=this.uc,r=this.kt;n.x=Math.round(n.x),n.y=Math.round(n.y),r.x=Math.round(r.x),r.y=Math.round(r.y),i&&(n.x=Math.max(0,Math.min(t.$,n.x)),n.y=Math.max(0,Math.min(t.z,n.y)),r.x=Math.max(0,Math.min(t.$,r.x)),r.y=Math.max(0,Math.min(t.z,r.y)));var s=j.rG.QL(n,r,e,!0,this.kS.lQ),a=s[0].x,h=s[0].y;return new L(a,h,s[1].x-a,s[1].y-h)},j.MV.prototype.cL=function(t,e,i,n,r){if(this.IY=!1,this.Ce=n.l(W.Yz),this.qt=n.l(W.kz),this.Sg=this.Ce?0:1,this.So=this.qt?0:1,this.uc=t.n.kp(r.x,r.y),this.uc=j.UP.ep(t,this.uc,i),this.hm(t,this.uc))return this.SQ=!0,void(this.xh=t.t.rect.clone());this.nZ(t,i,n,r),t.n._E=new L},j.MV.prototype.hm=function(t,e){return!(!t.t||"front"!=this.kS.uy)&&a.oc(e,t.t.channel,t.t.rect)},j.MV.prototype.XY=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);if(f.Ln(this.uc,s)*t.n.s>5&&(this.IY=!0),n.l(W.JW)?(null==this.xX&&(this.xX=new f(s.x-this.uc.x,s.y-this.uc.y)),this.uc.x=s.x-this.xX.x,this.uc.y=s.y-this.xX.y):this.xX=null,this.kt=s,this.SQ||(this.kt=j.UP.ep(t,this.kt,i)),this.hm(t,this.kt)?this.hf(e,"move"):this.hf(e,this.Sx),this.SQ){var a=this.xh.clone();a.x+=this.kt.x-this.uc.x,a.y+=this.kt.y-this.uc.y;var h=j.UP.tg(t,a,i);return t.t.rect.x=Math.round(this.kt.x-this.uc.x+this.xh.x+h[0]),t.t.rect.y=Math.round(this.kt.y-this.uc.y+this.xh.y+h[1]),t.Ow=!0,void j.UP.tG(t,a,h)}this.fI(t,i,n,r),t.n._E&&(t.n._E=this.AK(t,n))},j.MV.prototype.Nu=function(t,e,i,n,r){if(t.n._E=null,this.kt=t.n.kp(r.x,r.y),this.kt=j.UP.ep(t,this.kt,i),this.SQ){if(this.SQ=!1,this.kt.v$(this.uc)&&"front"==this.WH()){var s=new Z([7,1],this);return s.data={X:"changesel",Ud:t.t,_k:null},t.Af(s),void this.wD(s.data,t)}return this.WR(t,this.xh,t.t.rect.clone()),void(null!=t&&t.S.iG&&(t.S.iG=null,t.un=!0))}this.Ub(t,i,n,r)},j.MV.prototype.WR=function(t,e,i){var n=t.lk();null!=n&&n.c==this&&"movesel"==n.data.X||((n=new Z([7,7],this)).data={X:"movesel",Gi:e},t.Af(n)),n.data.SO=i,this.wD(n.data,t)},j.MV.prototype.FJ=function(t,e,i,n){if(this.IY&&(0!=this.Sg||n.l(W.Yz)||this.Sg++,1==this.Sg&&n.l(W.Yz)&&this.Sg++,0!=this.So||n.l(W.kz)||this.So++,1==this.So&&n.l(W.kz)&&this.So++),null!=t.t){var r=n.Ik();if(0!=r.x||0!=r.y){var s=t.t.rect.clone();s.x+=r.x,s.y+=r.y,this.WR(t,t.t.rect.clone(),s)}}},j.MV.prototype.finish=function(t,e,i,n){var r,s=t.t,h=this.getSelection(t,e,i,n);if(h&&0!=this.kS.jQ){var o={rect:h.rect.clone(),channel:null},l=Math.round(2.6*this.kS.jQ);o.rect.FA(l,l);var u=a.I(o.rect.f());o.channel=a.I(o.rect.f()),a.Jg(h.channel,h.rect,u,o.rect),a.blur.ur(u,o.channel,o.rect,this.kS.jQ),h=o}if(null!=h&&a.Wt(h.channel,0)&&(h=null),null==h){if(null==s)return;(r=new Z([7,1],this)).data={X:"changesel",Ud:s,_k:h}}else null!=s&&(h=a.lO.Zh(h,s,this.WH())),(r=new Z(this.name,this)).data={X:"changesel",Ud:s,_k:h};t.Af(r),this.wD(r.data,t),this.uc.kR(-1,-1),this.kt.kR(-1,-1)},j.MV.prototype.WH=function(){var t=this.kS.uy;return this.Ce&&(t="union"),this.qt&&(t="difference"),this.Ce&&this.qt&&(t="intersection"),t},j.MV.prototype.getSelection=function(t,e,i,n){return null},j.MV.prototype.nZ=function(t,e,i,n){},j.MV.prototype.fI=function(t,e,i,n){},j.MV.prototype.Ub=function(t,e,i,n){},j.MV.prototype.mK=function(t,e){var i=t.X;"changesel"==i&&(e.t=t.Ud),"movesel"==i&&(e.t.rect=t.Gi),e.Ow=!0},j.MV.prototype.wD=function(t,e){var i=t.X;"changesel"==i&&(e.t=t._k),"movesel"==i&&(e.t.rect=t.SO),e.Ow=!0},j.MV.prototype.sG=function(t){this.kS=t},j.MV.prototype._A=function(t){var e=a.K.TD(t.Z);if(e.km())return null;var i=bt.B("canvas","");i.width=e.$,i.height=e.z;var n=i.getContext("2d");n.beginPath(),n.translate(-e.x,-e.y),Typr.U.pathToContext({cmds:t.lX,crds:t.Z},n),n.closePath(),n.fill();var r=a.I(e.f()),s=n.getImageData(0,0,i.width,i.height);return a.rY(s.data,r,3),{rect:e,channel:r}},j.sW=function(){j.mh.call(this,[10,18],j._x,"tools/blur"),this.Ua="copy"},j.sW.prototype=new j.mh,j.sW.prototype.cL=function(t,e,i,n,r){var s=n.l(W.kz)?ct.IR:ct._x;this.Pa(t,i,n,r,this.kS.strn,s),null!=this.Uu&&this.ue(t)},j.sW.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&(this.Mq(t,i,n,r),this.ue(t)))},j.sq=function(){j.mh.call(this,[10,0],j.Tz,"tools/brush"),this.Ua="draw"},j.sq.prototype=new j.mh,j.sq.prototype.cL=function(t,e,i,n,r){this.hQ(n,e,r)||(this.Pa(t,i,n,r,this.kS.flow),null!=this.Uu&&this.ue(t))},j.sq.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&(this.Mq(t,i,n,r),this.ue(t)))},j.sB=function(){j.mh.call(this,[10,38],j.F_,"tools/pencil"),this.Ua="draw"},j.sB.prototype=new j.mh,j.sB.prototype.cL=function(t,e,i,n,r){this.hQ(n,e,r)||(this.Pa(t,i,n,r,this.kS.flow),null!=this.Uu&&this.ue(t))},j.sB.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&(this.Mq(t,i,n,r),this.ue(t)))},j.sZ=function(){j.mh.call(this,[10,22],j.hq,"tools/burn"),this.Ua="burn"},j.sZ.prototype=new j.mh,j.sZ.prototype.cL=function(t,e,i,n,r){this.Pa(t,i,n,r,this.kS.expo/Math.E),null!=this.Uu&&this.ue(t)},j.sZ.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&(this.Mq(t,i,n,r),this.ue(t)))},j.rv=function(){j.mh.call(this,[10,1],j.mg,"tools/clone"),this.Ua="clone",this.xQ=null,this.oX=null,this.M=null,this.VR=0},j.rv.prototype=new j.mh,j.rv.prototype.cL=function(t,e,i,r,s){var a=t.n.kp(s.x,s.y);if(this.xQ=a,r.l(W.kz)||r.l(W.j$))return this.oX=t.n.kp(s.x,s.y),void(this.M=null);null!=this.oX?(this.Pa(t,i,r,s,this.kS.flow),null!=this.Uu&&(null!=this.M&&this.kS.algnd||(this.M=new f(Math.round(a.x-this.oX.x),Math.round(a.y-this.oX.y))),this.ue(t))):Date.now()-this.VR>1e3&&(alert(n.get([15,7,0])),this.VR=Date.now())},j.rv.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&null!=this.oX&&(this.Mq(t,i,n,r),this.ue(t)))},j.rv.prototype.mo=function(){return this.M},j.rv.prototype.disable=function(t,e,i,n){this.oX=null,this.M=null},j.$p=function(){j.NY.call(this,[10,2],j.Wz,"tools/crop"),this.vr={CF:{yC:0,x:0,y:0}},this.nl=null,this.cursor=null,this.Vr=0},j.$p.prototype=new j.NY,j.$p.prototype.mW=function(t){return this.nl&&this.nl.QW()},j.$p.prototype.cL=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y),a=this.vr.CF,h=1==a.yC?a.x/a.y:null;null==this.nl&&(this.nl=new G(null,!0,!1,!1,!0,1==a.yC)),this.nl.cL(t,i,n,s,h)},j.$p.prototype.Hf=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.gM,Ut:this.cursor},t.N(e)},j.$p.prototype.enable=function(t,e,i,n){this.cursor="crosshair",this.Hf(e)},j.$p.prototype.XY=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);if(!r.Vv){var a="crosshair";this.nl&&this.nl.lr(s,t.n.s)?a=this.nl.lr(s,t.n.s):this.nl&&(a=(this.nl.w$(s),"default")),a!=this.cursor&&(this.cursor=a,this.Hf(e))}null!=this.nl&&this.nl.XY(t,i,n,s)},j.$p.prototype.Nu=function(t,e,i,n,r){if(null!=this.nl){var s=t.n.kp(r.x,r.y);this.nl.Nu(t,i,n,s),this.Mf(e,bt.E.Y,{X:bt.m.nv,c:this.id,VJ:!0});var a=this.nl.az();if(!(Math.abs(a[0]-a[4])<2||Math.abs(a[1]-a[5])<2))return Date.now()-this.Vr<200&&this.nl.w$(s)?(this.wS(t,i),void this.disable(t,e,i,n)):void(this.Vr=Date.now());this.disable(t,e,null,n)}},j.$p.prototype.FJ=function(t,e,i,n){n.l(W.BV)?(this.wS(t,i),this.disable(t,e,i,n)):n.l(W._f)?this.disable(t,e,i,n):this.nl&&this.nl.FJ(t,i,n)},j.$p.prototype.Ly=function(t,e,i,n,r){var s,h=new L(0,0,i.$,i.z),o=[11,3],l=i.go,u=i.$/2,f=i.z/2,p=!1;if("imgsize"==t.X)h=new L(0,0,t.vg,t.vF),t.vm&&(l=t.vm),p=0==t.Et;else if("canvsize"==t.X){var v=null!=t.iP?t.iP:0;h=new L(0,0,t.vg,t.vF);var d=i.$-t.vg,y=i.z-t.vF,g=Math.round(d/2),m=Math.round(y/2);1!=v&&4!=v&&7!=v||(h.x=g),2!=v&&5!=v&&8!=v||(h.x=d),3!=v&&4!=v&&5!=v||(h.y=m),6!=v&&7!=v&&8!=v||(h.y=y),t.M&&(h.x=t.M.x,h.y=t.M.y)}else if("rot"==t.X&&t.R!=Math.PI)h=new L(u-i.z/2,f-i.$/2,i.z,i.$),1==(i.$+i.z&1)&&(u=Math.floor(u),f=Math.floor(f),h=new L(u-Math.floor(i.z/2),f-Math.floor(i.$/2),i.z,i.$),1==(1&i.$)&&t.R!=-Math.PI/2&&h.y--,1==(1&i.z)&&t.R==-Math.PI/2&&h.x--);else if("trim"==t.X){o=[11,12];var w=i.b[i.g[0]];(h=a.Wr(w.buffer,w.rect)).km()&&(h=w.rect.clone())}if("imgsize"==t.X||"rot"==t.X||"scl"==t.X){var b=new c;"imgsize"==t.X?(o=[11,10],b.scale(t.vg/i.$,t.vF/i.z)):(b.translate(-u,-f),"rot"==t.X&&b.rotate(t.R),"scl"==t.X&&b.scale(t.R.x,t.R.y),b.translate(u,f),o=t._F),s=this.Ww(i,r,b,p)}var x=new Z(o,this);x.data={Gi:new L(0,0,i.$,i.z),SO:h,Vd:i.go,vm:l,iY:s,Iw:b},i.Af(x),this.wD(x.data,i)},j.$p.prototype.Ww=function(t,e,i,n){for(var r={b:[],Eu:null,gT:null},s=0;s<t.b.length;s++)r.b.push(s);return r.Eu=j._.Vm(t,r.b,!0),j._.lI(t,e,r.b,r.Eu,n,a.F.Wq(i),null,!0),r.gT=j._.Vm(t,r.b,!0),r},j.$p.prototype.wD=function(t,e){t.vm&&(e.go=t.vm),t.iY&&(j.$p.WI(e,t.Iw),j._.$J(e,t.iY.b,t.iY.gT)),j.$p.tt(e,t.SO)},j.$p.prototype.mK=function(t,e){t.Vd&&(e.go=t.Vd);var i=t.Gi.clone();if(i.offset(-t.SO.x,-t.SO.y),j.$p.tt(e,i),t.yo&&e.n.M.py(t.yo),e.jY(),t.iY){var n=t.Iw.clone();n.UK(),j.$p.WI(e,n),j._.$J(e,t.iY.b,t.iY.Eu)}},j.$p.WI=function(t,e){for(var i=0;i<t.b.length;i++){var n=t.b[i];if(null!=n.add.artb){var r=a.K.DK(n.As()).Z;a.K.UC(r,e,r);var s=a.K.TD(r);n.L$(s)}}},j.$p.tt=function(t,e){t.$=e.$,t.z=e.z;for(var i=[],n=0;n<t.b.length;n++)i.push(n);j.UP.uw(t,i,null,-e.x,-e.y);for(n=0;n<t.b.length;n++)t.b[n].Sa(t);t.jY(),t.n.M.kR(0,0),t.t&&t.t.rect.offset(-e.x,-e.y)},j.$p.prototype.sG=function(t,e,i,n,r){"commit"==t.Lc?(this.wS(i,r),this.disable(i,e,null,n)):"cancel"==t.Lc&&this.disable(i,e,null,n);var s=null,h=this.vr.CF;if("config"==t.Lc){if(this.vr=t.vr,h=this.vr.CF,null==i)return;if(s=new L(0,0,i.$,i.z),1==h.yC){var o=h.x/h.y;s.z=Math.round(s.$/o)}2==h.yC&&(s.$=h.x,s.z=h.y),s.x=Math.round((i.$-s.$)/2),s.y=Math.round((i.z-s.z)/2)}if("cropby"==t.Lc){if(null==i)return;var l=t.ttM;if(0==l&&(s=i.root.AK(i,!0)),1==l)s=i.root.oo(i.g[0]).AK(i,!0);if(2==l){var u=i.b[i.g[0]];(s=a.Wr(u.buffer,u.rect)).km()&&(s=u.rect.clone()),s.km()&&(s=null)}3==l&&(null!=i.t?s=i.t.rect:alert("There is no selection."))}null!=s&&(this.nl=new G([s.x,s.y,s.x+s.$,s.y,s.x+s.$,s.y+s.z,s.x,s.y+s.z],!0,!1,!1,!0,1==h.yC),this.nl.Qu(i),this.Mf(e,bt.E.Y,{X:bt.m.nv,c:this.id,VJ:!0}))},j.$p.prototype.wS=function(t,e){var i,n=new Z(this.name,this),r=a.F.od(a.F.tn(this.nl.az())),s=Math.atan2(r.H,r.o);if(0!=s){var h=new c;h.translate(-r.DX,-r.Ug),h.rotate(s),h.translate(r.DX,r.Ug),i=this.Ww(t,e,h,!1)}var o=this.txn();n.data={Gi:new L(0,0,t.$,t.z),SO:o,iY:i,Iw:h,yo:t.n.M.clone()},t.Af(n),this.wD(n.data,t)},j.$p.prototype.txn=function(){var t=a.F.od(a.F.tn(this.nl.az())),e=t.DX,i=t.Ug,n=Math.atan2(t.H,t.o);t.rotate(n);var r=new L(e,i,t.o,t.KI);return r.x=Math.round(r.x),r.y=Math.round(r.y),r.$=Math.round(r.$),r.z=Math.round(r.z),r.$<0&&(r.x=r.x+r.$,r.$*=-1),r.z<0&&(r.y=r.y+r.z,r.z*=-1),r},j.$p.prototype.disable=function(t,e,i,n){null!=t&&(this.nl&&this.nl.clear(t),this.nl=null,this.Mf(e,bt.E.Y,{X:bt.m.nv,c:this.id,VJ:!1}))},j.$p.prototype.Mf=function(t,e,i,n){var r=new xt(e,!0);r.data=i,n&&(r.c=n),t.N(r)},j.ss=function(){j.mh.call(this,[10,21],j.hW,"tools/dodge"),this.Ua="dodge"},j.ss.prototype=new j.mh,j.ss.prototype.cL=function(t,e,i,n,r){this.Pa(t,i,n,r,this.kS.expo/Math.PI),null!=this.Uu&&this.ue(t)},j.ss.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&(this.Mq(t,i,n,r),this.ue(t)))},j.gF=function(){j.mh.call(this,[10,3],j.so,"tools/eraser"),this.Ua="erase"},j.gF.prototype=new j.mh,j.gF.prototype.cL=function(t,e,i,n,r){this.Pa(t,i,n,r,this.kS.flow),null!=this.Uu&&this.ue(t)},j.gF.prototype.XY=function(t,e,i,n,r){if(null!=this.Uu&&(this.xR(t,e,i),r.Vv)){this.Mq(t,i,n,r);this.ue(t)}},j.gF.prototype.Ly=function(t,e,i,n,r){if(i.FS()){var s=i.b[i.g[0]];if("clear"==t.X){var h,o,l=i.t;if(null!=t.DJ&&(l={rect:(s=i.b[t.DJ]).rect.clone(),channel:a.I(s.rect.f())},a.set(l.channel,255)),null==l)return;var u=s.G<=0?null:1==s.G?s.Ab():s.hy(i).d,f=s.G<=0?s.rect:u.rect,c=s.G<=0||0==u.color?l.rect.sj(f):l.rect;if(c.km())return;var p=c.f();if(s.G<=0?(h=a.I(4*p),o=a.I(4*p),a.Pg(s.buffer,s.rect,h,c),a.Pg(s.buffer,s.rect,o,c)):(h=a.I(p),o=a.I(p),u.extend(c),a.Jg(u.channel,u.rect,h,c),a.Jg(u.channel,u.rect,o,c)),s.JJ(i,l))s.G<=0?(a.Mw(o,0),a.Pg(s.UM.SZ,s.UM.sv,o,c)):(a.set(o,255),a.Jg(s.UM.SZ,s.UM.sv,o,c));else if(s.G<=0){var v=a.I(o.length>>2);a.rY(o,v,3),a.a.sF(a.kh(l.rect.f()),l.rect,v,c,l.channel,c,1),a.kw(v,o,3)}else{var d=a.I(l.rect.f()),y=r.ze>>16&255,g=r.ze>>8&255,m=r.ze>>0&255;a.set(d,Math.round(a.YK(y,g,m))),a.a.sF(d,l.rect,o,c,l.channel,c,1)}var w=new Z([2,2],this);w.data={X:"putbrush",i:i.g[0],qx:s.G,Ge:c,tY:h,tB:o},i.Af(w),this.wD(w.data,i)}if("stroke"==t.X){var b=t.ttS;null==(l=i.t)&&(l={rect:s.rect.clone(),channel:a.I(s.rect.f())},a.rY(s.buffer,l.channel,3));var x=lt.wI(b),M=j.nk.Xj(l,Math.ceil(x[0]),Math.ceil(x[1])),S=a.e.NG(b.Clr.v);y=Math.round(S.T),g=Math.round(S.q),m=Math.round(S.H);this.Wy(i,s,M,y,g,m,Math.round(255*b.Opct.v.val/100),it.FC(b.Md.v.BlnM),[14,9])}if("fill"==t.X){y=(S=[r.AF,r.ze,0,16777215][t.uV])>>16&255,g=S>>8&255,m=S>>0&255;this.Wy(i,s,i.t,y,g,m,255,"norm",[2,3])}if("fillBMP"==t.X&&this.WD(i,s,i.t,t.eu,t.UY,t._F),"paste"==t.X){var A=t.lD,k=K.l$.OI(A,i);this.rD(i),this.ps(i,"draw",A.buffer,k,k),this.r(i,k),this.finish(i,k,"Paste")}}},j.gF.prototype.Wy=function(t,e,i,n,r,s,h,o,l){var u=null==i?new L(0,0,t.$,t.z):i.rect,f=h<<24|s<<16|r<<8|n<<0,c=a.I(4*u.f());a.Mw(c,f),this.WD(t,e,i,c,o,l)},j.gF.prototype.WD=function(t,e,i,n,r,s){var h,o,l=e.G<=0?null:1==e.G?e.Ab():e.hy(t).d,u=(e.G<=0?e.rect:l.rect,null==i?new L(0,0,t.$,t.z):i.rect),f=null==i?a.cb(t.$*t.z):i.channel,c=u.f(),p=null;if(e.G<=0?(h=a.I(4*c),o=a.I(4*c),a.Pg(e.buffer,e.rect,h,u),a.Pg(e.buffer,e.rect,o,u)):(h=a.I(c),o=a.I(c),l.extend(u),a.Jg(l.channel,l.rect,h,u),a.Jg(l.channel,l.rect,o,u)),null!=i&&a.tV$(f,n),e.G>0&&(p=a.I(c),a.BS(n,p)),e.JJ(t,i)){var v=e.UM.nI,d=a.clone(e.UM.nI);e.G<=0?a.sa(n,d):a.sa(p,d),(y=new Z([2,3],this)).data={X:"drawtemp",i:t.g[0],qx:e.G,tRF:v,ttC:d},t.Af(y),this.wD(y.data,t)}else{var y;e.G<=0?a.a.MR(r,n,u,o,u,u,1):a.a.sF(p,u,o,u,f,u,1),(y=new Z(s,this)).data={X:"putbrush",i:t.g[0],qx:e.G,Ge:u,tY:h,tB:o},t.Af(y),this.wD(y.data,t)}},j.iR=function(){j.MV.call(this,[10,4],j.hw,"tools/eselect"),this.Sx="crosshair"},j.iR.prototype=new j.MV,j.iR.prototype.fI=function(t,e,i,n){if(n.Vv&&this.IY){var r=this.AK(t,i);t.S.rX=j.iR.Wc(r),t.un=!0}},j.iR.prototype.Ub=function(t,e,i,n){t.S.rX=null,t.un=!0,this.finish(t,e,i,n)},j.iR.prototype.getSelection=function(t,e,i,n){if(this.uc.v$(this.kt)||!this.IY)return null;var r=this.AK(t,i);return r.p$(new L(0,0,t.$,t.z))?this._A(j.iR.Wc(r)):null},j.iR.Wc=function(t){var e=t.x,i=t.y,n=t.x+t.$,r=t.y+t.z,s=(e+n)/2,a=(i+r)/2,h=(e-n)/2,o=(i-r)/2,l=.5522848,u={Z:[s,a-o],lX:["M","C","C","C","C"]};return u.Z.push(s+l*h,a-o,s+h,a-l*o,s+h,a),u.Z.push(s+h,a+l*o,s+l*h,a+o,s,a+o),u.Z.push(s-l*h,a+o,s-h,a+l*o,s-h,a),u.Z.push(s-h,a-l*o,s-l*h,a-o,s,a-o),u},j.uS=function(){j.NY.call(this,[10,5],j.hx,"tools/eyedropper"),this.sl=!1,this.Cs=1},j.uS.prototype=new j.NY,j.uS.prototype.mW=function(t){return t.Vv},j.uS.prototype.Ly=function(t,e,i,n,r){"pickhere"==t.X&&this.On(i,e,r,n,t.tRa)},j.uS.prototype.cL=function(t,e,i,n,r){this.sl=!0,this.On(t,e,i,n,r)},j.uS.prototype.XY=function(t,e,i,n,r){this.sl&&this.On(t,e,i,n,r)},j.uS.prototype.Nu=function(t,e,i,n,r){this.sl=!1},j.uS.prototype.On=function(t,e,i,n,r){var s=j.uS.WL(t,r,this.Cs),a=new xt(bt.E.Y);a.data={X:bt.m.u_,gg:Q.nc,gE:0,R:s},e.N(a)},j.uS.WL=function(t,e,i){var n=t.n.kp(e.x,e.y),r=Math.floor(n.x),s=Math.floor(n.y),a=(i-1)/2,h=Math.max(0,r-a),o=Math.max(0,s-a),l=Math.min(t.$,r+a+1),u=Math.min(t.z,s+a+1),f=(l-h)*(u-o),c=t.cn(),p=0,v=0,d=0;for(r=h;r<l;r++)for(s=o;s<u;s++){var y=4*(s*t.$+r);p+=c[y],v+=c[y+1],d+=c[y+2]}return(p=Math.round(p/f))<<16|(v=Math.round(v/f))<<8|(d=Math.round(d/f))},j.uS.prototype.sG=function(t){this.Cs=t.Cs},j.Aa=function(){j.NY.call(this,[10,6],j.tPO,"tools/gradient"),this.kS={e:JSON.parse(ot._Y.j_).v,style:"Lnr",reverse:!1,Vg:"norm",opacity:1},this.$b=!1,this.hC=null},j.Aa.prototype=new j.NY,j.Aa.prototype.enable=function(t,e,i,n){var r=new xt(bt.E.Y,!0);r.data={X:bt.m.gM,Ut:"default"},e.N(r)},j.Aa.prototype.sG=function(t){this.kS=t.gg},j.Aa.prototype.cL=function(t,e,i,n,r){t.FS()&&(this.hC=t.n.kp(r.x,r.y),this.hC=j.UP.ep(t,this.hC,i),this.$b=!0)},j.Aa.prototype.XY=function(t,e,i,n,r){if(this.$b){var s=t.n.kp(r.x,r.y);s=j.UP.ep(t,s,i),n.l(W.Yz)&&(s=j.Aa.Ol(this.hC,s)),t.S.rX={Z:[this.hC.x,this.hC.y,s.x,s.y],lX:["M","L"]},t.S.Lg=[this.hC.x,this.hC.y,s.x,s.y],t.un=!0}},j.Aa.prototype.Nu=function(t,e,i,n,r){if(this.$b){t.b[t.g[0]];var s=t.n.kp(r.x,r.y);s=j.UP.ep(t,s,i),n.l(W.Yz)&&(s=j.Aa.Ol(this.hC,s));var h=s.Tr(this.hC),o=f.iv(this.hC,s,.5),l=Math.atan2(h.y,h.x),u=f.Ln(this.hC,s),c=Math.sin(l),p=Math.cos(l);if(u>2){var v;v=t.t?t.t.rect:new L(0,0,t.$,t.z);var d=a.I(4*v.f()),y=this.kS.style;"Lnr"!=y&&(u*=2,o=this.hC),a.e.AH(this.kS.e,d,v,[1*p/u,1*c/u,1*-c/u,1*p/u],o.x,o.y,this.kS.reverse,ot.e.types.indexOf(y),i.AF,i.ze);var g=Math.round(256*this.kS.opacity),m=d.length;if(256!=g)for(var w=0;w<m;w+=4)d[w+3]=d[w+3]*g>>>8;var b=new xt(bt.E.W);b.c=j.so,b.data={X:"fillBMP",eu:d,UY:this.kS.Vg,_F:this.name},e.N(b)}t.S.rX=null,t.S.Lg=[],t.un=!0,this.$b=!1}},j.Aa.Ol=function(t,e){if(t.v$(e))return t;var i=e.x-t.x,n=e.y-t.y,r=Math.abs(i),s=Math.abs(n);r>s&&(s=r/2>s?0:r),s>r&&(r=s/2>r?0:s),r=i>0?r:-r,s=n>0?s:-s;var a=Math.sqrt(i*i+n*n)/Math.sqrt(r*r+s*s);return new f(t.x+r*a,t.y+s*a)},j.Aa.uU=function(t,e,i,n,r,s,h){null==h&&(h=bt.B("canvas",""));var o=h.getContext("2d");h.width=e,h.height=i;var l=new L(0,0,e,i),u=a.I(e*i*4);a.by(u,e,i,4,0,0);var f=Math.sin(n),c=Math.cos(n),p=a.I(e*i*4);a.e.AH(t,p,l,[1*c/e,1*f/e,1*-f/i,1*c/i],e/2,i/2,!1,0,r,s),a.a.MR("norm",p,l,u,l,l,1);var v=o.getImageData(0,0,e,i);return a.sa(u,v.data),o.putImageData(v,0,0),h.toDataURL()},j.Aa.tRR=function(t,e,i){for(var n=JSON.parse(JSON.stringify(t)),r=0;r<n.Clrs.v.length;r++){var s=n.Clrs.v[r].v,h=s.Type.v.Clry;if("UsrS"!=h){var o="FrgC"==h?e:i;s.Type.v.Clry="UsrS",s.Clr={t:"Objc",v:a.e.Ta({T:o>>16&255,q:o>>8&255,H:255&o})}}}return n},j.am=function(){j.NY.call(this,[10,7],j.mS,"tools/hand"),this.VH=new f(0,0),this.VT=new f(0,0)},j.am.prototype=new j.NY,j.am.prototype.Ly=function(t,e,i,n,r){"scroll"!=t.X||n.l(W.kz)||(n.l(W.sf)?this.Of(i,i.n.M.x-t.or.y,i.n.M.y-t.or.x):this.Of(i,i.n.M.x-t.or.x,i.n.M.y-t.or.y))},j.am.prototype.enable=function(t,e,i,n){var r=new xt(bt.E.Y,!0);r.data={X:bt.m.gM,Ut:"grab; cursor:-moz-grab; cursor:-webkit-grab;"},e.N(r)},j.am.prototype.cL=function(t,e,i,n,r){this.VT.py(t.n.M),this.VH.kR(r.x,r.y)},j.am.prototype.XY=function(t,e,i,n,r){r.Vv&&this.Of(t,this.VT.x+(r.x-this.VH.x),this.VT.y+(r.y-this.VH.y))},j.am.prototype.Of=function(t,e,i){var n=t.n.s;t.$*n<t.n.C.$&&t.z*n<t.n.C.z?t.n.M.kR(0,0):(t.n.M.x=e,t.n.M.y=i),t.kJ=!0},j.as=function(){j.mh.call(this,[10,25],j.FK,"tools/hbrush"),this.Ua="clone",this.xQ=null,this.oX=null,this.M=null},j.as.prototype=new j.mh,j.as.prototype.cL=function(t,e,i,r,s){var a=t.n.kp(s.x,s.y);if(this.xQ=a,r.l(W.kz)||r.l(W.j$))return this.oX=t.n.kp(s.x,s.y),void(this.M=null);null!=this.oX?(this.Pa(t,i,r,s,this.kS.flow),null!=this.Uu&&(null!=this.M&&this.kS.algnd||(this.M=new f(Math.round(a.x-this.oX.x),Math.round(a.y-this.oX.y))),this.ue(t,{M:this.M}))):alert(n.get([15,7,0]))},j.as.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&null!=this.oX&&(this.Mq(t,i,n,r),this.ue(t)))},j.as.prototype.Nu=function(t,e,i,n,r){null!=this.Uu&&(this.ps(t,"heal",this.Uu.GE(),this.Uu.AK(),this.Uu.AK()),this.r(t,this.Uu.AK()),j.mh.prototype.Nu.call(this,t,e,i,n,r),this.kS.algnd||(this.M=null))},j.as.prototype.mo=function(){return this.M},j.as.prototype.disable=function(t,e,i,n){this.oX=null,this.M=null},j.fl=function(){j.NY.call(this,[10,8],j.Jv,"tools/htype"),this.cT=[],this.Ti=null,this.le=null,this.caller=null,this.VW=0,this.Tq=0,this.Vq=null,this.ER=null,this.TZ=null,this.Vy=null,this.cx=null,this.Vi=null,this.oH=null,this.nl=null,this.uC=!1,this.co=!1,this.hd=!1,this.Pw=null,this.ud=null,this.VQ=null,this.Vx=!1,this.VO=!1,this.NF=-1,this.nq=-1,this.nS=document.createElement("textarea"),this.nS.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;"),this.nS.addEventListener("input",this.ttt.bind(this),!1),this.nS.addEventListener("keydown",this.ttV.bind(this),!1),document.body.appendChild(this.nS)},j.fl.prototype=new j.NY,j.fl.prototype.mW=function(t){return t.Vv},j.fl.prototype.xz=function(t,e,i,n){if(null==this.ER){this.caller=e,this.Ti=t;var r=this.WC(t);if(0!=r.length){for(var s=null,a=[],h=[],o=0;o<r.length;o++){var l=t.b[r[o]].add.TySh,u=dt.Fk(l.Bd).length-2,f=dt.Sr(l.Bd,0,u);dt.bO(f,j._.ka(l.UC)),null!=f.hj.Font&&(f.hj.Font=f.vT[f.hj.Font].Name),s=f.vT,a.push(f.hj),h.push(f.re)}(f={vT:s,hj:dt.NE(a),re:dt.NE(h)}).hj.Font&&dt.kP(f,f.hj.Font),this.Vq=JSON.stringify(f),this.qJ(e,f)}}},j.fl.prototype.WC=function(t){for(var e=[],i=0;i<t.g.length;i++)t.b[t.g[i]].add.TySh&&e.push(t.g[i]);return e},j.fl.prototype.Ly=function(t,e,i,n,r){if(null!=this.ER){var s=this.VO;if("warp"==t.X||"warpCancel"==t.X){"warp"==t.X?this.ER.add.TySh.O$=t.UB:this.ER.add.TySh.O$=this.Vi;i=this.Ti;this.ix(i,r),s||this.iN(i),this.nS.focus()}t.X,"warpConfirm"!=t.X&&"warpCancel"!=t.X||!s||(this.VO=!1,"warpConfirm"==t.X?this.qM(i,e):this.ua(i,e))}if("editCurr"==t.X){null!=this.ER&&this.disable(i,e,r,n),this.Ti=i,this.le=r,this.caller=e,this.su(i,e,r,[t.oM]);var a=dt.Fk(this.ER.add.TySh.Bd);this.NF=0,this.nq=a.length-1,this.iN(i),this.OK(),this.nS.focus()}if("switchPntPrgr"==t.X){var h=(y=i.b[i.g[0]]).add.TySh,o=JSON.parse(JSON.stringify(h.Bd)),l=dt.gG(o),u=1==l?dt.BR(o):[0,0,y.rect.$+6,y.rect.z+6],f=dt.Sr(o,0,1),p=[0,u[2],u[2]/2][f.re.Justification%3],v=.8*f.hj.FontSize;dt.kN(o,1-l),0==l&&(p=-p,v=-v,dt.Yc(o,[0,0,u[2],u[3]]));var d=new c(1,0,0,1,p,v);d.concat(h.UC),t={uG:i.g[0],X:"newED",VA:o,UC:d}}if("newED"==t.X){h=(y=i.b[t.uG]).add.TySh;var y,g=this.u$(i,[t.uG]);h.Bd=t.VA,t.UC&&(h.UC=t.UC);var m=new vt(h.Bd,r.LS),w=pt.Iq(m,h);y.rect=w.rect,y.buffer=w.nn,y.r(),i.r();var b=new Z(this.name,this);b.data={Vf:g,Vj:this.u$(i,[t.uG])},i.Af(b)}},j.fl.prototype.jV=function(t){return-1!=this.cT.indexOf(t)},j.fl.prototype.enable=function(t,e,i,n){this.Hf(e)},j.fl.prototype.ZQ=function(){return null!=this.ER},j.fl.prototype.WM=function(t,e){for(var i=t.b.length-1;i>=0;i--){var n=t.b[i];if(n.add.TySh&&n.rect.Eo(e)&&t.jA(i))return n.FT(2)||n.FT(31)?-2:i}return-1},j.fl.prototype.cL=function(t,e,i,r,s){this.Ti=t,this.le=i,this.caller=e;var h=t.n.kp(s.x,s.y),o=null==this.ER;if(o){var l=this.WM(t,h);if(-2==l)return void alert(n.get([6,57,0]));if(!(l>=0))return this.hd=!0,void(this.Pw=s);this.su(t,e,i,[l])}if(this.nl&&this.nl.cL(t,i,r,h)&&a.UB.vn(this.ER.add.TySh.O$)||!o&&a.K.Cb(h,this.ER.rect)>20/t.n.s&&0==dt.gG(this.ER.add.TySh.Bd))this.uC=!0,this.ud=h,this.VQ=this.ER.add.TySh.UC.clone();else{this.co=!0,this.NF=this.nq=this.qP(h);var u=Date.now();u-this.VW>300&&(this.Tq=0),this.Tq++,this.VW=u,2==this.Tq&&(this.tRy(),this.co=!1),3==this.Tq&&(this.tRL(),this.co=!1)}this.iN(t)},j.fl.prototype.su=function(t,e,i,n){var r=t.b[n[0]];this.ER=r,this.Mf(e,bt.E.Y,{X:bt.m.nv,c:this.id,Lc:"showactive"}),this.TZ=n,t.g=n.slice(0),t.Ku(),t.EV=!0;var s=r.add.TySh;if(this.cx=this.u$(t,n),1==dt.gG(s.Bd)){var h=dt.BR(s.Bd),o=[(h=new L(0,0,h[2]-h[0],h[3]-h[1])).x,h.y,h.x+h.$,h.y,h.x+h.$,h.y+h.z,h.x,h.y+h.z];a.K.UC(o,s.UC,o),this.nl=new G(o,!1,!1,!1,!0)}this.ix(t,i)},j.fl.prototype.tRy=function(){var t=dt.Fk(this.ER.add.TySh.Bd);this.NF=this.Wi(t,this.NF),this.nq=this.We(t,this.NF)},j.fl.prototype.Wi=function(t,e){for(var i=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",n=[],r=0;r<33;r++)n.push(i.charAt(r));var s=-1==n.indexOf(t[e]);for(r=e-1;r>=0;r--)if(-1!=n.indexOf(t.charAt(r))==s)return r+1;return 0},j.fl.prototype.We=function(t,e){for(var i=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",n=[],r=0;r<33;r++)n.push(i.charAt(r));var s=-1==n.indexOf(t[e]);for(r=e+1;r<t.length;r++)if(-1!=n.indexOf(t.charAt(r))==s)return r;return t.length-1},j.fl.prototype.tRL=function(){var t=this.Vy.tCn(this.NF);this.NF=t[0],this.nq=t[1]},j.fl.prototype.Hf=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.gM,Ut:this.oH},t.N(e)},j.fl.prototype.XY=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y),h=this.ER;if(!r.Vv){var o="default";this.nl&&a.UB.vn(h.add.TySh.O$)?this.nl.lr(s,t.n.s)?o=this.nl.lr(s,t.n.s):this.nl.w$(s)&&(o="text"):h&&a.K.Cb(s,h.rect)>20/t.n.s?o="move":this.WM(t,s)>=0&&(o="text"),o!=this.oH&&(this.oH=o,this.Hf(e))}if(this.hd&&f.Ln(this.Pw,r)>4&&(this.hd=!1,this.WN(t,e,i,n,r),h=this.ER,dt.kN(h.add.TySh.Bd,1),this.uC=!0,this.nl=new G(null,!1,!1,!1,!0),this.nl.cL(t,i,n,t.n.kp(this.Pw.x,this.Pw.y))),this.uC){var l=h.add.TySh;if(this.nl){this.nl.XY(t,i,n,s);var u=l.UC.clone(),c=Math.atan2(u.H,u.o);u.rotate(c);var p=a.F.od(a.F.tn(this.nl.az())),v=Math.atan2(p.H,p.o);if(p.rotate(v),!isNaN(p.o)&&p.o*p.KI-p.H*p.lA!=0){var d=new L(0,0,p.o/u.o,p.KI/u.KI);dt.Yc(l.Bd,[0,0,Math.round(d.$),Math.round(d.z)]),l.UC=a.F.od(a.F.tn(this.nl.az(),d)),this.ix(t,i)}}else{var y=s.x-this.ud.x,g=s.y-this.ud.y;l.UC=this.VQ.clone();var m=new f(l.UC.DX+y,l.UC.Ug+g);m=j.UP.ep(t,m,i),l.UC.DX=m.x,l.UC.Ug=m.y,this.ix(t,i)}}this.co&&(this.nq=this.qP(s)),(this.uC||this.co)&&this.iN(t)},j.fl.prototype.WN=function(t,e,i,n,r){var s=t.Zs();s.add.lnsr="rend";var a=t.b.slice(0);s.Vp("Text layer "+a.length),this.ER=s;var h=0==t.g.length?t.b.length-1:t.g[t.g.length-1],o=h+1;return a[h].add.lsct==rt.Gp&&o--,this.cx={zh:a.slice(0),Ud:t.g.slice(0)},a.splice(o,0,s),t.g=[o],this.NF=this.nq=0,t.rM(a),this.cx._b=a.slice(0),this.cx._k=t.g.slice(0),this.Mf(e,bt.E.Y,{X:bt.m.nv,c:this.id,Lc:"showactive"}),r=t.n.kp(r.x,r.y),s.add.TySh=dt.YD(r.x,r.y,i.iJ),s},j.fl.prototype.Nu=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);this.hd&&(this.hd=!1,this.WN(t,e,i,n,r),dt.kN(this.ER.add.TySh.Bd,0),this.co=!0),(this.uC||this.co)&&(this.iN(t),this.OK()),this.uC&&this.nl&&this.nl.Nu(t,i,n,s),this.uC=this.co=!1,this.nS.focus()},j.fl.prototype.OK=function(){var t,e,i=Math.min(this.NF,this.nq),n=Math.max(this.NF,this.nq);if(i==n){var r=this.Vy&&this.Vy.Ym(i-1);t=e=0==i||r&&"\n"==r.oQ?i:i-1}else t=i,e=n-1;var s=this.ER.add.TySh,a=dt.Sr(s.Bd,t,e);dt.bO(a,j._.ka(s.UC)),this.qJ(this.caller,a)},j.fl.prototype.qJ=function(t,e){this.Mf(t,bt.E.Y,{X:bt.m.u_,gg:Q.vw,iJ:e})},j.fl.prototype.FJ=function(t,e,i,n){n.l(W._f)&&this.ua(t,e)},j.fl.prototype.disable=function(t,e,i,n){this.ER?this.qM(t,e):this.ua(t,e)},j.fl.prototype.sG=function(t,e,i,n,r){if("commit"==t.Lc&&this.qM(i,e),"cancel"==t.Lc&&this.ua(i,e),"showwarp"==t.Lc){if(null==i)return;if(null==this.ER){if(null==i.b[i.g[0]].add.TySh)return;this.su(i,e,r,[i.g[0]]),this.nS.focus(),this.VO=!0}this.Vi=this.ER.add.TySh.O$;var s=new xt(bt.E.Y,!0);s.data={X:bt.m.gI,gL:"textwarp"},e.N(s)}},j.fl.prototype.qB=function(t,e){if(this.le=t,null!=(a=this.Ti)&&(e==Q.hP||e==Q.vw||e==Q.IL))if(this.Vx){this.Vx=!1;for(var i=this.TZ,n=0;n<i.length;n++)this.ER=a.b[i[n]],this.ix(a,t);this.qM(a,this.caller)}else if(null!=this.ER){var r=Math.min(this.NF,this.nq),s=Math.max(this.NF,this.nq);l=this.ER.add.TySh;dt.zX(l.Bd,r,s-1,this.Oz(t,l));var a=this.Ti;this.ix(a,t),this.iN(a),this.nS.focus()}else{if(this.Vq==JSON.stringify(t.iJ))return;var h=!1;if(0!=(i=this.WC(a)).length){this.su(a,this.caller,t,i);for(n=0;n<i.length;n++){var o=a.b[i[n]],l=o.add.TySh;this.ER=o;var u=dt.Fk(l.Bd);this.NF=0,this.nq=u.length-1,dt.zX(l.Bd,this.NF,this.nq,this.Oz(t,l)),0==this.ix(a,t)&&(h=!0)}if(h)return void(this.Vx=!0);this.qM(a,this.caller)}}},j.fl.prototype.Oz=function(t,e){var i=JSON.parse(JSON.stringify(t.iJ));return dt.bO(i,1/j._.ka(e.UC)),i},j.fl.prototype.wD=function(t,e){null!=t.Vf?this.OA(e,t.Vj):this.qw(e,t._b,t._k)},j.fl.prototype.mK=function(t,e){null!=t.Vf?this.OA(e,t.Vf):this.qw(e,t.zh,t.Ud)},j.fl.prototype.OA=function(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.uG,s=t.b[r];s.buffer=n.fg,s.rect=n.lU.clone(),s.r();var a=s.add.TySh;a.O$=n.UB,a._B=n._B.clone(),a.UC=n.UC.clone(),a.Bd=JSON.parse(JSON.stringify(n.Bd)),s.jK()}t.r()},j.fl.prototype.u$=function(t,e){for(var i=[],n=0;n<e.length;n++){var r=e[n],s=t.b[r],h=s.add.TySh;i.push({uG:r,UC:h.UC.clone(),UB:JSON.parse(JSON.stringify(h.O$)),_B:h._B.clone(),Bd:JSON.parse(JSON.stringify(h.Bd)),fg:a.clone(s.buffer),lU:s.rect.clone()})}return i},j.fl.prototype.qw=function(t,e,i){t.g=i,t.rM(e),t.r()},j.fl.prototype.ix=function(t,e,i){null==i&&(i=!1);var n=this.ER.add.TySh;if(!pt.Ij(n,e.LS))return!1;if(this.Vy=new vt(n.Bd,e.LS),!i){var r=dt.Fk(n.Bd);this.nS.value=r.slice(0,r.length-1)}var s=pt.Iq(this.Vy,n);s.rect;if(a.UB.vn(n.O$))n._B=new L;else if(1==dt.gG(n.Bd)){var h=dt.BR(n.Bd),o=s._B.y;n._B=new L(0,o,h[2]-h[0],h[3]-h[1]-o)}else n._B=s._B;var l=this.ER.rect;return this.ER.rect=s.rect,this.ER.buffer=s.nn,this.ER.r(),t.f$(),t.r(t.root.KS(s.rect.Fv(l),t,t.b.indexOf(this.ER))),!0},j.fl.prototype.ttt=function(t){if(null!=this.ER){var e=this.nS.selectionStart,i=this.ER.add.TySh,n=dt.Fk(i.Bd),r=this.nS.value+"\n",s=Math.min(this.NF,this.nq);Math.max(this.NF,this.nq);if(this.NF=Math.min(e,s),r.length-e<n.length-this.nq&&(this.nq=n.length-r.length+e),n!=r)for(;this.NF>0&&n.charAt(this.NF-1)!=r.charAt(this.NF-1);)this.NF--;var a=n.substring(0,this.NF),h=n.substring(this.nq,n.length),o=r.substring(this.NF,r.length-h.length);dt.bw(i.Bd,this.NF,this.nq),dt.el(i.Bd,this.NF,o),dt.zX(i.Bd,this.NF,this.NF+o.length-1,this.Oz(this.le,i)),this.NF=this.nq=a.length+o.length;var l=this.Ti;this.ix(l,this.le,!0),this.iN(l,!0)}},j.fl.prototype.ttV=function(t){if(null!=this.ER){var e=W,i=0,n=0,r=!1;e.Kd(t.code,e.OE)&&(i=1),e.Kd(t.code,e.Ov)&&(i=-1),e.Kd(t.code,e.fS)&&(n=-1),e.Kd(t.code,e.fO)&&(n=1);var s=t.ctrlKey||t.metaKey,a=e.Kd(t.code,W.trG),h=e.Kd(t.code,W.trK),o=dt.Fk(this.ER.add.TySh.Bd);if(0!=i||0!=n||a||h){t.preventDefault();var l=this.NF;if(0!=i)l=s&&-1==i?this.Wi(o,this.NF-1):s&&1==i?this.We(o,this.NF):this.NF+i;else if(0!=n){var u=this.Vy.Ii(this.NF);l=-1==n&&0==u.Pc?0:1==n&&u.Pc==this.Vy.VF-1?99999999999:this.Vy.YM(new f(u.rect.x+u.rect.$/2,0),u.Pc+n)}else if(a){for(var c=this.NF-1;c>0&&10!=o.charCodeAt(c);)c--;l=0==c?0:c+1}else if(h){for(c=this.NF;c<o.length-1&&10!=o.charCodeAt(c);)c++;l=c}l=Math.max(0,Math.min(o.length-1,l)),t.shiftKey?this.NF=l:this.NF=this.nq=l,r=!0}e.Kd(t.code,W.m)&&s&&(this.NF=0,this.nq=o.length-1,r=!0),r&&(this.OK(),this.iN(this.Ti))}},j.fl.ttT=function(t,e){var i=t.length;if(i!=e.length)return!1;for(var n=0;n<i;n++)if(t[n].uG!=e[n].uG)return!1;return!0},j.fl.prototype.qM=function(t,e){if(null!=this.ER){this.ER.jK();var i=this.cx;if(i instanceof Array){var n=this.u$(t,this.TZ),r=t.lk();if(null!=r&&r.c==this&&r.data.Vf&&j.fl.ttT(r.data.Vf,i))r.data.Vj=n;else(s=new Z(this.name,this)).data={Vf:i,Vj:n},t.Af(s)}else{var s;(s=new Z(this.name,this)).data={zh:i.zh,_b:i._b,Ud:i.Ud,_k:i._k},t.Af(s)}this.escape(t,e)}},j.fl.prototype.ua=function(t,e){null!=this.ER&&(this.cx instanceof Array?this.OA(t,this.cx):(t.g=this.cx.Ud,t.rM(this.cx.zh)),t.r(),this.escape(t,e))},j.fl.prototype.escape=function(t,e){this.ER=null,this.TZ=null,this.Vy=null,this.nl=null,this.nS.blur(),t.S.rX=null,t.S.WA=null,t.S.Lg=[],t.un=!0,this.uC=!1,this.co=!1,this.NF=this.nq=-1,this.Mf(e,bt.E.Y,{X:bt.m.nv,c:this.id,Lc:"hideactive"})},j.fl.prototype.Mf=function(t,e,i,n){var r=new xt(e,!0);r.data=i,n&&(r.c=n),t.N(r)},j.fl.prototype.qP=function(t){var e=this.ER.add.TySh,i=this.Vy,n=e.UC.clone();n.UK();var r=n.Sk(t),s=dt.AK(e,i),h=a.UB.cq(e.O$,s),o=a.nH.D.Le(h,0,1,0,1),l=new Uint32Array(30),u=a.nH.D.tVO(o.CJ,o.cK,r.x,r.y,l),c=(a.nH.oc(h,r.x,r.y,o.CJ,l,u,!1),a.nH.Bs);null==c&&(c=new Float64Array(2)),r=new f(s.x+c[0]*s.$,s.y+c[1]*s.z);var p=i.YM(r),v=i.Ym(p),d=i.Ii(p).rect;return"\n"!=v.oQ&&(0==v.on&&r.x>d.x+d.$/2||1==v.on&&r.x<d.x+d.$/2)&&p++,p},j.fl.prototype.iN=function(t,e){null==e&&(e=!1);var i=this.ER.add.TySh,n=this.Vy,r=n?dt.AK(i,n):null;if(t.S.Lg=[],t.S.rX=null,t.S.WA=null,this.nl){this.nl.Qu(t,!a.UB.vn(i.O$));var s=i.UC.clone();if(s.UK(),a.K.UC(t.S.Lg,s,t.S.Lg),a.K.UC(t.S.rX.Z,s,t.S.rX.Z),n&&n.V_){var h=r.$-20,o=r.z+8;t.S.rX.Z.push(h,o,h+10,o,h+5,o-5,h+5,o+5),t.S.rX.lX.push("M","L","M","L")}}else this.ttP(t,i,n);var l=Math.min(this.NF,this.nq),u=Math.max(this.NF,this.nq);if(e||(this.nS.selectionStart=l,this.nS.selectionEnd=u),null!=n)if(l==u){var f=n.Ii(l).rect.clone(),c=this.le.iJ.hj.FontSize;null!=c&&0!=c&&(f.y+=f.z-c,f.z=c);var p=n.Ym(l);null!=p&&1==p.on&&(f.x+=f.$),f.y+=.27*f.z,t.S.rX.lX.push("M","L"),t.S.rX.Z.push(f.x,f.y,f.x,f.y+f.z)}else{t.S.WA={Z:[],lX:[]};for(var v=l;v<u;v++){(f=n.Ii(v).rect).y+=.27*f.z;var d=a.K.DK(f);a.K.concat(t.S.WA,d)}}if(null!=n&&!r.km()){var y=a.UB.cq(i.O$,r);t.S.rX&&(t.S.rX=a.K.kX(t.S.rX),t.S.rX=a.K.kb(t.S.rX,Math.min(r.$,r.z)/10),a.nH.apply(y,t.S.rX.Z,r)),t.S.WA&&(t.S.WA=a.K.kX(t.S.WA),t.S.WA=a.K.kb(t.S.WA,Math.min(r.$,r.z)/10),a.nH.apply(y,t.S.WA.Z,r)),a.nH.apply(y,t.S.Lg,r)}t.S.rX&&a.K.UC(t.S.rX.Z,i.UC,t.S.rX.Z),t.S.WA&&a.K.UC(t.S.WA.Z,i.UC,t.S.WA.Z),a.K.UC(t.S.Lg,i.UC,t.S.Lg),t.un=!0},j.fl.prototype.ttP=function(t,e,i){if(null!=i){t.S.Lg.push(0,0),null==t.S.rX&&(t.S.rX={lX:[],Z:[]});for(var n=0;n<i.re.length;n++)for(var r=i.re[n],s=0;s<r.KX.length;s++){var a=r.KX[s],h=r.Vn.x+a.Vn.x+a.rect.x,o=r.Vn.y+a.Vn.y+a.rect.y+a.rect.z;t.S.rX.lX.push("M","L"),t.S.rX.Z.push(h,o,h+a.rect.$,o)}t.un=!0}},j.rK=function(){j.MV.call(this,[10,9],j.hL,"tools/lasso"),this.Sx="crosshair",this.XW=null,this.I_=null},j.rK.prototype=new j.MV,j.rK.prototype.nZ=function(t,e,i,n){this.XW=this.uc,this.I_={Z:[this.XW.x,this.XW.y],lX:["M"]}},j.rK.prototype.fI=function(t,e,i,n){n.Vv&&null!=this.I_&&(this.I_.lX.push("L"),this.I_.Z.push(this.kt.x,this.kt.y),this.XW=this.kt,this.IY&&(t.S.rX=this.I_,t.un=!0))},j.rK.prototype.Ub=function(t,e,i,n){null!=this.I_&&this.IY&&(t.S.rX=null,t.un=!0,this.finish(t,e,i,n))},j.rK.prototype.getSelection=function(t,e,i,n){return this.uc.v$(this.kt)?null:this._A(this.I_)},j.UP=function(){j.NY.call(this,[10,11],j.Ft,"tools/move"),this.xU=new f(0,0),this.xk=new f(0,0),this.St=null,this.BM=new f(0,0),this.$c=null,this.Sn=null,this.E$=null,this.kU=null,this.UT=[],this.Ew=null,this.$b=!1,this.X=0,this.VK=null,this.EL=null,this.MJ=null,this.PO=!1,this.kS={EP:!1,MT:!1,Nf:!1},this.nl=null;var t='<svg  class="autoscale" style="vertical-align:middle;" viewBox="0 0 14 18" width="14" height="18" fill="black"><path d="M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z" /></svg>';this.fV=[{name:t+" PNG"},{name:t+" SVG",wN:!0},{name:"Copy CSS",V:function(t){return{cg:n.get([5,1])+" CSS"}}}],this.Nc=new At(this.fV),this.Nc.O("select",this.aQ,this),this.VY=[];for(var e=0;e<a.VU.ip.length;e++)this.VY.push({name:a.VU.ip[e],V:function(t,e,i){return{cU:e.sS.eJ==i}}});this.Kw=new At(this.VY),this.Kw.O("select",this.ttp,this)},j.UP.prototype=new j.NY,j.NY.prototype.mW=function(t){return this.$b&&2!=this.X},j.UP.prototype.hR=function(){return this.$b&&0==this.X},j.UP.prototype.hH=function(t,e,i,n){this.t$(t,-this.BM.x,-this.BM.y),this.BM.kR(0,0),this.tw(t,null,i),this.qK(t)},j.UP.prototype.Nm=function(){var t=this.kS;return[t.EP?1:0,t.MT?1:0,t.Nf?1:0]},j.UP.prototype.E_=function(t,e,i){var n=this.kS;t&&null!=t[0]&&(n.EP=1==t[0]),t&&null!=t[1]&&(n.MT=1==t[1]),t&&null!=t[2]&&(n.Nf=1==t[2]);var r=new xt(bt.E.Y,!0);r.data={X:bt.m.nv,c:this.id,ex:n,ttv:e},i.N(r)},j.UP.pJ=function(t,e,i,n,r){var h=t.MC(null,r),o=t.jS(h)[0];if(1!=i){var l=new L(0,0,Math.round(o.$*i),Math.round(o.z*i));j.$p.tt(o,l);for(var u=[],f=0;f<o.b.length;f++)u.push(f);var p=j._.Vm(o,u,!0);j._.lI(o,n,u,p,!1,a.F.Wq(new c(i,0,0,i,0,0)),null,!0),o.LD()}var v=[];for(f=0;f<e.length;f++)v.push(s.YL(o,e[f].toUpperCase()));return v},j.UP.prototype.Ok=function(t,e,i,n,r){if(null!=t){var s=j.UP.pJ(t,[e],i,n,null)[0],a=new xt(bt.E.Y,!0);a.data={X:bt.m.IA,data:s,name:t.b[t.g[0]].getName()+"."+e},r.N(a)}},j.UP.prototype.sG=function(t,e,i,r,s){if("getPNG"==t.gE?this.Ok(i,"png",t.$r,s,e):"getSVG"==t.gE&&this.Ok(i,"svg",t.$r,s,e),"prms"==t.gE&&(this.kS=t,this.qK(i)),"algn"==t.gE){var a=t.R;if(null==i)return;if(i.g.length<2&&(null==i.t||3==a||7==a))return void alert(n.get([15,7,5]));var h=i.t;i.t=null;var o=h?h.rect:j._.AK(i);if(this.uJ(i,e,r,s,!1),!this.$b)return;for(var l=this.kU,u=[],f=[],c=[],p=0;p<l.length;p++){for(var v=l[p];"</Layer group>"==i.b[v].getName();)v++;for(var d=i.root.oo(v),y=d;null!=d.parent;)d=d.parent,-1!=l.indexOf(d.index)&&(y=d);var g=f.indexOf(y.index);-1==g&&(g=f.length,f.push(y.index)),u[p]=g}var m=[],w=[],b=[];for(p=0;p<f.length;p++){var x=j._.AK(i,i.MC(!0,f[p]));b.push(x);var M=3==a?[x.y,x.z]:[x.x,x.$];m[p]=M,w.push(M)}j.UP.ttg(w);for(p=0;p<f.length;p++){var S=(x=b[p]).x,A=x.y;0==a&&(S=o.x),1==a&&(S=o.x+(o.$-x.$)/2),2==a&&(S=o.x+(o.$-x.$)),3==a&&(A=m[p][0]),4==a&&(A=o.y),5==a&&(A=o.y+(o.z-x.z)/2),6==a&&(A=o.y+(o.z-x.z)),7==a&&(S=m[p][0]),c.push(Math.round(S-x.x),Math.round(A-x.y))}var k=[];for(p=0;p<l.length;p++){var C=u[p];k[2*p]=c[2*C],k[2*p+1]=c[2*C+1]}this.t$(i,0,0,null,k);var T=3==a||7==a?[20,4,6]:[20,4,a<3?a:a-1];this.tw(i,null,s,k,T),i.t=h}},j.UP.ttg=function(t){var e=t.length,i=0;t.sort((function(t,e){return t[0]+t[1]/2-(e[0]+e[1]/2)}));for(var n=t[e-1][0]+t[e-1][1]-t[0][0],r=0;r<e;r++)i+=t[r][1];var s=Math.round((n-i)/(e-1)),a=t[0][0];for(r=0;r<e;r++)t[r][0]=a,a+=t[r][1]+s},j.UP.prototype.Ly=function(t,e,i,n,r){if("trsl"==t.X){var s=Math.round(t.ttQ),a=Math.round(t.ttz);this.BM.kR(s,a),this.uJ(i,e,n,r,!1,t.i),this.t$(i,s,a),this.tw(i,null,r)}},j.UP.prototype.enable=function(t,e,i,n,r){this.PO=!!r,this.qK(t),this.Hf("default",e)},j.UP.prototype.disable=function(t,e,i,n){null!=t&&(this.nl&&(this.nl.clear(t),this.nl=null),t.S.Nf&&(t.S.Nf=null,t.un=!0),t.S.iG&&(t.S.iG=null,t.un=!0),t.S.rX&&(t.S.rX=null,t.un=!0))},j.UP.prototype.xz=function(t,e,i,n){this.qK(t)},j.UP.prototype.qK=function(t,e){if(null!=t){var i=this.kS;if(this.disable(t,null,null,null),!this.PO){var n=a.K.Cn(j._.AK(t));if(i.MT&&!n.km()&&(this.nl=new G([n.x,n.y,n.x+n.$,n.y,n.x+n.$,n.y+n.z,n.x,n.y+n.z],!0),this.nl.Qu(t)),i.Nf){var r=t.jU(t.g[0]),s=null,h=!1;null==r&&(r=new L(0,0,t.$,t.z)),t.S.Nf={$t:[n],$H:[]};var o=t.S.Nf.$H,l=n.x+n.$,u=n.y+n.z,c=n.x+Math.floor(n.$/2),p=n.y+Math.floor(n.z/2);if(e){var v=t.root.oc(new f(Math.floor(e.x),Math.floor(e.y)));v&&(s=a.K.Cn(v.i.vo(t))).p$(n)&&((h=(s.pk(n)||n.pk(s))&&!n.v$(s))||(s=null))}if(this.pr(n,o),null!=s){t.S.Nf.$t.push(s);var d=s.x+s.$,y=s.y+s.z,g=s.x+Math.floor(s.$/2),m=s.y+Math.floor(s.z/2);if(h){var w=c,b=p;n.pk(s)&&(w=g,b=m),o.push(n.x,b,s.x,b),o.push(l,b,d,b),o.push(w,n.y,w,s.y),o.push(w,u,w,y)}else{this.pr(s,o);var x=u<s.y||y<n.y,M=l<s.x||d<n.x;l<s.x&&o.push(l,p,s.x,p),d<n.x&&o.push(d,p,n.x,p),u<s.y&&o.push(c,u,c,s.y),y<n.y&&o.push(c,y,c,n.y),x&&!M&&(n.x<s.x&&o.push(n.x,m,s.x,m),s.x<n.x&&o.push(s.x,p,n.x,p))}}else n.y>r.y&&o.push(c,r.y,c,n.y),u<r.y+r.z&&o.push(c,u,c,r.y+r.z),n.x>r.x&&o.push(r.x,p,n.x,p),l<r.x+r.$&&o.push(l,p,r.x+r.$,p);t.un=!0}}if(3==this.X&&this.$b){var S=a.K.DK(this.VK);null==t.S.rX?t.S.rX=S:a.K.concat(t.S.rX,S),t.un=!0}}},j.UP.prototype.pr=function(t,e){var i=t.$,n=t.z,r=t.x+Math.floor(.2*i),s=t.y+Math.floor(.2*n);e.push(r,t.y,r,t.y+n),e.push(t.x,s,t.x+i,s)},j.UP.prototype.Hf=function(t,e){var i={X:bt.m.gM,Ut:t},n=new xt(bt.E.Y,!0);n.data=i,e.N(n)},j.UP.prototype.aQ=function(t){var e=this.Nc.pa()[0],i=this.$c;if(e<2&&this.Ok(i,["png","svg"][e],1,this.Sn,this.E$),2==e){var n=i.b[i.g[0]],r=mt.bL(n);r=r.join(";\n")+";";var s=bt.B("textarea");s.value=r,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)}},j.UP.prototype.ttp=function(t){var e=JSON.parse(JSON.stringify(this.Sn.sS));e.eJ=this.Kw.pa()[0];var i=new xt(bt.E.Y,!0);i.data={X:bt.m.u_,gg:Q.lz,UG:e},this.E$.N(i)},j.UP.prototype.OH=function(t,e,i,n,r){this.$c=t,this.Sn=i,this.E$=e;var s=t.n.kp(r.x,r.y);this.iX(t,s,n);var a=this.Nc,h=this.fV;j.UP.ig(i,r)&&(a=this.Kw,h=this.VY),a.parent=e,a.update(t,h,i);var o=new xt(bt.E.Y,!0);o.data={X:bt.m.Fe,AB:a,x:r.ttk+1,y:r.tVr+1},e.N(o)},j.UP.prototype.cL=function(t,e,i,n,r){this.xU.kR(r.x,r.y),this.xk=t.n.kp(r.x,r.y),this.St=new ft(this.xk),this.uJ(t,e,n,i,!0)},j.UP.ig=function(t,e){return t.Td&&(e.x<a.VU.oK||0<e.y&&e.y<a.VU.oK)},j.UP.prototype.uJ=function(t,e,i,r,s,h){var o,l=this.xk;if(s){var u=r.kk&&r.sS.UL;if(j.UP.ig(r,this.xU))if(o=JSON.parse(JSON.stringify(t.UL)),this.xU.x<a.VU.oK&&t.UL[0].push(l.x),this.xU.y<a.VU.oK&&t.UL[1].push(l.y),!u)(c=new xt(bt.E.Y)).data={X:bt.m.u_,gg:Q.tU},e.N(c),u=!0;var c,p,v=this.iB(t,l);if(u&&v)return this.X=2,this.EL=o||JSON.parse(JSON.stringify(t.UL)),this.kU=v,void(this.$b=!0);if(this.nl&&null!=this.nl.lr(l,t.n.s,!0))return(c=new xt(bt.E.Y)).data={X:bt.m.mG,c:j._y},e.N(c),(p=new xt(bt.E.W)).c=j._y,p.data={X:"doMouseDown",qR:this.xU},void e.N(p);if(null==t.t&&(!this.PO&&(i.l(W.sf)||this.kS.EP)||this.PO&&this.kS.EP&&(i.l(W.Yz)||t.g.length<2)))if(!this.iX(t,l,i))return t.g=[],t.qf=t.Pn=!0,this.X=3,this.VK=new L,void(this.$b=!0);if(i.l(W.kz)&&null==t.t)(p=new xt(bt.E.W)).c=j.uh,p.data={X:nt.nJ},e.N(p)}this.kU=t.MC(null==h,h);for(var d=0;d<this.kU.length;d++){var y=t.b[this.kU[d]];if(y.FT(2)||y.FT(31))return void alert(n.get([6,57,0]))}if(this.UT=j.UP.ob(t,this.kU),this.X=0,t.t&&1==t.g.length&&t.FS(!1)){if(!t.je())return void(this.$b=!1);var g=t.b[t.g[0]],m=i.l(W.kz);this.X=1;var w=t.history[t.ei];if(w.c!=this||1!=w.data.X||w.data.i!=t.g[0]||g.G!=g.UM.G||m){var b,x=g.UM,M=!1;g.JJ(t,t.t)&&!m||(M=!0,g.jp(t,t.t,m)),g.UM.G<=0?(b=a.I(g.UM.nI.length>>2),a.rY(g.UM.nI,b,3)):b=a.clone(t.t.channel);var S={rect:g.UM.SB.clone(),channel:b};this.MJ=new Z(m?[12,53]:[12,54],this),this.MJ.data={X:1,i:t.g[0],UM:g.UM,Xy:x,Jo:M,Ud:t.t,_k:S,KI:new f(0,0)},t.Af(this.MJ),t.t=S,t.Ow=!0}else this.MJ=w}this.$b=!0,this.Ew=j._.AK(t)},j.UP.prototype.iX=function(t,e,i){var n=t.root.oc(new f(Math.floor(e.x),Math.floor(e.y)));if(n){n.i.add.vmsk&&(t.un=!0);var r=t.b.indexOf(n.i);if(i.l(W.Yz)){var s=t.g.indexOf(r);-1==s?t.g.push(r):t.g.length>1&&t.g.splice(s,1)}else-1==t.g.indexOf(r)&&(n.i.G=0,t.g=[r],t.Ku(),t.EV=!0)}return null!=n},j.UP.prototype.XY=function(t,e,i,n,r){var s,a,h=t.n.kp(r.x,r.y);if(this.St&&(h=this.St.Kj(h,n)),this.$b){var o=this.xk,l=Math.round(h.x-o.x)-this.BM.x,u=Math.round(h.y-o.y)-this.BM.y;this.Ew&&((a=this.Ew.clone()).offset(this.BM.x+l,this.BM.y+u),s=j.UP.tg(t,a,i),l+=Math.round(s[0]),u+=Math.round(s[1])),this.BM.x+=l,this.BM.y+=u,this.t$(t,l,u,h,null,n.l(W.Yz)),this.qK(t,h),s&&j.UP.tG(t,a,s)}else{if(i.kk&&i.sS.UL){var f=this.iB(t,h),c="default";if(f)c=["col-resize","row-resize"][f[0]];else if(this.nl){var p=this.nl.lr(h,t.n.s);p&&(c=p)}this.Hf(c,e)}this.qK(t,h)}},j.UP.prototype.iB=function(t,e){e=[e.x,e.y];for(var i=0;i<2;i++)for(var n=0;n<t.UL[i].length;n++)if(Math.abs(t.UL[i][n]-e[i])*t.n.s<4)return[i,n];return null},j.UP.prototype.t$=function(t,e,i,n,r,s){if(0==this.X)r?j.UP.uf(t,this.kU,this.UT,r):j.UP.uw(t,this.kU,this.UT,e,i);else if(1==this.X){var h=this.MJ.data;h.KI.offset(e,i),j.UP.tJ(t,h.i,e,i)}else if(2==this.X){var o=n.x,l=n.y;if(s){var u=t.n.s<=1?10:1;o=u*Math.round(n.x/u),l=u*Math.round(n.y/u)}var f=[o,l],c=this.kU;t.UL[c[0]][c[1]]=f[c[0]],t.un=!0}else if(3==this.X){var p=this.xk,v=a.K.TD([p.x,p.y,n.x,n.y]);this.VK=v;var d=[];t.root.f_(v,d),JSON.stringify(t.g)!=JSON.stringify(d)&&(t.g=d,t.qf=!0,t.Pn=!0)}},j.UP.tJ=function(t,e,i,n){var r=t.b[e];t.t.rect.offset(i,n),r.cX(t,i,n,t.t),t.Ow=!0,t.r()},j.UP.prototype.Nu=function(t,e,i,n,r){this.tw(t,r,i),this.qK(t)},j.UP.prototype.tw=function(t,e,i,n,r){if(this.$b){if(this.$b=!1,0==this.X){if(n)this.iZ(t,null,n,r);else{if(0==this.BM.x&&0==this.BM.y)return;this.iZ(t,this.BM.clone())}t.kJ=!0}else if(2==this.X){var s=0;e=[e.x,e.y];var h=this.kU,o=this.EL[0].length+this.EL[1].length,l=t.UL[0].length+t.UL[1].length;if(i.Td&&e[h[0]]<a.VU.oK&&(t.UL[h[0]].splice(h[1],1),s=1,o==l-1))return;o<l&&(s=2);var u=new Z([[23,2],[23,3],[23,4]][s],this);u.data={X:2,EL:this.EL,tVI:JSON.parse(JSON.stringify(t.UL))},t.Af(u)}this.BM.kR(0,0)}},j.UP.prototype.FJ=function(t,e,i,n){var r=n.Ik();if(0!=r.x||0!=r.y){if(this.BM.kR(r.x,r.y),this.uJ(t,e,n,i,!1),!this.$b)return;this.t$(t,r.x,r.y),this.tw(t,null,i),this.qK(t)}},j.UP.prototype.mK=function(t,e){if(0==t.X)j.UP.uf(e,t.g,t.PY,t.Pb,!0);else if(2==t.X)e.UL=JSON.parse(JSON.stringify(t.EL)),e.un=!0;else{var i=e.b[t.i];t.Jo?(i.jX(e,t.Xy),e.t=t.Ud,e.Ow=!0,e.r(),i.r()):j.UP.tJ(e,t.i,-t.KI.x,-t.KI.y)}},j.UP.prototype.wD=function(t,e){if(0==t.X)j.UP.uf(e,t.g,t.PY,t.Pb);else if(2==t.X)e.UL=JSON.parse(JSON.stringify(t.tVI)),e.un=!0;else{var i=e.b[t.i];t.Jo?(i.UM=t.UM,e.t=t._k,j.UP.tJ(e,t.i,0,0),i.r()):j.UP.tJ(e,t.i,t.KI.x,t.KI.y)}},j.UP.prototype.iZ=function(t,e,i,n){if(i){for(var r=!0,s=0;s<i.length;s++)0!=i[s]&&(r=!1);if(r)return}var a=t.history[t.ei];if(a.data&&a.c==this&&0==a.data.X&&null==i&&JSON.stringify(a.data.g)==JSON.stringify(this.kU)&&JSON.stringify(a.data.PY)==JSON.stringify(this.UT)){var h=a.data.Pb;for(s=0;s<h.length;s+=2)h[s]+=e.x,h[s+1]+=e.y}else{var o=new Z(n||[12,54],this);o.data=i?{X:0,g:this.kU,PY:this.UT,Pb:i}:{X:0,g:this.kU,PY:this.UT,Pb:j.UP.oy(this.kU,e.x,e.y)},t.Af(o)}},j.UP.oy=function(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(e,i);return n},j.UP.uw=function(t,e,i,n,r){j.UP.uf(t,e,i,j.UP.oy(e,n,r))},j.UP.uf=function(t,e,i,n,r){if(0!=t.g.length){if(null==i){i=[];for(var s=0;s<e.length;s++)i.push(t.b[e[s]].Ja(t,!0))}var h=new L,o=new L(0,0,t.$,t.z);for(s=0;s<e.length;s++){var l=n[2*s],u=n[2*s+1];r&&(l=-l,u=-u);var f=t.b[e[s]],p=i[s];f.add.fxrp&&(-1!=p.indexOf(0)||f.TT())&&f.add.fxrp.offset(l,u);for(var v=0;v<p.length;v++){var d=p[v];if(0==d){if(f.rect.offset(l,u),f.kl()&&f.hy(t)&&f.hy(t).rect.offset(l,u),f.add.artb){var y=f.As();y.offset(l,u),f.L$(y)}if(f.add.TySh&&f.add.TySh.UC.translate(l,u),f.add.SoLd){var g=new c(1,0,0,1,l,u),m=f.add.SoLd,w=j._.HV(m.Trnf),b=j._.HV(m.nonAffineTransform);a.K.UC(w,g,w),a.K.UC(b,g,b),m.Trnf=j._.Sz(w),m.nonAffineTransform=j._.Sz(b)}}1==d&&f.Ab().rect.offset(l,u),2==d&&(f.add.vmsk.offset(l,u),f.add.vogk&&a.FU.UC(f.add.vogk,[1,0,l,0,1,u,0,0],[])),3==d&&(f.hy(t).d.rect.offset(l,u),1==p.length&&f.r())}if(p.length>0){var x=f.add.GdFl;null==x&&(x=f.add.PtFl),f.TT()&&!f.Vw()&&null!=f.add.vmsk&&a.A.eQ(f.add.vmsk.L)&&255==f.add.vmsk.JU&&(null==x||x.Algn&&x.Algn.v)?f.rect.offset(l,u):f.Sa(t);var M=t.root.KS(f.vo(t),t,e[s]);h=h.Fv(M),M.offset(-l,-u),h=h.Fv(M),(f.add.SoCo||f.add.GdFl||f.add.PtFl||null!=tt.get(f.add))&&(h=h.Fv(o)),f.ft()}}t.r(h)}},j.UP.ob=function(t,e){for(var i=[],n=0;n<e.length;n++){var r=t.b[e[n]];i.push(r.Ja(t))}return i},j.UP.tG=function(t,e,i){var n=t.S.iG={Z:[],lX:[]},r=e.x+i[0],s=e.y+i[1];1e9!=i[2]&&(n.lX.push("M","L"),n.Z.push(i[2],s,i[2],s+e.z)),1e9!=i[3]&&(n.lX.push("M","L"),n.Z.push(r,i[3],r+e.$,i[3])),t.un=!0},j.UP.ep=function(t,e,i){var n=j.UP.oZ(t,[[e.x],[e.y]],i);return new f(e.x+n[0],e.y+n[1])},j.UP.tg=function(t,e,i){return j.UP.oZ(t,[[e.x,e.x+(e.$>>>1),e.x+e.$],[e.y,e.y+(e.z>>>1),e.y+e.z]],i)},j.UP.oZ=function(t,e,i){var n=[0,0,1e9,1e9];if(!i.PB||!i.kk)return n;for(var r=0;r<2;r++){for(var s=1e9,a=e[r],h=0,o=0;o<3;o++){var l=j.UP.ttn(t,a[o],r,i);1e9!=l&&Math.abs(l-a[o])<Math.abs(s)&&(s=l-a[o],h=l)}1e9!=s&&(n[r]=s,n[r+2]=h)}return n},j.UP.ttn=function(t,e,i,n){var r=1e9,s=n.EY,a=n.sS;if(s[0]&&a.UL)for(var h=t.UL[i],o=0;o<h.length;o++)Math.abs(h[o]-e)<Math.abs(r-e)&&(r=h[o]);if(s[1]&&a.TN){var l=Math.round(e/a.Xa)*a.Xa;Math.abs(l-e)<Math.abs(r-e)&&(r=l)}if(s[4]){var u=t.$,f=t.z,c=[0,0,u>>>1,f>>>1,u,f];for(o=0;o<6;o+=2)Math.abs(c[o+i]-e)<Math.abs(r-e)&&(r=c[o+i])}return Math.abs(r-e)<=4*bt.h()/t.n.s?r:1e9},j.QV=function(){j.MV.call(this,[10,12],j.tTs,"tools/mwand"),this.kS={uy:"front",jQ:0,$V:{Gh:!0,GS:10}}},j.QV.prototype=new j.MV,j.QV.prototype.Ub=function(t,e,i,n){this.finish(t,e,i,n)},j.QV.prototype.getSelection=function(t,e,i,n){return j.QV.ok(t,this.kt,this.kS.$V)},j.QV.ok=function(t,e,i){if(1!=t.g.length)return alert("More than one layer selected."),null;var n=t.b[t.g[0]];if(null!=n.add.lsct&&n.add.lsct!=rt.jZ)return alert("No layer selected."),null;if(e.x<0||e.x>t.$||e.y<0||e.y>t.z)return null;var r=new L(0,0,t.$,t.z),s=r.$,h=r.z,o=s*h,l=a.I(4*o),u=n.G<=0?null:1==n.G?n.Ab():n.hy(t).d;null==u?a.Pg(n.buffer,n.rect,l,r):j.mh.gb(u.channel,u.rect,u.color,l,r),l=new Uint32Array(l.buffer);var f=Math.round(e.x-.5-r.x),c=Math.round(e.y-.5-r.y);r.Eo(e)||(f=c=0);var p=c*s+f,v=l[p],d=255&v,y=v>>8&255,g=v>>16&255,m=v>>24&255,w=a.I(s*h),b=i.GS,x=1/b;if(i.Gh){var M=a.I(w.length);M[p]=2;for(var S=[f,c];S.length>0;){M[A=(C=S.pop())*s+(k=S.pop())]=2,(T=j.QV.n$(l[A],d,y,g,m))>b?w[A]=Math.round(255*(1-Math.max(0,Math.min(1,(T-b)*x)))):(w[A]=255,k>0&&(C>0&&0==M[A-s-1]&&(S.push(k-1,C-1),M[A-s-1]=1),C<h-1&&0==M[A+s-1]&&(S.push(k-1,C+1),M[A+s-1]=1),0==M[A-1]&&(S.push(k-1,C),M[A-1]=1)),k<s-1&&(C>0&&0==M[A-s+1]&&(S.push(k+1,C-1),M[A-s+1]=1),C<h-1&&0==M[A+s+1]&&(S.push(k+1,C+1),M[A+s+1]=1),0==M[A+1]&&(S.push(k+1,C),M[A+1]=1)),C>0&&0==M[A-s]&&(S.push(k,C-1),M[A-s]=1),C<h-1&&0==M[A+s]&&(S.push(k,C+1),M[A+s]=1))}}else{for(var A=0;A<o;A++){(T=j.QV.n$(l[A],d,y,g,m))>b||(w[A]=255)}if(b>0)for(A=0;A<o;A++)if(255!=w[A]){var k=A%s,C=Math.floor(A/s),T=j.QV.n$(l[A],d,y,g,m),U=255*(1-Math.max(0,Math.min(1,(T-b)*x)));(k>0&&255==w[A-1]||k<s-1&&255==w[A+1]||C>0&&255==w[A-s]||C<h-1&&255==w[A+s])&&(w[A]=Math.round(U))}}var _=a.hV(w,r),F=a.I(_.$*_.z);return a.Jg(w,r,F,_),{rect:_,channel:F}},j.QV.n$=function(t,e,i,n,r){var s=255&t,a=t>>8&255,h=t>>16&255,o=t>>24&255;if(0==r)return o<5?0:255;var l=Math.max(Math.abs(s-e),Math.max(Math.abs(a-i),Math.abs(h-n)));return 0==o?255:l},j.nf=function(){j.mh.call(this,[10,26],j.hM,"tools/patch"),this.XW=null,this.I_=null,this.M=null,this.Vn=null,this.$y=new f,this.$P=null},j.nf.prototype=new j.mh,j.nf.prototype.cL=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);if(t.t&&a.oc(s,t.t.channel,t.t.rect)){if(!t.FS())return;if(this.rD(t),this.Vn=s,this.$y=new f(s.x-t.t.rect.x,s.y-t.t.rect.y),this.$P=a.I(4*t.t.rect.f()),a.set(this.$P,4294967295),1==this.kS.patch)t.b[t.g[0]].jp(t,t.t,!0)}else this.I_={Z:[s.x,s.y],lX:["M"]},this.XW=s},j.nf.prototype.XY=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);if(this.Vn)if(1==this.kS.patch){var a=t.b[t.g[0]].UM,h=s.x-this.$y.x,o=s.y-this.$y.y;j.UP.tJ(t,t.g[0],Math.round(h-a.SB.x),Math.round(o-a.SB.y))}else this.Xt(t,s,"clone");this.XW&&(this.I_.lX.push("L"),this.I_.Z.push(s.x,s.y),this.XW=s,t.S.rX=this.I_,t.un=!0)},j.nf.prototype.Nu=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);if(this.Vn&&(this.Xt(t,s,"heal"),this.finish(t,t.t.rect),this.Vn=null),this.XW){var a=this.kS.setop,h=n.l(W.Yz),o=n.l(W.kz);h&&(a="union"),o&&(a="difference"),h&&o&&(a="intersection");var l=new xt(bt.E.W,!0);l.c=j.sQ,this.I_.Z.length<=4?l.data={X:"deselect"}:l.data={X:"polygon",$D:a,EA:this.I_,_F:[10,26]},e.N(l),this.XW=null,t.S.rX=null,t.un=!0}},j.nf.prototype.mo=function(){return this.M},j.nf.prototype.sG=function(t,e,i,n,r){j.mh.prototype.sG.call(this,t,e,i,n,r),this.Hf(e,r,n)},j.nf.prototype.Hf=function(t,e,i){var n="auto;";(null!=i&&i.l(W.Yz)&&!i.l(W.kz)||"union"==this.kS.setop)&&(n="copy");var r=new xt(bt.E.Y,!0);r.data={X:bt.m.gM,Ut:n},t&&t.N(r)},j.nf.prototype.Xt=function(t,e,i){var n=new f(Math.round(this.Vn.x-e.x),Math.round(this.Vn.y-e.y));1==this.kS.patch&&n.kR(-n.x,-n.y),this.M=n,this.ps(t,i,this.$P,t.t.rect,t.t.rect),this.r(t,t.t.rect)},j.V$=function(){j.mh.call(this,[10,13],j.tPn,"tools/pbucket")},j.V$.prototype=new j.mh,j.V$.prototype.enable=function(t,e,i,n){var r=new xt(bt.E.Y,!0);r.data={X:bt.m.gM,Ut:"default"},e.N(r)},j.V$.prototype.qB=function(t,e){},j.V$.prototype.Nu=function(t,e,i,n,r){if(t.FS()){var s=t.n.kp(r.x,r.y),h=j.QV.ok(t,s,this.kS.wconf);if(null!=h){var o=a.I(4*h.rect.f());a.Mw(o,(255&i.AF)<<16|(i.AF>>8&255)<<8|(i.AF>>16&255)<<0),a.kw(h.channel,o,3),this.rD(t),this.ps(t,"draw",o,h.rect,h.rect),this.r(t,h.rect),this.finish(t,h.rect)}}},j.jn=function(){j.MV.call(this,[10,14],j.tTw,"tools/plasso"),this.Sx="crosshair",this.cT=[],this.I_=null,this.$d=0},j.jn.prototype=new j.MV,j.jn.prototype.disable=function(t,e,i,n){this.VZ(t)},j.jn.prototype.nZ=function(t,e,i,n){this.cT=[W.nC,W.ff]},j.jn.prototype.jV=function(t){return-1!=this.cT.indexOf(t)},j.jn.prototype.fI=function(t,e,i,n){if(null!=this.I_){var r=this.I_.Z.length-2;this.I_.Z[r]=this.kt.x,this.I_.Z[r+1]=this.kt.y,t.S.rX=this.I_,t.un=!0}},j.jn.prototype.Ub=function(t,e,i,n){var r=Date.now();null==this.I_?this.I_={Z:[this.kt.x,this.kt.y,this.kt.x,this.kt.y],lX:["M","L"]}:(this.fI(t,e,i,n),this.I_.lX.push("L"),this.I_.Z.push(this.kt.x,this.kt.y),t.S.rX=this.I_,(r-this.$d<250||f.Ln(this.kt,new f(this.I_.Z[0],this.I_.Z[1]))<4/t.n.s)&&(this.finish(t,e,i,n),this.VZ(t))),this.$d=r,t.S.rX=this.I_},j.jn.prototype.VZ=function(t){this.I_=null,this.cT=[],null!=t&&(t.S.rX=null,t.un=!0)},j.jn.prototype.FJ=function(t,e,i,n){null!=this.I_&&((n.l(W.nC)||n.l(W.ff))&&(this.I_.Z.pop(),this.I_.Z.pop(),this.I_.lX.pop(),this.fI(t,i,n)),n.l(W.BV)&&(this.I_.Z.length>4&&this.finish(t,i,n),this.I_=null),n.l(W._f)&&(this.I_=null),t.S.rX=this.I_,t.un=!0)},j.jn.prototype.getSelection=function(t,e,i,n){return this._A(this.I_)},j.Ic=function(){j.MV.call(this,[10,10],j.tTK,"tools/mlasso"),this.Sx="crosshair",this.cT=[],this.wR={eH:3},this.L=[],this.dR=[],this.KX=[],this.dt=null,this.ux=null,this.MN=null,this.gC=0},j.Ic.prototype=new j.MV,j.Ic.prototype.disable=function(t,e,i,n){this.clear(t)},j.Ic.prototype.jV=function(t){return-1!=this.cT.indexOf(t)},j.Ic.prototype.nZ=function(t,e,i,n){this.cT=[W.nC];var r=this._w(this.uc,t);if(0!=this.L.length&&(f.Ln(r,this.L[0])<4*bt.h()/t.n.s||Date.now()-this.gC<300))return this._H(t,this.L[0]),this.finish(t,e,i),void this.clear(t);if(this.gC=Date.now(),0!=this.L.length)r=this.nG(r,t,this.wR.eH);else{for(var s=t.$,h=t.z,o=a.I(s*h),l=t.cn(),u=s*h*4,c=0;c<u;c+=4)o[c>>>2]=a.qi(Math.round(.3*l[c]+.6*l[c+1]+.1*l[c+2])*l[c+3]);this.dt=a.Px.twP(o,s,h),this.MN=new Uint16Array(o.length)}this._H(t,r),this.Uz(t)},j.Ic.prototype._H=function(t,e){var i=this.L;if(this.dR[i.length]=this.KX.length,0!=i.length){a.Px.qD(this.ux,e.y*t.$+e.x);var n=this.nd(t,e);n.reverse();var r=this.Xo(t,n);this.KX=this.KX.concat(r)}i.push(e),this.XJ(t)},j.Ic.prototype.XJ=function(t){var e=this.L[this.L.length-1],i=e.y*t.$+e.x;this.ux=a.Px.twx(this.dt.eo,this.dt.NK,i),a.set(this.MN,0)},j.Ic.prototype._w=function(t,e){return new f(Math.floor(Math.max(0,Math.min(e.$-1,t.x))),Math.floor(Math.max(0,Math.min(e.z-1,t.y))))},j.Ic.prototype.clear=function(t){this.KX=[],this.L=[],this.dR=[],this.dt=null,this.ux=null,this.MN=null,null!=t&&(t.S.rX=null,t.S.Lg=[],t.un=!0),this.cT=[]},j.Ic.prototype.fI=function(t,e,i,n){if(0!=this.L.length){for(var r=this.nG(this._w(this.kt,t),t,this.wR.eH),s=this.nd(t,r),a=0;a<s.length;a++){var h=s[a],o=new f(h%t.$,Math.floor(h/t.$));if(this.MN[h]>30&&f.Ln(o,this.L[this.L.length-1])>20)return void this._H(t,o);this.MN[h]++}this.Uz(t)}},j.Ic.prototype.Uz=function(t){var e=this.nG(this._w(this.kt,t),t,this.wR.eH),i=this.nd(t,e);i.reverse();var n=this.Xo(t,i),r=this.KX.concat(n);t.S.rX=this.XC(r),t.S.Lg=[];for(var s=0;s<this.L.length;s++)t.S.Lg.push(this.L[s].x+.5,this.L[s].y+.5);t.un=!0},j.Ic.prototype.Ub=function(t,e,i,n){},j.Ic.prototype.FJ=function(t,e,i,n){if(0!=this.L.length){if(n.l(W.nC)&&(this.L.pop(),this.KX=this.KX.slice(0,this.dR[this.L.length]),this.dR.pop(),0==this.L.length?this.clear(t):this.XJ(t),this.Uz(t)),n.l(W.BV)){var r=this._w(this.kt,t);this._H(t,r),this.finish(t,i,n),this.clear(t)}n.l(W._f)&&this.clear(t)}},j.Ic.prototype.XC=function(t){for(var e={Z:t.slice(0),lX:["M"]},i=2;i<t.length;i+=2)e.lX.push("L");return e},j.Ic.prototype.getSelection=function(t,e,i,n){var r=this.XC(this.KX);return this._A(r)},j.Ic.prototype.nd=function(t,e){for(var i=this.L[this.L.length-1],n=i.y*t.$+i.x,r=e.y*t.$+e.x,s=[r];r!=n;)if(r=this.ux.NL[r],s.push(r),s.length>5e3)throw console.log(s),"e";return s},j.Ic.prototype.Xo=function(t,e){for(var i=[],n=t.$,r=0;r<e.length;r++){var s=e[r];i.push(s%n+.5,Math.floor(s/n)+.5)}return i},j.Ic.prototype.nG=function(t,e,i){var n=e.$,r=e.z,s=t.clone();a.Px.qD(this.ux,t.y*n+t.x);for(var h=this.ux.SL[t.y*n+t.x],o=1-i;o<i;o++)for(var l=1-i;l<i;l++){var u=t.x+l,f=t.y+o;u<0||u>=n||f<0||f>=r||(a.Px.qD(this.ux,f*n+u),this.ux.SL[f*n+u]<h&&s.kR(u,f))}return s},j.nk=function(){j.MV.call(this,[10,15],j.sQ,"tools/rselect"),this.Sx="crosshair"},j.nk.prototype=new j.MV,j.nk.prototype.fI=function(t,e,i,n){if(n.Vv&&this.IY){var r=this.AK(t,i,!0),s=r.x,a=r.y,h=r.x+r.$,o=r.y+r.z;t.S.rX={Z:[s,a,h,a,h,o,s,o,s,a],lX:["M","L","L","L","L"]},t.un=!0}},j.nk.prototype.Ub=function(t,e,i,n){t.S.rX=null,t.un=!0,this.finish(t,e,i,n)},j.nk.prototype.getSelection=function(t,e,i,n){if(this.uc.v$(this.kt)||!this.IY)return null;var r=this.AK(t,i,!0);if(r.km())return null;var s=a.I(r.f());return a.set(s,255),{channel:s,rect:r}},j.nk.prototype.Ly=function(t,e,i,n,r){var s,h=t.X;if("setsel"==h&&(s=t.t,y=new Z(t._F,this)),"all"==h&&(s={channel:a.I(i.$*i.z),rect:new L(0,0,i.$,i.z)},a.set(s.channel,255),y=new Z([7,0],this)),"polygon"==h&&(s=this._A(t.EA),i.t&&null!=t.$D&&(s=a.lO.Zh(s,i.t,t.$D)),y=new Z(t._F,this)),"deselect"==h){if(null==i.t)return;s=null,y=new Z([7,1],this)}if("fromlayer"==h){var o=i.b[t.i];if(0==t.tVy){if(o.rect.km())return;var l=a.I(o.buffer.length>>2);a.rY(o.buffer,l,3),s={channel:l,rect:o.rect.clone()}}else{var u,f=o.Ab();if(0==f.NG()){if(0==(u=f.AK()).f())return;l=f.Lu()}else u=new L(0,0,i.$,i.z),l=a.I(u.f()),f.Qd(u,l);s={channel:l,rect:u}}t.tVC&&i.t&&(s=a.lO.Zh(i.t,s,"union")),y=new Z("Selection from layer",this)}if("inverse"==h){if(null==i.t)return void alert("No selection!");s={channel:a.I(i.$*i.z),rect:new L(0,0,i.$,i.z)},a.Jg(i.t.channel,i.t.rect,s.channel,s.rect),a.UK(s.channel),y=new Z([7,2],this)}if("expand"==h){var c=i.t.rect.clone();c.FA(t.R,t.R),s={channel:a.I(c.f()),rect:c};var p=a.I(s.channel.length);a.Jg(i.t.channel,i.t.rect,p,s.rect),a.style.stroke(p,s.channel,s.rect,t.R),y=new Z([7,4],this)}if("contract"==h){var v=i.t.rect.clone();v.FA(1,1);p=a.I(v.f());var d=a.I(p.length);a.Jg(i.t.channel,i.t.rect,p,v),a.UK(p),a.style.stroke(p,d,v,t.R),a.UK(d),(s={channel:null,rect:i.t.rect.clone()}).rect.FA(-t.R,-t.R),s.channel=a.I(s.rect.f()),a.Jg(d,v,s.channel,s.rect);var y=new Z([7,5],this)}if("feather"==h){var g=Math.ceil(2.6*t.R);(s={channel:null,rect:i.t.rect.clone()}).rect.FA(g,g),s.channel=a.I(s.rect.f());p=a.I(s.channel.length);a.Jg(i.t.channel,i.t.rect,p,s.rect),a.blur.ur(p,s.channel,s.rect,t.R);y=new Z([7,6],this)}"border"==h&&(s=j.nk.Xj(i.t,t.R/2,t.R/2),y=new Z([7,9],this)),null!=s&&a.Wt(s.channel,0)&&(s=null,y.name=[7,1]),s&&a.hJ(s),y.data={X:"changesel",Ud:i.t,_k:s},i.Af(y),this.wD(y.data,i)},j.nk.Xj=function(t,e,i){var n=Math.max(1,Math.ceil(i)),r=t.rect.clone();r.FA(n,n);var s=r.f(),h={channel:a.I(s),rect:r},o=a.I(s);a.Jg(t.channel,t.rect,o,h.rect),0!=i?a.style.stroke(o,h.channel,h.rect,i):a.sa(o,h.channel);var l=a.I(s);return a.UK(o),0!=e?a.style.stroke(o,l,h.rect,e):a.sa(o,l),a.lO.sj(h.channel,l,h.channel),h},j.Qz=function(){j.NY.call(this,[10,36],j.tTu,"tools/ruler"),this.x_=null,this.up=null,this.$x=null,this.$i=null},j.Qz.prototype=new j.NY,j.Qz.prototype.mW=function(t){return t.Vv},j.Qz.prototype.disable=function(t,e,i,n){this.x_=this.up=null,t&&this.qK(t)},j.Qz.prototype.cL=function(t,e,i,n,r){var s=t.n.s/bt.h(),a=t.n.kp(r.x,r.y);a.x=Math.round(a.x),a.y=Math.round(a.y);var h=this.x_;h&&f.Ln(a,h[0])*s<6?this.up=[0]:h&&f.Ln(a,h[1])*s<6?this.up=[1]:h&&j.Qz.t$p(h[0],h[1],a)*s<6&&Math.min(h[0].x,h[1].x)-5<=a.x&&a.x<=Math.max(h[0].x,h[1].x)+5&&Math.min(h[0].y,h[1].y)-5<=a.y&&a.y<=Math.max(h[0].y,h[1].y)+5?(this.up=[0,1],this.$i=[h[0].clone(),h[1].clone()],this.$x=a):(this.x_=[a.clone(),a.clone()],this.up=[1])},j.Qz.prototype.XY=function(t,e,i,n,r){if(null!=this.up){var s=this.x_,a=this.up,h=t.n.kp(r.x,r.y);if(h.x=Math.round(h.x),h.y=Math.round(h.y),2==a.length){var o=h.x-this.$x.x,l=h.y-this.$x.y;s[0]=this.$i[0].clone(),s[0].offset(o,l),s[1]=this.$i[1].clone(),s[1].offset(o,l)}else s[a[0]].kR(h.x,h.y),n.l(W.Yz)&&(s[a[0]]=j.Aa.Ol(s[1-a[0]],s[a[0]]));this.qK(t),this.Mf(e,bt.E.Y,{X:bt.m.nv,c:this.id,tVP:s[0],tVG:s[1]})}},j.Qz.prototype.Nu=function(t,e,i,n,r){this.up=null},j.Qz.prototype.Mf=function(t,e,i){var n=new xt(e,!0);n.data=i,t.N(n)},j.Qz.prototype.qK=function(t){var e=this.x_;if(null==e)t.S.rX=null,t.S.Lg=[];else{var i=[e[0].x,e[0].y,e[1].x,e[1].y];t.S.rX={lX:["M","L"],Z:i},t.S.Lg=i}t.un=!0},j.Qz.t$p=function(t,e,i){var n=e.x-t.x,r=e.y-t.y;return Math.abs(r*i.x-n*i.y+e.x*t.y-e.y*t.x)/Math.sqrt(n*n+r*r)},j._p=function(){j.mh.call(this,[10,19],j._h,"tools/sharpen"),this.Ua="copy"},j._p.prototype=new j.mh,j._p.prototype.cL=function(t,e,i,n,r){var s=this.kS.pdetail?ct.IR:ct._h;n.l(W.kz)&&(s=ct._x),this.Pa(t,i,n,r,this.kS.strn,s),null!=this.Uu&&this.ue(t)},j._p.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&(this.Mq(t,i,n,r),this.ue(t)))},j.rk=function(){j.mh.call(this,[10,24],j.Fj,"tools/shbrush"),this.Ua="draw",this.kS.opacity=.5},j.rk.prototype=new j.mh,j.rk.prototype.cL=function(t,e,i,n,r){this.Pa(t,i,n,r,1),null!=this.Uu&&this.ue(t)},j.rk.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&(this.Mq(t,i,n,r),this.ue(t)))},j.rk.prototype.Nu=function(t,e,i,n,r){null!=this.Uu&&(this.ps(t,"sheal2",this.Uu.GE(),this.Uu.AK(),this.Uu.AK(),null),this.r(t,this.Uu.AK()),j.mh.prototype.Nu.call(this,t,e,i,n,r))},j.rk.prototype.Ly=function(t,e,i,n,r){if(t.X&&"heal"==t.X.slice(0,4)){if(null==i.t)return void alert("Select an area to heal first.");if(!i.FS())return;this.rD(i);var s=i.t,h=a.I(4*s.rect.f());a.kw(s.channel,h,3),this.ps(i,"s"+t.X,h,s.rect,s.rect),this.r(i,s.rect),this.finish(i,s.rect)}else j.mh.prototype.Ly.call(this,t,e,i,n,r)},j._i=function(){j.mh.call(this,[10,20],j.MY,"tools/smudge"),this.Ua="copy"},j._i.prototype=new j.mh,j._i.prototype.cL=function(t,e,i,n,r){this.Pa(t,i,n,r,this.kS.strn,ct.MY),null!=this.Uu&&this.ue(t)},j._i.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&(this.Mq(t,i,n,r),this.ue(t)))},j._j=function(){j.mh.call(this,[10,23],j.hp,"tools/sponge"),this.Ua="sponge"},j._j.prototype=new j.mh,j._j.prototype.cL=function(t,e,i,n,r){this.Pa(t,i,n,r,this.kS.flow),null!=this.Uu&&this.ue(t)},j._j.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&(this.Mq(t,i,n,r),this.ue(t)))},j.He=function(){j.NY.call(this,[10,17],j.ML,"tools/zoom"),this.UK=!1,this.FL=!0,this.hC=null,this.$o=0,this.yo=null},j.He.prototype=new j.NY,j.He.prototype.enable=function(t,e,i,n){this.nQ(e)},j.He.prototype.cL=function(t,e,i,n,r){this.hC=new f(r.x,r.y),this.$o=t.n.s,this.yo=t.n.M.clone()},j.He.prototype.XY=function(t,e,i,n,r){if(null!=this.hC){var s=Math.round((r.x-this.hC.x)/16);if(0!=s){var a=j.He.X_(this.$o),h=j.He.Vk[Math.max(0,Math.min(j.He.Vk.length-1,a-s))];t.n.s=this.$o,t.n.M=this.yo.clone(),this.Ly({X:"zoom",s:h,qR:this.hC},e,t,n,i)}}},j.He.prototype.Nu=function(t,e,i,n,r){if(f.Ln(this.hC,r)<4){var s=this.FL;this.UK&&(s=!s),this.Ly({X:"zoom",FL:s,qR:r},e,t,n,i)}this.hC=null},j.He.Vk=[32,16,12,8,7,6,5,4,3,2,1,2/3,.5,2/3*.5,1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64],j.He.Xz=function(t,e,i,n){for(var r=1;t*r*1/2>i||e*r*1/2>n;)r*=.5;return t*r*2/3>i||e*r*2/3>n?r*=.5:(t*r>i||e*r>n)&&(r*=2/3),r},j.He.tJX=function(t,e){var i=j.He.X_(t);return e&&0==i?t:e||i!=j.He.Vk.length-1?j.He.Vk[e?i-1:i+1]:t},j.He.X_=function(t){for(var e=0;j.He.Vk[e]>t;)e++;return e},j.He.Qr=function(t,e,i,n){var r=t.Ti;if(0!=n&&null!=n||(n=j.He.tJX(t.s,i))!=t.s){var s=t.kp(e.x,e.y);r.$*n<=t.C.$&&r.z*n<=t.C.z?t.M.kR(0,0):(t.M.x=Math.round(r.$*n/2-s.x*n+(e.x-t.C.$/2)),t.M.y=Math.round(r.z*n/2-s.y*n+(e.y-t.C.z/2))),t.s=n}},j.He.prototype.Ly=function(t,e,i,n,r){var s=0,a=!1,h=null;if("adapt"==t.X){var o=0;if("pixel"==t.R&&(o=1),"fitscr"==t.R){o=0;var l=i.n.C.$,u=i.n.C.z;if(i.$<=l&&i.z<=u){for(var c=1;i.$*(c+1)<=l&&i.z*(c+1)<=u;)c++;o=c}else o=j.He.Xz(i.$,i.z,l,u)}h=new f(Math.round(i.n.C.$/2),Math.round(i.n.C.z/2)),s=o}"scroll"==t.X&&(h=t.qR,a=t.or.y<0),"zoom"==t.X&&(h=t.qR?t.qR:new f(Math.round(i.n.C.$/2),Math.round(i.n.C.z/2)),null!=t.s?s=t.s:a=t.FL),"mskView"==t.X&&i.n.uQ!=t.R&&(i.n.uQ=t.R,i.un=!0),null!=h&&(j.He.Qr(i.n,h,a,s),i.kJ=!0)},j.He.prototype.FJ=function(t,e,i,n){if(this.UK!=n.l(W.kz)){this.UK=n.l(W.kz);var r={X:bt.m.nv,c:this.id,UK:this.UK},s=new xt(bt.E.Y,!0);s.data=r,e.N(s),this.nQ(e)}},j.He.prototype.nQ=function(t){var e=new xt(bt.E.Y,!0),i=this.FL;this.UK&&(i=!i),e.data={X:bt.m.gM,Ut:i?"zoom-in":"zoom-out"},t.N(e)},j.He.prototype.sG=function(t,e,i,n){if(t.action){var r={X:"adapt",R:t.action};this.Ly(r,e,i,n,null)}else this.FL=t.FL,this.nQ(e)},j.HC=function(t,e,i){j.NY.call(this,t,e,i),this.Al=null,this.E$=null,this.$Y=0},j.HC.prototype=new j.NY,j.HC.prototype.xz=function(t,e,i,n){if(0!=t.g.length){var r=t.b[t.g[0]],s=r.add.vmsk,a=r.add.vstk,h=j.HC.Qw(t,t.g[0]);if(this.Al=t,this.E$=e,r.TT()&&null!=s&&(JSON.stringify(a)!=JSON.stringify(i.ga)||JSON.stringify(h)!=JSON.stringify(i.gq))){this.$Y=Date.now();var o=new xt(bt.E.Y,!0);o.data={X:bt.m.u_,gg:Q.IZ,R:h},e.N(o),o.data={X:bt.m.u_,gg:Q.JL,R:a},e.N(o)}}},j.HC.prototype.qB=function(t,e){if(null!=this.Al&&(e==Q.hP||e==Q.IZ||e==Q.JL)){if(Date.now()-this.$Y<50)return;for(var i=e==Q.IZ,n=this.Al,r=i?t.gq:t.ga,s=[],a=0;a<n.g.length;a++){var h=n.g[a],o=n.b[h];o.TT()&&null!=o.add.vmsk&&s.push(h)}var l=new xt(bt.E.W,!0);l.c=j.uh,l.data={X:nt.wL,kV:s,ra:i,R:r},0!=s.length&&this.E$.N(l)}},j.HC.prototype.Ly=function(t,e,i,n,r){var s=i.b[i.g[0]],h=s.add.vmsk,o=s.add.vogk,l=h.clone(),u=h.clone(),f=JSON.stringify(o);if("remove"==t.X){if(0==u.g.length)return;for(var c=0,p=0;p<u.g.length;p++)o.splice(u.g[p]+c,1),c--;u.L=a.A.trl(u.L,u.g),u.g=[],u.Pv=[]}if("append"==t.X){var v=a.A.qh(u.L),d=a.A.qh(t.J_);u.L=u.L.concat(t.J_.slice(2)),u.g=[];for(p=0;p<d;p++)u.g.push(v+p);for(p=0;p<d;p++)o.push(JSON.parse(JSON.stringify(t.ar[p])))}this.aJ(i,s,u,o),this._M(i,t._F,i.g[0],l,u.clone(),null,f,JSON.stringify(o))},j.HC.prototype.jV=function(t){return-1!=[W.nC].indexOf(t)},j.HC.prototype.FJ=function(t,e,i,n){if(null!=t){var r=t.b[t.g[0]],s=r?r.add.vmsk:null;if(null!=s&&((n.l(W._f)||n.l(W.BV))&&(s.Pv=[],t.un=!0),0!=s.g.length)){var h=n.Ik();if(0!=h.x||0!=h.y){var o=s.clone(),l=s.clone(),u=new c(1,0,0,1,h.x,h.y),f=r.add.vogk,p=JSON.stringify(f);a.A.Nj(l.L,u,l.g),a.FU.UC(f,a.F.Wq(u),l.g),this.aJ(t,r,l,f),this._M(t,"Move Paths",t.g[0],o,l.clone(),!0,p,JSON.stringify(f))}n.l(W.nC)&&this.Ly({X:"remove",_F:"Delete Paths"},e,t,n,i)}}},j.HC.prototype._M=function(t,e,i,n,r,s,a,h){var o=new Z(e,this);o.data={DJ:i,$Q:n,AN:r,rQ:s,rO:a,ar:h},t.Af(o)},j.HC.prototype.wD=function(t,e){this.aJ(e,e.b[t.DJ],t.AN.clone(),JSON.parse(t.ar))},j.HC.prototype.mK=function(t,e){this.aJ(e,e.b[t.DJ],t.$Q.clone(),JSON.parse(t.rO))},j.HC.prototype.aJ=function(t,e,i,n){e.add.vmsk=i,e.add.vogk=n,i.rb=!0,e.Sa(t),t.r()},j.HC.Qw=function(t,e){var i=t.b[e],n=i.add.vstk,r=null;return n&&!n.fillEnabled.v?r={uV:0}:i.add.SoCo?r={uV:1,uL:i.add.SoCo}:i.add.GdFl?r={uV:2,uL:i.add.GdFl}:i.add.PtFl&&(r={uV:3,uL:i.add.PtFl}),r},j.HC.nj=function(t,e){t.add.vmsk;var i=t.add.vstk,n=e.uV;if(i&&(i.fillEnabled.v=0!=n),n>0){for(var r=["SoCo","GdFl","PtFl"][n-1],s=0;s<3;s++)delete t.add[["SoCo","GdFl","PtFl"][s]];t.add[r]=e.uL}},j.rG=function(t,e,i,n){j.HC.call(this,t,e,i),this.kS={tmode:1,shape:null,pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{yC:0}},this.tVS=n,this.QS=null,this.$O=null,this.dV=null},j.rG.prototype=new j.HC,j.rG.prototype.mW=function(t){return t.Vv&&this.id!=j.hX},j.rG.prototype.enable=function(t,e,i,n,r){var s=new xt(bt.E.Y,!0);s.data={X:bt.m.gM,Ut:"crosshair"},e.N(s)},j.rG.prototype.Ne=function(t,e,i,n){},j.rG.prototype.cL=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);s=j.UP.ep(t,s,i);var a=this.kS.tmode,h=t.b[t.g[0]],o=h?h.add.vmsk:null;if(0!=a||null!=o){if(2!=a||t.FS()){if(1==a){var l=new xt(bt.E.W,!0);l.c=j.uh,l.data={X:nt.fL,pZ:1},e.N(l),o=(h=t.b[t.g[0]]).add.vmsk}this.dV=[s.x,s.y],this.QS=s,this.$O=new f(0,0)}}else alert("Paths can be added to existing shapes only.")},j.rG.prototype.Qy=function(t,e,i){var n=[this.QS.clone(),e.clone()];return n[0].x=Math.floor(n[0].x),n[0].y=Math.floor(n[0].y),n[1].x=Math.ceil(n[1].x),n[1].y=Math.ceil(n[1].y),this.tVS&&(n=j.rG.QL(n[0],n[1],i,!1,this.kS.cstr)),t.n._E=new L(n[0].x,n[0].y,n[1].x-n[0].x,n[1].y-n[0].y),this.Ne(n[0],n[1],i.l(W.Yz),this.dV)},j.rG.prototype.Qc=function(t,e,i){var n=t.n.kp(e.x,e.y),r=this.kS.cstr;if(2==r.yC){var s=new L(n.x-r.x,n.y-r.y,r.x,r.y),a=j.UP.tg(t,s,i);n.x+=a[0],n.y+=a[1],j.UP.tG(t,s,a)}else n=j.UP.ep(t,n,i);return n},j.rG.prototype.XY=function(t,e,i,n,r){if(null!=this.QS){var s=this.Qc(t,r,i);n.l(W.JW)?this.QS=s.Tr(this.$O):this.$O=s.Tr(this.QS),this.dV.push(s.x,s.y),null==this.kS.shape&&(this.kS.shape=i.aI[0]);var h=this.Qy(t,s,n)[0],o=a.K.Cp(h);t.S.rX=o,t.un=!0}},j.rG.prototype.Nu=function(t,e,i,n,r){if(null!=this.QS){var s=this.Qc(t,r,i),h=this.kS.binop,o=this.kS.tmode;if(2!=this.dV.length){var l=this.Qy(t,s,n),u=l[0];if(0==o&&(u[2].AY=[1,2,3,0][h]),2!=o){var f=t.b[t.g[0]],c=f.add.vmsk,p=f.add.vogk,v=c.clone(),d=c.clone(),y=JSON.stringify(p);d.L=d.L.concat(u.slice(2)),d.g=[a.A.qh(d.L)-1],p.push(l[1]),this.aJ(t,f,d,p),0==o&&this._M(t,this.name,t.g[0],v,d,null,y,JSON.stringify(p))}else{(d=new nt.hT).L=d.L.concat(u.slice(2));var g=d.Ab(),m=a.I(4*g.rect.f());a.Mw(m,(255&i.AF)<<16|(i.AF>>8&255)<<8|(i.AF>>16&255)<<0),a.kw(g.channel,m,3);var w=new xt(bt.E.W,!0);w.c=j.Tz,w.data={X:"draw",txf:m,txl:g.rect,_F:this.name},e.N(w)}}this.QS=null,t.S.rX=null,t.S.iG=null,t.n._E=null,t.un=!0}},j.rG.prototype.sG=function(t,e,i,n,r){for(var i in t)this.kS[i]=t[i]},j.rG.QL=function(t,e,i,n,r){var s=t.x,a=t.y,h=e.x,o=e.y;if(r&&2==r.yC)s=h-r.x,a=o-r.y;else{var l=0;if(r&&1==r.yC?l=r.y/r.x:i&&i.l(W.Yz)&&(l=1),0!=l){var u=Math.abs(h-s),c=Math.abs(o-a),p=u;c/u<l&&(p*=c/u/l),h=h>s?s+p:s-p,o=o>a?a+p*l:a-p*l}i&&i.l(W.kz)&&(s-=h-s,a-=o-a)}if(n){if(s>h){var v=s;s=h,h=v}if(a>o){v=a;a=o,o=v}s=Math.floor(s),a=Math.floor(a),h=Math.ceil(h),o=Math.ceil(o)}return[new f(s,a),new f(h,o)]},j.au=function(){j.HC.call(this,[10,29],j.tPB,"tools/pen"),this.we=null,this.bp=null,this.$n=1,this.rn=0},j.au.prototype=new j.HC,j.au.prototype.mW=function(t){return null!=this.we},j.au.prototype.cL=function(t,e,i,n,r){var s,h,o=t.n.kp(r.x,r.y);o.x=Math.round(o.x),o.y=Math.round(o.y);var l=j.UP.ep(t,o,i),u=t.b[t.g[0]],c=u?u.add.vmsk:null;if(0!=this.$n||null!=c){var p=4*bt.h()/t.n.s;if(c&&(s=a.A.oc(c.L,o,!0,p)),1==this.$n&&(null==c||(0==c.Pv.length||c.Pv[0]!=c.L.length-1)&&-1==s.U_)){var v=new xt(bt.E.W,!0);v.c=j.uh,v.data={X:nt.fL,pZ:1},e.N(v),c=(u=t.b[t.g[0]]).add.vmsk}var d=u.add.vogk;this.we=c.clone(),this.bp=JSON.stringify(d);var y=c.L,g=a.A.qh(y);if(h=a.A.ot(c.L,new L(o.x-p,o.y-p,2*p,2*p)),-1!=(s=a.A.oc(c.L,o,!0,p)).U_&&0==h[0].length){y[w=a.A.T_(y,s.U_)].length++,y.splice(w+2+s.mX,0,{type:4,kM:l.clone(),P:l.clone(),kq:l.clone()}),c.Pv=[w+2+s.mX]}else{var m=0;if(1!=c.Pv.length)c.g=[g],y.push({type:3,length:1,AY:[1,2,3,0][this.rn],Fz:0,ev:0,Nb:0}),m=y.length,d.push(a.FU.kh());else{var w,b=c.Pv[0],x=a.A.TY(y,b);if(b==(w=a.A.T_(y,x))+y[w].length&&f.Ln(o,y[w+1].P)<p)return y[w].type=0,c.Pv=[],this.aJ(t,u,c,d),t.un=!0,this._M(t,"Close the Path",t.g[0],this.we,c.clone(),null,this.bp,JSON.stringify(d)),this.we=null,void(this.bp=null);y[w].length++,m=b+1}y.splice(m,0,{type:4,kM:l.clone(),P:l.clone(),kq:l.clone()}),c.Pv=[m]}this.aJ(t,u,c,d),t.un=!0}else alert("Paths can be added to existing shapes only.")},j.au.prototype.XY=function(t,e,i,n,r){if(null!=this.we){var s=t.n.kp(r.x,r.y),a=j.UP.ep(t,s,i),h=t.b[t.g[0]],o=h.add.vmsk,l=o.L[o.Pv[0]];l.kq=a,l.kM=l.P.add(l.P.Tr(l.kq)),this.aJ(t,h,o,h.add.vogk),t.un=!0}},j.au.prototype.Nu=function(t,e,i,n,r){if(null!=this.we){var s=t.b[t.g[0]],a=s.add.vmsk,h=s.add.vogk;this._M(t,"Add Anchor Point",t.g[0],this.we,a.clone(),null,this.bp,JSON.stringify(h)),this.we=null}},j.au.prototype.sG=function(t,e,i,n,r){this.$n=t.tmode,this.rn=t.binop},j.nA=function(){j.rG.call(this,[10,30],j.hX,"tools/fpen",!1)},j.nA.prototype=new j.rG,j.nA.prototype.Ne=function(t,e,i,n){return[a.A.tIO(n,this.kS.tolr),a.FU.kh()]},j.oh=function(){j.HC.call(this,[10,27],j.Oc,"tools/pselect"),this.D_=null,this.ac=!1,this.we=null,this.bp=null,this.Ew=null},j.oh.prototype=new j.HC,j.oh.prototype.mW=function(t){return t.Vv},j.oh.prototype.cL=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y),h=t.root.jR(s);if(null!=h){var o=h.tVv.i,l=t.b.indexOf(o),u=o.add.vmsk;u.Pv=[];var f=u.g.indexOf(h.$l);o.uv=!0,l!=t.g[0]?(t.g=[l],t.Ku(),t.EV=!0):n.l(W.Yz)?-1==f?(u.g.push(h.$l),this.ac=!0):u.g.splice(f,1):(-1==f&&(u.g=[h.$l]),this.ac=!0),this.Ew=a.A.gw(u.L,u.g)}this.D_=s,t.qf=!0,t.un=!0},j.oh.prototype.XY=function(t,e,i,n,r){if(null!=this.D_){var s=t.n.kp(r.x,r.y);if(this.ac){var h=t.b[t.g[0]];null==this.we&&(this.we=h.add.vmsk.clone(),this.bp=JSON.stringify(h.add.vogk));var o=this.Ew.clone(),l=o.x,u=o.y;o.offset(s.x-this.D_.x,s.y-this.D_.y),o.x=Math.round(o.x),o.y=Math.round(o.y);var f=j.UP.tg(t,o,i),p=this.we.clone(),v=new c(1,0,0,1,o.x-l+f[0],o.y-u+f[1]),d=JSON.parse(this.bp);a.A.Nj(p.L,v,p.g),a.FU.UC(d,a.F.Wq(v),p.g),this.aJ(t,h,p,d),j.UP.tG(t,o,f)}else{var y=this.D_;t.S.rX=a.K.DK(new L(y.x,y.y,s.x-y.x,s.y-y.y)),t.un=!0}}},j.oh.prototype.Nu=function(t,e,i,n,r){if(null!=this.D_){var s=t.n.kp(r.x,r.y),h=t.b[t.g[0]],o=h?h.add.vmsk:null;if(this.ac){var l=JSON.stringify(h.add.vogk);this.D_.v$(s)||this._M(t,"Move Paths",t.g[0],this.we,o,null,this.bp,l),null!=t&&t.S.iG&&(t.S.iG=null,t.un=!0)}else{if(o){var u=this.D_,f=new L(u.x,u.y,s.x-u.x,s.y-u.y),c=a.A.tJV(o.L,f);if(n.l(W.Yz))for(var p=0;p<c.length;p++)-1==o.g.indexOf(c[p])&&o.g.push(c[p]);else o.g=c}t.S.rX=null,t.un=!0}this.D_=null,this.we=null,this.ac=!1}},j.oh.prototype.xz=function(t,e,i,n){if(j.HC.prototype.xz.call(this,t,e,i,n),0!=t.g.length){var r=t.b[t.g[0]],s=r.add.vmsk,a=(r.add.vstk,r.add.vogk),h=new xt(bt.E.Y,!0);h.data={X:bt.m.nv,c:this.id,Lc:"main",HQ:s||null,FU:a},e.N(h)}},j.oh.prototype.sG=function(t,e,i,n,r){var s=t.oN,a=i.g[0];if(s.HQ){var h=i.b[a],o=h.add.vmsk.clone(),l=JSON.stringify(h.add.vogk);this.aJ(i,h,s.HQ,s.FU),this._M(i,o.g[0]==s.HQ.g[0]?"Fill Rule":"Path Order",a,o,s.HQ,null,l,JSON.stringify(s.FU))}},j.BO=function(){j.HC.call(this,[10,28],j.tdd,"tools/dselect"),this.uj=-1,this.Qj=-1,this.rl=null,this.D_=null,this.we=null,this.bp=null,this.gC=0},j.BO.prototype=new j.HC,j.BO.prototype.mW=function(t){return t.Vv},j.BO.prototype.cL=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);this.rl=s.clone();var h=t.b[t.g[0]],o=h?h.add.vmsk:null;if(null!=o){var l=4*bt.h()/t.n.s,u=a.A.ot(o.L,new L(s.x-l,s.y-l,2*l,2*l));if(0!=u[0].length){var f=this.uj=u[0][0];this.Qj=0;var c=o.Pv.indexOf(f);this.D_=o.L[f].P.clone(),n.l(W.Yz)?-1==c?o.Pv.push(f):o.Pv.splice(c,1):-1==c&&(o.Pv=[f])}else if(0!=u[1].length)this.uj=u[1][0],this.Qj=1,this.D_=s;else if(0!=u[2].length)this.uj=u[2][0],this.Qj=2,this.D_=s;else{var p=a.A.oc(o.L,s,!0,l);-1==p.U_?this.D_=s:(o.g=[p.U_],o.Pv=[])}null==this.we&&(this.we=h.add.vmsk.clone(),this.bp=JSON.stringify(h.add.vogk)),t.un=!0}},j.BO.prototype.XY=function(t,e,i,n,r){if(null!=t&&0!=t.g.length){var s=t.n.kp(r.x,r.y);s.x=Math.round(s.x),s.y=Math.round(s.y),s=j.UP.ep(t,s,i);var h=(l=t.b[t.g[0]]).add.vmsk,o=l.add.vogk;if(-1!=this.uj){var l=t.b[t.g[0]],u=(h=this.we.clone(),new c(1,0,0,1,s.x-this.D_.x,s.y-this.D_.y));o=l.add.vogk;if(0==this.Qj)a.A.Nj(h.L,u,null,h.Pv);else{var p=h.L[this.uj],v=p.kM,d=p.kq;if(2==this.Qj&&(v=p.kq,d=p.kM),v.kR(s.x,s.y),1==p.type||4==p.type){var y=f.Ln(v,p.P),g=f.Ln(d,p.P);0!=g&&(d.x=p.P.x-(v.x-p.P.x)*(g/y),d.y=p.P.y-(v.y-p.P.y)*(g/y))}}this.nN(h,o),this.aJ(t,l,h,o)}else if(null!=this.D_){var m=this.D_;t.S.rX=a.K.DK(new L(m.x,m.y,s.x-m.x,s.y-m.y)),t.un=!0}}},j.BO.prototype.Nu=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y),h=t.b[t.g[0]],o=h?h.add.vmsk:null,l=h?h.add.vogk:null;if(-1!=this.uj){if(Date.now()-this.gC<300){var u=o.L[this.uj],f=this.Qj,c=null;if(0==f){var p=u.kM.v$(u.P),v=u.kq.v$(u.P);p||v?(c="Add Handles",p&&v?(u.kM.x-=30,u.kq.x+=30):p?u.kM=u.P.add(u.P.Tr(u.kq)):v&&(u.kq=u.P.add(u.P.Tr(u.kM)))):(c="Anchor Type",1==u.type||4==u.type?u.type++:(u.type--,u.kq=u.P.add(u.P.Tr(u.kM))))}else c="Remove Handle",1==f?u.kM.py(u.P):u.kq.py(u.P);this.nN(o,l),this.aJ(t,h,o,l),this._M(t,c,t.g[0],this.we,o,null,this.bp,JSON.stringify(l))}else this.rl.v$(s)||this._M(t,"Drag Anchors",t.g[0],this.we,o,null,this.bp,JSON.stringify(l));this.gC=Date.now()}else if(null!=this.D_){var d=this.D_,y=new L(d.x,d.y,s.x-d.x,s.y-d.y);y.$<0&&(y.x+=y.$),y.z<0&&(y.y+=y.z),y.$=Math.abs(y.$),y.z=Math.abs(y.z);var g=a.A.ot(o.L,y);o.Pv=g[0],t.S.rX=null}this.we=null,this.D_=null,this.uj=this.Qj=-1,t.un=!0},j.BO.prototype.nN=function(t,e){for(var i=0;i<t.Pv.length;i++){var n=a.A.TY(t.L,t.Pv[i]);a.FU.zs(e,n)}},j.BO.prototype.jV=function(t){return-1!=[W.nC].indexOf(t)},j.BO.prototype.FJ=function(t,e,i,n){if(null!=t&&0!=t.g.length){var r=t.b[t.g[0]],s=r.add.vmsk;if(null!=s&&0!=s.Pv.length){var h=r.add.vogk,o=JSON.stringify(h),l=n.Ik();if(0!=l.x||0!=l.y){var u=s.clone(),f=s.clone(),p=new c(1,0,0,1,l.x,l.y);a.A.Nj(f.L,p,null,f.Pv),this.nN(f,h),this.aJ(t,r,f,h),this._M(t,"Move Anchors",t.g[0],u,f.clone(),!0,o,JSON.stringify(h))}if(n.l(W.nC)){u=s.clone();(f=s.clone()).L=a.A.tJl(f.L,f.Pv,h),f.Pv=[],this.aJ(t,r,f,h),this._M(t,"Delete Anchors",t.g[0],u,f.clone(),!0,o,JSON.stringify(h))}}}},j.BO.prototype._M=function(t,e,i,n,r,s,a,h){var o=t.lk();s&&null!=o&&o.c==this&&o.data.rQ&&o.data.DJ==i&&JSON.stringify(o.data.$Q.Pv)==JSON.stringify(n.Pv)?(o.data.AN=r,o.data.ar=h):((o=new Z(e,this)).data={DJ:i,$Q:n,AN:r,rQ:s,rO:a,ar:h},t.Af(o))},j.Rect=function(){j.rG.call(this,[10,32],j.tdU,"tools/rect",!0)},j.Rect.prototype=new j.rG,j.Rect.prototype.Ne=function(t,e,i){var n=this.kS.crad,r=e.x-t.x,s=e.y-t.y;return[a.A.FH.Rect(t.x,t.y,r,s,n),a.FU.Ne(2,[t.x,t.y,e.x,e.y],[n,n,n,n])]},j.QJ=function(){j.rG.call(this,[10,33],j.tGE,"tools/ellipse",!0)},j.QJ.prototype=new j.rG,j.QJ.prototype.Ne=function(t,e,i){var n=e.x-t.x,r=e.y-t.y;return[a.A.FH.QJ(t.x,t.y,n,r),a.FU.Ne(5,[t.x,t.y,e.x,e.y])]},j.ns=function(){j.rG.call(this,[10,34],j.tGf,"tools/pshape",!1)},j.ns.prototype=new j.rG,j.ns.prototype.Ne=function(t,e,i){var n,r=this.kS.pshape,s=this.kS.crad,h=this.kS.irad/100,o=this.kS.sides,l=this.kS.length;e=e.clone(),i&&(Math.abs(e.x-t.x)<Math.abs(e.y-t.y)?e.x=t.x:e.y=t.y);var u=t.x,f=t.y,c=e.x,p=e.y,v=Math.sqrt((c-u)*(c-u)+(p-f)*(p-f)),d=Math.atan2(-p+f,c-u);return 0==r&&(n=a.A.FH.tcv(u,f,v,d,o,s)),1==r&&(n=a.A.FH.tLI(u,f,v,d,o,s,h)),2==r&&(n=a.A.FH.tD$(u,f,v,d,l)),[n,a.FU.kh()]},j.tu=function(){j.rG.call(this,[10,35],j.tGj,"tools/line",!1)},j.tu.prototype=new j.rG,j.tu.prototype.Ne=function(t,e,i){var n=this.kS.width;return e=e.clone(),i&&(Math.abs(e.x-t.x)<Math.abs(e.y-t.y)?e.x=t.x:e.y=t.y),[a.A.FH.tu(t.x,t.y,e.x,e.y,n),a.FU.kh()]},j.lw=function(){j.rG.call(this,[10,31],j.txM,"tools/cshape",!0)},j.lw.prototype=new j.rG,j.lw.prototype.Ne=function(t,e,i){var n=this.kS.shape,r=(n.SZ.$,n.SZ.z,nt.hT.Cx(n.L)),s=e.x-t.x,h=e.y-t.y;return a.A.Nj(r,new c(s,0,0,h,t.x,t.y)),[r,a.FU.kh()]},j._=function(t,e,i){j.NY.call(this,t,e,i),this.Tf=0,this.b=null,this.Ji=null,this.le=null,this.Et=1,this.dr=!1,this.cursor=null,this.Xy=null,this.Ud=null,this.Jo=!1,this.Eu=null,this.rf=0,this.wP=0,this.Gi=null,this.nl=null,this.BF=null,this.$K=null,this.$B=null},j._.prototype=new j.NY,j._.prototype.mW=function(t){return this.nl&&this.nl.QW()},j._.prototype.Ly=function(t,e,i,n,r){if(this.le=r,"doMouseDown"!=t.X){if(this.Oy(i,r)){this.b=i.MC(null==t.i,t.i),this.QC(i);var s=this.Gi,h=null!=t.iP?t.iP:4,o=this.nl.tJz()[h],l=o.x,u=o.y;"rot"==t.X&&t.R!=Math.PI&&1==(s.$+s.z&1)&&(l=Math.floor(l),u=Math.floor(u));var f=new c;f.translate(-l,-u),"rot"==t.X&&f.rotate(t.R),"scl"==t.X&&f.scale(t.R.x,t.R.y),f.translate(l,u);var p=this.nl.az();a.K.UC(p,f,p),this.nl.ly(p),this.qM(i,e,t._F,!1)}}else{if(null==this.nl)return;this.cL(i,e,r,n,t.qR)}},j._.prototype.ZQ=function(){return!0},j._.prototype.Oy=function(t,e){if(null==t)return!1;if(this.id==j.mE)return null!=t.t;for(var i=t.MC(!0),r=0;r<i.length;r++){var s=t.b[i[r]];if(s.FT(2)||s.FT(31))return alert(n.get([6,57,0])),!1;if(s.add.artb)return alert("You can not ransform the whole artboard"),!1;if(s.add.TySh&&!pt.Ij(s.add.TySh,e.LS))return!1;if(s.add.SoLd){if(1==i.length&&!a.UB.vn(s.add.SoLd.warp.v)&&(s.Ab()&&s.Ab().WZ||s.add.vmsk&&s.add.vmsk.WZ))return alert("Unlink masks before transforming Smart Object"),!1;if(!t.tDR(s.add.SoLd.Idnt.v))return alert("Unsupported format of the smart object ("+t.nF(s.add.SoLd.Idnt.v).Xl+")"),!1}}return null==t.t||!!t.FS()&&t.je()},j._.prototype.cL=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);if(1==this.wP){var h=a.F.UK(a.F.tn(this.nl.az(),this.Gi));s=a.F.Cy(h,s)}var o=0==this.wP?this.nl:this.BF;this.dr=o.cL(t,i,n,s),this.dr&&o.w$(s)&&(Date.now()-this.rf<250&&this.qM(t,e,null,!0),this.rf=Date.now())},j._.prototype.Hf=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.gM,Ut:this.cursor},t.N(e)},j._.prototype.XY=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);if(1==this.wP){var h=a.F.UK(a.F.tn(this.nl.az(),this.Gi));s=a.F.Cy(h,s)}var o=0==this.wP?this.nl:this.BF;if(!r.Vv){var l="default";o&&o.lr(s,t.n.s)&&(l=o.lr(s,t.n.s)),l!=this.cursor&&(this.cursor=l,this.Hf(e))}this.dr&&(o.XY(t,i,n,s),this.HA(t,i,!0),this.rN(t),this.tr(e))},j._.prototype.Nu=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);this.nl.Nu(t,i,n,s),this.dr=!1},j._.prototype.FJ=function(t,e,i,n){if(n.l(W.BV))this.qM(t,e,null,!0);else if(n.l(W._f))this.ua(t,e);else{this.nl.FJ(t,i,n)&&(this.HA(t,i,!0),this.tr(e))}},j._.prototype.sG=function(t,e,i,n){if("commit"==t.Lc)this.qM(i,e,null,!0);else if("cancel"==t.Lc)this.ua(i,e);else if("switchWarp"==t.Lc)this.wP=1-this.wP,this.tJK(),this.rN(i),this.tr(e);else if("wrp"==t.Lc)this.BF.Qf(t.dE),this.rN(i),this.HA(i,this.le,!0);else if("cen"==t.Lc)this.nl.tJZ(t.dh),this.rN(i),this.HA(i,this.le,!0);else if("trn"==t.Lc){var r=a.F.Wq(t.oO),s=this.Gi,h=a.F.tn(this.nl.az(),this.Gi);r[6]=h[6],r[7]=h[7];var o=[s.x,s.y,s.x+s.$,s.y,s.x+s.$,s.y+s.z,s.x,s.y+s.z];a.F.apply(r,o),this.Et=t.Et,this.nl.ly(o),this.rN(i),this.HA(i,this.le,!0)}},j._.prototype.rN=function(t){if(0==this.wP)this.nl.Qu(t);else{this.BF.Qu(t);var e=a.F.tn(this.nl.az(),this.Gi);a.F.apply(e,t.S.rX.Z),a.F.apply(e,t.S.Lg)}},j._.prototype.qM=function(t,e,i,n){this.HA(t,this.le,0==this.Et);var r=new Z(i||this.name,this);if(0==this.Tf)r.data={type:this.Tf,b:this.b,Eu:this.Ji,gT:j._.Vm(t,this.b)};else if(1==this.Tf){var s,h=t.b[this.b[0]];h.UM.G<=0?(s=a.I(h.UM.SB.f()),a.rY(h.UM.nI,s,3)):s=t.t.channel;var o={rect:h.UM.SB.clone(),channel:s};r.data={type:this.Tf,i:this.b[0],Ud:this.Ud,_k:o,Xy:this.Xy,Jo:this.Jo,UM:h.UM,Eu:this.Eu,gT:{lU:h.UM.SB,fg:h.UM.nI}}}else 2==this.Tf&&(r.data={type:this.Tf,Ud:this.Ud,_k:{rect:t.t.rect.clone(),channel:a.clone(t.t.channel)}});t.Af(r),this.escape(t,e,n)},j._.prototype.ua=function(t,e){if(0==this.Tf)j._.$J(t,this.b,this.Ji);else if(1==this.Tf){var i=t.b[this.b[0]];t.t=this.Ud,this.Jo?i.jX(t,this.Xy):(i.UM.SB=this.Eu.lU,i.UM.nI=this.Eu.fg,i.cX(t,0,0,t.t)),t.r(),t.Ow=!0}else 2==this.Tf&&(t.t=this.Ud,t.Ow=!0);this.escape(t,e,!0)},j._.prototype.escape=function(t,e,i){this.nl.clear(t),this.nl=null,this.BF=null,this.wP=0,i&&this.Mf(e,bt.E.Y,{X:bt.m.bo})},j._.prototype.wD=function(t,e){if(0==t.type)j._.$J(e,t.b,t.gT);else{if(1==t.type){var i=e.b[t.i];t.Jo?i.UM=t.UM:(i.UM.SB=t.gT.lU,i.UM.nI=t.gT.fg),i.cX(e,0,0,e.t),e.r()}e.t={rect:t._k.rect.clone(),channel:a.clone(t._k.channel)},e.Ow=!0}},j._.prototype.mK=function(t,e){if(0==t.type)j._.$J(e,t.b,t.Eu);else{if(1==t.type){var i=e.b[t.i];t.Jo?i.jX(e,t.Xy):(i.UM.SB=t.Eu.lU,i.UM.nI=t.Eu.fg,i.cX(e,0,0,e.t)),e.r()}e.t=t.Ud,e.Ow=!0}},j._.prototype.enable=function(t,e,i,n,r,s){this.Hf(e),this.nl||(this.b=t.MC(!0),this.le=i,this.QC(t,s?s.eg:null),this.tr(e),this.rN(t))},j._.prototype.tr=function(t){var e={X:bt.m.nv,c:this.id};if(0==this.wP){var i=a.F.tn(this.nl.az(),this.Gi),n=a.F.od(i);e.oO={Iw:n,dh:this.nl.SH(),lU:this.Gi.clone()}}else e.dE=this.BF.ld();e.tVX=null!=this.BF,this.Mf(t,bt.E.Y,e)},j._.prototype.QC=function(t,e){var i=this.id==j.mE,n=!0,r=t.b[this.b[0]],s=!1,h=null;if(i)this.Tf=2,this.Ud=t.t;else if(t.t&&1==this.b.length&&!r.rect.km())this.Tf=1,this.Ud=t.t,this.Xy=r.UM,this.Jo=!1,r.JJ(t,t.t)||(this.Jo=!0,r.jp(t,t.t,!1)),this.Eu={fg:r.UM.nI,lU:r.UM.SB};else{this.Tf=0,this.Ji=j._.Vm(t,this.b);for(var o=0;o<this.Ji.length;o++)null!=this.Ji[o][3]&&(n=!1)}if(this.Ji&&1==this.Ji.length){var l=this.Ji[0];null==l[3]&&(s=!0),null!=l[4]&&(h=t.b[this.b[0]].add.SoLd,(l[1]||l[2])&&(s=!1))}var u=i?t.t.rect.clone():j._.AK(t,this.b);if(this.Gi=u,!i&&h){var f=j._.HV(h.nonAffineTransform);this.Gi=a.K.jm(a.UB.cq(h.warp.v)),s&&(this.BF=new Y(h.warp.v)),this.$K=a.F.tn(f,this.Gi),this.nl=new G(f,!0,!0,n,!1,!1,e)}else(s||i)&&(this.BF=new Y(a.UB.I(this.Gi))),this.$K=[1,0,0,0,1,0,0,0],this.nl=new G([u.x,u.y,u.x+u.$,u.y,u.x+u.$,u.y+u.z,u.x,u.y+u.z],!0,!0,n,!1,!1,e);this.$B=[1,0,0,0,1,0,0,0]},j._.AK=function(t,e){null==e&&(e=t.MC(!0));var i=new L;if(t.t&&1==e.length)i=t.t.rect.clone();else for(var n=0;n<e.length;n++)i=i.Fv(t.b[e[n]].vo(t,1==e.length));return i},j._.prototype.Mf=function(t,e,i,n){var r=new xt(e,!0);r.data=i,n&&(r.c=n),t.N(r)},j._.Vm=function(t,e,i){for(var n=[],r=0;r<e.length;r++){var s=t.b[e[r]],h=s.Ja(t,i),o=[];if(-1!=h.indexOf(0)){var l={nn:a.clone(s.buffer),lU:s.rect.clone()};if(o.push(l),s.kl()){var u=s.hy(t);l.tVY=a.clone(u.buffer),l.tVb=u.rect.clone()}}else o.push(null);-1!=h.indexOf(1)?o.push(s.Ab().clone()):o.push(null),-1!=h.indexOf(2)?o.push({HQ:s.add.vmsk.clone(),nO:s.add.vstk?JSON.parse(JSON.stringify(s.add.vstk)):null,FU:s.add.vogk?JSON.parse(JSON.stringify(s.add.vogk)):null}):o.push(null),s.add.TySh&&o[0]?o.push(s.add.TySh.UC.clone()):o.push(null),s.add.SoLd&&o[0]?o.push(JSON.parse(JSON.stringify(s.add.SoLd))):o.push(null),-1!=h.indexOf(3)?o.push(s.hy(t).d.clone()):o.push(null),n.push(o)}return n},j._.$J=function(t,e,i){for(var n=0;n<e.length;n++){var r=t.b[e[n]],s=i[n];if(s[0]&&(r.rect=s[0].lU.clone(),r.buffer=a.clone(s[0].nn),r.kl())){var h=r.hy(t);h.buffer=a.clone(s[0].tVY),h.rect=s[0].tVb.clone()}if(s[1]&&(r.Ab().channel=a.clone(s[1].channel),r.Ab().rect=s[1].rect.clone(),r.Ab().rb=!0),s[2]&&(r.add.vmsk=s[2].HQ.clone(),s[2].nO&&(r.add.vstk=JSON.parse(JSON.stringify(s[2].nO))),s[2].FU&&(r.add.vogk=JSON.parse(JSON.stringify(s[2].FU)))),s[3]&&(r.add.TySh.UC=s[3].clone()),s[4]&&(r.add.SoLd=JSON.parse(JSON.stringify(s[4]))),s[5]){var o=r.hy(t).d;o.channel=a.clone(s[5].channel),o.rect=s[5].rect.clone()}r.Sa(t),r.r()}t.r()},j._.ka=function(t){var e=t.clone(),i=Math.atan2(-e.H,e.o),n=new c;return n.rotate(-i),e.concat(n),(Math.abs(e.o)+Math.abs(e.KI))/2},j._.lI=function(t,e,i,n,r,s,h,o){for(var l=a.F.od(s),u=j._.ka(l),f=0;f<i.length;f++){var c=t.b[i[f]],p=n[f];if(c.add.lmfx&&o&&lt.Kc(c.add.lmfx,u),p[0]&&!p[3]&&!p[4]&&!p[5]){var v=j._.SJ([p[0].nn,p[0].lU],r,s,h,r?c.buffer.buffer:null);v&&(c.rect=v.rect,c.buffer=v.buffer)}if(p[1]&&j._.Qa(t,p[1],c.Ab(),r,s,h),p[2]){var d=h&&!a.UB.vn(h),y=p[2].HQ.clone(),g=1==i.length&&0!=y.g.length;if(d){var m=a.UB.cq(h);a.F.apply(s,m),a.A.tGk(y.L,m)}else a.A.tGJ(y.L,s,g?y.g:null);c.add.vstk&&o&&(c.add.vstk.strokeStyleLineWidth.v.val=p[2].nO.strokeStyleLineWidth.v.val*u),c.add.vogk&&(c.add.vogk=JSON.parse(JSON.stringify(p[2].FU)),d?a.FU.tRT(c.add.vogk):a.FU.UC(c.add.vogk,s,i.length>1?[]:y.g,o)),y.jQ*=u,c.add.vmsk=y,c.add.vogk&&a.FU.pB(c.add.vogk,c.add.vmsk)}if(p[3]){var w=p[3].clone();w.concat(l),c.add.TySh.UC=w;var b=new vt(c.add.TySh.Bd,e.LS),x=pt.Iq(b,c.add.TySh);c.rect=x.rect,c.buffer=x.nn}if(p[4]){var M=c.add.SoLd,S=j._.HV(p[4].nonAffineTransform);a.F.apply(s,S);a.K.TD(S);if(G.lc(S)){if(h){var A=a.K.jm(a.UB.cq(p[4].warp.v)),k=a.F.tn(S,A),C=a.K.jm(a.UB.cq(h));S=[C.x,C.y,C.x+C.$,C.y,C.x+C.$,C.y+C.z,C.x,C.y+C.z],a.F.apply(k,S),M.warp.v=h}var T=a.F.tn(S),U=S;a.F.CI(T)||(T[6]=T[7]=0,U=[0,0,1,0,1,1,0,1],a.F.apply(T,U)),M.Trnf=j._.Sz(U),M.nonAffineTransform=j._.Sz(S),c.fc(t,r)}}p[5]&&j._.Qa(t,p[5],c.hy(t).d,r,s,h),0==r&&c.hJ(),c.Sa(t),c.r()}t.r()},j._.Qk=function(t,e,i,n,r,s){return null==i&&(i=!1),j._.SJ(t,i,a.F.Wq(e),null,n,r,s)},j._.SJ=function(t,e,i,n,r,s,h){var o={},l=0;if(n&&!a.UB.vn(n)){var u=a.UB.cq(n);return a.F.apply(i,u),o.rect=a.K.TD(u),o.buffer=a.I(4*o.rect.f()),a.nH.drawImage(u,t[0],t[1].$,t[1].z,o.buffer,o.rect,e),o}a.cG(t);for(var f=t[0],p=t[1];l+3<t.length&&a.F.CI(i)&&j._.ka(a.F.od(i))<.4;){var v=t[l+=2],d=t[l+1];i=a.F.NE(i,[p.$/d.$,0,-d.x,0,p.z/d.z,-d.y,0,0]),p=d,f=v}var y=a.F.NE(i,a.F.Wq(new c(p.$,0,0,p.z,p.x,p.y))),g=[0,0,1,0,1,1,0,1];if(a.F.apply(y,g),o.rect=a.K.TD(g),h&&(o.rect=o.rect.sj(h)),!G.lc(g)||o.rect.$>3e4||o.rect.z>3e4)return null;var m=4*o.rect.f();return r&&r.byteLength>=m&&m>=r.byteLength>>2?o.buffer=new Uint8Array(r):o.buffer=a.I(m),a.F.drawImage(y,f,p.$,p.z,o.buffer,o.rect,e,s),o.buffer?o:void 0},j._.Qa=function(t,e,i,n,r,s){255==e.color&&a.UK(e.channel);var h=e.rect,o=a.I(4*h.f());a.kw(e.channel,o,3);var l=j._.SJ([o,h],n,r,s);l&&(i.rect=l.rect,i.channel=a.I(l.rect.f()),a.rY(l.buffer,i.channel,3),i.rb=!0),255==e.color&&(a.UK(e.channel),l&&a.UK(i.channel))},j._.HV=function(t){for(var e=[],i=t.v.length,n=0;n<i;n++)e.push(t.v[n].v);return e},j._.Sz=function(t){for(var e={t:"VlLs",v:[]},i=t.length,n=0;n<i;n++)e.v.push({t:"doub",v:t[n]});return e},j._.prototype.tJK=function(){var t=a.K.jm(a.UB.cq(this.BF.ld())),e=a.F.tn(this.nl.az(),this.Gi),i=[t.x,t.y,t.x+t.$,t.y,t.x+t.$,t.y+t.z,t.x,t.y+t.z];a.F.apply(e,i),this.nl.ly(i),this.Gi=t},j._.prototype.HA=function(t,e,i){var n=a.F.tn(this.nl.az(),this.Gi),r=1e-10;n=a.F.NE(n,a.F.UK(this.$K));var s=a.F.od(n),h=this.$B,o=a.F.od(h);this.$B=n;var l=Math.abs,u=Math.round,f=n[2]-h[2],c=n[5]-h[5],p=l(n[0]-h[0])<r&&l(n[1]-h[1])<r&&l(n[3]-h[3])<r&&l(n[4]-h[4])<r&&l(n[6]-h[6])<r&&l(n[7]-h[7])<r&&l(f-u(f))<r&&l(c-u(c))<r,v=0==this.Tf&&1==this.b.length&&this.Ji[0][2]&&0!=this.Ji[0][2].HQ.g.length;if(!p||0!=this.Tf||1!=i||0!=this.wP||v){var d=this.BF?this.BF.ld():null;if(0==this.Tf)j._.lI(t,e,this.b,this.Ji,i,n,d);else if(1==this.Tf){var y=t.b[this.b[0]],g=this.Eu.lU;if(y.G<=0){var m=j._.SJ([this.Eu.fg,g],i,n,d);y.UM.nI=m.buffer,y.UM.SB=m.rect;var w=a.I(m.rect.f());a.rY(y.UM.nI,w,3),t.t={channel:w,rect:y.UM.SB.clone()}}else{var b=a.I(4*g.f());a.kw(this.Eu.fg,b,3);m=j._.SJ([b,g],i,n,d);y.UM.nI=a.I(m.rect.f()),a.rY(m.buffer,y.UM.nI,3),y.UM.SB=m.rect,this.Qv(t,i,n,d)}y.cX(t,0,0,t.t),0==i&&y.hJ(),t.Ow=!0,t.r()}else 2==this.Tf&&this.Qv(t,i,n,d)}else j.UP.uw(t,this.b,j.UP.ob(t,this.b),Math.round(-o.DX+s.DX),Math.round(-o.Ug+s.Ug))},j._.prototype.Qv=function(t,e,i,n){var r=this.Ud.rect,s=a.I(4*r.f());a.kw(this.Ud.channel,s,3);var h=j._.SJ([s,r],e,i,n),o=a.I(h.rect.f());a.rY(h.buffer,o,3),t.t={channel:o,rect:h.rect},t.Ow=!0},j._.prototype.disable=function(t,e,i,n){this.nl&&this.qM(t,e,null,!0)},j.QE=function(){j._.call(this,[10,16],j._y,"tools/transform")},j.QE.prototype=new j._,j.Qh=function(){j._.call(this,[7,10],j.mE,"tools/transform")},j.Qh.prototype=new j._,j.tI=function(){j.mh.call(this,[10,37],j.pF,"tools/qselect"),this.Ua="qselect"},j.tI.prototype=new j.mh,j.tI.prototype.cL=function(t,e,i,n,r){this.Pa(t,i,n,r,1),null!=this.Uu&&this.ue(t)},j.tI.prototype.XY=function(t,e,i,n,r){null!=this.Uu&&(this.xR(t,e,i),r.Vv&&(this.Mq(t,i,n,r),this.ue(t)))},G.prototype.QW=function(){return-1!=this.kd},G.prototype.az=function(){return this.x_.slice(0)},G.prototype.ly=function(t){this.x_=t},G.prototype.tJz=function(){return this.ST(this.x_)},G.prototype.SH=function(t){return null==t&&(t=this.x_),9==this.ZI?this.kt:this.ST(t)[this.ZI]},G.prototype.tJZ=function(t){if(9==this.ZI)this.kt=t.clone();else{var e=this.SH(),i=new c(1,0,0,1,t.x-e.x,t.y-e.y);a.K.UC(this.x_,i,this.x_)}},G.prototype.lr=function(t,e,i){var n,r=this.$L(t,e);if(9==r)return"default";if(10==r&&i)return null;if(10==r&&!this.Ha)return"move";if(-1==r||4==r)return null;if(11==r){var s=this.SH().Tr(t);return n=90-180*Math.atan2(s.y,s.x)/Math.PI,h=((h=Math.round(n/360*8))+8)%8,this.HL[h]}this.Hs(t,this.x_);n=[135,90,45,180,0,0,225,270,315][r];var h,o=a.F.tn(this.x_);return n+=180*Math.atan2(-o[3],o[0])/Math.PI,"ew nesw ns nwse ew nesw ns nwse".split(" ")[h=((h=Math.round(n/360*8))+8)%8]+"-resize"},G.prototype.Hs=function(t,e){var i=a.F.UK(a.F.tn(e)),n=new Float64Array(2);return a.F.LH(t.x,t.y,i,n),new f(n[0],n[1])},G.prototype.w$=function(t){var e=this.Hs(t,this.x_);return 0<=e.x&&e.x<=1&&0<=e.y&&e.y<=1},G.prototype.cL=function(t,e,i,n,r){var s=t.n.s;if(null==this.x_&&(n=j.UP.ep(t,n,e)),this.dk=n.clone(),null==this.x_){this.dk.offset(1,1);var a=null==r?1:1/r;return this.x_=[n.x,n.y,n.x+1,n.y,n.x+1,n.y+a,n.x,n.y+a],this.Fr=this.x_.slice(0),this.kd=8,this.Qu(t),!0}this.Fr=this.x_.slice(0);var h=this.$L(n,s);return 0<=h&&h<=8&&(this.dk=this.ST(this.x_)[h]),this.kd=h,this.Qu(t),this.Hc=this.SH(),-1!=h},G.prototype.$L=function(t,e){var i=-1,n=this.ST(),r=6*bt.h()/e;if(-1==i&&f.Ln(this.SH(),t)<r&&(i=9),-1==i)for(var s=0;s<n.length;s++)4!=s&&f.Ln(n[s],t)<r&&(i=s);if(-1==i)if(this.w$(t))this.Ha&&(i=10);else{var a=this.Hs(t,this.x_),h=new L(0,0,1,1);h.FA(.2,.2),i=h.Eo(a)?11:10}return i},G.prototype.XY=function(t,e,i,n){if(-1!=this.kd){var r,s,h=i.l(W.Yz),o=i.l(W.kz),l=i.l(W.sf),u=t.n.s,p=this.dk,v=this.kd,d=this.ST(),y=(j.UP.ep(t,p,e),j.UP.ep(t,n,e));if(9==v){d=this.ST();for(var g=-1,m=0;m<d.length;m++)f.Ln(d[m],y)*u<10&&(g=m);this.ZI=-1==g?9:g,this.kt=y.clone()}else if(10==v){var w=(s=a.K.jm(this.Fr)).x,b=s.y;s.offset(n.x-p.x,n.y-p.y),this.Ql()&&(s.x=Math.round(s.x),s.y=Math.round(s.y)),r=j.UP.tg(t,s,e);var x=new c(1,0,0,1,s.x-w+r[0],s.y-b+r[1]);a.K.UC(this.Fr,x,this.x_)}else if(11==v){var M=(R=this.SH(this.Fr)).Tr(n),S=R.Tr(p),A=Math.atan2(M.y,M.x),k=Math.atan2(S.y,S.x),C=(x=new c(1,0,0,1,-R.x,-R.y),Math.PI/12);h?x.rotate(Math.round((k-A)/C)*C):x.rotate(k-A),x.translate(R.x,R.y),a.K.UC(this.Fr,x,this.x_)}else{var T,U=this.Fr,_=0==v||2==v||6==v||8==v;if(1==this.eg&&_&&(h=o=l=!0),this.tVs&&_&&l){T=U.slice(0);m=[0,0,2,0,0,0,6,0,4,0][v];var F=-1,O=y.x,L=y.y;if(h){var D=m+6&7,N=m+10&7,I=G.Qp(U[m],U[m+1],U[D],U[D+1],y.x,y.y),E=G.Qp(U[m],U[m+1],U[N],U[N+1],y.x,y.y);O=(nt=I[2]<E[2]?I:E)[0],L=nt[1],o&&(F=I[2]<E[2]?D:N)}else o&&(F=m+4&7);if(-1!=F){var P=U[F],J=U[F+1],B=(U[m]+P)/2,X=(U[m+1]+J)/2;T[F]=B-(O-B),T[F+1]=X-(L-X)}T[m]=O,T[m+1]=L}else{T=this.x_.slice(0),this.Ql()&&(y.x=Math.round(y.x),y.y=Math.round(y.y));var z=[0,1,2,5,8,7,6,3],$=z[(z.indexOf(v)+4)%8],V=[];for(m=0;m<3;m++)for(F=0;F<3;F++)V.push(new f(F/2,m/2));var R=this.Hc,q=this.Hs(y,U),H=this.Hs(p,U),Y=o?this.Hs(R,U):V[$],K=new c,Q=new c,Z=(q.x-Y.x)/(H.x-Y.x);0==Z&&(Z=1e-4);var tt=(q.y-Y.y)/(H.y-Y.y);if(0==tt&&(tt=1e-4),this.tVu&&(Z=Math.max(Z,0),tt=Math.max(tt,0)),0!=v&&2!=v&&6!=v&&8!=v||(h||this.Hv?K.scale(Z,Z):K.scale(Z,tt)),1==v||3==v||5==v||7==v){var et=this.Hv;1==v||7==v?K.scale(et?tt:1,tt):K.scale(Z,et?Z:1),this.tVZ&&l&&(1==v||7==v?Q.lA=(q.x-Y.x)/(q.y-Y.y):Q.H=(q.y-Y.y)/(q.x-Y.x))}T=[0,0,1,0,1,1,0,1];var it=new c;it.translate(-Y.x,-Y.y),it.concat(K),it.concat(Q),it.translate(Y.x,Y.y),a.K.UC(T,it,T);var nt=a.F.tn(U);a.F.apply(nt,T)}G.lc(T)&&(this.x_=T)}this.Qu(t),r&&j.UP.tG(t,s,r)}},G.Qp=function(t,e,i,n,r,s){var a=i-t,h=n-e,o=((r-t)*a+(s-e)*h)/(a*a+h*h),l=t+o*a,u=e+o*h,f=r-l,c=s-u;return[l,u,Math.sqrt(f*f+c*c)]},G.prototype.Ql=function(){var t=this.x_;return Math.abs(t[1]-t[3])<1e-6&&Math.abs(t[2]-t[4])<1e-6||Math.abs(t[0]-t[2])<1e-6&&Math.abs(t[3]-t[5])<1e-6},G.lc=function(t){return a.K.CO(t)||a.K.CO([t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]])},G.prototype.Nu=function(t,e,i,n){this.kd=-1,t.S.iG=null,t.un=!0},G.prototype.FJ=function(t,e,i){var n=i.Ik();if(n.x||n.y){var r=new c(1,0,0,1,n.x,n.y);return a.K.UC(this.x_,r,this.x_),this.Qu(t),!0}return!1},G.prototype.ST=function(t){null==t&&(t=this.x_);for(var e=t[6]-t[0],i=t[7]-t[1],n=t[4]-t[2],r=t[5]-t[3],s=[t[0],t[1],t[2],t[3],t[0]+e/2,t[1]+i/2,t[2]+n/2,t[3]+r/2,t[6],t[7],t[4],t[5]],a=[],h=0;h<3;h++){var o=4*h,l=s[o+0],u=s[o+1],c=s[o+2],p=s[o+3];a.push(new f(l,u)),a.push(new f(l+(c-l)/2,u+(p-u)/2)),a.push(new f(c,p))}return a},G.prototype.Qu=function(t,e){null==e&&(e=!1);var i=this.ST();if(t.S.rX={lX:[],Z:[]},t.S.rX.lX.push("M","L","L","L","L"),t.S.rX.Z.push(i[0].x,i[0].y,i[2].x,i[2].y,i[8].x,i[8].y,i[6].x,i[6].y,i[0].x,i[0].y),t.n._E=new L(0,0,f.Ln(i[0],i[2]),f.Ln(i[0],i[6])),!e){t.S.Lg=[];for(var n=0;n<i.length;n++)4!=n&&t.S.Lg.push(i[n].x,i[n].y);var r=this.SH();t.S.Lg.push(r.x,r.y)}t.un=!0},G.prototype.clear=function(t){t.n._E=null,t.S.iG=null,t.S.rX=null,t.S.Lg=[],t.un=!0},Y.prototype.ld=function(){return JSON.parse(JSON.stringify(this.UB))},Y.prototype.Qf=function(t){this.UB=JSON.parse(JSON.stringify(t))},Y.prototype.w$=function(t){return!0},Y.prototype.lr=function(t,e){return-1==this.$L(t,e)?"default":"pointer"},Y.prototype.cL=function(t,e,i,n){return this.kd=this.$L(n,t.n.s),-1!=this.kd},Y.prototype.$L=function(t,e){for(var i=-1,n=20*bt.h(),r=this.QB(),s=0;s<r.length;s++)f.Ln(r[s],t)*e<n&&(i=s);return i},Y.prototype.XY=function(t,e,i,n){if(-1!=this.kd){t.n.s;var r=this.kd,s=a.UB.cq(this.UB);s[2*r]=n.x,s[2*r+1]=n.y,a.UB.P$(s,this.UB)}},Y.prototype.Nu=function(t,e,i,n){this.kd=-1,t.un=!0},Y.prototype.FJ=function(t,e,i){var n=i.Ik();if(n.x||n.y){var r=new c(1,0,0,1,n.x,n.y);a.K.UC(this.x_,r,this.x_),this.Qu(t)}},Y.prototype.QB=function(t){for(var e=a.UB.cq(this.UB),i=[],n=0;n<e.length;n+=2)i.push(new f(e[n],e[n+1]));return i},Y.prototype.Qu=function(t){var e=this.QB();t.S.rX={lX:[],Z:[]},t.S.rX.lX.push("M","C","C","C","C");for(var i=[0,1,2,3,7,11,15,14,13,12,8,4,0],n=0;n<i.length;n++)t.S.rX.Z.push(e[i[n]].x,e[i[n]].y);t.S.rX.lX.push("M","L","L","M","L","L","M","L","L","M","L","L"),i=[4,0,1,2,3,7,11,15,14,13,12,8];for(n=0;n<i.length;n++)t.S.rX.Z.push(e[i[n]].x,e[i[n]].y);t.S.Lg=[];for(n=0;n<e.length;n++)t.S.Lg.push(e[n].x,e[n].y);t.un=!0},Y.prototype.clear=function(t){t.S.rX=null,t.S.Lg=[],t.un=!0};var K={Dc:function(t){this.id=t}};K.Dc.prototype.Ly=function(t,e,i,n,r){},K.Dc.prototype.wD=function(t,e){},K.Dc.prototype.mK=function(t,e){},K.History=function(){K.Dc.call(this,j.ni),this.$z=!0,this.HE=0},K.History.prototype=new K.Dc,K.History.prototype.Ly=function(t,e,i,n){if("h_itemchange"==t.X){if(t.index<i.ei)for(var r=i.ei;r>t.index;r--)this.lG(i);if(t.index>i.ei)for(r=i.ei;r<t.index;r++)this.lx(i)}if("h_stepfwd"==t.X&&this.lx(i),"h_stepbck"==t.X&&this.lG(i),"h_undoredo"==t.X){var s=this.$z||this.HE!=i.ei;s?(this.lG(i),s=!1):(this.lx(i),s=!0),this.$z=s,this.HE=i.ei}else this.$z=!0},K.History.prototype.lG=function(t){if(0!=t.ei){var e=t.history[t.ei];e.c.mK(e.data,t),t.ei--}},K.History.prototype.lx=function(t){if(t.ei!=t.history.length-1){var e=t.history[t.ei+1];e.c.wD(e.data,t),t.ei++}},K.l$=function(){K.Dc.call(this,j.uh)},K.l$.prototype=new K.Dc,K.l$.prototype.Ly=function(t,e,i,r,h){var o=t.X,l=null!=t.i?t.i:0!=i.g.length?i.g[0]:i.b.length-1,u=i.b[l];if(o==nt.Pt&&null==i.t&&(o=nt.nJ),o==nt.HH){var f=new Z([6,33],this),c=u.oP()?["pass"].concat(it.Cj):it.Cj;f.data={X:o,i:l,SP:u.kE,UG:c[t.UG]},i.Af(f),this.wD(f.data,i)}o==nt.CY&&((et=i.lk())&&et.data&&et.data.X==o&&et.data.i==l?f=et:((f=new Z([6,32],this)).data={X:o,i:l,SP:u.opacity,UG:t.UG},i.Af(f)),f.data.UG=t.UG,this.wD(f.data,i));o==nt.rx&&(null==u.add.iOpa&&(u.add.iOpa=255),(et=i.lk())&&et.data&&et.data.X==o&&et.data.i==l?f=et:((f=new Z("Fill Opacity Change",this)).data={X:o,i:l,SP:u.add.iOpa,UG:t.UG},i.Af(f)),f.data.UG=t.UG,this.wD(f.data,i));if(o==nt.Hw){null==u.add.lspf&&(u.add.lspf=0);for(var p=u.add.lspf,v=p,d=t.UG,y=0;y<d[0].length;y++){var g=1<<d[1][y];0==(v&g)&&d[0][y]?v^=g:0==(v&g)||d[0][y]||(v^=g)}if((et=i.lk())&&et.data&&et.data.X==o&&et.data.i==l)f=et;else(f=new Z([6,57,1],this)).data={X:o,i:l,SP:p,UG:v},i.Af(f);f.data.UG=v,this.wD(f.data,i)}if(o==nt.rS){var m="----",w=t.de;for(v=null,y=0;y<wt.Lx.yc.length;y++)u.add[wt.Lx.yc[y]]&&(m=wt.Lx.yc[y]);var b=u.add[m];"TySh"==w&&(v=dt.YD(50,50,h.iJ)),(f=new Z("Layer Type",this)).data={X:o,i:l,Hz:[m,b],de:[w,v]},i.Af(f),this.wD(f.data,i)}if(o==nt.Eh){var x=[];if(r.l(W.kz)){var M=i.lk(),S=M?M.data:null;if(null!=M&&M.c==this&&S.X==nt.Eh&&1!=S.kV.length){var A=new xt(bt.E.W);if(A.c=j.ni,A.data={X:"h_stepbck"},e.N(A),S.i==l)return}for(var k=i.root.oo(l),C=i.MC(null,l);k.parent!=i.root;)C.push(k.parent.index),k=k.parent;for(y=0;y<i.b.length;y++){var T=(Et=i.b[y]).op();!(-1!=C.indexOf(y))&&T&&x.push(y),y!=l||T||x.push(y)}}else x.push(l);(f=new Z("Layer visibility",this,!0)).data={X:o,kV:x,i:l},i.Af(f),this.wD(f.data,i)}if(o==nt.rE){0!=i.n.uQ&&(i.n.uQ=0,i.un=!0);var U=!1;if(r.l(W.sf))-1==(Zt=i.g.indexOf(l))?i.g.push(l):i.g.length>1&&i.g.splice(Zt,1),i.g.sort((function(t,e){return t-e}));else if(r.l(W.Yz)&&t.rg>0)o=1==t.rg?nt.v_:2==t.rg?nt.CK:nt.rA,U=!0;else if(r.l(W.Yz)&&i.g.length>0){var _=Math.min(l,i.g[0]),F=Math.max(l,i.g[i.g.length-1]);i.g=[];for(y=_;y<=F;y++)i.g.push(y)}else i.g=[l];if(!U){if(1==i.g.length){var O=i.g[0];for(y=0;y<i.b.length;y++){if(y!=O)(Vt=i.b[y]).G=0,Vt.uv=!1}u=i.b[O];2==t.rg?u.uv=!u.uv:u.G=t.rg<=0?0:t.rg}else for(y=0;y<i.b.length;y++){(Vt=i.b[y]).G=0,Vt.uv=!1}i.kJ=!0}}if(o==nt.v_||o==nt.rA){var D=o==nt.v_;if(null==(N=D?u.Ab():u.hy(i).d))return;(f=new Z(N.isEnabled?D?[6,15]:[6,42]:D?[6,14]:[6,41],this)).data={X:o,i:l},i.Af(f),this.wD(f.data,i)}if(o==nt.CK){var N;if(null==(N=u.add.vmsk))return;(f=new Z(N.isEnabled?[6,17]:[6,16],this)).data={X:o,i:l},i.Af(f),this.wD(f.data,i)}if(o==nt.fN&&(u.add.lsct==rt.Gp?u.add.lsct=rt.Vc:u.add.lsct=rt.Gp,i.kJ=!0),o==nt.Ei){if(!i.HG(l))return;(f=new Z(u.fB?[6,19]:[6,18],this)).data={X:o,i:l},i.Af(f),this.wD(f.data,i)}(o==nt.fF&&(u.Jq()?u._c-=32:u._c+=32,i.kJ=!0),o==nt.HD||o==nt.wJ)&&(o==nt.HD&&(f=new Z(u.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this)),o==nt.wJ&&(f=new Z(u.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this)),f.data={X:o,i:l},i.Af(f),this.wD(f.data,i));if(o==nt.Hd||o==nt.wr){O=t.index;o==nt.Hd&&(f=new Z(u.add.lmfx[ot.vz[O[0]]].v[O[1]].v.enab.v?[6,30]:[6,29],this)),o==nt.wr&&(f=new Z(u.add.SoLd.filterFX.v.filterFXList.v[O].v.enab.v?[6,44]:[6,43],this)),f.data={X:o,i:l,index:t.index},i.Af(f),this.wD(f.data,i)}if(o==nt.Hb){if(t.src==t.Tl)return;var I=i.b[t.src],E=i.b[t.Tl],P=I.add.lmfx?JSON.stringify(I.add.lmfx):"",J=E.add.lmfx?JSON.stringify(E.add.lmfx):"";if(null==E.add.lmfx){E.add.lmfx=JSON.parse(ot.default);for(y=0;y<ot.order.length;y++)E.add.lmfx[ot.vz[y]]={t:"VlLs",v:[]}}if(null==t.Hn)E.add.lmfx=JSON.parse(P),t.EF||delete I.add.lmfx;else{var B=t.Hn[0],X=ot.vz[B];-1==ot.ju.indexOf(ot.order[B])&&(E.add.lmfx[X].v=[]),E.add.lmfx[X].v.push(I.add.lmfx[X].v[t.Hn[1]]),t.EF||I.add.lmfx[X].v.splice(t.Hn[1],1)}var z=I.add.lmfx?JSON.stringify(I.add.lmfx):"",$=E.add.lmfx?JSON.stringify(E.add.lmfx):"";E.Jq()||(E._c+=32),(f=new Z("Move Layer Styles",this)).data={X:o,Hk:t.src,wG:t.Tl,t$w:P,t$L:J,t$C:z,t$T:$},i.Af(f),this.wD(f.data,i)}if(o==nt.Kx||o==nt.fu){var V=o==nt.Kx;if(V&&t.src==t.Tl)return;var R=JSON.parse(JSON.stringify(u.add.SoLd.filterFX.v)),q=JSON.parse(JSON.stringify(R)),H=q.filterFXList.v;V?(H.splice(t.Tl,0,H[t.src]),H.splice(t.src+(t.src<t.Tl?0:1),1)):H.splice(t.pV,1),(f=new Z(V?[6,52]:[6,53],this)).data={X:nt.KM,i:l,t$M:R,t$S:q},i.Af(f),this.wD(f.data,i)}o==nt.rR&&((f=new Z((N=u.Ab()).WZ?[6,26]:[6,25],this)).data={X:o,i:l},i.Af(f),this.wD(f.data,i));o==nt.rC&&((f=new Z((N=u.add.vmsk).WZ?[6,28]:[6,27],this)).data={X:o,i:l},i.Af(f),this.wD(f.data,i));if(o==nt.rd){var G=[];for(y=0;y<i.g.length;y++){var Y=i.g[y];(Et=i.b[Y]).add.vogk&&G.push(Y,JSON.stringify(Et.add.vogk))}a.FU.tto(i,t.SZ,t.t$v);var Q=[];for(y=0;y<i.g.length;y++){Y=i.g[y];(Et=i.b[Y]).add.vogk&&Q.push(Y,JSON.stringify(Et.add.vogk))}var et;if((et=i.lk())&&et.data&&et.data.X==o){var st=!0;for(y=0;y<G.length;y+=2)G[y]!=et.data.wm[y]&&(st=!1);st&&((f=et).data.SV=Q)}if(null==f)(f=new Z([12,91,1],this)).data={X:o,wm:G,SV:Q},i.Af(f);this.wD(f.data,i)}o==nt.uD&&((f=new Z(t._F,this)).data={X:nt.uD,zh:i.b.slice(0),_b:t._b,Fn:i.g.slice(0),sX:t._k},i.Af(f),this.wD(f.data,i));if(o==nt.vN){var ht=i.MC(null,t.i),ut=1e10;if(0==ht.length)return;if(i.b.length==ht.length)return void alert("Project must have at least 1 layer");var ft=[];for(y=0;y<i.b.length;y++)-1==ht.indexOf(y)&&ft.push(i.b[y]);for(y=0;y<ht.length;y++)ut=Math.min(ut,ht[y]);for(ut=Math.max(ut-1,0);"</Layer group>"==ft[ut].name;)ut++;(f=new Z([6,31],this)).data={X:nt.uD,zh:i.b.slice(0),_b:ft,Fn:i.g.slice(0),sX:[ut]},i.Af(f),this.wD(f.data,i)}if(o==nt.JA){var ct=0,yt=!1;if(0==(C=i.g).length)return;if(1==C.length&&0==i.b[C[0]].nb)return void alert(n.get([15,7,5]));var gt=[];for(y=0;y<i.b.length;y++){var mt=i.b[y].nb;gt.push(mt),ct=Math.max(ct,mt)}var Mt=-1,St=-1;for(y=0;y<C.length;y++){0==(mt=i.b[C[y]].nb)?yt=!0:-1==Mt||Mt==mt?Mt=mt:St=mt}if(yt)if(-1!=Mt&&-1==St)for(y=0;y<C.length;y++)i.b[C[y]].nb=Mt;else for(y=0;y<C.length;y++)i.b[C[y]].nb=ct+1;else for(var y=0;y<C.length;y++)i.b[C[y]].nb=0;var At=[];for(y=0;y<i.b.length;y++){null==At[mt=i.b[y].nb]&&(At[mt]=0),At[mt]++}for(y=0;y<i.b.length;y++){1==At[mt=i.b[y].nb]&&(i.b[y].nb=0)}var kt=gt;gt=[];for(y=0;y<i.b.length;y++){mt=i.b[y].nb;gt.push(mt),ct=Math.max(ct,mt)}(f=new Z(yt?[6,54,0]:[6,54,1],this)).data={X:nt.JA,t$j:kt,t$K:gt},i.Af(f),this.wD(f.data,i)}if(o==nt.nJ||o==nt.jN){var Ct=i.HK(o==nt.nJ?t.i:l);if(o==nt.jN){var Tt=(Vt=Ct[0]).add.SoLd.Idnt.v,Ut=i.nF(Tt).clone();Vt.add.SoLd.Idnt.v=Ut.VB=at.kf()+Tt.slice(8),i.add.lnk2.push(Ut)}o=nt.HS,t.b=Ct,t.Ts=i,t.dN=i}if(o==nt.HS){var _t=t.Ts,Ft=t.dN;if(_t!=Ft){new L(0,0,_t.$,_t.z),new L(0,0,Ft.$,Ft.z);var Ot=[],Lt=[];for(y=0;y<t.b.length;y++){if(null!=(Vt=t.b[y]).add.SoLd){Tt=Vt.add.SoLd.Idnt.v;-1==Ot.indexOf(Tt)&&(Ot.push(Tt),Lt.push(at.kf()+Tt.slice(8))),Vt.add.SoLd.Idnt.v=Lt[Ot.indexOf(Tt)]}}if(Ot.length>0){null==Ft.add.lnk2&&(Ft.add.lnk2=[]);for(y=0;y<Ot.length;y++){var Dt;(Ut=(Dt=_t.nF(Ot[y])).clone()).VB=Lt[y],Ft.add.lnk2.push(Ut)}}}(Yt=Ft.g.slice(0)).sort((function(t,e){return t-e}));ft=Ft.b.slice(0);var Nt=[],It=-1;for(y=0;y<Yt.length;y++)It=Math.max(It,Yt[y]);It++;for(y=0;y<t.b.length;y++){var Et=t.b[y];ft.splice(It,0,Et),Nt.push(It),It++}(f=new Z([6,0],this)).data={X:nt.uD,zh:Ft.b.slice(0),_b:ft,Fn:Yt,sX:Nt},Ft.Af(f),this.wD(f.data,Ft)}if(o==nt.jF){var Pt=i.MC();for(ft=i.b.slice(0),y=0;y<Pt.length;y++){(Et=i.b[Pt[y]].clone()).fb(i),ft.splice(Pt[y],1,Et)}(f=new Z([6,8],this)).data={X:nt.uD,zh:i.b.slice(0),_b:ft,Fn:i.g.slice(0),sX:i.g.slice(0)},i.Af(f),this.wD(f.data,i)}if(o==nt.KJ){Pt=i.MC(),ft=i.b.slice(0);var Jt=new at("hi");for(y=0;y<Pt.length;y++){var Bt=(pe=i.b[Pt[y]]).op();pe.cE(!0);var Xt=i.root.oo(Pt[y]);if(!pe.oP()&&null!=Xt){(Et=pe.clone()).fb(i);var zt=Xt.AK(i,!0);Et.rect.offset(-zt.x,-zt.y),Et.d&&Et.d.rect.offset(-zt.x,-zt.y),Jt.$=zt.$,Jt.z=zt.z,Jt.rM([Et]),Jt.r(),Jt.LD(),Et.buffer=a.I(4*zt.f()),a.sa(Jt.cn(),Et.buffer),Et.rect=zt,Et.r(),Et.D._$=!0,Et.add.lmfx&&delete Et.add.lmfx,Et.d=Et.qz=null,ft.splice(Pt[y],1,Et),Et.cE(Bt),pe.cE(Bt)}}(f=new Z([6,34],this)).data={X:nt.uD,zh:i.b.slice(0),_b:ft,Fn:i.g.slice(0),sX:i.g.slice(0)},i.Af(f),this.wD(f.data,i)}if(o==nt.fs){for(Pt=i.MC(),ft=i.b.slice(0),y=0;y<Pt.length;y++){var $t=(Et=i.b[Pt[y]]).add.TySh;if(null!=$t){var Vt=new vt($t.Bd,h.LS),Rt=a.K.tVJ(pt.Yx(Vt,$t));for(var qt in Rt){var Ht=Rt[qt];Ht=a.K.kX(Ht),delete(Ne=Et.clone()).add.TySh,Ne._c=16|Ne._c,Ne.add.SoCo=JSON.parse(JSON.stringify(ot.Ks[0]));var jt=Ne.add.SoCo.Clr.v;jt.Rd.v=parseInt(qt.slice(1,3),16),jt.Grn.v=parseInt(qt.slice(3,5),16),jt.Bl.v=parseInt(qt.slice(5,7),16);var Gt=new nt.hT;Gt.L=a.K.tVw(Ht),null!=Ne.add.vmsk&&(Ne.add.vmsk.tyz(),Gt.concat(Ne.add.vmsk)),Ne.add.vmsk=Gt,Ne.add.vstk=JSON.parse(JSON.stringify(ot.nO.default)),Ne.Sa(i),ft.splice(ft.indexOf(Et),0,Ne)}ft.splice(ft.indexOf(Et),1)}}(f=new Z([6,40],this)).data={X:nt.uD,zh:i.b.slice(0),_b:ft,Fn:i.g.slice(0),sX:i.g.slice(0)},i.Af(f),this.wD(f.data,i)}if(o==nt.Jj){var Yt=i.g.slice(0),Kt=i.b.slice(0);if(0==(Pt=i.MC()).length)return;i.jW(Pt),(f=new Z([6,36,0],this)).data={X:nt.uD,zh:Kt,_b:i.b.slice(),Fn:Yt,sX:i.g.slice(0)},i.Af(f),this.wD(f.data,i)}o==nt.rr&&((Ut=(Dt=t.Ti.nF(t.id)).clone()).raw=t.data,Ut.gZ="8BIM",Ut.uV="8BPB",Ut.Xl=Ut.Xl+".psd",(f=new Z([6,36,1],this)).data={X:nt.rr,id:t.id,wu:Dt,IM:Ut},t.Ti.Af(f),this.wD(f.data,t.Ti));if(o==nt.fU){var Qt,Wt;t.Es?(Qt=t.Ti,Wt=t.Es):(t.Ti.f$(),t.Ti.HZ(),t.Ti.r(),t.Ti.LD(),t.Ti.cn(),Qt=s.PSD.Dz(t.Ti,0,0,[!0,!0]),Wt=t.Ti.name),Qt=new Uint8Array(Qt);var Zt=null!=t.oM?t.oM:i.g[i.g.length-1]+1,te=i.Pd(Qt,Wt,0,0);(ft=i.b.slice(0)).splice(Zt,0,te),(f=new Z([6,36,2],this)).data={X:nt.uD,zh:i.b.slice(),_b:ft,Fn:i.g.slice(0),sX:[ft.indexOf(te)]},i.Af(f),this.wD(f.data,i)}if(o==nt.CM||o==nt.JK){Kt=i.b.slice(0),Yt=i.g.slice(0);var ee=!0;o==nt.CM&&(i.g=[i.g[0],i.g[0]-1]),(Pt=i.MC()).sort((function(t,e){return t-e}));var ie=new L,ne=new L(0,0,i.$,i.z);for(y=0;y<Pt.length;y++){Y=Pt[y],Et=i.b[Y];ee=ee&&Et.TT()&&null!=Et.add.vmsk,ie=ie.Fv(i.root.oo(Y).AK(i,!0))}if(ee){var re=(te=i.b[Pt[0]].clone()).add.vmsk;for(y=1;y<Pt.length;y++){var se=i.b[Pt[y]],ae=nt.hT.Cx(se.add.vmsk.L);re.L=re.L.concat(ae.slice(2)),te.add.vogk=te.add.vogk.concat(JSON.parse(JSON.stringify(se.add.vogk)))}te.add.vmsk.rb=!0,te.Sa(i)}else if(ne.pk(ie)){(te=i.Zs()).Vp(i.b[Pt[Pt.length-1]].getName()),te.rect=ie,te.buffer=a.I(4*ie.f());var he=i.cn(Pt);a.Pg(he,ne,te.buffer,ie),te.r()}else{i.jW(Pt,!0),te=i.b[i.g[0]],i.b.splice(i.g[0],1);var oe=i.nF(te.add.SoLd.Idnt.v);i.add.lnk2.splice(i.add.lnk2.indexOf(oe),1),delete te.add.SoLd}for(ft=[],y=0;y<i.b.length;y++)(r.l(W.kz)||-1==Pt.indexOf(y))&&ft.push(i.b[y]);var le=Pt[Pt.length-1],ue=le==i.b.length-1?null:i.b[le+1],fe=ue?ft.indexOf(ue):ft.length;ft.splice(fe,0,te),Nt=[fe],(f=new Z([6,12],this)).data={X:nt.uD,zh:Kt,_b:ft,Fn:Yt,sX:Nt},i.Af(f),this.wD(f.data,i)}if(o==nt.Hl||o==nt.TG||o==nt.fL||o==nt.rh||o==nt.Pt){Et=i.Zs();var ce=n.get([0,3]);if(o==nt.TG&&(ce=n.get(tt.names[t.qd])),o==nt.fL&&(ce=n.get(null==t.aO?[12,76,1]:[6,48,0,t.aO])),Et.Vp(ce+" "+i.b.length),o==nt.Pt){var pe,ve=(pe=i.b[i.g[0]]).fD(i,i.t);if(null==ve)return void alert("Copied area is empty");Et.rect=ve.rect,Et.buffer=ve.fg}if(o==nt.rh&&(Et.rect=K.l$.OI(t.lD,i),Et.buffer=a.clone(t.lD.buffer)),o==nt.TG&&(Et._c|=16,tt.jw(t.qd,Et.add),Et.d=K.l$.QF(i)),o==nt.fL){var de;if(Et._c|=16,0==t.pZ?Et.d=K.l$.QF(i):(Et.add.vmsk=new nt.hT,Et.add.vogk=[],Et.add.vstk=JSON.parse(JSON.stringify(ot.nO.default))),null!=t.aO)de=["SoCo","GdFl","PtFl"][t.aO],Et.add[de]=JSON.parse(JSON.stringify(ot.Ks[t.aO]));else{var ye=h.gq;Et.add.vstk=JSON.parse(JSON.stringify(h.ga)),de=["none","SoCo","GdFl","PtFl"][ye.uV],j.HC.nj(Et,ye),0==ye.uV&&(Et.add.SoCo=JSON.parse(JSON.stringify(ot.Ks[0])))}"PtFl"==de&&i.EO(lt.bE(Et.add[de].Ptrn.v,h.wg)),Et.Sa(i)}var ge=(Oe=0==i.g.length?i.b.length-1:i.g[i.g.length-1])+1;i.b[Oe].add.lsct==rt.Gp&&ge--,(ft=i.b.slice(0)).splice(ge,0,Et);var me=[5,2];if(o==nt.Hl&&(me=[6,13]),o==nt.TG&&(me=[6,1]),o==nt.fL&&(me=[6,48,1]),o==nt.Pt&&(me=[6,49]),(f=new Z(me,this)).data={X:nt.uD,zh:i.b.slice(0),_b:ft,Fn:i.g.slice(0),sX:[ge]},i.Af(f),this.wD(f.data,i),o==nt.fL&&0==t.pZ||o==nt.TG){var we=new xt(bt.E.Y);we.data={X:bt.m.yP,gL:"properties"},e.N(we)}}if(o==nt.KG){(Et=i.Zs()).Vp(n.get([0,4])+" "+i.b.length),Et.kE="pass",Et.add.lsct=rt.Gp,Et._c=24;var be=i.sd();ge=(Oe=l)+1;(ft=i.b.slice(0)).splice(ge,0,be,Et),(f=new Z([6,20],this)).data={X:nt.uD,zh:i.b.slice(0),_b:ft,Fn:i.g.slice(0),sX:[ge+1]},i.Af(f),this.wD(f.data,i)}if(o==nt.TS||o==nt.TW){var xe,Me,Se=o==nt.TS?t.source:i.g[0],Ae=r.l(W.kz);if((Fe=-1!=i.g.indexOf(Se)?i.MC():i.wK(Se)).sort((function(t,e){return t-e})),o==nt.TS)xe=t.target,Me=t.Ih>.5;else{var ke=t.gE;if(Me=ke>1,0==ke&&(xe=i.b.length-1),1==ke)xe=Fe[Fe.length-1]+1,-1==(se=i.wK(xe)).indexOf(Se)&&(xe+=se.length-1);if(2==ke)xe=Fe[0]-1,-1==(se=i.wK(xe)).indexOf(Se)&&(xe-=se.length-1);if(3==ke&&(xe=0),xe<0||xe>i.b.length-1)return;i.EV=!0}if(-1!=Fe.indexOf(xe))return;var Ce=i.b[xe];ft=[];if(Ae)ft=i.b.slice(0);else for(y=0;y<i.b.length;y++)-1==Fe.indexOf(y)&&ft.push(i.b[y]);var Te=ft.indexOf(Ce);o==nt.TS&&Ce.oP()&&Ce.add.lsct==rt.Vc&&t.Ih>.8&&(Te-=i.wK(xe).length-1);var Ue=[];for(y=0;y<Fe.length;y++){var _e=Te+(Me?0:1)+y;Vt=i.b[Fe[y]];Ae&&(Vt=Vt.clone()),ft.splice(_e,0,Vt),Ue.push(_e)}(f=new Z(Ae?[6,0]:[6,35],this)).data={X:nt.uD,zh:i.b.slice(0),_b:ft,Fn:i.g.slice(0),sX:Ue},i.Af(f),this.wD(f.data,i)}if(o==nt.ri){(Et=i.Zs()).Vp(n.get([0,4])+" "+i.b.length),Et.kE="pass",Et.add.lsct=rt.Gp,Et._c=24;var Fe;be=i.sd();if(0==(Fe=i.MC()).length)return;Fe.sort((function(t,e){return t-e}));for(ft=[],y=0;y<i.b.length;y++)-1==Fe.indexOf(y)&&ft.push(i.b[y]);var Oe=i.g[i.g.length-1]-Fe.length;ft.splice(Oe+1,0,be);for(y=0;y<Fe.length;y++)ft.splice(Oe+2+y,0,i.b[Fe[y]]);ft.splice(Oe+2+Fe.length,0,Et),(f=new Z([6,9],this)).data={X:nt.uD,zh:i.b.slice(0),_b:ft,Fn:i.g.slice(0),sX:[ft.indexOf(Et)]},i.Af(f),this.wD(f.data,i)}if(o==nt.fk){if(1!=i.g.length)return;Zt=i.g[0];o=null==i.b[Zt].Ab()?nt.nK:nt.Ea}if(o==nt.nK){if(1!=i.g.length)return;Zt=i.g[0];var Le=i.b[Zt].Ab();if(null==Le||t.t$Y){var f=new Z([6,21],this),De=new nt.qu;(t.Lm||r.l(W.kz))&&(De.color=0),null!=i.t&&(De.color=0,De.channel=a.clone(i.t.channel),De.rect=i.t.rect.clone()),f.data={X:o,i:Zt,d:De,$Z:Le},i.Af(f),this.wD(f.data,i)}}else if(o==nt.Jb){I=i.b[t.src];if((E=i.b[t.Tl]).Ab())return;f=new Z([6,21],this),De=I.Ab();t.EF?f.data={X:nt.nK,i:t.Tl,d:De.clone()}:f.data={X:o,src:t.src,Tl:t.Tl,d:De},i.Af(f),this.wD(f.data,i)}if(o==nt.rU){if(1!=i.g.length)return;Zt=i.g[0];if(null!=i.b[Zt].Ab())(f=new Z([6,22],this)).data={X:o,i:Zt,d:i.b[Zt].Ab()},i.Af(f),this.wD(f.data,i)}if(o==nt.KT){Kt=i.b.slice(0);var Ne,Ie=(Ne=u.clone()).Ab();a.Sm(Ie.Qd(Ne.rect),Ne.rect,Ne.buffer,Ne.rect),K.l$.wn(i,Ne),i.b[i.g[0]]=Ne,(f=new Z([5,8],this)).data={X:nt.uD,zh:Kt,_b:i.b.slice(),Fn:i.g.slice(0),sX:i.g.slice(0)},i.Af(f),this.wD(f.data,i)}if(o==nt.rB){if(1!=i.g.length)return;Zt=i.g[0];if(null==i.b[Zt].hy(i).d)(f=new Z([6,45],this)).data={X:o,i:Zt,d:new nt.qu},i.Af(f),this.wD(f.data,i)}if(o==nt.rZ){if(1!=i.g.length)return;Zt=i.g[0];if(null!=i.b[Zt].hy(i).d)(f=new Z([6,46],this)).data={X:o,i:Zt,d:i.b[Zt].hy(i).d},i.Af(f),this.wD(f.data,i)}if(o==nt.wH){if(null==t.i&&1!=i.g.length)return;if(i.b[l].kl())(f=new Z([6,47],this)).data={X:o,i:l,t$b:i.b[l].add.SoLd.filterFX,uK:i.b[l].hy(i)},i.Af(f),this.wD(f.data,i)}if(o==nt.Ea){if(1!=i.g.length)return;if(null==u.add.vmsk){f=new Z([6,23],this);(De=new nt.hT).L[1].all=t.Lm?1:0,f.data={X:o,i:l,$A:!0,d:De,FU:"[]",nO:null},u.TT()&&(f.data.nO=JSON.stringify(ot.nO.default)),i.Af(f),this.wD(f.data,i)}}if(o==nt.Jk){I=i.b[t.src];if((E=i.b[t.Tl]).add.vmsk)return;f=new Z([6,23],this),re=I.add.vmsk;f.data={i:t.Tl,$A:I.uv,d:re.clone(),FU:JSON.stringify(I.add.vogk),nO:I.add.vstk?JSON.stringify(I.add.vstk):null},t.EF?f.data.X=nt.Ea:(f.data.X=o,f.data.src=t.src,f.data.Tl=t.Tl),i.Af(f),this.wD(f.data,i)}if(o==nt.HJ){if(1!=i.g.length)return;if(null!=(re=(Et=i.b[l]).add.vmsk))(f=new Z([6,24],this)).data={X:o,i:l,$A:Et.uv,d:re,FU:JSON.stringify(Et.add.vogk),nO:Et.add.vstk?JSON.stringify(Et.add.vstk):null},i.Af(f),this.wD(f.data,i)}if(o==nt.ro){if((Ee=i.name)==(Pe=t.R+".psd"))return;(f=new Z([6,37],this)).data={X:o,$k:Ee,hE:Pe},i.Af(f),this.wD(f.data,i)}if(o==nt.HU){var Ee,Pe;if((Ee=u.getName())==(Pe=t.name.substring(0,255)))return;(f=new Z([6,37],this)).data={X:o,i:l,$k:Ee,hE:Pe,IK:u.add.lnsr,IN:null},i.Af(f),this.wD(f.data,i)}if(o==nt.wt){var Je=i.MC(),Be=[],Xe=[];for(y=0;y<Je.length;y++)Be.push(i.b[Je[y]].add.lclr),Xe.push(t.t$B);(f=new Z([6,38],this)).data={X:o,b:Je,t$Z:Be,t$A:Xe},i.Af(f),this.wD(f.data,i)}o==nt.rF&&(null!=(f=i.history[i.ei])&&f.c==this&&f.data.X==o&&f.data.i==t.$_&&f.data.UG.hA==t.ew.hA?f.data.UG=t.ew:((f=new Z("Mask Density / Feather",this)).data={X:o,i:t.$_,uY:i.b[t.$_].fz(t.ew.hA),UG:t.ew},i.Af(f)),this.wD(f.data,i));if(o==nt.wL){var ze=JSON.stringify(t.R),$e=JSON.parse(ze);if(null!=(f=i.history[i.ei])&&f.c==this&&f.data.X==o&&f.data.aO==t.aO&&f.data.ra==t.ra&&f.data.kV.join(",")==t.kV.join(","))for(y=0;y<t.kV.length;y++)f.data.Jt[y]=$e;else{(f=new Z("Edit Style",this)).data={X:o,kV:t.kV,ra:t.ra,IF:[],Jt:[]};var Ve=!1;for(y=0;y<t.kV.length;y++){Y=t.kV[y],Et=i.b[Y];var Re=t.ra?j.HC.Qw(i,Y):JSON.parse(JSON.stringify(Et.add.vstk));f.data.IF.push(Re),f.data.Jt.push($e),JSON.stringify(Re)!=ze&&(Ve=!0)}if(!Ve)return;i.Af(f)}if(t.ra&&3==$e.uV&&i.EO(lt.bE($e.uL.Ptrn.v,h.wg)),!t.ra){var qe=$e.strokeStyleContent.v;qe.classID==ot.nO.aw[2]&&i.EO(lt.bE(qe.Ptrn.v,h.wg))}this.wD(f.data,i)}},K.l$.QF=function(t){var e=new nt.qu;return null!=t.t&&(e.color=0,e.channel=a.clone(t.t.channel),e.rect=t.t.rect.clone()),e},K.l$.Or=function(t,e){for(var i=0;i<t.b.length;i++){var n=t.b[i];null!=n.add.SoLd&&n.add.SoLd.Idnt.v==e&&n.fc(t)}t.r()},K.l$.tHV=function(t,e,i){e.color=255-e.color,a.UK(e.channel),e.rb=!0,t.Sa(i),i.r()},K.l$.prototype.mK=function(t,e){var i,n=t.X,r=e.b[t.i];if(n==nt.rr&&(e.add.lnk2.splice(e.add.lnk2.indexOf(t.IM),1,t.wu),K.l$.Or(e,t.id)),n==nt.HH&&(r.kE=t.SP,e.r()),n==nt.CY&&(r.opacity=t.SP,e.r()),n==nt.Hw&&(r.add.lspf=t.SP),n==nt.rS){var s=t.de,h=t.Hz;delete r.add[s[0]],"----"!=h[0]&&(r.add[h[0]]=h[1])}if(n==nt.rx&&(r.add.iOpa=t.SP,e.r()),n==nt.Eh){for(var o=0;o<t.kV.length;o++){(b=e.b[t.kV[o]]).cE(!b.op())}e.r()}n==nt.v_&&((i=r.Ab()).isEnabled=!i.isEnabled,r.Sa(e),e.r());n==nt.rA&&((i=r.hy(e).d).isEnabled=!i.isEnabled,r.r(),e.r());n==nt.CK&&((i=r.add.vmsk).isEnabled=!i.isEnabled,i.isEnabled?r.d&&(r.qz=r.d,r.d=null):r.qz?(r.d=r.qz,r.qz=null):r.d=null,r.Sa(e),e.r());if(n==nt.Ei&&(r.fB=!r.fB,e.r()),n==nt.HD&&(r.add.lmfx.masterFXSwitch.v=!r.add.lmfx.masterFXSwitch.v,r.D._$=!0,e.r()),n==nt.wJ&&(r.add.SoLd.filterFX.v.enab.v=!r.add.SoLd.filterFX.v.enab.v,r.ZF(e),e.r()),n==nt.Hd){var l=t.index,u=r.add.lmfx[ot.vz[l[0]]].v[l[1]].v;u.enab.v=!u.enab.v,r.D._$=!0,e.r()}if(n==nt.Hb){var f=e.b[t.Hk],c=e.b[t.wG],p=t.t$w,v=t.t$L;""==p?delete f.add.lmfx:f.add.lmfx=JSON.parse(p),""==v?delete c.add.lmfx:c.add.lmfx=JSON.parse(v),f.D._$=!0,c.D._$=!0,e.r()}if(n==nt.wr){var d=r.add.SoLd.filterFX.v.filterFXList.v[t.index].v;d.enab.v=!d.enab.v,r.ZF(e),e.r()}(n==nt.KM&&(r.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(t.t$M)),r.ZF(e),e.r()),n==nt.rR)&&((i=r.Ab()).WZ=!i.WZ);n==nt.rC&&((i=r.add.vmsk).WZ=!i.WZ);if(n==nt.rd){var y=t.wm;for(o=0;o<y.length;o+=2){var g=y[o];(b=e.b[g]).add.vogk=JSON.parse(y[o+1]),a.FU.pB(b.add.vogk,b.add.vmsk),b.Sa(e)}e.r()}if(n==nt.JA){var m=t.t$j;for(o=0;o<m.length;o++)e.b[o].nb=m[o]}if(n==nt.uD&&(t.Fn&&(e.g=t.Fn),e.r(),e.rM(t.zh)),n==nt.nK&&(K.l$.wn(e,r),t.$Z&&K.l$.$S(e,r,t.$Z)),n==nt.Jb&&(K.l$.wn(e,e.b[t.Tl]),K.l$.$S(e,e.b[t.src],t.d)),n==nt.rU&&K.l$.$S(e,r,t.d),n==nt.rB&&(r.hy(e).d=null,r.r(),e.r()),n==nt.rZ&&(r.hy(e).d=t.d,r.r(),e.r()),n==nt.wH&&(r.add.SoLd.filterFX=t.t$b,e.wx(t.uK),r.fc(e)),n==nt.Ea&&K.l$.ty(e,r,!0),n==nt.Jk&&(K.l$.ty(e,e.b[t.Tl],t.d.isEnabled),K.l$.tL(e,e.b[t.src],t)),n==nt.HJ&&K.l$.tL(e,r,t),n==nt.ro&&(e.name=t.$k),n==nt.HU&&(r.Vp(t.$k),t.IK?r.add.lnsr=t.IK:delete r.add.lnsr),n==nt.wt)for(o=0;o<t.b.length;o++)e.b[t.b[o]].add.lclr=t.t$Z[o];if(n==nt.wL){var w=t.IF;for(o=0;o<t.kV.length;o++){var b=e.b[t.kV[o]],x=w[o];t.ra?j.HC.nj(b,JSON.parse(JSON.stringify(x))):b.add.vstk=JSON.parse(JSON.stringify(x)),b.JV(e)}e.r()}n==nt.rF&&(r.fZ(t.uY),r.Sa(e),e.r()),e.kJ=!0},K.l$.prototype.wD=function(t,e){var i,n=t.X,r=e.b[t.i];if(n==nt.rr&&(e.add.lnk2.splice(e.add.lnk2.indexOf(t.wu),1,t.IM),K.l$.Or(e,t.id)),n==nt.HH&&(r.kE=t.UG,e.r()),n==nt.CY&&(r.opacity=t.UG,e.r()),n==nt.Hw&&(r.add.lspf=t.UG),n==nt.rS){var s=t.Hz,h=t.de;delete r.add[s[0]],"----"!=h[0]&&(r.add[h[0]]=h[1])}if(n==nt.rx&&(r.add.iOpa=t.UG,e.r()),n==nt.Eh){for(var o=0;o<t.kV.length;o++){(b=e.b[t.kV[o]]).cE(!b.op())}e.r()}n==nt.v_&&((i=r.Ab()).isEnabled=!i.isEnabled,r.Sa(e),e.r());n==nt.rA&&((i=r.hy(e).d).isEnabled=!i.isEnabled,r.r(),e.r());n==nt.CK&&((i=r.add.vmsk).isEnabled=!i.isEnabled,i.isEnabled?r.d&&(r.qz=r.d,r.d=null):r.qz?(r.d=r.qz,r.qz=null):r.d=null,r.Sa(e),e.r());if(n==nt.Ei&&(r.fB=!r.fB,e.r()),n==nt.HD&&(r.add.lmfx.masterFXSwitch.v=!r.add.lmfx.masterFXSwitch.v,r.D._$=!0,e.r()),n==nt.wJ&&(r.add.SoLd.filterFX.v.enab.v=!r.add.SoLd.filterFX.v.enab.v,r.ZF(e),e.r()),n==nt.Hd){var l=t.index,u=r.add.lmfx[ot.vz[l[0]]].v[l[1]].v;u.enab.v=!u.enab.v,r.D._$=!0,e.r()}if(n==nt.Hb){var f=e.b[t.Hk],c=e.b[t.wG],p=t.t$C,v=t.t$T;""==p?delete f.add.lmfx:f.add.lmfx=JSON.parse(p),""==v?delete c.add.lmfx:c.add.lmfx=JSON.parse(v),f.D._$=!0,c.D._$=!0,e.r()}if(n==nt.wr){var d=r.add.SoLd.filterFX.v.filterFXList.v[t.index].v;d.enab.v=!d.enab.v,r.ZF(e),e.r()}(n==nt.KM&&(r.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(t.t$S)),r.ZF(e),e.r()),n==nt.rR)&&((i=r.Ab()).WZ=!i.WZ);n==nt.rC&&((i=r.add.vmsk).WZ=!i.WZ);if(n==nt.rd){var y=t.SV;for(o=0;o<y.length;o+=2){var g=y[o];(b=e.b[g]).add.vogk=JSON.parse(y[o+1]),a.FU.pB(b.add.vogk,b.add.vmsk),b.Sa(e)}e.r()}if(n==nt.JA){var m=t.t$K;for(o=0;o<m.length;o++)e.b[o].nb=m[o]}if(n==nt.uD&&(t.sX&&(e.g=t.sX),e.r(),e.rM(t._b)),n==nt.nK&&(t.$Z&&K.l$.wn(e,r),K.l$.$S(e,r,t.d)),n==nt.Jb&&(K.l$.wn(e,e.b[t.src]),K.l$.$S(e,e.b[t.Tl],t.d)),n==nt.rU&&K.l$.wn(e,r),n==nt.rB&&(r.hy(e).d=t.d,r.G=0,r.r(),e.r()),n==nt.rZ&&(r.hy(e).d=null,r.G=0,r.r(),e.r()),n==nt.wH&&(delete r.add.SoLd.filterFX,r.G=0,e.ja(t.uK),r.fc(e)),n==nt.Ea&&K.l$.tL(e,r,t),n==nt.Jk&&(K.l$.ty(e,e.b[t.src],t.d.isEnabled),K.l$.tL(e,e.b[t.Tl],t)),n==nt.HJ&&K.l$.ty(e,r,t.d.isEnabled),n==nt.ro&&(e.name=t.hE),n==nt.HU&&(r.Vp(t.hE),t.IN?r.add.lnsr=t.IN:delete r.add.lnsr),n==nt.wt)for(o=0;o<t.b.length;o++)e.b[t.b[o]].add.lclr=t.t$A[o];if(n==nt.wL){var w=t.Jt;for(o=0;o<t.kV.length;o++){var b=e.b[t.kV[o]],x=w[o];t.ra?j.HC.nj(b,JSON.parse(JSON.stringify(x))):b.add.vstk=JSON.parse(JSON.stringify(x)),b.JV(e)}e.r()}n==nt.rF&&(r.fZ(t.UG),r.Sa(e),e.r()),e.kJ=!0},K.l$.OI=function(t,e){var i=t.TK,n=t.rect.clone();return null==i||i.x==e.$&&i.y==e.z||(n.x=Math.floor((e.$-n.$)/2),n.y=Math.floor((e.z-n.z)/2)),n},K.l$.wn=function(t,e){e.qz?e.qz=null:e.d=null,e.Sa(t),t.r(),e.G=0},K.l$.$S=function(t,e,i){e.d?e.qz=i:e.d=i,e.Sa(t),t.r()},K.l$.ty=function(t,e,i){e.qz&&i?(e.d=e.qz,e.qz=null):e.d&&i&&(e.d=null),delete e.add.vogk,delete e.add.vstk,delete e.add.vmsk,e.Sa(t),e.uv=!1,t.r()},K.l$.tL=function(t,e,i){e.add.vogk=JSON.parse(i.FU),i.nO?e.add.vstk=JSON.parse(i.nO):delete e.add.vstk,e.add.vmsk=i.d.clone(),e.d&&e.add.vmsk.isEnabled&&(e.qz=e.d),e.Sa(t),e.uv=i.$A,t.r()},K.cW=function(){K.Dc.call(this,j.rt),this.Iv=null,this.kG=null,this.ub=null,this.dF=null},K.cW.prototype=new K.Dc,K.cW.prototype.Ly=function(t,e,i,n,r){var s=i.b[t.i],a=t.U_,h=null;if(null==this.Iv&&(this.ub=K.cW.oW(i,s),this.Iv=JSON.stringify(this.ub),s.add.lmfx&&(this.kG=JSON.stringify(s.add.lmfx))),null==s.add.lmfx){s.add.lmfx=JSON.parse(ot.default);for(var o=0;o<ot.order.length;o++)s.add.lmfx[ot.vz[o]]={t:"VlLs",v:[]}}if("changeprop"==t.X){if(0!=a){var l=JSON.parse(ot.cz[a[0]]),u=s.add.lmfx[ot.vz[a[0]]].v;for(var f in null==u[a[1]]&&(u[a[1]]={t:"Objc",v:l}),h=u[a[1]].v,l)null==h[f]&&(h[f]=l[f])}"changeprop"==t.X&&(0==a?(this.ub[t.aO].v=t.R,K.cW.$q(i,s,this.ub)):"lagl"==t.aO?h.uglg&&h.uglg.v?(i.wh(t.R.val),this.ub.yf=i.Ej()):h[t.aO].v=t.R:"Lald"==t.aO?h.uglg.v?(i.Hq(t.R.val),this.ub.yZ=i.wO()):h[t.aO].v=t.R:3!=a[0]&&8!=a[0]||"Clr"!=t.aO&&"Grad"!=t.aO?h[t.aO].v=t.R:("Clr"==t.aO&&(h.Clr={t:"Objc",v:t.R},delete h.Grad),"Grad"==t.aO&&(h.Grad={t:"Objc",v:t.R},delete h.Clr))),0!=a&&h.Ptrn&&i.EO(lt.bE(h.Ptrn.v,r.wg))}else if("setstl"==t.X){var c=t.R.Lefx;c&&lt.KP(c,i,r.wg),lt.KO(t.R,s)}else if("st_dupsingle"==t.X){if(null==(v=s.add.lmfx[ot.vz[t.pV[0]]].v)[t.pV[1]])return;var p=JSON.parse(JSON.stringify(v[t.pV[1]]));v.splice(t.pV[1],0,p)}else if("st_movsingle"==t.X){var v,d=t.pV[1];if(null==(v=s.add.lmfx[ot.vz[t.pV[0]]].v)[t.pV[1]])return;var y=Math.max(0,Math.min(v.length-1,d+t.yA)),g=v[y];v[y]=v[d],v[d]=g}else if("cancel"==t.X)null==this.kG?delete s.add.lmfx:s.add.lmfx=JSON.parse(this.kG),K.cW.$q(i,s,JSON.parse(this.Iv)),this.Iv=null,this.kG=null;else if("confirm"==t.X){(A=new Z([11,6],this)).data={b:[t.i],JH:[this.kG],Jw:[JSON.stringify(s.add.lmfx)],JI:[this.Iv],JT:[JSON.stringify(this.ub)]},i.Af(A),this.Iv=null,this.kG=null}else if("st_copy"==t.X)this.dF=[this.Iv,this.kG],this.Iv=null,this.kG=null;else if("st_paste"==t.X||"st_clear"==t.X){if("st_paste"==t.X&&null==this.dF)return;var m=-1==i.g.indexOf(t.i)?[t.i]:i.g.slice(0),w=[],b=[],x=[],M=[];for(o=0;o<m.length;o++){s=i.b[m[o]];var S=K.cW.oW(i,s);w.push(s.add.lmfx?JSON.stringify(s.add.lmfx):null),x.push(JSON.stringify(S)),"st_paste"==t.X?(b.push(this.dF[1]),M.push(this.dF[0])):(b.push(null),S.lrMd.v=0,S.Opct.v.val=100,S.iOpa.v.val=100,M.push(JSON.stringify(S)))}(A=new Z([11,6],this)).data={b:m,JH:w,Jw:b,JI:x,JT:M},this.wD(A.data,i),i.Af(A),this.Iv=null,this.kG=null}else{var A,k=this.ub,C=null;"st_delsingle"==t.X&&((C=JSON.parse(this.kG))[ot.vz[t.pV[0]]].v.splice(t.pV[1],1),C=JSON.stringify(C)),null==C?delete s.add.lmfx:s.add.lmfx=JSON.parse(C),null!=k&&K.cW.$q(i,s,k),(A=new Z([11,6],this)).data={b:[t.i],JH:[this.kG],Jw:[C],JI:[this.Iv],JT:[JSON.stringify(k)]},i.Af(A),this.Iv=null,this.kG=null}s.D._$=!0,i.r()},K.cW.oW=function(t,e){return null==e.add.iOpa&&(e.add.iOpa=255),{lrMd:{v:(e.oP()?["pass"].concat(it.Cj):it.Cj).indexOf(e.kE)},Opct:{v:{type:"#Prc",val:Math.round(100*e.opacity/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(100*e.add.iOpa/255)},t:"UntF"},yf:t.Ej(),yZ:t.wO(),oP:e.oP()}},K.cW.$q=function(t,e,i){var n=e.oP()?["pass"].concat(it.Cj):it.Cj;e.kE=n[i.lrMd.v],e.opacity=Math.round(255*i.Opct.v.val/100),e.add.iOpa=Math.round(255*i.iOpa.v.val/100),t.wh(i.yf),t.Hq(i.yZ)},K.cW.prototype.mK=function(t,e){for(var i=0;i<t.b.length;i++){var n=e.b[t.b[i]],r=t.JH[i];null==r?delete n.add.lmfx:n.add.lmfx=JSON.parse(r),K.cW.$q(e,n,JSON.parse(t.JI[i])),n.D._$=!0}e.r()},K.cW.prototype.wD=function(t,e){for(var i=0;i<t.b.length;i++){var n=e.b[t.b[i]],r=t.Jw[i];null==r?delete n.add.lmfx:n.add.lmfx=JSON.parse(r),K.cW.$q(e,n,JSON.parse(t.JT[i])),n.D._$=!0}e.r()},K.YU=function(){K.Dc.call(this,j.mq)},K.YU.prototype=new K.Dc,K.YU.prototype.Ly=function(t,e,i,n){var r=JSON.parse(JSON.stringify(i.qO)),s=JSON.parse(JSON.stringify(i.qO)),a=null,h=null,o=null,l=-1,u=!1;if("delLC"==t.X){var f=K.YU.tp(i.qO,t.U_),c=i.qO.lastAppliedComp?i.qO.lastAppliedComp.v:0;s.list.v.splice(f,1),c==t.U_&&delete s.lastAppliedComp,a="Delete Layer Comp"}if("editLC"==t.X){f=K.YU.tp(i.qO,t.U_);var p=s.list.v[f].v;if(null!=t.hE&&(p.Nm.v=t.hE),null!=t.yN){var v=t.yN,d=p.capturedInfo.v,y=d&(1<<v)-1;1==(1&(d>>=v))?d--:d++,p.capturedInfo.v=(d<<v)+y}a="Layer Comp properties"}if("setLC"==t.X&&(K.YU.tT(i),0==t.U_?delete s.lastAppliedComp:s.lastAppliedComp={t:"long",v:t.U_},a="Switch Layer Comp",u=!0),"updLC"==t.X&&(K.YU.tT(i),h=K.YU.tJk(i,t.U_),o=K.YU.lg(i,t.U_),s.lastAppliedComp={t:"long",v:t.U_},a="Update Layer Comp",l=t.U_,u=!0),"addLC"==t.X){K.YU.tT(i);for(var g=1,m=0;m<s.list.v.length;m++)g=Math.max(g,s.list.v[m].v.compID.v)+1;g+=Math.floor(1e4*Math.random());var w={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(s.list.v.length+1)},compID:{t:"long",v:g},capturedInfo:{t:"long",v:7}}};s.list.v.push(w),s.lastAppliedComp={t:"long",v:g},a="New Layer Comp";var b=K.YU.lg(i,g);K.YU.tj(i,b,g)}var x=new Z(a,this);x.data={t$U:r,t$N:s,DH:h,DY:o,U_:l,Uz:u},this.wD(x.data,i),i.Af(x)},K.YU.prototype.wD=function(t,e){if(e.qO=t.t$N,e.qf=!0,t.DY&&K.YU.tj(e,t.DY,t.U_),t.Uz){var i=e.qO.lastAppliedComp?e.qO.lastAppliedComp.v:0,n=K.YU.tp(e.qO,i),r=-1==n?null:e.qO.list.v[n].v,s=r?r.capturedInfo.v:7;K.YU.ti(e,i,s),e.r()}},K.YU.prototype.mK=function(t,e){if(e.qO=t.t$U,e.qf=!0,t.DH&&K.YU.tj(e,t.DH,t.U_),t.Uz){var i=e.qO.lastAppliedComp?e.qO.lastAppliedComp.v:0,n=K.YU.tp(e.qO,i),r=-1==n?null:e.qO.list.v[n].v,s=r?r.capturedInfo.v:7;K.YU.ti(e,i,s),e.r()}},K.YU.tT=function(t){if(null==t.qO.lastAppliedComp&&t.Jd){var e=K.YU.lg(t,0);K.YU.tj(t,e,0),t.Jd=!1}},K.YU.ta=function(t,e,i){t.v.Hrzn.v+=e,t.v.Vrtc.v+=i},K.YU.tp=function(t,e){for(var i=t.list.v,n=0;n<i.length;n++)if(i[n].v.compID.v==e)return n;return-1},K.YU.tJU=function(t){var e=t.layerSettings.v,i=null;if(0!=e.length){var n="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),r=e[0].v;null==r.enab&&(r.enab={t:"bool",v:!0}),null==r.Ofst&&(r.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}});for(var s=0;s<e.length;s++){var a=e[s].v;if(null==i)i=JSON.parse(JSON.stringify(a));else for(var h=0;h<n.length;h++){var o=n[h];a[o]&&(i[o]=JSON.parse(JSON.stringify(a[o])))}e[s].v=JSON.parse(JSON.stringify(i))}}},K.YU.OD=function(t,e){for(var i=t.add.shmd.cmls.layerSettings.v,n=0;n<i.length;n++){if(i[n].v.compList.v[0].v==e)return n}return-1},K.YU.OL=function(t,e){var i=K.YU.OD(t,e);return-1==i?null:t.add.shmd.cmls.layerSettings.v[i].v},K.YU.ti=function(t,e,i){for(var n=0;n<t.b.length;n++){var r=t.b[n],s=(r.add.shmd.cmls.layerSettings.v,K.YU.OL(r,e));if(null!=s){if(0!=(1&i)&&(s.enab?r.cE(s.enab.v):r.cE(!0)),0!=(2&i)&&s.Ofst){var a=s.Ofst.v,h=r.vo(t),o=Math.round(a.Hrzn.v-h.x),l=Math.round(a.Vrtc.v-h.y);0==o&&0==l||j.UP.uw(t,[n],null,o,l)}if(0!=(4&i)){if(s.Lefx){var u=JSON.parse(JSON.stringify(s.Lefx.v));v.Xd(u),JSON.stringify(u)!=JSON.stringify(r.add.lmfx)&&(r.add.lmfx=u,r.D._$=!0)}else delete r.add.lmfx;if(s.blendOptions){var f=s.blendOptions.v;f.Opct&&(r.opacity=Math.round(255*f.Opct.v.val/100)),f.Md&&(r.kE=r.add.lsct==rt.JQ?"norm":it.FC(f.Md.v.BlnM))}else r.opacity=255,r.kE=r.oP()?"pass":"norm"}}else r.cE(!1)}},K.YU.tJk=function(t,e){for(var i={},n=0;n<t.b.length;n++){var r=t.b[n];null!=r.add.shmd&&null!=r.add.shmd.cmls&&(i["l"+r.add.lyid]=JSON.parse(JSON.stringify(K.YU.OL(r,e))))}return i},K.YU.lg=function(t,e){for(var i={},n=0;n<t.b.length;n++){var r=t.b[n];i["l"+r.add.lyid]=K.YU.OC(t,r,e)}return i},K.YU.OC=function(t,e,i){var n=e.add.shmd?e.add.shmd.cmls:null,r={classID:"null"},s=e.vo(t),a={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:s.x},Vrtc:{t:"long",v:s.y}}};return r.compList={t:"VlLs",v:[{t:"long",v:i}]},r.enab={t:"bool",v:e.op()},r.Ofst=JSON.parse(JSON.stringify(a)),r.FXRefPoint=JSON.parse(JSON.stringify(n&&n.origFXRefPoint?n.origFXRefPoint:a)),r.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:it.tyC(e.kE)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*e.opacity/255}}}},e.add.vmsk&&(r.vectorMask={t:"Objc",v:{classID:"null"}},r.vectorMask.v.Ofst=JSON.parse(JSON.stringify(a))),e.add.lmfx&&(r.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(e.add.lmfx))},v.XG(r.Lefx.v)),r},K.YU.tJF=function(t,e){var i=e.add.lyid;null==e.add.shmd&&(e.add.shmd={}),null==e.add.shmd.cmls&&(e.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:i},layerSettings:{t:"VlLs",v:[{t:"Objc",v:K.YU.OC(t,e,0)}]}})},K.YU.tj=function(t,e,i){for(var n=0;n<t.b.length;n++){var r=t.b[n],s=r.add.lyid;K.YU.tJF(t,r);var a=r.add.shmd.cmls.layerSettings.v,h=e["l"+s];null!=h&&(h={t:"Objc",v:JSON.parse(JSON.stringify(h))});var o=K.YU.OD(r,i);if(-1==o){if(null==h)continue;a.push(h)}else null==h?a.splice(o,1):a[o]=h}},K.YU.lS=function(t,e){for(var i=0;i<t.b.length;i++){var n=t.b[i];n.add.lyid;if(null!=n.add.shmd&&null!=n.add.shmd.cmls){var r=n.vo(t),s=Math.round(r.x),a=Math.round(r.y);e||(s=-s,a=-a);var h=n.add.shmd.cmls,o=h.layerSettings.v;h.origFXRefPoint&&K.YU.ta(h.origFXRefPoint,-s,-a);for(var l=0;l<o.length;l++){var u=o[l].v;K.YU.ta(u.Ofst,s,a),u.imageMask&&K.YU.ta(u.imageMask.v.Ofst,s,a),u.vectorMask&&K.YU.ta(u.vectorMask.v.Ofst,s,a)}}}},K.sU=function(){K.Dc.call(this,j.nP),this.gT=null},K.sU.prototype=new K.Dc,K.sU.tK=function(t,e,i,n){n&&(e/=4);for(var r=0,s=0,a=255,h=0,o=0,l=255;s+t[r]<e;)s+=t[r],r++;for(;h+t[a]<e;)h+=t[a],a--;return n&&(r-=Math.round(t[r]/(i/32)),a+=Math.round(t[a]/(i/32)),r<0&&(o=Math.round(255*-r/(a-r))),a>255&&(l=255-Math.round(255*(a-255)/(a-r)))),[Math.max(r,0),Math.min(a,255),o,l,100]},K.sU.prototype.Ly=function(t,e,i,n,r){var s=t.X;if("auto"==s){for(var h=t.cC,o=K.sU.getData(i),l=0;l<o.length;l++){var u,f=o[l],c=f.XH.f(),p=a.Yk(f.gk),v=.001*c;0!=h&&2!=h||(u=[[0,255,0,255,100],K.sU.tK(p[1],v,c,2==h),K.sU.tK(p[2],v,c,2==h),K.sU.tK(p[3],v,c,2==h)]),1==h&&(u=[K.sU.tK(p[0],.33*v,c,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]]);var d=tt.yz("levl",u);tt.kn(d,f.gk,f.os)}K.sU.lh(i,o),K.sU.lE(i,o,[4,16,h],this),i.r()}if("edit_layer"==s&&this.tJm(t,e,i,n),"edit"!=s&&"confirm"!=s&&"cancel"!=s||this.lv(t,i,r),"start"==s){if(0==i.g.length)return;var y,g=i.b[i.g[0]];if(g.add.SoLd&&g.G<=0)return(y=new xt(bt.E.W,!0)).c=j.Mb,y.data={X:"start",filter:t.hs},void e.N(y);if(!i.Kk())return;if(ue[t.hs])1!=i.g.length&&alert("Will be applied to "+i.g.length+" layers."),(y=new xt(bt.E.Y,!0)).data={X:bt.m.gI,gL:"adjust_"+t.hs},e.N(y);else this.lv({X:"edit",Dq:1,qd:t.hs},i,r),this.lv({X:"confirm",qd:t.hs},i,r)}},K.sU.prototype.tJm=function(t,e,i,n){t.X;var r,s=i.g[0],a=i.b[s],h=i.history[i.ei];h&&h.c==this&&null!=h.data.uY&&h.data.i==s?r=h:((r=new Z([6,39],this)).data={i:s,uY:tt.cV(a.add),UG:t.R},i.Af(r));r.data.UG=t.R,this.wD(r.data,i)},K.sU.getData=function(t,e){for(var i=[],n=new L(0,0,t.$,t.z),r=0;r<t.g.length;r++){var s=t.b[t.g[r]],h={i:t.g[r],qx:s.G};i.push(h);var o=s.G<=0?null:1==s.G?s.Ab():s.hy(t).d,l=o?o.rect:s.rect;t.t?h.XH=null!=o?t.t.rect.sj(n):t.t.rect.sj(l):h.XH=e||null!=o?l.Fv(n):l.clone();var u=h.XH.f();h.gk=a.I(4*u),h.os=a.I(4*u),o?(j.mh.gb(o.channel,o.rect,o.color,h.gk,h.XH),j.mh.gb(o.channel,o.rect,o.color,h.os,h.XH)):(a.Pg(s.buffer,l,h.gk,h.XH),a.Pg(s.buffer,l,h.os,h.XH)),t.t&&(h.aS=a.I(u),a.Jg(t.t.channel,t.t.rect,h.aS,h.XH))}return i},K.sU.prototype.lv=function(t,e,i){if(null==this.gT&&(this.gT=K.sU.getData(e)),"edit"==t.X){var n=tt.yz(t.qd,t.Dq);if(null!=n){for(var r=0;r<this.gT.length;r++){var s=this.gT[r];tt.kn(n,s.gk,s.os)}K.sU.lh(e,this.gT)}}"cancel"==t.X&&(K.sU.OT(e,this.gT),this.gT=null),"confirm"==t.X&&(K.sU.lE(e,this.gT,tt.names[t.qd],this),this.gT=null),e.r()},K.sU.OT=function(t,e){K.sU.$s(t,e,!1)},K.sU.lE=function(t,e,i,n){for(var r=0;r<e.length;r++){var s=e[r],h=t.b[s.i],o=h.G<=0?null:1==h.G?h.Ab():h.hy(t).d;o?(o.hJ(),o.rb=!0,h.Sa(),j.mh.gb(o.channel,o.rect,o.color,s.os,s.XH)):(h.hJ(),h.r(),a.Pg(h.buffer,h.rect,s.os,s.XH))}var l=new Z(i,n);l.data=e,t.Af(l)},K.sU.lh=function(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=t.b[n.i];if(0==n.qx)r.extend(n.XH),n.aS?(a.Pg(n.gk,n.XH,r.buffer,r.rect),a.a.fX(n.os,n.XH,r.buffer,r.rect,n.aS,n.XH,0,n.XH,1)):a.Pg(n.os,n.XH,r.buffer,r.rect);else{var s=1==n.qx?r.Ab():r.hy(t).d;if(s.extend(n.XH),n.aS){var h=a.I(4*n.XH.f());a.sa(n.gk,h),a.a.fX(n.os,n.XH,h,n.XH,n.aS,n.XH,0,n.XH,1),j.mh.mY(h,n.XH,s)}else j.mh.mY(n.os,n.XH,s);s.rb=!0,r.Sa()}r.r()}},K.sU.$s=function(t,e,i){for(var n=0;n<e.length;n++){var r=e[n],s=t.b[r.i];if(0==r.qx)s.extend(r.XH),a.Pg(i?r.os:r.gk,r.XH,s.buffer,s.rect),s.hJ();else{var h=1==r.qx?s.Ab():s.hy(t).d;h.extend(r.XH),j.mh.mY(i?r.os:r.gk,r.XH,h),h.hJ(),h.rb=!0,s.Sa()}s.r()}},K.sU.prototype.mK=function(t,e){var i=e.b[t.i];null!=t.uY?tt.qY(t.uY,i.add):K.sU.$s(e,t,!1),e.r()},K.sU.prototype.wD=function(t,e){var i=e.b[t.i];null!=t.uY?tt.qY(t.UG,i.add):K.sU.$s(e,t,!0),e.r()},K.lf=function(){K.Dc.call(this,j.Mb),this.gT=null,this.X=null,this.TV=null},K.lf.prototype=new K.Dc,K.lf.prototype.Ly=function(t,e,i,n,r){if("start"==t.X){if(0==i.g.length)return;var s=i.b[i.g[0]];if(s.add.SoLd&&s.G<=0);else if(!i.Kk())return;var a=t.filter;if(fe[a]||ue[a]){1!=i.g.length&&alert("Will be applied to "+i.g.length+" layers.");var h=new xt(bt.E.Y,!0);h.data={X:bt.m.gI,gL:"filter_"+a,UQ:this.ll(i)},e.N(h)}else{var o={X:"edit",filter:t.filter,UQ:this.ll(i)};this.Ly(o,e,i,n,r),o.X="confirm",this.Ly(o,e,i,n,r)}}if("edit"!=t.X&&"cancel"!=t.X&&"confirm"!=t.X||("edit"==t.X&&(this.TV=[t.filter,t.Dq]),t.UQ?this.tJs(t,i,r):this.tJu(t,i,r)),"applylast"==t.X&&null!=this.TV){o={X:"edit",filter:this.TV[0],Dq:this.TV[1],UQ:this.ll(i)};this.Ly(o,e,i,n,r),o.X="confirm",delete o.Dq,this.Ly(o,e,i,n,r)}},K.lf.prototype.ll=function(t){var e,i=t.b[t.g[0]];return i.add.SoLd&&i.G<=0&&(e={i:t.g[0],index:0},null!=i.add.SoLd.filterFX&&(e.index=i.add.SoLd.filterFX.v.filterFXList.v.length)),e},K.lf.prototype.tJs=function(t,e,i){var n=e.b[t.UQ.i],r=t.filter;if("edit"==t.X){if(null==this.X){var s=et.names[r];null==s&&(s=tt.names[r]),this.X=new Z(s,this),this.X.data={UQ:t.UQ,t$m:JSON.parse(JSON.stringify(n.add.SoLd))}}n.kl()||(n.add.SoLd.filterFX=et.lu(),this.X.data.uK={id:n.add.SoLd.placed.v,rect:new L,buffer:a.I(1),d:new nt.qu},e.wx(this.X.data.uK),n.fc(e));var h=n.add.SoLd.filterFX.v.filterFXList.v;null==h[t.UQ.index]&&h.push(et.$m(r,i)),t.Dq&&(h[t.UQ.index].v.Fltr.v=t.Dq),this.X.data.tJC=JSON.parse(JSON.stringify(n.add.SoLd)),this.wD(this.X.data,e)}"cancel"==t.X&&(this.X&&this.mK(this.X.data,e),this.X=null),"confirm"==t.X&&(e.Af(this.X),this.X=null)},K.lf.prototype.JR=function(t){return{T:t>>16,q:t>>8&255,H:255&t}},K.lf.prototype.tJu=function(t,e,i){if(null==this.gT&&(this.gT=K.sU.getData(e,!0)),"edit"==t.X){for(var n=0;n<this.gT.length;n++){var r=this.gT[n],s={rect:r.XH,buffer:r.gk},a={rect:r.XH,buffer:r.os};et.kn(t.filter,s,t.Dq,this.JR(i.AF),this.JR(i.ze),a,e.add.lnk2?e.add.lnk2:[])}K.sU.lh(e,this.gT)}"cancel"==t.X&&(K.sU.OT(e,this.gT),this.gT=null),"confirm"==t.X&&(K.sU.lE(e,this.gT,et.names[t.filter],this),this.gT=null),e.r()},K.lf.prototype.mK=function(t,e){if(t.UQ){var i=e.b[t.UQ.i];t.uK&&e.ja(t.uK),i.add.SoLd=JSON.parse(JSON.stringify(t.t$m)),i.kl()?i.ZF(e):(i.fc(e),i.G=0)}else K.sU.$s(e,t,!1);e.r()},K.lf.prototype.wD=function(t,e){if(t.UQ){var i=e.b[t.UQ.i];t.uK&&e.wx(t.uK),i.add.SoLd=JSON.parse(JSON.stringify(t.tJC)),i.kl()?i.ZF(e):i.fc(e),i.Jq()||(i._c+=32)}else K.sU.$s(e,t,!0);e.r()};var Q={hP:"0",Tz:"1",wB:"2",J$:"3",fd:"4",Sd:"5",Sl:"6",Jr:"7",IL:"10",vw:"11",IZ:"12",JL:"13",kT:"14",tb:"15",nc:"21",lY:"22",lb:"23",lz:"23.0",tU:"23.1",ls:"23.2",OP:"23.3",Od:"23.4",OG:"30",Vl:"31",fy:"40",Vz:"41"};function W(){this.Os={},this.ds=0}function Z(t,e,i){null==i&&(i=!1),this.name=t,this.c=e,this.JG=i,this.data=null}Q.qC={},Q.qC[Q.Tz]=["abr","brushes",w,[9,3]],Q.qC[Q.wB]=["grd","gradients",F,[12,37]],Q.qC[Q.J$]=["shc","contours",U,[12,21]],Q.qC[Q.fd]=["asl","styles",S,[12,22]],Q.qC[Q.Sd]=["pat","patterns",_,[12,62]],Q.qC[Q.Sl]=["csh","shapes",k,[12,77]],Q.qC[Q.Jr]=["aco","swatches",C,[9,8]],W.prototype.reset=function(){this.Os={},this.ds=0},W.prototype.trJ=function(t){this.ds++,this.Os[t]=!0},W.prototype.trr=function(t){this.ds--,delete this.Os[t],(this.ds<=0||W.Kd(t,W.trP))&&this.reset()},W.prototype.l=function(t){for(var e=0;e<t.$E.length;e++)if(this.Os[t.$E[e]])return!0;return!1},W.prototype.Ik=function(){var t=this,e=t.l(W.Yz)?10:1,i=0,n=0;return t.l(W.Ov)&&(i=-e),t.l(W.OE)&&(i=e),t.l(W.fS)&&(n=-e),t.l(W.fO)&&(n=e),new f(i,n)},W.prototype.fG=function(){for(var t=W.jH,e=0;e<10;e++)if(this.l(t[e]))return e;return-1},W.Kd=function(t,e){return-1!=e.$E.indexOf(t)},W.Ox=function(t){var e=t.code;return-1==W.trI.indexOf(e)||t.shiftKey&&"F5"==e},W.trH=function(t){if(null==t)return"";for(var e=[],i=0;i<t.length;i++)e.push(t[i].AN);return e.join(" + ")},W.trI="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" "),W.BV={AN:"Enter",$E:["Enter","NumpadEnter"]},W.Yz={AN:"Shift",$E:["ShiftLeft","ShiftRight"]},W.trP={AN:"Meta",$E:["MetaLeft","MetaRight","OSLeft","OSRight"]},W.sf={AN:"Ctrl",$E:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")},W.kz={AN:"Alt",$E:["AltLeft","AltRight"]},W._f={AN:"Escape",$E:["Escape"]},W.JW={AN:"Space",$E:["Space"]},W.OM={AN:"Tab",$E:["Tab"]},W.trG={AN:"Home",$E:["Home"]},W.trK={AN:"End",$E:["End"]},W.Ov={AN:"Left",$E:["ArrowLeft"]},W.fS={AN:"Up",$E:["ArrowUp"]},W.OE={AN:"Right",$E:["ArrowRight"]},W.fO={AN:"Down",$E:["ArrowDown"]},W.Ve={AN:"+",$E:["NumpadAdd","Equal"]},W.fn={AN:"-",$E:["NumpadSubtract","Minus","Slash"]},W.trF={AN:";",$E:["Semicolon"]},W.tHC={AN:"Dead",$E:["Dead"]},W.tHe={AN:"=",$E:["Equal"]},W.ff={AN:"Backspace",$E:["Backspace"]},W.nC={AN:"Delete",$E:["Delete"]},W.tHF={AN:"Backslash",$E:["Backslash","IntlBackslash"]},W.twd={AN:"Backquote",$E:["Backquote"]},W.fm={AN:"[",$E:["BracketLeft"]},W.Oq={AN:"]",$E:["BracketRight"]},W.twM={AN:".",$E:["Period"]},W.twh={AN:",",$E:["Comma"]},W.m={AN:"A",$E:["KeyA","KeyQ"]},W.Op={AN:"B",$E:["KeyB"]},W.JR={AN:"C",$E:["KeyC"]},W.oI={AN:"D",$E:["KeyD"]},W.E={AN:"E",$E:["KeyE"]},W.Xc={AN:"F",$E:["KeyF"]},W.Oi={AN:"G",$E:["KeyG"]},W.Oj={AN:"H",$E:["KeyH"]},W.jt={AN:"I",$E:["KeyI"]},W.OY={AN:"J",$E:["KeyJ"]},W.j$={AN:"K",$E:["KeyK"]},W.VN={AN:"L",$E:["KeyL"]},W.OB={AN:"M",$E:["KeyM"]},W.eo={AN:"N",$E:["KeyN"]},W.OZ={AN:"O",$E:["KeyO"]},W.yJ={AN:"P",$E:["KeyP"]},W.tHI={AN:"Q",$E:["KeyQ"]},W.twn={AN:"R",$E:["KeyR"]},W.$M={AN:"S",$E:["KeyS"]},W.D={AN:"T",$E:["KeyT"]},W.Hr={AN:"U",$E:["KeyU"]},W.Oe={AN:"V",$E:["KeyV"]},W.twl={AN:"W",$E:["KeyW"]},W.OF={AN:"X",$E:["KeyX"]},W.tHT={AN:"Y",$E:["KeyY","KeyZ"]},W.$f={AN:"Z",$E:["KeyZ","KeyY"]},W.Om={AN:"0",$E:["Numpad0","Digit0"]},W.Ou={AN:"1",$E:["Numpad1","Digit1"]},W.tw_={AN:"2",$E:["Numpad2","Digit2"]},W.tIR={AN:"3",$E:["Numpad3","Digit3"]},W.tIt={AN:"4",$E:["Numpad4","Digit4"]},W.tIV={AN:"5",$E:["Numpad5","Digit5"]},W.tI$={AN:"6",$E:["Numpad6","Digit6"]},W.tIl={AN:"7",$E:["Numpad7","Digit7"]},W.tIY={AN:"8",$E:["Numpad8","Digit8"]},W.tIb={AN:"9",$E:["Numpad9","Digit9"]},W.jH=[W.Om,W.Ou,W.tw_,W.tIR,W.tIt,W.tIV,W.tI$,W.tIl,W.tIY,W.tIb],W.tHg={AN:"F1",$E:["F1"]},W.tHh={AN:"F2",$E:["F2"]},W.tHb={AN:"F3",$E:["F3"]},W.tHB={AN:"FF",$E:["F4"]},W.tI_={AN:"F5",$E:["F5"]},W.twc={AN:"F6",$E:["F6"]},W.twa={AN:"F7",$E:["F7"]},W.twW={AN:"F8",$E:["F8"]},W.tIq={AN:"F9",$E:["F9"]},W.tIi={AN:"F10",$E:["F10"]},W.tIn={AN:"F11",$E:["F11"]},W.tIA={AN:"F12",$E:["F12"]};var tt={get:function(t){for(var e in tt.names)if(null!=t[e])return e;return null},yz:function(t,e){var i;if("brit"==t){var n=e[0],r=e[1];if(e[2]){var s=n/255;(ht=1+r/100)>1&&(ht=1+Math.tan(Math.PI/2*r/100));for(var h=(1-ht)/2,o=a.Iw.Am(s,s,s),l=[ht,0,0,h,0,ht,0,h,0,0,ht,h,0,0,0,1],u=a.Iw.multiply(o,l),f=new a.wf(256),c=0;c<256;c++)f.T[c]=c;a.Iw.transform(f,f,u),i={type:"remap",oB:f.T,oF:f.T,UY:f.T,yR:!1,yj:!1}}else{var p,v=1024,d=60*(r+100)/200-30,y=[];for(c=0;c<4;c++)y.push(a.kv.oS(c/3*255,c/3*255,!0));y[1].v.Hrzn.v=64,y[1].v.Vrtc.v=64-d,y[2].v.Hrzn.v=192,y[2].v.Vrtc.v=192+d,y.sort((function(t,e){return t.v.Hrzn.v-e.v.Hrzn.v}));var g=a.kv.__(y,v);y=[];for(c=0;c<3;c++)y.push(a.kv.oS(c/2*255,c/2*255,!0));if(n<0){var m=128+10*n/150,w=128-120*n/150;y[1].v.Hrzn.v=w,y[1].v.Vrtc.v=m,p=a.kv.__(y,v);for(c=0;c<v;c++)c*(255/v)<w&&(p[c]=c*(255/v)/w*m/255)}else y[1].v.Hrzn.v=128-64*n/150,y[1].v.Vrtc.v=128+24*n/150,p=a.kv.__(y,v);var b=new Uint8Array(v);for(c=0;c<v;c++){var x=Math.round((v-1)*p[c]);b[c]=Math.round(255*g[x])}i={type:"remap",oB:b,oF:b,UY:b,yR:!1,yj:!1}}}if("levl"==t){var M,S,A,k,C;M=-(It=e)[0][0]/255,S=1/(It[0][1]/255-It[0][0]/255),o=a.Iw.multiply(a.Iw.UH(S,S,S),a.Iw.Am(M,M,M)),A=a.Iw.UH(1/(It[1][1]/255-It[1][0]/255),1/(It[2][1]/255-It[2][0]/255),1/(It[3][1]/255-It[3][0]/255)),k=a.Iw.Am(-It[1][0]/255,-It[2][0]/255,-It[3][0]/255),C=a.Iw.multiply(A,k);for(b=new a.wf(256),c=0;c<256;c++)b.T[c]=b.q[c]=b.H[c]=c;var T=1/(It[0][4]/100),U=1/(It[1][4]/100),_=1/(It[2][4]/100),F=1/(It[3][4]/100);a.Iw.transform(b,b,C);for(c=0;c<256;c++)b.T[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(b.T[c]/255,U)))),b.q[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(b.q[c]/255,_)))),b.H[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(b.H[c]/255,F))));a.Iw.transform(b,b,o);for(c=0;c<256;c++)b.T[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(b.T[c]/255,T)))),b.q[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(b.q[c]/255,T)))),b.H[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(b.H[c]/255,T))));M=It[0][2]/255,S=It[0][3]/255-It[0][2]/255,o=a.Iw.multiply(a.Iw.Am(M,M,M),a.Iw.UH(S,S,S)),A=a.Iw.UH(It[1][3]/255-It[1][2]/255,It[2][3]/255-It[2][2]/255,It[3][3]/255-It[3][2]/255),k=a.Iw.Am(It[1][2]/255,It[2][2]/255,It[3][2]/255),C=a.Iw.multiply(k,A),a.Iw.transform(b,b,a.Iw.multiply(o,C)),i={type:"remap",oB:b.T,oF:b.q,UY:b.H,yR:!1,yj:!1}}if("curv"==t){var O=[];if(0==(256==e[0].length?1:0)){var L=a.kv.tH(e[0],256);for(c=1;c<4;c++){var D=a.kv.tH(e[c],256);O.push(a.kv.TJ(D,L))}}else{var N=[];for(c=0;c<4;c++){var I=new Uint8Array(256);N.push(I);for(var E=0;E<256;E++)I[E]=e[c][E]}for(c=1;c<4;c++)O.push(a.kv.TJ(N[c],N[0]))}i={type:"remap",oB:O[0],oF:O[1],UY:O[2],yR:!1,yj:!1}}if("expA"==t){var P=e[0],J=e[1],B=e[2];for(b=new Uint8Array(256),c=0;c<256;c++){e=c/255;var X=Math.pow(Math.abs(J),1/(Math.PI/2));J>0?(e=Math.max(J/Math.E,e),e=(1-X)*(e*=Math.exp(J/1.75+P/Math.PI))+1*X):(e*=Math.exp(1.75*-J+P/Math.PI),e+=1.14*-X),e=Math.pow(e,1/B),e=Math.max(0,Math.min(1,e)),b[c]=Math.round(255*e)}i={type:"remap",oB:b,oF:b,UY:b,yR:!1,yj:!1}}if("vibA"==t&&(i={type:"vibrance",gg:e}),"hue2"==t){e=JSON.parse(JSON.stringify(e));var z=[],$=[],V=[];for(c=0;c<256;c++)z[c]=c/255,$[c]=0,V[c]=0;var R=e.bc?e.qq:e.ry,q=1+R[2]/100,H=q<1?1:0,j=H*q+1-H,G=(1-H)*(q-1);if(e.bc){var Y=R[0]/360,K=Math.tan(Math.PI/2*R[1]/100);for(c=0;c<256;c++)z[c]=Y,$[c]=K}else{for(c=0;c<256;c++){var Q=z[c];$[c];z[c]+=R[0]/360;var W=R[1]/100;W>0&&(W=Math.tan(Math.PI/2*R[1]/100));for(E=0;E<6;E++){for(var Z=e.gV[E].fY,tt=e.gV[E].gX,et=(X=0,1);et<4;et++)tt[et]<tt[0]&&(tt[et]+=360);var it=tt[0],nt=tt[1],rt=tt[2],st=tt[3],at=360*Q;at<tt[0]&&(at+=360);var ht,ot=(at-it)/(nt-it),lt=(at-rt)/(st-rt);X=ot<0?0:ot<1?ot:lt<0?1:lt<1?1-lt:0,(ht=Z[1]/100)>0&&(ht=Math.tan(Math.PI/2*Z[1]/100)),z[c]+=X*Z[0]/360,$[c]+=X*ht,V[c]+=X*Z[2]/100}}for(c=0;c<256;c++)$[c]=(1+$[c])*(1+W)-1,V[c]=Math.max(-1,Math.min(1,V[c]))}var ut=new Uint8Array(256),ft=new Uint8Array(256),ct=new Uint8Array(256);for(c=0;c<256;c++){z[c]-=Math.floor(z[c]);var pt=$[c];$[c]=pt<0?.5*(1+$[c]):.5+.49*Math.atan2($[c],1)/(Math.PI/2),V[c]=(1+V[c])/2,ut[c]=Math.round(255*z[c]),ft[c]=Math.round(255*$[c]),ct[c]=Math.round(255*V[c])}i={type:"remapHSL",tz:ut,pe:ft,tZ:ct,xT:j,xP:G,tm:e.bc?1:0}}if("nvrt"==t){for(b=new Uint8Array(256),c=0;c<256;c++)b[c]=255-c;i={type:"remap",oB:b,oF:b,UY:b,yR:!1,yj:!1}}if("grdm"==t){var vt=e[0],dt=a.e.zp(vt.Clrs.v,0,0),yt=(v=1024,a.e.CT(vt,dt,v)),gt=a.I(v),mt=a.I(v),wt=a.I(v);a.rY(yt,gt,0),a.rY(yt,mt,1),a.rY(yt,wt,2),e[1]&&(gt.reverse(),mt.reverse(),wt.reverse()),i={type:"remap",oB:gt,oF:mt,UY:wt,yR:!0,yj:!1}}if("selc"==t){var bt=new Float32Array(54),xt=e.uF,Mt=e.ir;for(E=1;E<10;E++){var St=6*(E-1),At=xt[E][0]/100,kt=xt[E][1]/100,Ct=xt[E][2]/100,Tt=xt[E][3]/100;Mt?(bt[St]=bt[St+1]=bt[St+2]=1,bt[St+3]=At*(1+Tt)+Tt,bt[St+4]=kt*(1+Tt)+Tt,bt[St+5]=Ct*(1+Tt)+Tt):(bt[St+0]=(1+At)*(1+Tt),bt[St+1]=(1+kt)*(1+Tt),bt[St+2]=(1+Ct)*(1+Tt))}i={type:"selc",uH:bt}}if("blwh"==t){var Ut=[],_t=0,Ft=0;for(c=0;c<6;c++)Ut.push((e[c]-50)/50);var Ot=a.e.NG(e[7]);Ot.T/=255,Ot.q/=255,Ot.H/=255;var Lt=a.sM(Ot.T,Ot.q,Ot.H),Dt=a.If(a.En(Lt.ht,1,.5)),Nt=Lt._u*Lt.Dq;.5==Dt?_t=Ft=.5:(_t=Nt*(.5-Dt)/(.5/Dt-1),Ft=1-Nt*(.5-Dt)-1/(2*(1-Dt)),Ft/=1-1/(2*(1-Dt))),i={type:"blwh",DB:Ut,Lv:e[6]?1:0,DZ:Lt.ht,If:Dt,cJ:Nt,Tk:_t,cD:Ft}}if("blnc"==t){var It=[];for(c=0;c<3;c++){var Et=e.fY[c][0]/100,Pt=e.fY[c][1]/100,Jt=e.fY[c][2]/100,Bt=e.If?Bt=(Math.min(Et,Pt,Jt)+Math.max(Et,Pt,Jt))/2:0;It[c]=[Et-Bt,Pt-Bt,Jt-Bt]}for(O=[a.I(256),a.I(256),a.I(256)],E=0;E<3;E++)for(c=0;c<256;c++){var Xt=c*(1/255),zt=(d=0,0);d=It[2][E],Xt=(zt=Math.abs(d))*(d<0?Math.pow(Xt,Math.SQRT2):1.63*(Math.pow(Xt+.04,.5)-.2))+(1-zt)*Xt,d=It[1][E],Xt=(zt=Math.abs(d))*(d<0?Math.pow(Xt,2):Math.min(2.35*(Math.pow(Xt+.09,.5)-.3),Math.pow(Xt,.5)))+(1-zt)*Xt,d=It[0][E],Xt=(zt=Math.abs(d))*(d<0?Xt<.4?0:Math.pow((Xt-.4)/.6,Math.SQRT2):Math.pow(Xt,Math.SQRT2/2))+(1-zt)*Xt,Xt=Math.max(0,Math.min(1,Xt)),O[E][c]=Math.round(255*Xt)}i={type:"remap",oB:O[0],oF:O[1],UY:O[2],yR:!1,yj:!1}}if("phfl"==t){var $t=[e.qq.Rd.v/255,e.qq.Grn.v/255,e.qq.Bl.v/255],Vt=e.mC/100;for(O=[a.I(256),a.I(256),a.I(256)],E=0;E<3;E++)for(c=0;c<256;c++){var Rt=(Xt=c*(1/255))*$t[E];Xt=Vt*(Rt=Math.max(0,Math.min(1,Rt)))+(1-Vt)*Xt,O[E][c]=Math.round(255*Xt)}i={type:"remap",oB:O[0],oF:O[1],UY:O[2],yR:!1,yj:e.uT}}if("thrs"==t){for(b=a.I(256),c=e;c<256;c++)b[c]=255;i={type:"remap",oB:b,oF:b,UY:b,yR:!0,yj:!1}}if("mixr"==t){for(u=[],c=0;c<e.R.length;c++)c%5!=3&&u.push(e.R[c]/100);if(e._J)for(var qt=1;qt<3;qt++)for(Xt=0;Xt<4;Xt++)u[4*qt+Xt]=u[Xt];i={type:"matrix",Iw:u}}return i},kn:function(t,e,i){Date.now();if("matrix"==t.type&&a.Iw.tyA(e,i,t.Iw),"blwh"==t.type)for(var n=t.cJ,r=t.If,s=t.Tk,h=t.cD,o=e.length,l=0;l<o;l+=4){for(var u=e[l]*(1/255),f=e[l+1]*(1/255),c=e[l+2]*(1/255),p=a.pI(u,f,c),v=0,d=0;d<6;d++)v+=Math.min(1,1.7*(1-p.NK))*p._u*t.DB[d]*tt.O_(p.ht,d*(1/6));var y=Math.max(0,Math.min(1,p.NK*(1+v)));if(1==t.Lv){var g=0;g=y<s?y*(.5/r):y<h?y+n*(.5-r):1-.5*(1-y)/(1-r),p.ht=t.DZ,p._u=Math.min(1,n+3*n*Math.abs(y-.5*(s+h))),p.NK=g}else p.ht=0,p._u=0,p.NK=y;var m=a.En(p.ht,p._u,p.NK);i[l]=Math.round(255*m.T),i[l+1]=Math.round(255*m.q),i[l+2]=Math.round(255*m.H)}if("selc"==t.type){var w=t.uH,b=(o=e.length,1/255);for(l=0;l<o;l+=4){u=e[l]*b,f=e[l+1]*b,c=e[l+2]*b,p=a.pI(u,f,c);var x=Math.max(u,Math.max(f,c)),M=Math.min(u,Math.min(f,c)),S=1-u,A=1-f,k=1-c,C=0,T=0,U=0;for(d=0;d<9;d++){var _=6*d,F=0;if(1!=w[_]||1!=w[_+1]||1!=w[_+2]||0!=w[_+3]||0!=w[_+4]||0!=w[_+5]){var O=S*w[_]+w[_+3],L=A*w[_+1]+w[_+4],D=k*w[_+2]+w[_+5];F=d<6?tt.O_(p.ht,d*(1/6))*p._u*2*Math.min(p.NK,1-p.NK):6==d?2*Math.max(0,M-.5):7==d?1-(Math.abs(x-.5)+Math.abs(M-.5)):2*Math.max(0,.5-x),C+=(Math.max(0,Math.min(1,O))-S)*F,T+=(Math.max(0,Math.min(1,L))-A)*F,U+=(Math.max(0,Math.min(1,D))-k)*F}}u=1-(S=Math.max(0,Math.min(1,S+C))),f=1-(A=Math.max(0,Math.min(1,A+T))),c=1-(k=Math.max(0,Math.min(1,k+U))),i[l]=Math.round(255*u),i[l+1]=Math.round(255*f),i[l+2]=Math.round(255*c)}}if("remap"==t.type&&a.tJA(e,i,t.oB,t.oF,t.UY,t.yR,t.yj),"remapHSL"==t.type){var N=new Uint32Array(e.buffer),I=new Uint32Array(i.buffer);for(o=N.length,l=0;l<o;l++){u=1/255*(255&(G=N[l])),f=1/255*(G>>>8&255),c=1/255*(G>>>16&255);var E=G>>>24;u=t.xT*u+t.xP*(1-u),f=t.xT*f+t.xP*(1-f),c=t.xT*c+t.xP*(1-c);var P=(p=a.pI(u,f,c)).ht,J=p._u,B=p.NK,X=t.tz[Math.round(255*P)]*(1/255),z=t.pe[Math.round(255*P)]*(1/255)*2-1,$=t.tZ[Math.round(255*P)]*(1/255)*2-1;if(1==t.tm)V=z;else{z>0&&(z=Math.tan(Math.PI/2*z));var V=Math.min(J*(1+z),1)}var R=Math.abs($),q=a.En(X,V*(1-R),B+($>0?1:-1)*Math.min(B,1-B)*J);u=(m=a.En(X,V,B)).T*(1-R)+q.T*R,f=m.q*(1-R)+q.q*R,c=m.H*(1-R)+q.H*R,I[l]=E<<24|255*c<<16|255*f<<8|255*u}}if("vibrance"==t.type){N=new Uint32Array(e.buffer),I=new Uint32Array(i.buffer),o=N.length;var H=t.gg[0]/100,j=t.gg[1]/100;for(l=0;l<o;l++){u=1/255*(255&(G=N[l])),f=1/255*(G>>>8&255),c=1/255*(G>>>16&255),E=G>>>24,P=(p=a.sM(u,f,c)).ht,J=p._u,B=p.Dq;var G,Y=.125;J+=.2*(1-.4*(P<Y?Math.cos(Math.PI/2*(P-Y/2)/(Y/2)):0))*H*Math.max(0,Math.sin(J*Math.PI)),J*=1+j,J=Math.max(0,Math.min(1,J)),u=(m=a.pq(P,J,B)).T,f=m.q,c=m.H,I[l]=E<<24|255*c<<16|255*f<<8|255*u}}},tyw:function(t,e,i){"remap"==t.type&&u.vs(e,{T:t.oB,q:t.oF,H:t.UY},t.yR,t.yj,i),"remapHSL"==t.type&&u.NN(e,{T:t.tz,q:t.pe,H:t.tZ},i,t.xT,t.xP,t.tm),"vibrance"==t.type&&u.EQ(e,t.gg[0]/100,t.gg[1]/100,i),"selc"==t.type&&u.Wk(e,t.uH,i),"blwh"==t.type&&u.qj(e,t.DB,[t.Lv,t.DZ,t.If,t.cJ,t.Tk,t.cD],i),"matrix"==t.type&&u.El(e,t.Iw,i)},O_:function(t,e){var i=6*a.Y_(e,t);return Math.max(0,Math.min(1,i<0?1+i:1-i))},ready:{brit:1,levl:1,curv:1,expA:1,vibA:1,hue2:1,blnc:1,blwh:1,phfl:1,mixr:1,nvrt:1,thrs:1,grdm:1,selc:1},nR:["expA","mixr"],ys:{BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0Þ":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0Ý":"phfl",Invr:"nvrt",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr"},names:{brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15]}};tt.keys={levl:[W.sf,W.VN],curv:[W.sf,W.OB],hue2:[W.sf,W.Hr],nvrt:[W.sf,W.jt],blnc:[W.sf,W.Op]},tt.jw=function(t,e){if("brit"==t&&(e.brit={Pk:0,dy:0,ul:0,uz:0},e.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}}),"levl"==t){e[t]=[];for(var i=0;i<62;i++)e[t].push([0,255,0,255,100])}if("curv"==t&&(e[t]=[[0,0,255,255],[0,0,255,255],[0,0,255,255],[0,0,255,255]]),"expA"==t&&(e[t]=[0,0,1]),"vibA"==t&&(e[t]={classID:"null",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}}),"hue2"==t&&(e[t]={bc:!1,qq:[0,25,0],ry:[0,0,0],gV:[{gX:[315,345,15,45],fY:[0,0,0]},{gX:[15,45,75,105],fY:[0,0,0]},{gX:[75,105,135,165],fY:[0,0,0]},{gX:[135,165,195,225],fY:[0,0,0]},{gX:[195,225,255,285],fY:[0,0,0]},{gX:[255,285,315,345],fY:[0,0,0]}]}),"nvrt"==t&&(e[t]=1),"grdm"==t&&(e[t]={rev:!1,mz:!1,e:JSON.parse(ot.cz[ot.order.indexOf("GrFl")]).Grad.v,mode:0,dP:867527939,mU:!1,mN:!0,mF:2048,mu:3,_V:[0,0,0,0],_C:[32768,32768,32768,32768]}),"selc"==t){e[t]={ir:!0,uF:[]};for(i=0;i<10;i++)e[t].uF.push([0,0,0,0])}"blwh"==t&&(e[t]={classID:"null",Rd:{t:"long",v:50},Yllw:{t:"long",v:50},Grn:{t:"long",v:50},Cyn:{t:"long",v:50},Bl:{t:"long",v:50},Mgnt:{t:"long",v:50},useTint:{t:"bool",v:!1},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:255},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}},bwPresetKind:{t:"long",v:3},blackAndWhitePresetFileName:{t:"TEXT",v:""}}),"blnc"==t&&(e[t]={fY:[[0,0,0],[0,0,0],[0,0,0]],If:!1}),"thrs"==t&&(e[t]=128),"phfl"==t&&(e[t]={color:{L_:7,Dq:[1254,3530,63045,0]},mC:10,uT:!1}),"mixr"==t&&(e[t]={_J:!1,R:[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]})},tt.nt=function(t,e,i){if("brit"==t&&(i.Brgh.v=e[0],i.Cntr.v=e[1],i.useLegacy.v=e[2]),"levl"==t)for(var n=i.Adjs.v=[],r=0;r<4;r++){var s=e[r];(h={classID:"LvlA",Chnl:tt.lq(r)}).Inpt={t:"VlLs",v:[{yC:"long",Dq:s[0]},{yC:"long",Dq:s[1]}]},h.Otpt={t:"VlLs",v:[{yC:"long",Dq:s[2]},{yC:"long",Dq:s[3]}]},h.Gmm={yC:"doub",Dq:s[4]/100},n.push({t:"Objc",v:h})}if("curv"==t)for(n=i.Adjs.v=[],r=0;r<4;r++){s=e[r];for(var h={classID:"CrvA",Chnl:tt.lq(r),Crv:{t:"VlLs",v:[]}},o=0;o<s.length;o++)h.Crv.v.push(s[o]);n.push({t:"Objc",v:h})}if("expA"==t&&(i.Exps.v=e[0],i.Ofst.v=e[1],i.gammaCorrection.v=e[2]),"vibA"==t&&(i.vibrance.v=e[0],i.Strt.v=e[1]),"hue2"==t){i.Clrz.v=e.bc;for(n=i.Adjs.v=[],r=0;r<7;r++){var l=0==r?e.bc?e.qq:e.ry:e.gV[r-1].fY,u=tt.nr(l);if(n.push({t:"Objc",v:u}),0!=r){var f=e.gV[r-1].gX;u.LclR={t:"long",v:r},u.BgnR={t:"long",v:f[0]},u.BgnS={t:"long",v:f[1]},u.EndS={t:"long",v:f[2]},u.EndR={t:"long",v:f[3]}}}}if("blnc"==t){i.PrsL.v=e.If;var c=["ShdL","MdtL","HghL"];for(r=0;r<3;r++)for(n=i[c[r]].v,o=0;o<3;o++)n[o].v=e.fY[r][o]}if("blwh"==t&&tt.write(t,e,i),"phfl"==t){i.Dnst.v=e.mC,i.PrsL.v=e.uT;var p=a.e.NG(e.qq),v=tt.lB([p.T,p.q,p.H,0]);v={classID:"LbCl",Lmnc:{t:"doub",v:v[0]/100},A:{t:"doub",v:v[1]/100},B:{t:"doub",v:v[2]/100}},i.Clr={t:"Objc",v:v}}if("grdm"==t&&(i.Grad.v=e[0],i.Rvrs={t:"bool",v:e[1]}),"selc"==t){i.Mthd.v=e.ir?"Absl":"Rltv";var d=["Cyn","Mgnt","Ylw","Blck"],y="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");for(n=i.ClrC.v=[],r=1;r<10;r++){var g=e.uF[r];for(u={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:y[r-1]}}},o=0;o<4;o++)u[d[o]]={t:"UntF",v:{type:"#Prc",val:g[o]}};n.push({t:"Objc",v:u})}}if("thrs"==t&&(i.Lvl.v=e),"mixr"==t){function m(t,e){var i={classID:"ChMx"},n={Rd:0,Grn:1,Bl:2,Cnst:4};for(var r in n)i[r]={t:"UntF",v:{type:"#Prc",val:t[e+n[r]]}};return{t:"Objc",v:i}}i.Mnch={t:"bool",v:e._J},e._J?i.Gry=m(e.R,0):(i.Rd=m(e.R,0),i.Grn=m(e.R,5),i.Bl=m(e.R,10))}return i},tt.nr=function(t){return{classID:"Hst2",H:{t:"long",v:t[0]},Strt:{t:"long",v:t[1]},Lght:{t:"long",v:t[2]}}},tt.lq=function(t){return{t:"obj ",v:[{t:"Enmr",v:{class:"Chnl",type:"Chnl",enum:["Cmps","Rd","Grn","Bl"][t]}}]}},tt.lK=function(t,e){var i,n={Cmps:0,Rd:1,Grn:2,Bl:3};if("brit"==t&&(i=tt.cP("brit",e)),"levl"==t){var r=e.Adjs.v;i=[];for(var s=0;s<4;s++)i.push([0,255,0,255,100]);for(s=0;s<r.length;s++){var h=i[o=n[(g=r[s].v).Chnl.v[0].v.enum]];g.Inpt&&(h[0]=g.Inpt.v[0].v,h[1]=g.Inpt.v[1].v),g.Otpt&&(h[2]=g.Otpt.v[0].v,h[3]=g.Otpt.v[1].v),g.Gmm&&(h[4]=Math.round(100*g.Gmm.v))}}if("curv"==t){r=e.Adjs.v;i=[];for(s=0;s<4;s++)i.push([a.kv.oS(0,0,!0),a.kv.oS(255,255,!0)]);for(s=0;s<r.length;s++){for(var o=n[(g=r[s].v).Chnl.v[0].v.enum],l=g.Crv.v,u=[],f=0;f<l.length;f++)u.push(a.kv.oS(l[f].v.Hrzn.v,l[f].v.Vrtc.v));i[o]=u}}if("expA"==t&&(i=[e.Exps.v,e.Ofst.v,e.gammaCorrection.v]),"vibA"==t&&(i=tt.cP(t,e)),"hue2"==t){r=e.Adjs.v;i={bc:e.Clrz.v,qq:[100,25,0],ry:[0,0,0],gV:[{gX:[315,345,15,45],fY:[0,0,0]},{gX:[15,45,75,105],fY:[0,0,0]},{gX:[75,105,135,165],fY:[0,0,0]},{gX:[135,165,195,225],fY:[0,0,0]},{gX:[195,225,255,285],fY:[0,0,0]},{gX:[255,285,315,345],fY:[0,0,0]}]};for(s=0;s<r.length;s++){var c=[(g=r[s].v).H.v,g.Strt.v,g.Lght.v];null==g.LclR?i.ry=i.qq=c:i.gV[g.LclR.v-1].fY=c}}if("blnc"==t){i={fY:[[0,0,0],[0,0,0],[0,0,0]],If:e.PrsL.v};var p=["ShdL","MdtL","HghL"];for(s=0;s<3;s++){r=e[p[s]].v;i.fY[s]=[r[0].v,r[1].v,r[2].v]}}if("blwh"==t&&(i=tt.cP(t,e)),"phfl"==t){var v=[255,0,0];if(e.Clr){var d=e.Clr.v;"LbCl"==d.classID&&(v=tt.jd([100*d.Lmnc.v,100*d.A.v,100*d.B.v]))}i={mC:e.Dnst.v,uT:e.PrsL.v,qq:a.e.Ta({T:v[0],q:v[1],H:v[2]})}}if("grdm"==t&&(i=[e.Grad.v,!!e.Rvrs&&e.Rvrs.v]),"selc"==t){var y=["Cyn","Mgnt","Ylw","Blck"];n="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");i={ir:"Rltv"!=e.Mthd.v,uF:[]};for(s=0;s<10;s++)i.uF.push([0,0,0,0]);for(r=e.ClrC.v,s=0;s<r.length;s++){var g=r[s].v,m=(o=n.indexOf(g.Clrs.v.Clrs),i.uF[o+1]);for(f=0;f<4;f++)g[y[f]]&&(m[f]=g[y[f]].v.val)}}if("thrs"==t&&(i=e.Lvl.v),"mixr"==t){function w(t,e,i){var n={Rd:0,Grn:1,Bl:2,Cnst:4};for(var r in n)t[r]&&(e[i+n[r]]=t[r].v.val)}i={_J:!1,R:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},e.Mnch&&e.Mnch.v&&(i._J=!0),i._J?w(e.Gry.v,i.R,0):(w(e.Rd.v,i.R,0),w(e.Grn.v,i.R,5),w(e.Bl.v,i.R,10))}return i},tt.cV=function(t){var e=tt.get(t);if("brit"==e)return t.CgEd?tt.cP(e,t.CgEd):[t.brit.Pk,t.brit.dy,!0];if("levl"==e){for(var i=[],n=0;n<4;n++)i.push(JSON.parse(JSON.stringify(t[e][n])));return i}if("curv"==e){if(256==(i=t[e])[0].length)return i;var r=[];for(n=0;n<4;n++){var s=i[n],h=[];r.push(h);for(var o=0;o<s.length;o+=2)h.push(a.kv.oS(s[o],s[o+1],!0))}return r}if("vibA"==e)return tt.cP(e,t[e]);if("grdm"==e)return[(l=t[e]).e,l.rev];if("blwh"==e)return tt.cP(e,t[e]);if("phfl"==e){var l,u=[255,0,0];if((l=t[e]).color)7==(s=l.color).L_&&(u=tt.jd(s.Dq));return{mC:l.mC,uT:l.uT,qq:a.e.Ta({T:u[0],q:u[1],H:u[2]})}}return t[e]},tt.jd=function(t){for(var e=t[0]/100,i=t[1]/100,n=903.3,r=.008856,s=(e+16)/116,h=s*s*s,o=s-t[2]/100/200,l=o*o*o,u=i/500+s,f=u*u*u,c=96.72*(f>r?f:(116*u-16)/n),p=100*(h>r?h:(116*s-16)/n),v=81.427*(l>r?l:(116*o-16)/n),d=a.Iw.US(a.Iw.pR,[c/100,p/100,v/100,0]),y=0;y<4;y++)d[y]=Math.max(0,Math.min(255,255*a.hU(d[y])));return d},tt.lB=function(t){for(var e=0;e<4;e++)t[e]=a.tVM(t[e]/255);var i=a.Iw.US(a.Iw.UK(a.Iw.pR),t),n=100*i[0]/96.72,r=100*i[1]/100,s=100*i[2]/81.427;return n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,[100*(116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16),100*(500*(n-r)),100*(200*(r-(s=s>.008856?Math.pow(s,1/3):7.787*s+16/116))),0]},tt.cP=function(t,e){if("blwh"==t){for(var i="Rd Yllw Grn Cyn Bl Mgnt".split(" "),n=[],r=0;r<6;r++)n.push(e[i[r]].v);return n.push(e.useTint.v,e.tintColor.v),n}return"brit"==t?[e.Brgh.v,e.Cntr.v,!e.useLegacy||e.useLegacy.v]:"vibA"==t?[e.vibrance?e.vibrance.v:0,e.Strt?e.Strt.v:0]:void 0},tt.write=function(t,e,i){if(console.log(i),"blwh"==t){for(var n="Rd Yllw Grn Cyn Bl Mgnt".split(" "),r=0;r<6;r++)i[n[r]].v=e[r];i.useTint.v=e[6],i.tintColor.v=e[7]}},tt.qY=function(t,e){var i=tt.get(e);if("brit"==i)t[2]?(delete e.CgEd,e.brit.Pk=t[0],e.brit.dy=t[1]):(e.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:t[0]},Cntr:{t:"long",v:t[1]},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}},e.brit={Pk:0,dy:0,ul:0,uz:0});else if("levl"==i)for(var n=0;n<4;n++)e[i][n]=JSON.parse(JSON.stringify(t[n]));else if("curv"==i)if(256==t[0].length)e[i]=t;else{var r=[];for(n=0;n<4;n++){var s=t[n],h=[];r.push(h);for(var o=0;o<s.length;o++)h.push(s[o].v.Hrzn.v,s[o].v.Vrtc.v)}e[i]=r}else if("vibA"==i)e[i]={classID:"null",vibrance:{t:"long",v:t[0]},Strt:{t:"long",v:t[1]}};else if("grdm"==i)e[i].e=t[0],e[i].rev=t[1];else if("blwh"==i)tt.write(i,t,e[i]);else if("phfl"==i){var l={color:{L_:7,Dq:[8445,-4871,1032,0]},mC:t.mC,uT:t.uT},u=a.e.NG(t.qq);l.color.Dq=tt.lB([u.T,u.q,u.H,0]),e[i]=l}else e[i]=t};var et={};function it(){}function nt(){this.rect=null,this.kE="norm",this.opacity=255,this.fB=!1,this._c=0,this.nb=0,this.gA=[0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535],this.name=null,this.add={},this.buffer=null,this.Gy=null,this._P=null,this.d=null,this.qz=null,this.cS=0,this.Fd=bt.B("canvas","").getContext("2d"),this.LJ=bt.B("canvas","").getContext("2d"),this.LL=bt.B("canvas","").getContext("2d"),this.Ld=bt.B("canvas","").getContext("2d"),this.G=0,this.uv=!1,this.UM=null,this.D=new nt.jx}et.BX=[{uL:"LqFy"},{qm:[24,2],nE:"Avrg,Blr ,BlrM,\0\0±,GsnB,MtnB,RdlB,\0\0µ".split(",")},{qm:[24,4],nE:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl".split(",")},{qm:[24,6],nE:["AdNs","DstS","Mdn "]},{qm:[24,8],nE:["ClrH","Msc "]},{qm:[24,10],nE:["Clds","DfrC"]},{qm:[24,12],nE:["Shrp","ShrM","UnsM"]},{qm:[24,14],nE:["FndE"]},{qm:[24,16],nE:["HghP","Mxm ","Mnm ","Ofst","Rept"]}],et.names={LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0±":[24,3,3],GsnB:[24,3,4],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0µ":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],"Msc ":[24,9,5],Clds:[24,11,0],DfrC:[24,11,1],Shrp:[24,13,0],ShrM:[24,13,2],UnsM:[24,13,4],FndE:[24,15,3],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5]},et.vI=function(t){var e=null;if("LqFy"==t){for(var i={JX:50,ht:50,map:new Float32Array(5e3)},n=new Uint8Array(T.nX(i)),r=[],s=0;s<n.length;s++)r.push(n[s]);e={__name:"Liquify\0",classID:"LqFy",LqMe:{t:"tdta",v:r}}}return"LnCr"==t&&(e={__name:"Lens Correction\0",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}}),"\0\0±"==t&&(e={__name:"Box Blur\0",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}}),"GsnB"==t&&(e={__name:"Gaussian Blur\0",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}}),"MtnB"==t&&(e={__name:"Motion Blur\0",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}}),"RdlB"==t&&(e={__name:"Radial Blur\0",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}}),"\0\0µ"==t&&(e={__name:"Surface Blur\0",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}}),"Dspl"==t&&(e={__name:"Displace\0",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}}),"Pnch"==t&&(e={__name:"Pinch\0",classID:"Pnch",Amnt:{t:"long",v:-100}}),"Plr "==t&&(e={__name:"Polar Coordinates\0",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}}),"Rple"==t&&(e={__name:"Ripple\0",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}}),"Shr "==t&&(e={__name:"Shear\0",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}}),"Sphr"==t&&(e={__name:"Spherize\0",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}}),"Twrl"==t&&(e={__name:"Twirl\0",classID:"Twrl",Angl:{t:"long",v:90}}),"AdNs"==t&&(e={__name:"Add Noise\0",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}}),"DstS"==t&&(e={__name:"Dust & Scratches\0",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}}),"Mdn "==t&&(e={__name:"Median\0",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}}),"ClrH"==t&&(e={__name:"Color Halftone\0",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}}),"Msc "==t&&(e={__name:"Mosaic\0",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}}),"UnsM"==t&&(e={__name:"Unsharp Mask\0",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}}),"HghP"==t&&(e={__name:"High Pass\0",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}}),"Mxm "==t&&(e={__name:"Maximum\0",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}}),"Mnm "==t&&(e={__name:"Minimum\0",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}}),"Ofst"==t&&(e={__name:"Offset\0",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}}),"Rept"==t&&(e={__name:"Repeat\0",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}}),"brit"==t&&(e={__name:"Brightness/Contrast\0",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}}),"levl"==t&&(e={__name:"Levels\0",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}}),"curv"==t&&(e={__name:"Curves\0",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}}),"expA"==t&&(e={__name:"Exposure\0",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:0}}),"vibA"==t&&(e={__name:"Vibrance\0",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}}),"hue2"==t&&(e={__name:"Hue/Saturation\0",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}}),"blnc"==t&&(e={__name:"Color Balance\0",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}}),"blwh"==t&&(e={__name:"Black & White\0",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}}),"phfl"==t&&(e={__name:"Photo Filter\0",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}}),"grdm"==t&&(e={__name:"Gradient Map\0",classID:"GrMp",Rvrs:{t:"bool",v:!0},Grad:JSON.parse(ot.cz[6]).Grad}),"selc"==t&&(e={__name:"Selective Color\0",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Absl"}},ClrC:{t:"VlLs",v:[]}}),"thrs"==t&&(e={__name:"Threshold\0",classID:"Thrs",Lvl:{t:"long",v:128}}),"mixr"==t&&(e={__name:"Channel Mixer\0",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}}),e},et.tyc=function(t){var e=new f(0,0);if(0==t.enab.v)return e;for(var i=t.filterFXList.v,n=0;n<i.length;n++){var r=i[n].v,s=0,a=0;if(0!=r.enab.v){var h=O.Xn(r.filterID.v);if(-1!=["GsnB","\0\0±","UnsM","HghP"].indexOf(h))s=a=2.57*r.Fltr.v.Rds.v.val;"MtnB"==h&&(s=a=r.Fltr.v.Dstn.v.val),-1!="Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,RdlB,Plr ,LnCr".split(",").indexOf(h)&&(s=a=1e4),s=Math.ceil(s),a=Math.ceil(a),s>e.x&&(e.x=s),a>e.y&&(e.y=a)}}return e},et.kn=function(t,e,i,n,r,s,h){if(null==s&&(s={buffer:a.I(e.buffer.length),rect:e.rect.clone()}),a.sa(e.buffer,s.buffer),"Avrg"==t){for(var o=0,l=0,u=0,p=0,v=0;v<e.buffer.length;v+=4){var d=e.buffer[v+3];u+=e.buffer[v]*d,l+=e.buffer[v+1]*d,o+=e.buffer[v+2]*d,p+=d}var y=1/p;o=Math.round(o*y*1+0),l=Math.round(l*y*1+0),u=Math.round(u*y*1+0),a.Mw(s.buffer,o<<16|l<<8|u,4278190080)}if(-1!=["GsnB","\0\0±","UnsM","HghP"].indexOf(t)){var g=i.Rds.v.val,m="\0\0±"==t?a.blur.Lj:a.blur.tDU;if(et.$U(g,m,s.buffer,s.rect),"UnsM"==t){var w=i.Amnt.v.val/100,b=i.Thsh.v;for(v=0;v<e.buffer.length;v++)if(3!=(3&v)){var x=w*((M=e.buffer[v])-(S=s.buffer[v]));x=x>0?Math.max(0,x-b):Math.min(0,x+b),s.buffer[v]=Math.max(0,Math.min(255,M+x))}else s.buffer[v]=e.buffer[v]}if("HghP"==t)for(v=0;v<e.buffer.length;v++)if(3!=(3&v)){var M=e.buffer[v],S=s.buffer[v];s.buffer[v]=Math.max(0,Math.min(255,128+M-S))}else s.buffer[v]=e.buffer[v]}if("\0\0µ"==t){var A=i.Rds.v.val,k=i.Thsh.v,C=e.rect.$,U=e.rect.z,_=new a.wf(C*U);a.GQ(e.buffer,_);var F=new a.wf(C*U);a.HW.gr(_.T,_.o,F.T,C,U,A,a.HW.ug,[k]),a.HW.gr(_.q,_.o,F.q,C,U,A,a.HW.ug,[k]),a.HW.gr(_.H,_.o,F.H,C,U,A,a.HW.ug,[k]),a.sa(_.o,F.o),a.GL(F,s.buffer)}if("AdNs"==t){var O,D=new Uint8ClampedArray(s.buffer.buffer),N=255*i.Nose.v.val/100;O="Gsn"==i.Dstr.v.Dstr?function(){return 2*(Math.random()+Math.random()+Math.random()+Math.random()-2)}:function(){return 2*Math.random()-1};for(v=0;v<D.length;v+=4){A=D[v];var I,E,P,J=D[v+1],B=D[v+2];i.Mnch.v?I=E=P=O():(I=O(),E=O(),P=O()),A+=N*I,J+=N*E,B+=N*P,D[v]=A,D[v+1]=J,D[v+2]=B}}if("Mdn "==t||"DstS"==t||"Mxm "==t||"Mnm "==t){A=0;"Mdn "!=t&&"Mxm "!=t&&"Mnm "!=t||(A=i.Rds.v.val),"DstS"==t&&(A=i.Rds.v);m=a.HW.tHG;"Mxm "==t&&(m=a.HW.t$V),"Mnm "==t&&(m=a.HW.tJq);C=e.rect.$,U=e.rect.z,_=new a.wf(C*U);a.GQ(e.buffer,_);F=new a.wf(C*U);if(a.HW.gr(_.T,_.o,F.T,C,U,A,m),a.HW.gr(_.q,_.o,F.q,C,U,A,m),a.HW.gr(_.H,_.o,F.H,C,U,A,m),"Mdn "==t)a.set(_.T,255),a.HW.gr(_.o,_.T,F.o,C,U,A,m);else if("Mxm "==t||"Mnm "==t){var X=a.I(_.o.length);a.set(X,255),a.UK(_.o),a.HW.gr(_.o,X,F.o,C,U,A,m),a.UK(_.o),a.UK(F.o)}else a.sa(_.o,F.o);if(a.GL(F,s.buffer),"DstS"==t)for(k=i.Thsh.v,v=0;v<C*U*4;v++){Math.abs(e.buffer[v]-s.buffer[v])<=k&&(s.buffer[v]=e.buffer[v])}}if("ClrH"==t){(Ot=e.rect.clone()).x=Ot.y=0;A=i.Rds.v;A=Math.round(A*Math.sqrt(2));C=Ot.$,U=Ot.z,_=new a.wf(C*U);a.GQ(e.buffer,_),a.UK(_.T),a.UK(_.q),a.UK(_.H);var z=bt.B("canvas","");z.width=C,z.height=U;for(var $=z.getContext("2d"),V=a.I(C*U*4),R=0;R<3;R++){var q=0==R?_.T:1==R?_.q:_.H,H=Math.PI*i["Ang"+(R+1)].v/180;(Qt=new c(1/A,0,0,1/A,0,0)).rotate(H),a.kw(q,V,3);var G=(Mt=j._.Qk([V,Ot],Qt,!0)).rect;$.clearRect(0,0,C,U);var Y=Math.sin(H),K=Math.cos(H);for(v=0;v<G.z;v++)for(var Q=0;Q<G.$;Q++){ut=K*(Xt=ut=(Q+G.x+.5)*A)-Y*(zt=lt=(v+G.y+.5)*A),lt=Y*Xt+K*zt;var W=Mt.buffer[3+(v*G.$+Q<<2)]*(1/255);g=A*Math.sqrt(W*(1/Math.PI));$.beginPath(),$.arc(ut,lt,g,0,2*Math.PI),$.fill()}var Z=$.getImageData(0,0,C,U);a.rY(Z.data,q,3)}a.UK(_.T),a.UK(_.q),a.UK(_.H),a.GL(_,s.buffer)}if("Msc "==t){var tt=i.ClSz.v.val,it=(C=e.rect.$,U=e.rect.z,Math.ceil(C/tt)),nt=Math.ceil(U/tt),rt=a.I(it*nt*4);a.scale.ke(e.buffer,C,U,rt,it,nt,1/tt),a.scale.ke(rt,it,nt,s.buffer,C,U,tt)}if("Clds"==t||"DfrC"==t){"Clds"==t&&a.Mw(s.buffer,4278190080);var st=a.I(1024);for(v=0;v<256;v++){var at=v/255,ht=1-at;st[yt=v<<2]=Math.round(at*n.T+ht*r.T),st[yt+1]=Math.round(at*n.q+ht*r.q),st[yt+2]=Math.round(at*n.H+ht*r.H)}W=(C=s.rect.$)*(U=s.rect.z);var ot=a.I(W);noise.seed(Math.random());for(var lt=0;lt<U;lt++)for(var ut=0;ut<C;ut++){var ft=0,ct=1,pt=1;for(v=0;v<8;v++){var vt=pt*(1/170);ft+=noise.perlin2(ut*vt,lt*vt)*ct,ct*=.5,pt<<=1}ot[lt*C+ut]=Math.round(Math.max(0,255*Math.min(1,.5+.7*ft*.5)))}var dt=s.buffer;for(v=0;v<W;v++){var yt=v<<2,gt=ot[v]<<2;A=st[gt],J=st[gt+1],B=st[gt+2];"Clds"==t?(dt[yt]=A,dt[yt+1]=J,dt[yt+2]=B):(dt[yt]=Math.abs(dt[4*v]-A),dt[yt+1]=Math.abs(dt[4*v+1]-J),dt[yt+2]=Math.abs(dt[4*v+2]-B))}}if("Blr "==t||"BlrM"==t||"Shrp"==t||"ShrM"==t){var mt;C=e.rect.$,U=e.rect.z;if("Blr "==t)mt=[1,2,1,2,16,2,1,2,1];else if("BlrM"==t)mt=[1,2,1,2,4,2,1,2,1];else{mt=[-1,-1,-1,-1,"Shrp"==t?14:11,-1,-1,-1,-1]}mt=a.HW.Cr(mt);var wt=e.buffer.slice(0);a.cf(wt),a.HW.zV(wt,s.buffer,C,U,mt,3,"Shrp"==t||"ShrM"==t?0:255),a.cY(s.buffer)}if("MtnB"==t){var xt=Date.now();(Qt=new c).rotate(-i.Angl.v*Math.PI/180);var Mt=j._.Qk([e.buffer,e.rect],Qt,!1,null,!0);et.$U(i.Dstn.v.val/2,a.blur.LK,Mt.buffer,Mt.rect),Qt.UK(),Mt=j._.Qk([Mt.buffer,Mt.rect],Qt,!1,s.buffer.buffer,!0,s.rect),console.log(Date.now()-xt)}if("RdlB"==t){C=e.rect.$,U=e.rect.z,w=i.Amnt.v;var St="Zm"==i.BlrM.v.BlrM,At=(R=i.Cntr.v).Hrzn.v,kt=R.Vrtc.v,Ct=Math.max(At,1-At)*C,Tt=Math.max(kt,1-kt)*U,Ut=(g=Math.sqrt(Ct*Ct+Tt*Tt),2*Math.PI*g*1.2),_t=Math.round(Ut),Ft=Math.round(g),Ot=new L(0,0,_t,Ft),Lt=a.I(_t*Ft*4),Dt=St?4:1,Nt=St?.6:(C+U)/2*8/1400,It=(vt=1,1);a.F.CL(e.buffer,C,U,Lt,_t,Ft,At,kt,Dt,.1,vt,It);var Et=St?a.I(_t*Ft*4):null;if(St){a.F.zC(Lt,Et,_t,Ft);var Pt=Et;Et=Lt,Lt=Pt,Ot.$=Ft,Ot.z=_t}if(et.$U(Nt*w,a.blur.LK,Lt,Ot),St){a.F.zC(Lt,Et,Ft,_t);Pt=Et;Et=Lt,Lt=Pt,Ot.$=_t,Ot.z=Ft}a.F.CC(Lt,_t,Ft,s.buffer,C,U,At,kt,Dt,.1,vt,It)}if("Plr "==t){C=e.rect.$,U=e.rect.z;"RctP"==i.Cnvr.v.Cnvr?a.F.CC(e.buffer,C,U,s.buffer,C,U,.5,.5,1,0,2,C/U):a.F.CL(e.buffer,C,U,s.buffer,C,U,.5,.5,1,0,2,C/U)}if("FndE"==t){C=e.rect.$,U=e.rect.z;et.tyL(e.buffer,s.buffer,C,U)}if("Ofst"==t){C=e.rect.$,U=e.rect.z;var Jt=new Uint32Array(e.buffer.buffer),Bt=new Uint32Array(s.buffer.buffer),Xt=i.Hrzn.v,zt=i.Vrtc.v,$t=i.Fl.v.FlMd;if(a.Mw(Bt,0),"Bckg"==$t||"Rpt"==$t)(Ot=e.rect.clone()).offset(Xt,zt),a.Pg(Jt,Ot,Bt,s.rect);if("Rpt"==$t){var Vt,Rt,qt,Ht,jt;Vt=(Xt=Math.max(-C,Math.min(C,Xt)))>0?Xt:0,qt=Xt>0?C:C+Xt,Ht=(zt=Math.max(-U,Math.min(U,zt)))>0?zt:U,jt=zt>0?0:C*(U-1);for(lt=Rt=zt>0?0:zt+U;lt<Ht;lt++)for(ut=Vt;ut<qt;ut++)Bt[lt*C+ut]=Jt[jt+ut-Xt];Vt=Xt>0?0:C+Xt,qt=Xt>0?Xt:C,Ht=zt>0?U:U+zt,jt=Xt>0?0:C-1;for(lt=Rt=zt>0?zt:0;lt<Ht;lt++)for(ut=Vt;ut<qt;ut++)Bt[lt*C+ut]=Jt[jt+C*(lt-zt)];Xt>=0&&zt>=0&&(Vt=0,qt=Xt,Rt=0,Ht=zt,jt=0),Xt>=0&&zt<0&&(Vt=0,qt=Xt,Rt=U+zt,Ht=U,jt=C*(U-1)),Xt<0&&zt>=0&&(Vt=C+Xt,qt=C,Rt=0,Ht=zt,jt=C-1),Xt<0&&zt<0&&(Vt=C+Xt,qt=C,Rt=U+zt,Ht=U,jt=C*U-1);for(lt=Rt;lt<Ht;lt++)for(ut=Vt;ut<qt;ut++)Bt[lt*C+ut]=Jt[jt]}if("Wrp"==$t){Ot=new L((Xt=(Xt+100*C)%C)-C,(zt=(zt+100*U)%U)-U,C,U);a.Pg(Jt,Ot,Bt,s.rect),Ot.offset(C,0),a.Pg(Jt,Ot,Bt,s.rect),Ot.offset(0,U),a.Pg(Jt,Ot,Bt,s.rect),Ot.offset(-C,0),a.Pg(Jt,Ot,Bt,s.rect)}}if("Rept"==t){var Gt=i.Rsft.v.val/100,Yt=i.SpcX.v.val/100;Yt=Math.max(Yt,-.99);var Kt=i.SpcY.v.val/100;Kt=Math.max(Kt,-.99);var Qt;vt=i.Scl.v.val/100;(Qt=new c).rotate(i.Angl.v*Math.PI/180),Qt.scale(vt,vt);var Wt={buffer:e.buffer,rect:e.rect};a.bt(Wt),Wt.rect.km()&&(Wt.buffer=e.buffer,Wt.rect=e.rect);dt=Wt.buffer,Ot=Wt.rect;var Zt=a.Wr(dt,Ot),te=new Uint32Array(dt.buffer)[0];if(!Zt.km()&&!Zt.v$(Ot)){var ee=a.I(4*Zt.f());a.Pg(dt,Ot,ee,Zt),dt=ee,Ot=Zt}function ie(t){return t<0?Math.ceil(t):Math.floor(t)}Ot.x=Ot.y=0,te=0==Yt&&0==Kt||i.SpcC.v?te:0;var ne=Qt.Sk(new f(Ot.$,0));ne.x=ie(ne.x),ne.y=ie(ne.y);var re=Qt.Sk(new f(0,Ot.z));re.x=ie(re.x),re.y=ie(re.y);G=(Mt=j._.Qk([dt,Ot],Qt,!1)).rect;var se=Mt.buffer,ae=Math.round(G.x),he=Math.round(G.y),oe=Math.max(s.rect.$,s.rect.z)/Math.min(Ot.$*vt*(1+Yt),Ot.z*vt*(1+Kt));oe=Math.ceil(1.7*oe),a.Mw(s.buffer,te);for(lt=-oe;lt<oe;lt++)for(ut=-oe;ut<oe;ut++){var le=(ut+lt*Gt)*(1+Yt),ue=lt*(1+Kt);G.x=ae+Math.round(le*ne.x+ue*re.x),G.y=he+Math.round(le*ne.y+ue*re.y),G.p$(s.rect)&&a.a.MR("norm",se,G,s.buffer,s.rect,G,1)}}if(-1!="Lqfy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,LnCr".split(",").indexOf(t)){C=e.rect.$,U=e.rect.z;var fe,ce=0;if("LqFy"==t)fe=T.Fp(new Uint8Array(i.LqMe.v).buffer);else{var pe="Dspl"==t?1:3;if((fe={JX:Math.floor(C/pe),ht:Math.floor(U/pe)}).map=new Float32Array(fe.JX*fe.ht*2),"LnCr"==t){At=.5*(fe.JX-1),kt=.5*(fe.ht-1);var ve=Math.max(Math.abs(0-At),Math.abs(1-At)),de=Math.max(Math.abs(0-kt),Math.abs(1-kt)),ye=Math.sqrt(ve*ve+de*de);for(St=3,lt=0;lt<fe.ht;lt++)for(ut=0;ut<fe.JX;ut++){Ct=(ut-At)*St/ye,Tt=(lt-kt)*St/ye,A=2.22*Math.sqrt(Ct*Ct+Tt*Tt),It=At+ye*(Te=Math.atan(A)/A)*Ct;var ge=kt+ye*Te*Tt;v=lt*fe.JX+ut<<1;fe.map[v]=It-ut,fe.map[v+1]=ge-lt}}else if("Dspl"==t&&0!=h.length){ce="WrpA"==i.UndA.v.UndA?2:1;var me,we=i.DspF.v.pth;for(v=0;v<h.length;v++)h[v].VB==we&&(me=h[v]);null==me&&(me=h[0]),me.cn();var be=me.Eq[1],xe=a.I(be.f());a.BS(me.Eq[0],xe);var Me=be.$,Se=2*i.HrzS.v/pe,Ae=2*i.VrtS.v/pe;for(lt=0;lt<fe.ht;lt++)for(ut=0;ut<fe.JX;ut++){ve=Math.floor(be.$*ut/fe.JX),Ct=Tt=xe[(de=Math.floor(be.z*lt/fe.ht))*Me+ve]/255-.5,v=lt*fe.JX+ut<<1;fe.map[v]=Ct*Se,fe.map[v+1]=Tt*Ae}}else if("Pnch"==t||"Twrl"==t||"Sphr"==t){w=1;var ke=Math.PI,Ce=0,Te=(R=3,tt=1.53,1);function m(t){return t=Math.pow(t,1-.3*t-t*t*(t*t)*.5),-.225*Math.sin(t*Math.PI)}function Ue(t,e,i,n,r,s,a,h){var o=s-n,l=a-r,u=n-t,f=r-e,c=o*o+l*l,p=2*(o*u+l*f),v=u*u+f*f-i*i,d=Math.sqrt(p*p-4*c*v),y=h/(2*c),g=(-p+d)*y,m=(-p-d)*y;return h*Math.min(g,m)}"Pnch"!=t&&"Sphr"!=t||(w=i.Amnt.v/100),"Twrl"==t&&(ke=i.Angl.v*Math.PI/180),"Sphr"==t&&(Ce=["Nrml","HrzO","VrtO"].indexOf(i.SphM.v.SphM));it=fe.JX,nt=fe.ht;var _e=fe.JX/2,Fe=fe.ht/2,Oe=1/_e,Le=(A=Math.sqrt(R*R+1)/R,R+Math.sqrt(1/(R*R)));w<0&&(A=1,Le=R=1.72,tt=-1,Te=-1);for(lt=0;lt<nt;lt++)for(Tt=(lt-Fe)/Fe,ut=0;ut<it;ut++){Ct=(ut-_e)*Oe;1==Ce?Tt=0:2==Ce&&(Ct=0);var De=Math.sqrt(Ct*Ct+Tt*Tt);if(De<1&&0!=De){v=lt*fe.JX+ut<<1;if("Pnch"==t){var Ne=-w*m(De)/De;fe.map[v]=Ct*Ne*_e,fe.map[v+1]=Tt*Ne*Fe}else if("Sphr"==t){var Ie=tt*w*((Pt=Ue(0,Le,A,0,0,De,R,Te))-1);fe.map[v]=Ct*Ie*_e,fe.map[v+1]=Tt*Ie*Fe}else if("Twrl"==t){H=Math.atan2(Tt,Ct)-ke*(1-De)*(1-De);var Ee=Math.cos(H),Pe=Math.sin(H);fe.map[v]=(De*Ee-Ct)*_e,fe.map[v+1]=(De*Pe-Tt)*Fe}}}}else if("Shr "==t){var Je=JSON.parse(JSON.stringify(i.ShrP.v));a.kv.UC(Je,new c(0,255/127,255/127,0,-2,0));var Be=a.kv.__(Je,fe.ht,!0);ce="WrpA"==i.UndA.v.UndA?2:1;for(lt=0;lt<fe.ht;lt++)for(Ct=-Be[lt]*fe.JX,ut=0;ut<fe.JX;ut++){v=lt*fe.JX+ut<<1;fe.map[v]=Ct}}else if("Rple"==t){ce=1;w=i.Amnt.v/100;var Xe=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],ze=1,$e=1,Ve=0,Re=["Sml","Mdm","Lrg"].indexOf(i.RplS.v.RplS);0==Re&&(ze=1,$e=.2,Ve=3),2==Re&&(ze=1,$e=2,Ve=-1,Xe=Xe.reverse());var qe=function(t,e){for(var i=Math.cos,n=0,r=0;r<4;r++)for(var s=0;s<4;s++)n+=Xe[4*r+s]*i(t*(r+Ve)-e*(s+Ve));return n},He=Math.floor(50/pe),je=new Float32Array(He*He*2),Ge=$e*w*.5/pe;for(lt=0;lt<He;lt++)for(ut=0;ut<He;ut++){var Ye=qe(At=ze*ut*2*Math.PI/He,kt=ze*lt*2*Math.PI/He);Ct=100*(qe(At+.01,kt)-Ye),Tt=100*(qe(At,kt+.01)-Ye);je[v=2*(lt*He+ut)]=Ct*Ge,je[v+1]=Tt*Ge}for(lt=0;lt<fe.ht;lt++)for(ut=0;ut<fe.JX;ut++){Pe=lt%He,Ee=ut%He,v=lt*fe.JX+ut<<1;var Ke=Pe*He+Ee<<1;fe.map[v]=je[Ke],fe.map[v+1]=je[Ke+1]}}}a.oL.CS(e.buffer,s.buffer,C,U,null,fe.map,fe.JX,fe.ht,ce)}return s},et.tyL=function(t,e,i,n){var r=a.I(t.length);a.HW.zV(t,e,i,n,[-1,0,1,-2,0,2,-1,0,1],3,0),a.HW.zV(t,r,i,n,[1,2,1,0,0,0,-1,-2,-1],3,0);for(var s=0;s<r.length;s+=4){var h=e[s],o=e[s+1],l=e[s+2],u=(e[s+3],r[s]),f=r[s+1],c=r[s+2];r[s+3];e[s]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+u*u))),e[s+1]=255-Math.max(0,Math.min(255,Math.sqrt(o*o+f*f))),e[s+2]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+c*c)))}},et.$U=function(t,e,i,n){a.cf(i),e(i,n,t),a.cY(i)},et.lu=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}},et.$m=function(t,e){var i={T:e.AF>>16,q:e.AF>>8&255,H:255&e.AF},r={T:e.ze>>16,q:e.ze>>8&255,H:255&e.ze},s=et.names[t];null==s&&(s=tt.names[t]);var h=t;for(var o in tt.ys)tt.ys[o]==t&&(h=o);var l={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:n.get(s)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:a.e.Ta(i)},BckC:{t:"Objc",v:a.e.Ta(r)},filterID:{t:"long",v:O.twj(h)}}};return(fe[t]||ue[t])&&(l.v.Fltr={t:"Objc",v:et.vI(t)}),l},it.XL=[2,5,5,7,4,4],it.Cj="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(","),it.io="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" "),it.ln="Normal,Dissolve,Darken,Multiply,Color Burn,Linear Burn,Darker Color,Lighten,Screen,Color Dodge,Linear Dodge,Lighter Color,Overlay,Soft Light,Hard Light,Vivid Light,Linear Light,Pin Light,Hard Mix,Difference,Exclusion,Subtract,Divide,Hue,Saturation,Color,Luminosity".split(","),it.l_=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"],it.FC=function(t){return"passThrough"==t?"pass":it.Cj[it.io.indexOf(t)]},it.tyC=function(t){return"pass"==t?"passThrough":it.io[it.Cj.indexOf(t)]},it.getName=function(t){return it.ln[it.Cj.indexOf(t)]},nt.jx=function(){this.W$=!0,this._$=!0,this.Jx=a.I(0),this.LG=a.I(0),this.jj=null,this.B_={},this.C$=null,this.JM=null,this.Gt=null,this.FG=null,this.PD=null,this.Ca=null,this.wa=null,this.OU=null,this.Th=null,this.G$=null,this.WF=null,this.JS=null,this.PL=!1},nt.jx.prototype.fR=function(){this.W$=!1,this._$=!1,this.jj=null,this.PL=u.Yv},nt.jx.prototype.tyS=function(){lt.KL(this.B_),this.Jx=a.I(0),this.LG=a.I(0),this.FG&&this.FG.delete(),this.PD&&this.PD.delete(),this.FG=null,this.PD=null;for(var t=[this.Ca,this.wa,this.OU,this.Th,this.G$,this.WF],e=0;e<6;e++)null!=t[e]&&t[e]instanceof u.wf&&t[e].delete();this.Ca=null,this.wa=null,this.OU=null,this.Th=null,this.G$=null,this.WF=null},nt.prototype.r=function(t){null==t&&(t=this.rect.clone()),null==this.D.jj?this.D.jj=t:this.D.jj=this.D.jj.Fv(t)},nt.prototype.oP=function(){return this.add.lsct==rt.Gp||this.add.lsct==rt.Vc},nt.prototype.TT=function(){var t=this.add;return null!=t.SoCo||null!=t.GdFl||null!=t.PtFl},nt.prototype.ft=function(){var t=this.add.lmfx;if(null!=t)for(var e=["GrFl","patternFill"],i=0;i<e.length;i++){var n=t[ot.vz[ot.order.indexOf(e[i])]].v;if(0!=n.length)for(var r=0;r<n.length;r++){var s=n[r].v;!s.enab.v||null!=s.Algn&&s.Algn.v||(this.D._$=!0)}}},nt.prototype.fr=function(){var t=this.d;return this.TT()&&(t=this.Ab()),u.Yv?((null==this.D.PD||this.D.W$||u.Yv!=this.D.PL)&&(this.D.PD&&this.D.PD.delete(),this.D.PD=new u.Vu(t.AK().$,t.AK().z),this.D.PD.set(t.Lu())),this.D.PD):t.Lu()},nt.prototype.fH=function(t){var e=this.rect,i=this.buffer;if(!u.Yv)return(n=this.jE(t,i,e))&&(i=n.nn,e=n.rect),i;if(null!=this.D.jj||u.Yv!=this.D.PL){var n;(n=this.jE(t,i,e))&&(i=n.nn,e=n.rect);var r=e;if(u.Yv!=this.D.PL||null==this.D.FG||this.D.FG.$!=r.$||this.D.FG.z!=r.z)this.D.FG&&this.D.FG.delete(),this.D.FG=new u.wf(r.$,r.z),this.D.FG.set(i);else{var s=this.D.jj.clone();s.offset(-e.x,-e.y),this.D.FG.set(i,s)}}return this.D.FG},nt.prototype.Vw=function(){var t=this.d;return this.TT()&&(t=this.Ab()),null!=t&&t.isEnabled&&(0==t.NG()||0!=t.NG()&&!t.rect.km())},nt.prototype.jE=function(t,e,i){if(this.kl()){var n=this.hy(t);if(n.d&&n.d.isEnabled&&(!n.d.rect.km()||0==n.d.color)){var r=this.add.SoLd.filterFX.v;n.d.JU=r.filterMaskDensity?r.filterMaskDensity.v:255,n.d.jQ=r.filterMaskFeather?r.filterMaskFeather.v:0;var s=n.buffer,h=n.d.Qd(i);return a.UK(h),e=a.clone(e),a.a.fX(s,n.rect,e,i,h,i,0,i,1),{nn:e,rect:i}}}},nt.prototype.tyl=function(){var t={Ws:!1,qG:!1,tJT:0,tJg:0};return this.add.vmsk&&this.add.vmsk.isEnabled&&(t.qG=!0),this.Ab()&&this.Ab().isEnabled&&(t.Ws=!0),t.Ws&&t.qG&&(t.tJT=this.Ab().rect.x-this.add.vmsk.Ab().rect.x,t.tJg=this.Ab().rect.y-this.add.vmsk.Ab().rect.y),t},nt.prototype.Sa=function(t){if(this.add.lsct!=rt.JQ){var e,i=this,n=null!=this.Ab()&&this.Ab().rb,r=null!=this.add.vmsk&&this.add.vmsk.rb,s=this.tyl();if(JSON.stringify(s)!=this.D.C$||s.Ws&&n||s.qG&&r){if(s.qG){var a=this.add.vmsk.Ab();s.Ws?(this.d=this.Ab().NE(a),this.D.JM=new f(this.d.rect.x-this.Ab().rect.x,this.d.rect.y-this.Ab().rect.y)):this.d=a}this.d&&(this.D.W$=!0),this.d&&(this.D.Gt=new f(this.rect.x-this.d.rect.x,this.rect.y-this.d.rect.y)),s.Ws&&(this.Ab().rb=!1),s.qG&&(this.add.vmsk.rb=!1),this.r()}else s.Ws&&s.qG&&(this.d.rect.x=this.Ab().rect.x+this.D.JM.x,this.d.rect.y=this.Ab().rect.y+this.D.JM.y);if(i.TT()&&this.JV(t),i.XX())this.d&&(e=new f(this.rect.x-this.d.rect.x,this.rect.y-this.d.rect.y)),!this.d||!this.d.isEnabled||null!=this.D.Gt&&e.v$(this.D.Gt)||(this.D.Gt=e,this.r(),this.D.W$=!0);null!=tt.get(i.add)&&(this.D.W$=!0),this.D.C$=JSON.stringify(s)}},nt.prototype.JV=function(t){var e,i=this,n=i.add.vstk,r=i.add.vmsk?this.add.vmsk.Ab():null,s=!0;e=r&&r.isEnabled&&0==r.NG()?r.AK().clone():new L(0,0,t.$,t.z);var h=i.Ab();h&&h.isEnabled&&0==h.NG()&&(e=e.sj(i.d.AK())),n&&!n.fillEnabled.v&&(s=!1);var o=r&&n;!n||n.strokeEnabled.v&&0!=n.strokeStyleLineWidth.v.val||(o=!1);var l=a.I(4*e.f());if(s&&(i.add.SoCo&&lt.Sy(l,i.add.SoCo.Clr.v),i.add.GdFl&&lt.Gw(i.add.GdFl,l,e,t,null,r&&0==r.color?r.rect:null),i.add.PtFl&&lt.vh(i.add.PtFl,l,e,t,i.add.fxrp)),r){var u=r.JU;o&&(r.JU=255);var f=a.I(e.f());if(0!=r.NG()&&a.set(f,Math.round(r.NG())),r&&r.isEnabled){var c=r.AK(),p=r.Lu();c.v$(e)?a.sa(p,f):a.Jg(p,c,f,e)}i.add.SoCo&&s?a.kw(f,l,3):a.Sm(f,e,l,e),o&&(r.JU=u)}if(i.buffer=l,i.rect=e,o){var v=ot.nO.e$.indexOf(n.strokeStyleLineAlignment.v.strokeStyleLineAlignment),d=n.strokeStyleContent.v,y=ot.nO.aw.indexOf(d.classID),g=this.add.vmsk.Ab(n);if(i.rect.v$(new L(0,0,t.$,t.z)))i.rect=i.rect;else if(0!=v){var m=i.rect.Fv(g.AK()),w=a.I(4*m.f());a.Pg(i.buffer,i.rect,w,m),i.buffer=w,i.rect=m}u=g.JU;g.JU=255;var b=g.Qd(i.rect);g.JU=u,255==g.color&&a.UK(b);var x=a.I(4*i.rect.f());0==y&&lt.Sy(x,d.Clr.v),1==y&&lt.Gw(d,x,i.rect,t,null,0==r.color?r.rect:null),2==y&&lt.vh(d,x,i.rect,t,i.add.fxrp);var M=n.strokeStyleOpacity.v.val/100;if(1!=M&&a.Yi(b,M),a.kw(b,x,3),255==g.color&&(v=2-v),0==v&&(a.a.MR("norm",x,i.rect,i.buffer,i.rect,i.rect,1),a.Sm(f,i.rect,i.buffer,i.rect)),1==v&&a.a.MR("norm",x,i.rect,i.buffer,i.rect,i.rect,1),2==v&&(a.UK(f),a.a.fX(x,i.rect,i.buffer,i.rect,f,e,255,i.rect,1,!1),a.UK(f)),255!=g.JU){var S=a.clone(x);a.Mw(S,4278190080,16777215),a.a.MR("norm",S,i.rect,i.buffer,i.rect,i.rect,1-g.JU/255)}u=r.JU,r.JU=255,this.LG=r.Qd(i.rect),r.JU=u}this.r()},nt.prototype.fc=function(t,e){var i=this,n=i.add.SoLd.Idnt.v,r=i.add.SoLd,s=t.Hj(n,r.Crop?r.Crop.v:null);if(null!=s){var h=s.Eq;r.Sz.v.Wdth.v=h[1].$,r.Sz.v.Hght.v=h[1].z;var o=r.warp.v,l=j._.HV(r.nonAffineTransform),u=a.F.tn(l,h[1]);if(o&&!a.UB.vn(o)){var f=a.K.jm(a.UB.cq(o)),c=f.x,p=f.y,v=1/f.$,d=1/f.z;u=a.F.tn(l),u=a.F.NE(u,[v,0,-c*v,0,d,-p*d,0,0])}var y=j._.SJ(h,e,u,o);if(null==y)i.buffer=a.I(),i.rect=new L;else if(i.kl()){var g=i.hy(t);g.buffer=y.buffer,g.rect=y.rect.clone(),this.ZF(t,e)}else i.buffer=y.buffer,i.rect=y.rect;i.Sa(t),i.r(),t.r()}},nt.prototype.ZF=function(t,e){null==e&&(e=!1);var i=this.hy(t),n=this.add.SoLd.filterFX.v,r=et.tyc(n),s=new L(0,0,t.$,t.z),h=i.rect.Fv(s),o=i.rect.clone();o.FA(r.x,r.y);var l={buffer:null,rect:h.sj(o)};if(l.buffer=a.I(4*l.rect.f()),a.Pg(i.buffer,i.rect,l.buffer,l.rect),n.enab.v&&0==e)for(var u=n.filterFXList.v,f=0;f<u.length;f++){var c=u[f].v;if(0!=c.enab.v){var p=a.e.NG(c.FrgC.v),v=a.e.NG(c.BckC.v),d=O.Xn(c.filterID.v),y=c.Fltr?c.Fltr.v:null;if(null!=tt.ys[d]){var g=tt.ys[d],m=tt.lK(g,y),w=tt.yz(g,m);tt.kn(w,l.buffer,l.buffer)}else l=et.kn(d,l,y,p,v,null,t.add.lnk2?t.add.lnk2:[])}}this.rect=l.rect,this.buffer=l.buffer,this.hJ(),this.r(),t.r()},nt.prototype.jp=function(t,e,i){this.UM=this.fE(t,e,i)},nt.prototype.fD=function(t,e){var i=this.fE(t,e,!0);if(null==i)return null;var n={rg:i.G,fg:i.nI,rect:i.SB};if(1==n.rg||3==n.rg){var r=n.rect,s=a.I(r.$*r.z*4);a.kw(n.fg,s,0),a.kw(n.fg,s,1),a.kw(n.fg,s,2),a.cl(t.t.channel,t.t.rect,s,r),n.fg=s}return n},nt.prototype.fE=function(t,e,i){var n,r,s,h,o,l;if(this.G<=0){var u=a.I(this.rect.$*this.rect.z);if(a.rY(this.buffer,u,3),null==(n=a.lO.Zh(e,{channel:u,rect:this.rect},"intersection")))return null;a.hV(n.channel,n.rect);if(s=n.rect.clone(),h=this.rect.clone(),r=a.I(s.$*s.z*4),a.Pg(this.buffer,h,r,s),a.kw(n.channel,r,3),p=a.clone(this.buffer),!i){var f=a.clone(e.channel);a.UK(f),a.Sm(f,e.rect,p,h)}o=a.clone(this.buffer),l=this.rect.clone()}if(1==this.G||3==this.G){var c=1==this.G?this.Ab():this.hy(t).d;s=e.rect.clone(),h=c.rect.clone(),r=c.fA(s);var p=a.clone(c.channel);i||a.a.sF(255==c.color?a.cb(s.$*s.z):a.kh(s.$*s.z),s,p,h,e.channel,s,1),o=a.clone(c.channel),l=c.rect.clone()}return{G:this.G,nI:r,SB:s,SZ:p,sv:h,CA:o,Cu:l}},nt.prototype.jX=function(t,e){var i=this.UM;if(0==i.G&&(this.rect=i.Cu,this.buffer=i.CA,this.r()),1==i.G||3==i.G){var n=1==i.G?this.Ab():this.hy(t).d;n.channel=i.CA,n.rect=i.Cu,1==this.G&&(n.rb=!0,this.Sa(t)),3==this.G&&this.r()}this.UM=e},nt.prototype.JJ=function(t,e){var i=this.UM;if(null==i)return!1;if(i.G!=this.G)return!1;if(!e.rect.v$(i.SB))return!1;var n=i.sv.Fv(i.SB);if(i.G<=0){if(!n.v$(this.rect))return!1;var r=a.I(i.nI.length>>2);if(a.rY(i.nI,r,3),!a.v$(e.channel,r))return!1;var s=a.I(n.$*n.z*4);return a.Pg(i.SZ,i.sv,s,n),a.a.MR("norm",i.nI,i.SB,s,n,n,1),a.v$(s,this.buffer)}if(1==i.G||3==i.G){var h=1==i.G?this.Ab():this.hy(t).d;if(!n.v$(h.rect))return!1;var o=a.I(n.f());return a.set(o,h.color),a.Jg(i.SZ,i.sv,o,n),a.a.sF(i.nI,i.SB,o,n,e.channel,n,1),a.v$(o,h.channel)}},nt.prototype.cX=function(t,e,i,n){var r=this.UM;r.SB.offset(e,i);var s=r.sv.Fv(r.SB);if(r.G<=0){var h=a.I(4*s.f());a.Pg(r.SZ,r.sv,h,s),a.a.MR("norm",r.nI,r.SB,h,s,s,1),this.buffer=h,this.rect=s,this.r()}else{var o=1==this.G?this.Ab():this.hy(t).d,l=a.I(s.f());a.set(l,o.color),a.Jg(r.SZ,r.sv,l,s),a.a.sF(r.nI,r.SB,l,s,n.channel,s,1),o.channel=l,o.rect=s.clone(),1==this.G&&(o.rb=!0,this.Sa(t)),3==this.G&&this.r()}},nt.prototype.fp=function(){var t=[-1,0,1,2];return this.d&&t.push(-2),this.qz&&t.push(-3),t},nt.prototype.getName=function(){return this.add.luni?this.add.luni:this.name},nt.prototype.Vp=function(t){this.add.luni=this.name=t},nt.prototype.jK=function(t){var e=this.add.lnsr,i=this.add.TySh;"rend"==e&&i&&this.Vp(dt.Fk(i.Bd).replace(/(?:\r\n|\r|\n)/g," ").slice(0,255))},nt.prototype.op=function(){return 0==(2&this._c)},nt.prototype.XX=function(){return 0==(16&this._c)},nt.prototype.Jq=function(){return 0!=(32&this._c)},nt.prototype.FT=function(t){var e=this.add.lspf;return null!=e&&0!=(e>>t&1)},nt.prototype.cE=function(t){t&&!this.op()&&(this._c-=2),!t&&this.op()&&(this._c+=2)},nt.prototype.JP=function(){var t=this.add.lmfx;if(null==t)return!1;for(var e in t)if("masterFXSwitch"!=e&&"Scl"!=e&&"classID"!=e&&t[e].v.length>0)return!0;return!1},nt.prototype.kl=function(){return null!=this.add.SoLd&&null!=this.add.SoLd.filterFX},nt.prototype.oa=function(){var t=this.add.lmfx;if(null==t)return!1;if(!t.masterFXSwitch.v)return!1;for(var e in t)if("masterFXSwitch"!=e&&"Scl"!=e&&"classID"!=e)for(var i=t[e].v,n=0;n<i.length;n++)if(i[n].v.enab.v)return!0;return!1},nt.prototype.vo=function(t,e,i){var n=new L,r=this.Ja(t,i);if(-1!=r.indexOf(0)&&(n=n.Fv(this.rect)),-1!=r.indexOf(1)&&(n=n.Fv(this.Ab().AK())),-1!=r.indexOf(2)){var s=this.add.vmsk;n=n.Fv(a.A.gw(s.L,0!=s.g.length&&e?s.g:null))}return-1!=r.indexOf(3)&&(n=n.Fv(this.hy(t).d.AK())),0==r.length&&this.TT()&&(n=new L(0,0,t.$,t.z)),n},nt.prototype.As=function(){var t=this.add.artb.artboardRect.v,e=t.Btom.v,i=t.Left.v,n=t.Rght.v,r=t.Top.v;return new L(i,r,n-i,e-r)},nt.prototype.L$=function(t){var e={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};e.Btom.v=t.y+t.z,e.Left.v=t.x,e.Rght.v=t.x+t.$,e.Top.v=t.y,null==this.add.artb&&(this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null}}),this.add.artb.artboardRect.v=e},nt.prototype.Ja=function(t,e){var i=[],n=this;return n.G<=0||e?(n.XX()&&(this.rect.km()||i.push(0)),n.Ab()&&!n.Ab().rect.km()&&(n.Ab().WZ||e)&&i.push(1),n.add.vmsk&&(n.add.vmsk.WZ||e)&&i.push(2),n.kl()&&n.hy(t).d&&!n.hy(t).d.rect.km()&&i.push(3)):1==n.G?(i.push(1),n.Ab().WZ&&!n.Ab().rect.km()&&(n.XX()&&(this.rect.km()||i.push(0)),n.add.vmsk&&n.add.vmsk.WZ&&i.push(2))):3!=n.G||n.hy(t).d.rect.km()||i.push(3),n.add.artb&&-1==i.indexOf(0)&&i.push(0),i.sort(),i},nt.prototype.Ab=function(){var t=this;return t.qz?t.qz:t.add.vmsk&&t.add.vmsk.isEnabled?null:t.d},nt.prototype.hy=function(t){var e=this.add.SoLd.placed.v,i=t.add.FEid;if(null==i)return null;for(var n=0;n<i.length;n++)if(i[n].id==e)return i[n];return null},nt.prototype.extend=function(t){a.ttd(this,t)},nt.prototype.fo=function(t,e){var i=t.clone();if(this.oa()){for(var n=this.add.lmfx,r=e.root.oo(e.b.indexOf(this)),s=n.gradientFillMulti.v,a=!1,h=0;h<s.length;h++)s[h].v.enab.v&&s[h].v.Algn.v&&(a=!0);a&&(i=i.Fv(r.AK(e,!1)));var o=lt.tDs(this,e);i.offset(o.x,o.y),i.$+=o.$,i.z+=o.z}return i},nt.prototype.hJ=function(){this.XX()&&a.bt(this);var t=this.Ab();t&&t.hJ()},nt.prototype.clone=function(){var t=new nt;for(var e in t.rect=this.rect.clone(),t.buffer=a.clone(this.buffer),t.kE=this.kE,t.opacity=this.opacity,t.fB=this.fB,t._c=this._c,t.name=this.name,this.d&&(t.d=this.d.clone()),this.qz&&(t.qz=this.qz.clone()),this.add)t.add[e]=v.clone(e,this.add[e]);return t},nt.prototype.fb=function(t){var e=this;if(e.add.TySh&&delete e.add.TySh,e.add.SoLd){var i=this.jE(t,this.buffer,this.rect);i&&(this.buffer=i.nn,this.rect=i.rect,this.r()),delete e.add.SoLd}(e.add.SoCo||e.add.GdFl||e.add.PtFl)&&(e.add.vogk&&delete e.add.vogk,e.add.SoCo&&delete e.add.SoCo,e.add.GdFl&&delete e.add.GdFl,e.add.PtFl&&delete e.add.PtFl,e.add.vmsk&&(console.log(e.qz,e.d),delete e.add.vmsk,null==e.qz&&e.d?delete e.d:null!=e.qz&&null!=e.d&&(e.d=e.qz,delete e.qz))),e.oP()||null!=tt.get(e.add)||this.XX()||(this._c-=16)},nt.prototype.fz=function(t){var e=255,i=0;if(2==t){var n=this.add.SoLd.filterFX.v;n.filterMaskDensity&&(e=n.filterMaskDensity.v),n.filterMaskFeather&&(i=n.filterMaskFeather.v)}else{var r=0==t?this.Ab():this.add.vmsk;e=r.JU,i=r.jQ}return{hA:t,XD:e,Qe:i}},nt.prototype.fZ=function(t){if(2==t.hA){var e=this.add.SoLd.filterFX.v;255==t.XD?delete e.filterMaskDensity:e.filterMaskDensity={t:"long",v:t.XD},0==t.Qe?delete e.filterMaskFeather:e.filterMaskFeather={t:"doub",v:t.Qe},this.r()}else{var i=0==t.hA?this.Ab():this.add.vmsk;i.JU=t.XD,i.jQ=t.Qe,i.rb=!0}},nt.prototype.Ls=function(){var t=this,e=t.add.vmsk;if(null!=e){var i=a.A.qh(e.L);t.add.vogk=[];for(var n=0;n<i;n++)t.add.vogk.push(a.FU.kh())}};var rt={jZ:0,Gp:1,Vc:2,JQ:3};function st(){this.depth=0,this.index=-1,this.i=null,this.tJp=null,this.TI=-1,this.children=null,this.parent=null,this.JE=null}function at(t){this.name=t,this._a=-1,this.fa=null,this.JO=null,this.mT=null,this.tW=null,this.$=0,this.z=0,this.b=[],this.TP={},this.add={},this.buffer=null,this.FR=4,this.go=72,this.g=[],this.UL=[[],[]],this.qO={classID:"CompList",list:{t:"VlLs",v:[]}},this.root=null,this.ec=null,this.iI=!1,this.Te=!1,this.Jd=!1,this.Ow=!1,this.un=!1,this.kJ=!1,this.qf=!1,this.Pn=!1,this.EV=!1,this.jj=null,this.Jn=null,this.UM={},this.t=null,this.S={Lg:[],tJe:[],rX:null,iG:null,WA:null,Nf:null},this.history=[new Z([1,0],null)],this.ei=0,this.aE=0,this.n=new ht(this)}function ht(t){this.Ti=t,this.s=0,this.M=new f(0,0),this.C=new L(0,0,1,1),this.Jl=new L(0,0,t.$,t.z),this._E=null,this.uQ=0,this.Ot=null,this.wY=new Uint32Array(0),this.gS=null,this.Tn=null,this.nV=a.I(0),this.nD=null,this.ah=null}function ot(){}nt.qu=function(){this.color=255,this.WZ=!0,this.isEnabled=!0,this.iV=!1,this.JU=255,this.jQ=0,this.rect=new L,this.channel=a.I(0),this.tJG=null,this.tJx=null,this.rb=!0},nt.qu.prototype.NE=function(t){if(!this.isEnabled)return t;var e=new nt.qu;e.color=Math.round(this.NG()*t.NG()/255),0==this.NG()&&0==t.NG()?e.rect=this.AK().sj(t.AK()):0==t.NG()?e.rect=t.AK().clone():0==this.NG()?e.rect=this.AK().clone():e.rect=this.AK().Fv(t.AK()),e.channel=this.Qd(e.rect),e.JU=255,e.jQ=0;var i=t.Qd(e.rect);return a.tJS(i,e.rect,e.channel,e.rect),e},nt.qu.prototype.AK=function(){if(0==this.jQ)return this.rect;var t=Math.ceil(2.2*this.jQ),e=this.rect.clone();return e.FA(t,t),e},nt.qu.prototype.Lu=function(){if(0==this.jQ&&255==this.JU)return this.channel;if(0==this.jQ){var t=a.clone(this.channel);return a.UK(t),a.Yi(t,this.JU/255),a.UK(t),t}var e=this.AK(),i=this.fA(e);t=a.I(e.f());return a.blur.ur(i,t,e,this.jQ),255!=this.JU&&(a.UK(t),a.Yi(t,this.JU/255),a.UK(t)),t},nt.qu.prototype.NG=function(){return Math.round(255-(255-this.color)*(this.JU/255))},nt.qu.prototype.extend=function(t){a.extend(this,t,this.color)},nt.qu.prototype.hJ=function(){255==this.color&&a.UK(this.channel),a.hJ(this),255==this.color&&a.UK(this.channel)},nt.qu.prototype.clone=function(){var t=new nt.qu;return t.color=this.color,t.WZ=this.WZ,t.isEnabled=this.isEnabled,t.iV=this.iV,t.JU=this.JU,t.jQ=this.jQ,t.rect=this.rect.clone(),t.channel=a.clone(this.channel),t},nt.qu.prototype.fA=function(t,e){return null==e&&(e=a.I(t.f())),a.set(e,this.color),a.Jg(this.channel,this.rect,e,t),e},nt.qu.prototype.Qd=function(t,e){var i=this.AK(),n=this.Lu();return null==e&&(e=a.I(t.f())),a.set(e,this.NG()),a.Jg(n,i,e,t),e},nt.hT=function(){this.WZ=!0,this.isEnabled=!0,this.JU=255,this.jQ=0,this.L=[{type:6},{type:8,all:0}],this.qz=null,this.rb=!0,this.g=[],this.Pv=[]},nt.hT.prototype.offset=function(t,e){this.qz=this.Ab(),a.A.Nj(this.L,new c(1,0,0,1,t,e)),this.qz.rect.offset(t,e)},nt.hT.prototype.Ab=function(t){if(!this.rb&&this.qz&&null==t)return this.qz.isEnabled=this.isEnabled,this.qz;var e=a.A.gw(this.L);if(t){var i=Math.ceil(t.strokeStyleLineWidth.v.val);e.FA(i,i)}e=a.K.Cn(e);var n=new nt.qu;return n.color=a.A.eQ(this.L)?0:255,n.WZ=this.WZ,n.isEnabled=this.isEnabled,n.iV=!0,n.rect=e,n.JU=this.JU,n.jQ=this.jQ,n.channel=a.I(n.rect.f()),e.km()||a.A.tHY(this.L,n.channel,n.rect,t),null==t&&(this.qz=n,this.rb=!1),n},nt.hT.prototype.clone=function(){var t=new nt.hT;return t.WZ=this.WZ,t.isEnabled=this.isEnabled,t.JU=this.JU,t.jQ=this.jQ,t.L=nt.hT.Cx(this.L),t.g=this.g.slice(0),t.Pv=this.Pv.slice(0),t},nt.hT.prototype.concat=function(t){var e=t.L.slice(2);0!=e.length&&(e[0].AY=3,this.L=this.L.concat(e))},nt.hT.Cx=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];n.type>5||0==n.type||3==n.type?e.push(JSON.parse(JSON.stringify(n))):e.push({type:n.type,kM:n.kM.clone(),P:n.P.clone(),kq:n.kq.clone()})}return e},nt.hT.tyB=function(t,e,i){if(t.length!=e.length)return!1;for(var n=2;n<t.length;n++){var r=t[n],s=e[n];if(r.type!=s.type)return!1;if(0==r.type||3==r.type){if(r.length!=s.length||!i&&r.AY!=s.AY)return!1}else if(!r.kM.v$(s.kM)||!r.P.v$(s.P)||!r.kq.v$(s.kq))return!1}return!0},nt.hT.prototype.tyz=function(){for(var t=this.L,e=3;e<t.length;e++)0!=t[e].type&&3!=t[e].type||(t[e].AY=-1)},nt.JY=function(){this.type=null,this.dm=2,this.VB=null,this.Xl="",this.uV="",this.gZ="",this.open=0,this.raw=null,this.Eq=null},nt.JY.prototype.clone=function(){var t=new nt.JY;return t.type=this.type,t.dm=this.dm,t.VB=this.VB,t.Xl=this.Xl,t.uV=this.uV,t.gZ=this.gZ,t.open=this.open,t.raw=new Uint8Array(this.raw.buffer.slice(0)),t},nt.JY.prototype.cn=function(t){var e=this;if(!e.Eq){var i=s.Uw(e.raw.buffer);if("svg"!=i&&"pdf"!=i&&(t=0),null==i)return alert("Unsupported format: "+O.sx(e.raw,0,4)),null;var n=s.aD(i);if(n.Ht){var r=new at(name+("psd"==i?"":"-"+i)+".psd");n.cA(e.raw.buffer,r);for(var h=0;h<r.b.length;h++)r.b[h].TT()&&r.b[h].Sa(r);r.f$(),r.r(),r.LD(),e.Eq=[r.cn(),new L(0,0,r.$,r.z)]}else if(n){var o=n.cA(e.raw.buffer)[0];e.Eq=[new Uint8Array(o.data),o.MD]}if(e.Eq){if(1==t){var l=e.Eq[0],u=e.Eq[1],f=a.I(u.f());a.rY(l,f,3);var c=a.hV(f,u),p=a.I(4*c.f());a.Pg(l,u,p,c),e.Eq=[p,c]}a.cG(e.Eq)}}},nt.nJ="0",nt.vN="2",nt.JA="2.5",nt.Jj="3",nt.rr="4",nt.fU="5",nt.jN="5.5",nt.jF="6",nt.KJ="7",nt.CM="8",nt.JK="9",nt.v_="10",nt.CK="11",nt.rA="12",nt.rU="13",nt.Jb="13.5",nt.KT="13.7",nt.HJ="14",nt.Jk="14.5",nt.nK="15",nt.Ea="16",nt.rR="17",nt.rC="18",nt.fk="19",nt.rd="19.5",nt.HH="20",nt.CY="21",nt.Hw="21.5",nt.rx="22",nt.rS="22.5",nt.Eh="23",nt.tyP="24",nt.rE="25",nt.fN="26",nt.fF="27",nt.HD="28",nt.Hd="29",nt.HS="30",nt.Ei="31",nt.Hl="32",nt.KG="33",nt.TG="34",nt.rh="35",nt.TS="36",nt.Hb="36.5",nt.ri="37",nt.TW="37.5",nt.typ="37.6",nt.HU="38",nt.ro="38.5",nt.uD="39",nt.wt="40",nt.fs="41",nt.wJ="50",nt.wr="51",nt.rB="52",nt.rZ="53",nt.wH="54",nt.Kx="54.5",nt.fu="54.6",nt.KM="54.7",nt.wL="55",nt.fL="56",nt.Pt="57",nt.rF="58",st.prototype.tyk=function(){var t=0;if(this.i.oP())for(var e=0;e<this.children.length;e++)t+=this.children[e].tyk();else this.i.buffer&&(t+=this.i.buffer.length);return t},st.prototype.oo=function(t){this.JE[t];return this.JE[t]},st.prototype.f_=function(t,e){var i=this.i;if(!i.op()||i.FT(2)||i.FT(31))return null;if(i.Vw()&&(!i.d.rect.p$(t)&&0==i.d.color))return;if(i.oP())for(var n=0;n<this.children.length;n++){this.children[n].f_(t,e)}else i.rect.p$(t)&&e.push(this.index)},st.prototype.oc=function(t){var e=this.i;if(!e.op()||e.FT(2)||e.FT(31))return null;if(e.Vw())if(e.d.rect.Eo(t)){if(!a.oc(t,e.d.channel,e.d.rect))return null}else if(0==e.d.color)return null;if(e.oP()){for(var i=this.children.length-1;i>=0;i--){var n=this.children[i].oc(t);if(n)return n}return null}return e.add.TySh&&e.rect.Eo(t)||a.ttj(t,e.buffer,e.rect)?this:null},st.prototype.jR=function(t){var e=this.i;if(!e.op())return null;var i=e.add.vmsk;if(i&&i.isEnabled){var n=a.A.oc(i.L,t).U_;if(-1!=n)return{tVv:this,$l:n}}if(e.oP()){for(var r=this.children.length-1;r>=0;r--){var s=this.children[r].jR(t);if(s)return s}return null}return null},st.prototype.jJ=function(t,e){if(t.push(this.index),this.i.oP()){if(t.push(this.TI),e&&1==this.i.G&&0==this.i.Ab().WZ)return;for(var i=0;i<this.children.length;i++)this.children[i].jJ(t)}},st.prototype.uU=function(t,e,i){var n,r,s=this.i;s.oP()&&null!=s.add.artb&&(e=s.As()),e.$>e.z?(n=i,r=Math.floor(i*(e.z/e.$))):(n=Math.floor(i*(e.$/e.z)),r=i);var h=r;if(s.TT()&&s.add.vmsk){var o,l,u=s.rect.clone();u.km()&&(u=new L(0,0,20,20)),u.$>u.z?(o=i,l=Math.floor(i*(u.z/u.$))):(o=Math.floor(i*(u.$/u.z)),l=i),o*l==0&&(o=l=16),a.kg.Ze(s.Fd,o,l,u,s.buffer,s.rect,!1),a.kg.tDT(s.Fd,o,l),h=l}else s.add.SoCo?(h=Math.max(16,Math.min(n,r)),a.kg.tcD(s.Fd,h,h,s.add.SoCo)):s.add.GdFl?a.kg.tCq(s.Fd,h,h,s.add.GdFl):s.add.PtFl?a.kg.td$(s.Fd,h,h,s.add.PtFl,t):s.add.TySh?a.kg.tcf(s.Fd,h,h,s.add.TySh):null!=tt.get(s.add)?a.kg.tLY(s.Fd,h,h,s.add):s.add.SoLd?(a.kg.Ze(s.Fd,n,r,e,s.buffer,s.rect,!1),a.kg.tDc(s.Fd,n,r,s.add.SoLd)):s.oP()?h=16:s.XX()?a.kg.Ze(s.Fd,n,r,e,s.buffer,s.rect,!1):a.kg.tcj(s.Fd,h,h);var f=s.Ab();if(f&&a.kg.ib(s.LJ,n,r,e,f),s.kl()&&s.hy(t)&&s.hy(t).d){var c=s.hy(t).d;a.kg.ib(s.Ld,n,r,e,c)}if(s.add.vmsk&&a.kg.ib(s.LL,n,r,e,s.add.vmsk.Ab(),!0),(s.add.vmsk||f)&&(h=Math.max(h,r)),s.cS=Math.max(h,16),s.oP()&&s.add.lsct==rt.Gp)for(var p=0;p<this.children.length;p++)this.children[p].uU(t,e,i)},st.prototype.jI=function(t,e,i,n){this.depth=i;var r=t[e];if(null==n&&(n=[]),this.JE=n,r.add.lsct==rt.JQ){this.tJp=r,this.TI=e-1,this.children=[];for(var s=e+1;;){var a=t[s];if(null==a&&console.log(s,t.length),a.add.lsct==rt.Gp||a.add.lsct==rt.Vc){r.add.lyid==a.add.lyid&&(r.add.lyid+=16777215),this.i=a,this.index=s-1,n[this.index]=this,n[e-1]=this;break}var h=new st;h.parent=this,s=h.jI(t,s,i+1,n),this.children.push(h)}return s+1}return this.i=r,this.index=e-1,n[this.index]=this,e+1},st.prototype.KS=function(t,e,i){for(var n=this.oo(i),r=t;null!=n.parent;)r=n.i.fo(r,e),n=n.parent;return r},st.prototype.AK=function(t,e){var i=this.i,n=new L;if(!i.op())return n;var r=i.Ab();if(i.oP())for(var s=0;s<this.children.length;s++){var h=this.children[s].AK(t,!0);n=n.Fv(h)}else if(null!=tt.get(i.add))n=i.Vw()&&0==i.d.color?i.d.AK().clone():new L(0,0,t.$,t.z);else if(i.TT()&&i.add.vmsk&&i.add.vmsk.isEnabled&&i.add.vstk){var o=i.add.vmsk,l=i.add.vstk,u=Math.ceil(2.2*o.jQ),f=l.strokeEnabled.v?Math.ceil(l.strokeStyleLineWidth.v.val):0,c=ot.nO.e$.indexOf(l.strokeStyleLineAlignment.v.strokeStyleLineAlignment);0==c?f=0:1==c&&(f/=2),(n=a.K.Cn(a.A.gw(o.L))).FA(Math.ceil(u+f),Math.ceil(u+f))}else n=i.TT()&&r&&r.isEnabled&&0!=r.NG()?new L(0,0,t.$,t.z):i.vo(t,!1,!0);return e?i.fo(n,t):n},st.prototype.jy=function(t,e,i,n,r){var s=this.i;lt.oW(s);if(s.op())if(255!=s.opacity){var h=a.clone(t);this.jD(h,e,i,n,r),a.a.fX(h,e,t,e,null,null,0,i,s.opacity/255,"diss"==s.kE)}else this.jD(t,e,i,n,r)},st.prototype.jD=function(t,e,i,n,r){var s,h,o=this.i,l=lt.oW(o),u=null!=tt.get(o.add);if(!o.oP()||"pass"!=o.kE||o.Vw()||r.length>0||1!=l.fill||o.oa()){var f=o.oP()&&"pass"==o.kE&&(r.length>0||1!=l.fill||o.oa()),c=o.rect,p=o.buffer;if(o.oP()){c=this.AK(n,!1);var v=a.I(4*c.f());s=a.I(c.f()),this.ru(v,c,i,n),a.rY(v,s,3)}else u?(c=e.clone(),s=a.I(c.f()),a.set(s,255)):(c=o.rect,s=a.I(c.f()),a.rY(p,s,3));if(o.Vw()){var d=o.d.Qd(c);a.Yj(d,s)}if(o.oa()&&(h=lt.KC(o.add.lmfx,o.add.fxrp,s,c,n)),o.oa()&&lt.Kg(o.add.lmfx,h,c,t,e,i),o.oP()){if(p=a.I(4*c.f()),"pass"==o.kE&&a.Pg(t,e,p,c),f){v=a.I(4*c.f());this.ru(v,c,i,n);var y=a.I(c.f());a.rY(v,y,3),a.Sm(y,c,p,c)}this.ru(p,c,i,n)}if(u){p=a.clone(t),a.Mw(p,4278190080,16777215);var g=tt.get(o.add),m=tt.yz(g,tt.cV(o.add));tt.kn(m,p,p)}var w=a.clone(p);a.Mw(w,4278190080,16777215);for(var b=0;b<r.length;b++)r[b].jy(w,c,i,n,[]);var x=a.I(4*c.f());if(a.Pg(t,e,x,c),u&&(l.VE=!0),a.a.MR("pass"==o.kE?"norm":o.kE,w,c,x,c,i,1,l),o.oa()){var M=o.D.B_.type.FrFX,S=null;if(0!=M.length){S=M[0];for(b=0;b<M.length;b++)M[b].$C.$>S.$C.$&&(S=M[b]);var A=a.I(S.$C.$*S.$C.z*4);a.Pg(t,e,A,S.$C)}lt.Ka(o.add.lmfx,h,c,t,e,i,x,A,S?S.$C:null)}a.a.fX(x,c,t,e,s,c,0,i,1,"diss"==o.kE)}else this.ru(t,e,i,n)},st.prototype.ru=function(t,e,i,n){for(var r=this.children,s=0;s<r.length;s++){for(var a=[],h=s+1;h<r.length&&r[h].i.fB;h++)a.push(r[h]);r[s].jy(t,e,i,n,a),s+=a.length}},st.Hr={delete:function(t){t&&t.$&&t.delete()},I:function(t,e){return u.Yv?new u.wf(t,e):a.I(t*e*4)},$X:function(t,e,i){if(u.Yv){if(null==t||t.$!=e||t.z!=i)return st.Hr.delete(t),new u.wf(e,i)}else if(null==t||!(t instanceof Uint8Array)||t.length!=e*i*4)return st.Hr.delete(t),a.I(e*i*4);return t},Jg:function(t,e,i,n,r){(u.Yv?u.h_:a.Pg)(t,e,i,n,r)},fX:function(t,e,i,n,r,s,h,o,l,f){(u.Yv?u.a.Ak:a.a.fX)(t,e,i,n,r,s,h,o,l,f)},MR:function(t,e,i,n,r,s,h,o){u.Yv?u.a.dv(t,e,i,n,r,s,h,o):a.a.MR(t,e,i,n,r,s,h,o)},Mw:function(t,e,i){u.Yv?(u.jl(t),u.sk(e,i)):a.Mw(t,e,i)},tye:function(t,e,i,n,r){if(u.Yv)u.a.Ak(null,null,n,r,t,e,i,r,1,!1);else if(255==i)a.Sm(t,e,n,r);else{var s=a.I(e.f());a.he(n,r,s,e),a.Yj(t,s),a.Mw(n,0,16777215),a.cl(s,e,n,r)}},WJ:function(t,e,i,n){u.Yv?u.a.Ak(null,null,i,n,t,e,0,n,1,!1):a.WJ(t,e,i,n)}},st.prototype.Kf=function(t,e,i,n,r,s){var a="number"==typeof s;if(this.i.oP()||!(a&&this.index>s||!a&&-1==s.indexOf(this.index))){var h=this.i,o=(lt.oW(h),st.Hr),l=h.TT()?h.Ab():h.d;if(h.op()&&!(h.Vw()&&l.rect.km()||null==h.add.vstk&&this.AK(n,!1).km())){var u=this.AK(n,!0).sj(i);if(e.v$(i)||i.p$(u))h.oP()&&h.add.artb&&(i=i.sj(h.As())),st.jC(h,r)?(h.D.Ca=o.$X(h.D.Ca,u.$,u.z),o.Jg(t,e,h.D.Ca,u,i),this.jT(h.D.Ca,u,i,n,r,s),o.fX(h.D.Ca,u,t,e,null,null,0,i,h.opacity/255,"diss"==h.kE)):this.jT(t,e,i,n,r,s)}}},st.jC=function(t,e){return 255!=t.opacity&&(0!=e.length||t.oP()||t.oa())},st.prototype.jT=function(t,e,i,n,r,s){var h,o=this.i,l=lt.oW(o),f=null!=tt.get(o.add),c=st.Hr,p=st.jC(o,r)?1:o.opacity/255,v=o.TT()?o.Ab():o.d,d=o.oP()&&"pass"==o.kE&&!(r.length>0||1!=l.fill||o.oa()),y=!o.oP()&&!f&&!o.oa()&&0==r.length,g=f&&!o.oa()&&0==r.length,m=null,w=null,b=null;if(d||y||g){var x=t,M=e;if(o.Vw()&&(M=this.AK(n,!1),x=o.D.Th=c.$X(o.D.Th,M.$,M.z),c.Jg(t,e,o.D.Th,M)),d&&this.KY(x,M,i,n,s),y&&c.MR(o.kE,o.fH(n),o.rect,x,M,i,p,l),g){var S=o.Vw()&&0==v.NG()?v.AK().clone():M.clone();o.D.OU=this.jP(x,M,o.D.OU,S,o.add),l.VE=!0,c.MR(o.kE,o.D.OU,S,x,M,i,p,l)}return o.Vw()&&c.fX(x,M,t,e,o.fr(),v.AK(),v.NG(),i,1,"diss"==o.kE),void o.D.fR()}var A=o.oP()&&"pass"==o.kE&&(r.length>0||1!=l.fill||o.oa());S=o.rect;if(o.oP()?(S=this.AK(n,!1),b=o.D.OU=c.$X(o.D.OU,S.$,S.z),c.Mw(b,0),this.KY(b,S,S,n,s),w=c.$X(o.D.wa,S.$,S.z),c.Jg(b,S,w,S)):f?(S=o.Vw()&&0==v.NG()?v.AK().clone():e.clone(),w=c.$X(o.D.wa,S.$,S.z),c.Mw(w,4294967295)):(S=o.rect,m=o.fH(n),w=c.$X(o.D.wa,S.$,S.z),c.Jg(m,S,w,S)),o.D.wa=w,o.Vw()&&c.tye(o.fr(),v.AK(),v.NG(),w,S),o.oa()&&(o.D.jj||o.D._$||o.D.PL!=u.Yv||o.D.W$||o.oP())){var k=w;u.Yv&&(k=a.I(S.$*S.z*4),w.get(k));var C=a.I(S.$*S.z);if(a.rY(k,C,3),o.D._$||o.D.PL!=u.Yv||!a.v$(C,o.D.Jx)){var T=null;o.TT()&&o.add.vmsk&&o.add.vmsk.isEnabled&&0==o.add.vmsk.Ab().color&&(T=o.add.vmsk.Ab().rect),lt.tcg(o.D.B_,C,S,o.add.lmfx,o.add.fxrp,n,T),o.D.Jx=a.clone(C)}}o.oa()&&lt.Kg(o.add.lmfx,o.D.B_,S,t,e,i),o.oP()&&(m=c.$X(o.D.Th,S.$,S.z),c.Mw(m,0),"pass"==o.kE&&c.Jg(t,e,m,S),A&&c.WJ(b,S,m,S),this.KY(m,S,i,n,s),o.D.Th=m),f&&(m=o.D.Th=this.jP(t,e,o.D.Th,S,o.add)),o.oP()||f?h=m:(h=c.$X(o.D.Th,S.$,S.z),c.Jg(m,S,h,S,i),o.D.Th=h),c.Mw(h,4278190080,16777215);for(var U=0;U<r.length;U++)r[U].Kf(h,S,i,n,[],s);var _=o.D.G$=c.$X(o.D.G$,S.$,S.z);if(c.Jg(t,e,_,S,i),f&&(l.VE=!0),c.MR("pass"==o.kE?"norm":o.kE,h,S,_,S,i,1,l),o.oa()){var F=o.D.B_.type.FrFX,O=null;if(0!=F.length){O=F[0];for(U=0;U<F.length;U++)F[U].$C.$>O.$C.$&&(O=F[U]);o.D.WF=c.$X(o.D.WF,O.$C.$,O.$C.z),c.Jg(t,e,o.D.WF,O.$C,i),o.D.JS=c.$X(o.D.JS,O.$C.$,O.$C.z)}lt.Ka(o.add.lmfx,o.D.B_,S,t,e,i,_,o.D.WF,o.D.JS,O?O.$C:null)}if(!u.Yv){var L=a.I(S.f());a.rY(w,L,3),w=L}c.fX(_,S,t,e,w,S,0,i,1,"diss"==o.kE),o.D.fR()},st.prototype.jP=function(t,e,i,n,r){var s=st.Hr;i=s.$X(i,n.$,n.z),s.Jg(t,e,i,n);var a=tt.get(r),h=tt.yz(a,tt.cV(r));if(null!=h)if(u.Yv){var o=n.clone();o.x=o.y=0,tt.tyw(h,i,o)}else tt.kn(h,i,i);return i},st.prototype.KY=function(t,e,i,n,r){for(var s=this.children,a=0;a<s.length;a++){for(var h=[],o=a+1;o<s.length&&s[o].i.fB;o++)h.push(s[o]);s[a].Kf(t,e,i,n,h,r),a+=h.length}},at.prototype.jM=function(){var t=this.name;return t.slice(0,t.length-4).endsWith("-sketch")},at.prototype.HT=function(t){this.add.artd={classID:"null",Cnt:{t:"long",v:t},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}},at.prototype.wx=function(t){null==this.add.FEid&&(this.add.FEid=[]),-1==this.add.FEid.indexOf(t)&&this.add.FEid.push(t)},at.prototype.ja=function(t){var e=this.add.FEid.indexOf(t);this.add.FEid.splice(e,1),0==this.add.FEid.length&&delete this.add.FEid},at.prototype.r=function(t){null==t&&(t=new L(0,0,this.$,this.z)),null==this.jj?this.jj=t:this.jj=this.jj.Fv(t)},at.prototype.tyN=function(t){return null!=this.jj},at.prototype.HG=function(t){var e=this.b[t],i=this.root.oo(t);return null!=i&&(!e.oP()&&0!=i.parent.children.indexOf(i))},at.tym=function(t){if(t.add.lnk2)for(var e=0;e<t.add.lnk2.length;e++){var i=t.add.lnk2[e].VB;t.add.lnk2[e].VB=at.kf()+i.slice(8);for(var n=0;n<t.b.length;n++){var r=t.b[n].add.SoLd;r&&r.Idnt.v==i&&(r.Idnt.v=t.add.lnk2[e].VB)}}},at.prototype.jS=function(t){t.sort((function(t,e){return t-e}));for(var e=t[t.length-1],i=this.b.slice(0),n=this.g.slice(0),r=[],a=[],h=0;h<this.b.length;h++)-1!=t.indexOf(h)?a.push(this.b[h]):r.push(this.b[h]);this.rM(a),this.g=[];var o=this.root.AK(this,!0);o.km()&&(o=new L(0,0,100,100));new L(-o.x,-o.y,this.$,this.z);var l=new Uint8Array(s.PSD.Dz(this,0,0,[!0,!1]));this.rM(i),this.g=n;var u=new at(this.b[e].getName());return s.PSD.cA(l.buffer,u),delete u.add.artd,u.rM(u.b),at.tym(u),j.$p.tt(u,o),u.r(),u.LD(),u.cn(),[u,o,r,e]},at.prototype.jW=function(t,e){var i=this.jS(t),n=i[0],r=i[1],a=i[2],h=i[3],o=new Uint8Array(s.PSD.Dz(n));e&&(a=this.b.slice(0));var l=this.Pd(o,n.name,r.x,r.y);h==this.b.length-1?a.push(l):a.splice(e?h+1:h-t.length+1,0,l),this.rM(a),this.g=[a.indexOf(l)]},at.kf=function(){for(var t="",e=0;e<8;e++)t+=Math.floor(16*Math.random()).toString(16);return t},at.prototype.EO=function(t){if(null!=t){null==this.add.Patt&&(this.add.Patt=[]);for(var e=this.add.Patt,i=0;i<e.length;i++)if(e[i].id==t.id)return;e.push(t)}},at.prototype.Pd=function(t,e,i,n){null==this.add.lnk2&&(this.add.lnk2=[]);for(var r=null,h=0;h<this.add.lnk2.length;h++)if(a.v$(t,this.add.lnk2[h].raw)){r=this.add.lnk2[h].VB;break}var o=s.Uw(t.buffer);if(null==r){r=at.kf()+"-d71c-11e5-b1ae-a548a96e5f9f";var l=new nt.JY;l.VB=r,l.gZ="psd"==o?"8BIM":"    ",l.Xl=e+"."+("psd"==o?o:o+"\0"),l.uV="psd"==o?"8BPB":"    ",l.open=0,l.raw=t,l.type="liFD",l.dm=2,this.add.lnk2.push(l)}var u=this.Hj(r),f=at.kf()+"-d71c-11e5-b1ae-a548a96e5f9f",c=this.Zs();c.Vp(e),null!=u&&(c.rect=u.Eq[1].clone(),c.rect.offset(i,n),c.buffer=a.I(4*c.rect.f()),a.sa(u.Eq[0],c.buffer)),c.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:r},placed:{t:"TEXT",v:f},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:a.UB.I(c.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:c.rect.$},Hght:{t:"doub",v:c.rect.z}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};var p=a.K.DK(c.rect).Z;return c.add.SoLd.Trnf=j._.Sz(p),c.add.SoLd.nonAffineTransform=j._.Sz(p),c},at.prototype.cn=function(t){if(null!=t){this.r(),this.LD(t);var e=this.buffer;return u.Yv?this.ec.get(e):e=e.slice(0),this.r(),this.LD(),e}return u.Yv&&this.Jn&&(this.ec.get(this.buffer),this.Jn=null),this.buffer},at.prototype.jY=function(){for(var t=0;t<this.b.length;t++)this.b[t].ft();this.r()},at.prototype.jB=function(){for(var t=0;t<this.b.length;t++)this.b[t].add.lmfx&&(this.b[t].D._$=!0)},at.prototype.KU=function(){var t=this.TP.r1044;if(null==t){t=this.TP.r1044=new Uint8Array(4);for(var e=0,i=0;i<this.b.length;i++)e=Math.max(e,this.b[i].add.lyid);O.nW(t,0,e)}var n=O.j(t,0);return O.nW(t,0,n+1),n+1},at.prototype.FS=function(t,e){null==t&&(t=!0);return 1!=this.g.length?(t&&alert(0==this.g.length?"Select a layer first.":"More than one layer selected."),!1):this.Kk(t,e)},at.prototype.Kk=function(t,e){null==t&&(t=!0),null==e&&(e=!1);for(var i=this,r=0;r<i.g.length;r++){var s=i.b[i.g[r]],a=e||s.G<=0;if(null!=s.add.lsct&&s.add.lsct!=rt.jZ&&1!=s.G)return t&&alert(n.get([15,7,2])),!1;if(a&&!s.XX())return t&&alert(n.get([15,7,2])),!1;if(a&&s.add.TySh)return t&&alert(n.get([15,7,3])),!1;if(a&&s.add.SoLd)return t&&alert(n.get([15,7,4])),!1;if(s.FT(1)||s.FT(31))return t&&alert(n.get([6,57,0])),!1}return!0},at.prototype.jA=function(t){var e=this.root.oo(t);return e.parent?e.i.op()&&this.jA(e.parent.index):e.i.op()},at.prototype.jU=function(t){var e=this.root.oo(t);if(null==e)return null;var i=e.i;return i.add.artb?i.As():e.parent?this.jU(e.parent.index):null},at.prototype.je=function(){var t=this.b[this.g[0]];if(t.G<=0&&!t.rect.p$(this.t.rect))return alert("Selected area is empty."),!1;if(1==this.g.length&&this.t){var e=a.I(this.t.channel.length);if(a.he(t.buffer,t.rect,e,this.t.rect),a.Yj(this.t.channel,e),a.Wt(e,0))return alert("Selected area is empty."),!1}return!0},at.prototype.Ej=function(){return null==this.TP.r1037&&this.wh(30),O.eI(this.TP.r1037,0)},at.prototype.wh=function(t){null==this.TP.r1037&&(this.TP.r1037=new Uint8Array(4)),O.eI(this.TP.r1037,0)!=t&&(O.nU(this.TP.r1037,0,t),this.jB())},at.prototype.wO=function(){return null==this.TP.r1049&&this.Hq(30),O.eI(this.TP.r1049,0)},at.prototype.Hq=function(t){null==this.TP.r1049&&(this.TP.r1049=new Uint8Array(4)),O.eI(this.TP.r1049,0)!=t&&(O.nU(this.TP.r1049,0,t),this.jB())},at.prototype.nF=function(t){if(null==this.add.lnk2)return null;for(var e=0;e<this.add.lnk2.length;e++)if(this.add.lnk2[e].VB==t)return this.add.lnk2[e];return null},at.prototype.tDR=function(t){var e=this.nF(t);if(null==e)return!1;var i=s.Uw(e.raw.buffer);return null!=i&&(null!=s.aD(i)||"psd"==i)},at.prototype.Hj=function(t,e){var i=this.nF(t);return null==i?null:(i.cn(e),i.Eq?i:void 0)},at.prototype.LD=function(t){null==t&&(t=1e9);var e=this.$,i=this.z,n=new L(0,0,e,i),r=n.sj(this.jj);if(!r.km()){if(u.Yv&&null==this.ec&&(this.ec=new u.wf(e,i,!0)),(null==this.buffer||this.buffer.length!=e*i*4||u.Yv&&(this.ec.$!=e||this.ec.z!=i))&&(this.buffer=a.I(e*i*4),this.ec&&this.ec.delete(),u.Yv&&(this.ec=new u.wf(e,i,!0))),r.v$(n))u.Yv?this.ec.set(null):a.set(this.buffer,0);else{if(!u.Yv){var s=a.kh(4*r.f());a.Pg(s,r,this.buffer,n)}u.Yv&&(u.jl(this.ec,r),u.sk(0))}Date.now();var h=u.Yv?this.ec:this.buffer;this.root.Kf(h,n,r,this,[],t),this.Jn=this.jj.clone()}},at.prototype.Zs=function(){var t=new nt;return t.rect=new L(0,0,0,0),t.buffer=a.I(1),t.add.luni=new f(0,0),t.add.lyid=this.KU(),t.add.lsct=rt.jZ,t.add.lclr=0,t.add.fxrp=new f(0,0),t},at.prototype.sd=function(){var t=this.Zs();return t.Vp("</Layer group>"),t.add.lsct=rt.JQ,t._c=24,t},at.prototype.KF=function(){return this.ei!=this.aE},at.prototype.Af=function(t){for(;this.history.length>this.ei+1;)this.history.pop();this.aE>this.ei&&(this.aE=-1),t.c.id!=j.mq&&(this.Jd=!0,this.qO.lastAppliedComp&&(delete this.qO.lastAppliedComp,this.qf=!0)),this.history.push(t),this.ei++,this.kJ=!0;for(var e=0,i=this.history.length-1;i>=0;i--){if(!this.history[i].JG&&30==++e){this.ei-=i,this.history=this.history.slice(i);break}}},at.prototype.lk=function(){return this.ei!=this.history.length-1?null:this.history[this.history.length-1]},at.prototype.MC=function(t,e){null==t&&(t=!1);for(var i=null!=e?[e]:this.g.slice(0),n=[],r=0;r<i.length;r++){0!=(s=this.b[i[r]].nb)&&-1==n.indexOf(s)&&n.push(s)}for(r=0;r<this.b.length;r++){var s;0!=(s=this.b[r].nb)&&-1!=n.indexOf(s)&&-1==i.indexOf(r)&&i.push(r)}var a=[];for(r=0;r<i.length;r++)for(var h=this.wK(i[r],t),o=0;o<h.length;o++)-1==a.indexOf(h[o])&&a.push(h[o]);return a},at.prototype.HK=function(t){var e=this,i=e.MC(!1,t);i.sort((function(t,e){return t-e}));for(var n=[],r=0;r<i.length;r++){var s=e.b[i[r]].clone();if(s.add.lyid=e.KU(),s.kl()){var h=s.hy(e),o={id:at.kf()+h.id.slice(8),buffer:a.clone(h.buffer),rect:h.rect.clone(),d:h.d?h.d.clone():null};e.wx(o),s.add.SoLd.placed.v=o.id}s.Sa(e),n.push(s)}return n},at.prototype.wK=function(t,e){var i=[],n=this.root.oo(t);return n&&n.jJ(i,e),i},at.prototype.HZ=function(){this.root.uU(this,new L(0,0,this.$,this.z),32)},at.prototype.rM=function(t){for(var e=0;e<this.b.length;e++){var i=this.b[e];-1==t.indexOf(i)&&(i.D.tyS(),i.r())}this.b=t.slice(0),this.f$()},at.prototype.f$=function(){this.root=new st;var t=this.Zs();t.kE="pass",t.add.lsct=rt.Gp;for(var e=[this.sd()],i=0;i<this.b.length;i++)e.push(this.b[i]);e.push(t),this.root.jI(e,0,0),0==this.g.length&&(this.g=[this.b.length-1])},at.prototype.Ku=function(){if(1==this.g.length){for(var t=this.root.oo(this.g[0]);null!=t.parent;){t.parent.i.add.lsct=rt.Gp,t=t.parent}this.un=this.tJQ=!0}},ht.prototype.kp=function(t,e){var i=Math.round((this.C.$-this.Ti.$*this.s)/2+this.M.x),n=Math.round((this.C.z-this.Ti.z*this.s)/2+this.M.y);return new f((t-i)/this.s,(e-n)/this.s)},ht.prototype.PM=function(t,e){var i=Math.round((this.C.$-this.Ti.$*this.s)/2+this.M.x),n=Math.round((this.C.z-this.Ti.z*this.s)/2+this.M.y);return new f(t*this.s+i,e*this.s+n)},ht.prototype.Pi=function(){var t=this.Ti,e=this.s,i=this.C.$,n=this.C.z,r=Math.floor(t.$*e),s=Math.floor(t.z*e);if(e<.99){var h=a.Yp(null,new L(0,0,t.$,t.z),e).rect;r=h.$,s=h.z}return new L(Math.round((i-r)/2+this.M.x),Math.round((n-s)/2+this.M.y),r,s)},ht.prototype.Yr=function(){this.Ti;var t=this,e=1/t.s,i=this.Pi();return new L(Math.floor((t.C.x-i.x)*e),Math.floor((t.C.y-i.y)*e),Math.ceil(t.C.$*e)+1,Math.ceil(t.C.z*e)+1)},ot.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" "),ot.vz="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" "),ot.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]],ot.ju=["DrSh","IrSh","SoFi","GrFl","FrFX"],ot.IS=["Clr"],ot.fT="Grad Rvrs Type Algn Angl Scl Ofst".split(" "),ot.fP=["Ptrn","Scl","Algn","phase"],ot._Y={},ot._Y.wb='{"t":"Objc","v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}}}',ot._Y.e='{"t":"Objc","v":{"classID":"Grdn","Nm":{"v":"Two Color","t":"TEXT"},"GrdF":{"v":{"GrdF":"CstS"},"t":"enum"},"Intr":{"v":4096,"t":"doub"},"Clrs":{"v":[{"v":{"classID":"Clrt","Clr":{"v":{"classID":"RGBC","Rd":{"v":0,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}},"t":"Objc"},"Type":{"v":{"Clry":"UsrS"},"t":"enum"},"Lctn":{"v":0,"t":"long"},"Mdpn":{"v":50,"t":"long"}},"t":"Objc"},{"v":{"classID":"Clrt","Clr":{"v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":255,"t":"doub"},"Bl":{"v":255,"t":"doub"}},"t":"Objc"},"Type":{"v":{"Clry":"UsrS"},"t":"enum"},"Lctn":{"v":4096,"t":"long"},"Mdpn":{"v":50,"t":"long"}},"t":"Objc"}],"t":"VlLs"},"Trns":{"v":[{"v":{"classID":"TrnS","Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Lctn":{"v":0,"t":"long"},"Mdpn":{"v":50,"t":"long"}},"t":"Objc"},{"v":{"classID":"TrnS","Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Lctn":{"v":4096,"t":"long"},"Mdpn":{"v":50,"t":"long"}},"t":"Objc"}],"t":"VlLs"}}}',ot._Y.j_='{"t":"Objc","v":{"classID":"Grdn","Nm":{"v":"Foreground to Background","t":"TEXT"},"GrdF":{"t":"enum","v":{"GrdF":"CstS"}},"Intr":{"t":"doub","v":4096},"Clrs":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"Clrt","Type":{"t":"enum","v":{"Clry":"FrgC"}},"Lctn":{"t":"long","v":0},"Mdpn":{"t":"long","v":50}}},{"t":"Objc","v":{"classID":"Clrt","Type":{"t":"enum","v":{"Clry":"BckC"}},"Lctn":{"t":"long","v":4096},"Mdpn":{"t":"long","v":50}}}]},"Trns":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"TrnS","Opct":{"t":"UntF","v":{"type":"#Prc","val":100}},"Lctn":{"t":"long","v":0},"Mdpn":{"t":"long","v":50}}},{"t":"Objc","v":{"classID":"TrnS","Opct":{"t":"UntF","v":{"type":"#Prc","val":100}},"Lctn":{"t":"long","v":4096},"Mdpn":{"t":"long","v":50}}}]}}}',ot._Y.HN='{"t":"Objc","v":{"classID":"Ptrn","Nm":{"v":"orangeslices","t":"TEXT"},"Idnt":{"v":"c7acb22a-47a6-11de-919a-bf574370eaaf","t":"TEXT"}}}',ot._Y.wb='"Clr": '+ot._Y.wb,ot._Y.e='"Grad":'+ot._Y.e+',"Rvrs":{"v":false,"t":"bool"},"Type":{"v":{"GrdT":"Lnr"},"t":"enum"},"Algn":{"v":true,"t":"bool"},"Angl":{"v":{"type":"#Ang","val":90},"t":"UntF"},"Scl":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Ofst":{"v":{"classID":"Pnt","Hrzn":{"v":{"type":"#Prc","val":0},"t":"UntF"},"Vrtc":{"v":{"type":"#Prc","val":0},"t":"UntF"}},"t":"Objc"}',ot._Y.HN='"Ptrn":'+ot._Y.HN+',"Scl":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Algn":{"v":true,"t":"bool"},"phase":{"v":{"classID":"Pnt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"}',ot.default='{ "classID": "null", "Scl": {"t": "UntF", "v": { "type": "#Prc","val": 100} }, "masterFXSwitch": {"t": "bool","v": true} }',ot.cz=['{"classID":"ebbl",       "enab":{"v":true,"t":"bool"},  "hglM":{"t":"enum","v":{"BlnM":"Scrn"}},"hglC":{"t":"Objc","v":{"classID":"RGBC","Rd":{"t":"doub","v":255},"Grn":{"t":"doub","v":255},"Bl":{"t":"doub","v":255}}},"hglO":{"t":"UntF","v":{"type":"#Prc","val":75}},"sdwM":{"t":"enum","v":{"BlnM":"Mltp"}},"sdwC":{"t":"Objc","v":{"classID":"RGBC","Rd":{"t":"doub","v":0},"Grn":{"t":"doub","v":0},"Bl":{"t":"doub","v":0}}},"sdwO":{"t":"UntF","v":{"type":"#Prc","val":75}},"bvlT":{"t":"enum","v":{"bvlT":"SfBL"}},"bvlS":{"t":"enum","v":{"BESl":"InrB"}},"uglg":{"t":"bool","v":true},"lagl":{"t":"UntF","v":{"type":"#Ang","val":120}},"Lald":{"t":"UntF","v":{"type":"#Ang","val":30}},"srgR":{"t":"UntF","v":{"type":"#Prc","val":100}},"blur":{"t":"UntF","v":{"type":"#Pxl","val":5}},"bvlD":{"t":"enum","v":{"BESs":"In"}},"TrnS":{"t":"Objc","v":{"classID":"ShpC","Nm":{"t":"TEXT","v":"Linear"},"Crv":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":0},"Vrtc":{"t":"doub","v":0}}},{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":255},"Vrtc":{"t":"doub","v":255}}}]}}},"antialiasGloss":{"t":"bool","v":false},"Sftn":{"t":"UntF","v":{"type":"#Pxl","val":0}},"useShape":{"t":"bool","v":false},"MpgS":{"t":"Objc","v":{"classID":"ShpC","Nm":{"t":"TEXT","v":"Linear"},"Crv":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":0},"Vrtc":{"t":"doub","v":0}}},{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":255},"Vrtc":{"t":"doub","v":255}}}]}}},"AntA":{"t":"bool","v":false},"Inpr":{"t":"UntF","v":{"type":"#Prc","val":28}},"useTexture":{"t":"bool","v":false},"InvT":{"t":"bool","v":false},"Algn":{"t":"bool","v":true},"Scl":{"t":"UntF","v":{"type":"#Prc","val":100}},"textureDepth":{"t":"UntF","v":{"type":"#Prc","val":100}},"Ptrn":{"t":"Objc","v":{"classID":"Ptrn","Nm":{"t":"TEXT","v":"orangeslices"},"Idnt":{"t":"TEXT","v":"c7acb22a-47a6-11de-919a-bf574370eaaf"}}},"phase":{"t":"Objc","v":{"classID":"Pnt","Hrzn":{"t":"doub","v":0},"Vrtc":{"t":"doub","v":0}}}}','{"classID":"FrFX",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Styl":{"v":{"FStl":"OutF"},"t":"enum"},"PntT":{"v":{"FrFl":"SClr"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Sz":{"v":{"type":"#Pxl","val":3},"t":"UntF"},'+ot._Y.wb+","+ot._Y.e+","+ot._Y.HN+"}",'{"classID":"IrSh",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Mltp"},"t":"enum"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":0,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}},"t":"Objc"},"Opct":{"v":{"type":"#Prc","val":75},"t":"UntF"},"uglg":{"v":true,"t":"bool"},"lagl":{"v":{"type":"#Ang","val":120},"t":"UntF"},"Dstn":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Linear","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"}}','{"classID":"IrGl",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Scrn"},"t":"enum"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":255,"t":"doub"},"Bl":{"v":189.99710083007812,"t":"doub"}},"t":"Objc"},"Opct":{"v":{"type":"#Prc","val":75},"t":"UntF"},"GlwT":{"v":{"BETE":"SfBL"},"t":"enum"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"ShdN":{"v":{"type":"#Prc","val":0},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"glwS":{"v":{"IGSr":"SrcE"},"t":"enum"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Linear","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"},"Inpr":{"v":{"type":"#Prc","val":50},"t":"UntF"}}','{"classID":"ChFX",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Mltp"},"t":"enum"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":0,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}},"t":"Objc"},"AntA":{"v":false,"t":"bool"},"Invr":{"v":true,"t":"bool"},"Opct":{"v":{"type":"#Prc","val":50},"t":"UntF"},"lagl":{"v":{"type":"#Ang","val":19},"t":"UntF"},"Dstn":{"v":{"type":"#Pxl","val":11},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":14},"t":"UntF"},"MpgS":{"v":{"classID":"ShpC","Nm":{"v":"Gaussian","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":32,"t":"doub"},"Vrtc":{"v":7,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":64,"t":"doub"},"Vrtc":{"v":38,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":96,"t":"doub"},"Vrtc":{"v":101,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":128,"t":"doub"},"Vrtc":{"v":166,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":159,"t":"doub"},"Vrtc":{"v":209,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":191,"t":"doub"},"Vrtc":{"v":235,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":223,"t":"doub"},"Vrtc":{"v":248,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"}}','{"classID":"SoFi",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},'+ot._Y.wb+"}",'{"classID":"GrFl",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},'+ot._Y.e+',"Dthr":{"v":false,"t":"bool"}}','{"classID":"patternFill","enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},'+ot._Y.HN+"}",'{"classID":"OrGl",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Scrn"},"t":"enum"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":255,"t":"doub"},"Bl":{"v":189.99710083007812,"t":"doub"}},"t":"Objc"},"Opct":{"v":{"type":"#Prc","val":75},"t":"UntF"},"GlwT":{"v":{"BETE":"SfBL"},"t":"enum"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"ShdN":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Linear","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"},"Inpr":{"v":{"type":"#Prc","val":50},"t":"UntF"}}','{"classID":"DrSh",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Mltp"},"t":"enum"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":0,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}},"t":"Objc"},"Opct":{"v":{"type":"#Prc","val":57},"t":"UntF"},"uglg":{"v":true,"t":"bool"},"lagl":{"v":{"type":"#Ang","val":120},"t":"UntF"},"Dstn":{"v":{"type":"#Pxl","val":27},"t":"UntF"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":13},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Lineární","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"},"layerConceals":{"v":true,"t":"bool"}}'],ot.e={},ot.e.types="Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),ot.e.names=[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]],ot.stroke={},ot.stroke.types=["InsF","CtrF","OutF"],ot.stroke.names=[[19,5,2],[19,5,1],[19,5,0]],ot.stroke.YI=["SClr","GrFl","Ptrn"],ot.stroke.tDr=[[13,0],[12,37],[12,62]],ot.eV={},ot.eV.types=["SfBL","PrBL"],ot.eV.names=[[19,1,0],[19,1,1]],ot.eV.KR=["SrcC","SrcE"],ot.eV.tDH=[[19,5,1],[12,69]],ot.Dr={},ot.Dr.types=["OtrB","InrB","Embs","PlEb","strokeEmboss"],ot.Dr.style=[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],ot.Dr.Kr=["SfBL","PrBL","Slmt"],ot.Dr.tDO=[[19,3,0],[19,3,1],[19,3,2]],ot.Dr.dir=[[19,4,0],[19,4,1]],ot.nO={},ot.nO.Ky=["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],ot.nO.e$=["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],ot.nO.join=["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],ot.nO.aw=["solidColorLayer","gradientLayer","patternLayer"],ot.nO.default={classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignOutside"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse('{"classID":"solidColorLayer",'+ot._Y.wb+"}")},strokeStyleResolution:{t:"doub",v:72}},ot.Ks=[{classID:"null",Clr:{t:"Objc",v:{}}},{classID:"null",Dthr:{t:"bool",v:!0},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}},Grad:{t:"Objc",v:{}}},{classID:"null",Ptrn:{t:"Objc",v:{}},Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}],ot.Ks[0].Clr.v=JSON.parse(ot.cz[5]).Clr.v,ot.Ks[1].Grad.v=JSON.parse(ot.cz[6]).Grad.v,ot.Ks[2].Ptrn.v=JSON.parse(ot.cz[7]).Ptrn.v;var lt={};function ut(){}function ft(t){this.vv=t,this.dir=0}function ct(t,e,i,n,r,s,h,o){if(this.Fy=e,this.nw=i,this.ze=s,this.oN=n,this.xQ=null,this.yd=null,this.Gc=0,this.Pm=0,this.Ps=0,this.GG=0,this.dP=0,this.trC=h,this.MD=new L,this.Jz=new L,this.rect=new L,null!=o)this.nn=o;else{var l=ct.KK;l.length!=4*h.f()?l=a.I(4*h.f()):l.fill(0),this.nn=ct.KK=l}this.rect=h.clone(),this.vO=[],this.GM=[],this.kt=null,this.AF=0,this.H=null,this.vf="",this.n_=null,this.Kb(t,r)}lt.tyX=function(t,e,i){if(!t.km()){var n=a.A.tJY(t.L);n.x=Math.floor(n.x*e),n.$=Math.ceil(n.$*e),n.y=Math.floor(n.y*i),n.z=Math.ceil(n.z*i),t.rect=n,t.channel=a.I(n.f()),a.lZ.width=n.$,a.lZ.height=n.z;var r=a.C;r.fillStyle="#ffffff",a.A.tJb(r,t.L,e,i,-n.x,-n.y),r.fill();var s=r.getImageData(0,0,n.$,n.z).data;a.rY(s,t.channel,3)}},lt.Yy=function(t){var e,i;return t&&(t.solidFillMulti.v.length>0&&(e=t.solidFillMulti.v[0].v),t.gradientFillMulti.v.length>0&&(i=t.gradientFillMulti.v[0].v),!e||0!=e.enab.v&&100==e.Opct.v.val&&"Nrml"==e.Md.v.BlnM||(e=null),!i||0!=i.enab.v&&100==i.Opct.v.val&&"Nrml"==i.Md.v.BlnM||(i=null)),[e,i]},lt.Kc=function(t,e){for(var i=["Sz","blur","Sftn","Dstn"],n=0;n<ot.order.length;n++)for(var r=ot.order[n],s=t[ot.vz[n]].v,a=0;a<s.length;a++){for(var h=s[a].v,o=0;o<i.length;o++){var l=h[i[o]];if(l){var u=l.v.val,f=u;f=Math.max(0==u?0:1,f*e),"ChFX"==r&&(f=Math.min(f,250)),"ebbl"==r&&("blur"==i[o]&&(f=Math.min(f,250)),"Sftn"==i[o]&&(f=Math.min(f,16))),l.v.val=Math.round(f)}}"ebbl"!=r&&"patternFill"!=r&&"FrFX"!=r||h.Ptrn&&h.Scl&&(h.Scl.v.val=Math.max(1,Math.min(1e3,h.Scl.v.val*e)))}},lt.tDs=function(t,e){for(var i=new L(-.5,-.5,1,1),n=t.add.lmfx,r=0;r<ot.order.length;r++)for(var s=ot.order[r],a=n[ot.vz[r]].v,h=0;h<a.length;h++){var o,l=a[h].v;if(l.enab.v){var u=l.blur?l.blur.v.val:0,f=l.Ckmt?l.Ckmt.v.val/100:0;Math.round(u*f);if("DrSh"==s&&((o=new L(-.5,-.5,1,1)).FA(u,u),lt.It(o,l,e,0)),"OrGl"==s&&(o=new L(-.5,-.5,1,1)).FA(u,u),"FrFX"==s){var c=lt.wI(l)[1];(o=new L(-.5,-.5,1,1)).FA(Math.ceil(c),Math.ceil(c))}if("ebbl"==s){u=l.blur.v.val;"Embs"!=l.bvlS.v.BESl&&"PlEb"!=l.bvlS.v.BESl||(u/=2);l.bvlT.v.bvlT;var p=Math.round(u);o=new L(-p-.5,-p-.5,2*p+1,2*p+1)}o&&(i=i.Fv(o))}}return i.x!=Math.ceil(i.x)&&(i.x=Math.ceil(i.x),i.$-=1),i.y!=Math.ceil(i.y)&&(i.y=Math.ceil(i.y),i.z-=1),i},lt.wI=function(t){var e=0,i=0,n=t.Styl.v.FStl,r=t.Sz.v.val;return"OutF"==n&&(i=r),"InsF"==n&&(e=r),"CtrF"==n&&(e=i=r/2),[e,i]},lt.KL=function(t){if(null!=t.all)for(var e=0;e<t.all.length;e++){var i=t.all[e];i.GJ&&i.GJ.delete(),i.ab&&i.ab.delete(),i.Sc&&i.Sc.delete()}},lt.tcg=function(t,e,i,n,r,s,a){lt.KL(t);var h=lt.KC(n,r,e,i,s,a);if(t.type=h.type,t.all=h.all,u.Yv)for(var o=0;o<t.all.length;o++){var l=t.all[o];l.GJ=new u.wf(l.wq.$,l.wq.z),l.GJ.set(l.nn),delete l.nn,l.Sv&&(l.ab=new u.Vu(l.wq.$,l.wq.z),l.ab.set(l.Sv),delete l.Sv),l.Sh&&(l.Sc=new u.Vu(l.wq.$,l.wq.z),l.Sc.set(l.Sh),delete l.Sh)}},lt.KC=function(t,e,i,n,r,s){null==s&&(s=n);for(var h=0,o=0,l=0;l<ot.order.length;l++)for(var u=ot.order[l],f=t[g=ot.vz[l]].v,c=0;c<f.length;c++){var p=f[c].v;"DrSh"==u&&p.enab.v&&p.Ckmt.v.val>0&&p.blur.v.val>0&&(h=Math.max(h,Math.ceil(p.Ckmt.v.val*p.blur.v.val/100))),"OrGl"==u&&p.enab.v&&p.Ckmt.v.val>0&&p.blur.v.val>0&&"SfBL"==p.GlwT.v.BETE&&(h=Math.max(h,Math.ceil(p.Ckmt.v.val*p.blur.v.val/100))),"OrGl"==u&&p.enab.v&&p.blur.v.val>0&&"PrBL"==p.GlwT.v.BETE&&(h=Math.max(h,p.blur.v.val)),"FrFX"==u&&p.enab.v&&p.Sz.v.val>0&&("OutF"==p.Styl.v.FStl&&(h=Math.max(h,p.Sz.v.val)),"CtrF"==p.Styl.v.FStl&&(h=Math.max(h,Math.ceil(p.Sz.v.val/2))),o=Math.max(o,lt.wI(p)[1]))}for(var v=new lt.eS(i,n,h),d={type:{},all:[]},y=0;y<ot.order.length;y++){u=ot.order[y];var g=ot.vz[y];d.type[u]=[];for(var m=t[g].v.length-1;m>=0;m--){var w=t[g].v[m].v;if(w.enab.v){var b=w.blur?w.blur.v.val:0,x=w.Ckmt?w.Ckmt.v.val/100:0,M=b*x;if("DrSh"==u){var S=(C=v.Gg(M,b-M,!0)).y_;(T=C.lU).offset(-v.rect().x-1,-v.rect().y-1),lt.wc(S,w),lt.It(T,w,r,0);var A=a.I(4*T.f());lt.Sy(A,w.Clr.v),a.kw(S,A,3);var k={nn:A,wq:T,UY:it.FC(w.Md.v.BlnM),uy:w.Opct.v.val/100,Tm:w.layerConceals.v};d.type[u].push(k),d.all.push(k)}if("IrSh"==u){var C=v.Gg(M,b-M,!1);lt.It(C.lU,w,r,0);var T=v.rect().clone();S=a.I(T.f());a.set(S,255),a.Jg(C.y_,C.lU,S,T),lt.wc(S,w);A=a.I(4*T.f());lt.Sy(A,w.Clr.v),a.kw(S,A,3),T.offset(-v.rect().x-1,-v.rect().y-1);k={nn:A,wq:T,UY:it.FC(w.Md.v.BlnM),uy:w.Opct.v.val/100};d.type[u].push(k),d.all.push(k)}if("GrFl"==u){A=a.I(4*v.rect().f());lt.Gw(w,A,v.rect(),r,null,s),(T=v.rect().clone()).offset(-v.rect().x-1,-v.rect().y-1);k={nn:A,wq:T,UY:it.FC(w.Md.v.BlnM),uy:w.Opct.v.val/100};d.type[u].push(k),d.all.push(k)}if("SoFi"==u){A=a.I(4*v.y_().length);lt.Sy(A,w.Clr.v),(T=v.rect().clone()).offset(-v.rect().x-1,-v.rect().y-1);k={nn:A,wq:T,UY:it.FC(w.Md.v.BlnM),uy:w.Opct.v.val/100};d.type[u].push(k),d.all.push(k)}if("ebbl"==u){var U=!1;U;Date.now();var _=w.bvlS.v.BESl;if("strokeEmboss"==_){var F=t.frameFXMulti.v;if(0==F.length)continue;if(!(F=F[0].v).enab.v)continue;var O=F.Styl.v.FStl;"OutF"==O&&(_="OtrB"),"CtrF"==O&&(_="Embs"),"InsF"==O&&(_="InrB")}0==(b=w.blur.v.val)&&(b=.7),"Embs"!=_&&"PlEb"!=_||(b/=2);var L="SfBL"!=w.bvlT.v.bvlT?b:.45*b,D=Math.round(b);b*=1,L*=1,D*=1;var N=v.rect().clone();N.x*=1,N.y*=1,N.$*=1,N.z*=1;var I=N.clone();I.FA(D,D);var E=I.$,P=I.z,J=E*P,B=v.rect().$,X=v.rect().z,z=a.I(B*X*1*1);a.scale.in(v.y_(),B,X,z,1*B,1*X,1);var $=a.I(J);a.Jg(z,N,$,I);var V=new Float64Array(J),R=new Float64Array(J);a.style.td($,V,E,P),a.UK($),a.style.td($,R,E,P);var q=R;R=new Float64Array(J);for(l=0;l<J;l++)q[l]=q[l]-V[l];for(l=0;l<J;l++){var H=q[l];H<-L?q[l]=-L:H>L&&(q[l]=L)}if("SfBL"==w.bvlT.v.bvlT){a.blur.Wl(q,V,I,Math.max(2,Math.pow(.21*b,1.22)));var j=q;q=V,V=j}U;var G=new Float64Array(J);if(a.sa(q,G),w.useShape.v){var Y=Math.min(100,w.Inpr.v.val+1)/100;"OtrB"!=_&&"InrB"!=_&&(Y=1);var K=a.kv.__(w.MpgS.v.Crv.v,2e3),Q=Math.round(2e3/Y);K=a.kv.tJt(K,Q,"InrB"==_);var W=.5/L;for(l=0;l<J;l++){var Z=.99999*(q[l]+L)*W;q[l]=-L+2*L*K[~~(Z*(Q-1))]}U}if(w.useTexture.v){var tt=a.I(E*P*4);lt.vh(w,tt,I,r,e);var et=a.I(E*P);a.BS(tt,et);var nt=a.I(E*P);a.blur.tcs(et,nt,I,1),et=nt;var rt=b*w.textureDepth.v.val*.01*(1/255);w.InvT.v&&(rt=-rt);for(l=0;l<J;l++)q[l]+=-rt*et[l];U}var st=("SfBL"==w.bvlT.v.bvlT?1:.5)*("In"==w.bvlD.v.BESs?1:-1)*w.srgR.v.val/100;for(l=0;l<J;l++)q[l]*=st;U;var at=w.uglg&&w.uglg.v?r.Ej():w.lagl.v.val;at*=Math.PI/180;var ht=w.uglg&&w.uglg.v?r.wO():w.Lald.v.val;ht*=Math.PI/180;var ut=Math.cos(at)*Math.cos(ht),ft=-Math.sin(at)*Math.cos(ht),ct=Math.sin(ht),pt=new Float64Array(J),vt=new Float64Array(J),dt="PlEb"==_;for(l=0;l<P;l++)for(c=0;c<E;c++){var yt=l*E+c,gt=-(0==l?q[yt+E]-q[yt]:l==P-1?q[yt]-q[yt-E]:.5*(q[yt+E]-q[yt-E])),mt=-(0==c?q[yt+1]-q[yt]:c==E-1?q[yt]-q[yt-1]:.5*(q[yt+1]-q[yt-1])),wt=1,bt=1/Math.sqrt(mt*mt+gt*gt+1),xt=(mt*=bt)*ut+(gt*=bt)*ft+(wt*=bt)*ct,Mt=xt;dt&&(Mt=-mt*ut-gt*ft+wt*ct),xt>0&&(pt[yt]=xt),Mt>0&&(vt[yt]=Mt)}if(0!=w.Sftn.v.val){a.blur.Wl(pt,V,I,.43*w.Sftn.v.val);j=V,V=pt,pt=j;if(dt){a.blur.Wl(vt,V,I,.43*w.Sftn.v.val);j=V,V=vt,vt=j}else a.sa(pt,vt)}U;for(K=a.kv.__(w.TrnS.v.Crv.v,1024),l=0;l<J;l++)pt[l]=K[~~(1024*pt[l])],vt[l]=K[~~(1024*vt[l])];U,E=Math.round(E/1),P=Math.round(P/1);var St=a.I(E*P*4);lt.Sy(St,w.hglC.v);var At=a.I(E*P*4);lt.Sy(At,w.sdwC.v);var kt=a.I(E*P*4);lt.Sy(kt,w.hglC.v);var Ct=a.I(E*P*4);lt.Sy(Ct,w.sdwC.v);var Tt=1/ct,Ut=1/(1-ct),_t=(W=1/L,new Float64Array(1e3));for(l=0;l<1e3;l++)_t[l]=Math.pow(.001*l,.2);for(l=0;l<P;l++)for(c=0;c<E;c++){var Ft=4*(yt=l*E+c)+3,Ot=0,Lt=0;Ot=pt[yt],Lt=vt[yt];var Dt=Math.max(0,Math.min(.9999,(G[yt]+.993*L)*W)),Nt=(Dt=_t[Math.floor(1e3*Dt)])*(1-Math.min(1,Ot*Tt)),It=Dt*(1-Math.min(1,(1-Ot)*Ut)),Et=Dt*(1-Math.min(1,Lt*Tt)),Pt=Dt*(1-Math.min(1,(1-Lt)*Ut));At[Ft]=Math.round(255*Nt),St[Ft]=Math.round(255*It),Ct[Ft]=Math.round(255*Et),kt[Ft]=Math.round(255*Pt)}U,(I=v.rect().clone()).FA(D/1,D/1),I.offset(-v.rect().x-1,-v.rect().y-1);var Jt={tJ_:"strokeEmboss"==w.bvlS.v.BESl};-1!=["InrB","Embs","PlEb"].indexOf(_)&&(Jt.Sb={nn:St,wq:I,UY:it.FC(w.hglM.v.BlnM),uy:w.hglO.v.val/100},Jt.SU={nn:At,wq:I,UY:it.FC(w.sdwM.v.BlnM),uy:w.sdwO.v.val/100},d.all.push(Jt.Sb,Jt.SU)),-1!=["OtrB","Embs","PlEb"].indexOf(_)&&(Jt.Ss={nn:kt,wq:I,UY:it.FC(w.hglM.v.BlnM),uy:w.hglO.v.val/100},Jt.vR={nn:Ct,wq:I,UY:it.FC(w.sdwM.v.BlnM),uy:w.sdwO.v.val/100},d.all.push(Jt.Ss,Jt.vR)),d.type[u].push(Jt)}if("patternFill"==u){var Bt=v.rect();A=a.I(4*Bt.f());lt.vh(w,A,Bt,r,e),(T=Bt.clone()).offset(-Bt.x-1,-Bt.y-1);k={nn:A,wq:T,UY:it.FC(w.Md.v.BlnM),uy:w.Opct.v.val/100};d.type[u].push(k),d.all.push(k)}if("ChFX"==u){A=a.I(4*v.y_().length);lt.Sy(A,w.Clr.v);b=w.blur.v.val;var Xt=v.rect().clone();Xt.FA(b,b);var zt=a.I(Xt.f()),$t=a.I(Xt.f());a.Jg(v.y_(),v.rect(),$t,Xt),a.blur.ur($t,zt,Xt,.43*b);var Vt=a.kv.tH(w.MpgS.v.Crv.v,256,!0);a.vs(zt,Vt);var Rt=a.I(v.y_().length),qt=a.I(v.y_().length),Ht=v.rect().clone();lt.It(Ht,w,r,0),a.Jg(zt,Xt,Rt,Ht),Ht=v.rect().clone(),lt.It(Ht,w,r,Math.PI),a.Jg(zt,Xt,qt,Ht);var jt=Rt.length;for(l=0;l<jt;l++)A[4*l+3]=Math.abs(Rt[l]-qt[l]);if(w.Invr.v)for(l=0;l<jt;l++)A[4*l+3]=255-A[4*l+3];(T=v.rect().clone()).offset(-v.rect().x-1,-v.rect().y-1);k={nn:A,wq:T,UY:it.FC(w.Md.v.BlnM),uy:w.Opct.v.val/100};d.type[u].push(k),d.all.push(k)}if("OrGl"==u){S=(C="SfBL"==w.GlwT.v.BETE?v.Gg(M,b-M,!0):v.KQ(b,x,!0)).y_,T=C.lU;lt.Kp(S,w),lt.wc(S,w);A=a.I(4*T.f());if(null==w.Grad)lt.Sy(A,w.Clr.v),a.kw(S,A,3);else{var Gt={TR:S,oG:255,uA:0,EK:T};lt.Gw(w,A,T,r,Gt);for(l=0;l<A.length;l+=4){var Yt=S[l>>2];Yt<32&&(A[l+3]=Math.max(0,Yt-1)<<3)}}T.offset(-v.rect().x-1,-v.rect().y-1);k={nn:A,wq:T,UY:it.FC(w.Md.v.BlnM),uy:w.Opct.v.val/100};d.type[u].push(k),d.all.push(k)}if("IrGl"==u){S=(C="SfBL"==w.GlwT.v.BETE?v.Gg(M,b-M,!1):v.KQ(b,x,!1)).y_,T=C.lU;lt.Kp(S,w),lt.wc(S,w),"SrcC"==w.glwS.v.IGSr&&a.UK(S);A=a.I(4*T.f());if(null==w.Grad)lt.Sy(A,w.Clr.v),a.kw(S,A,3);else{Gt={TR:S,oG:255,uA:0,EK:T};lt.Gw(w,A,T,r,Gt)}T.offset(-v.rect().x-1,-v.rect().y-1);k={nn:A,wq:T,UY:it.FC(w.Md.v.BlnM),uy:w.Opct.v.val/100};d.type[u].push(k),d.all.push(k)}if("FrFX"==u){var Kt=lt.wI(w),Qt=Kt[0],Wt=Kt[1],Zt=null,te=null;if((T=v.rect().clone()).FA(Math.ceil(o),Math.ceil(o)),Wt>0)(te=(C=v.Gg(Wt,0,!0)).y_).length<T.f()&&(te=a.I(T.f()),a.Jg(C.y_,C.lU,te,T));if(Qt>0){C=v.Gg(Qt,0,!1);Zt=a.I(T.f()),a.set(Zt,255),a.Jg(C.y_,C.lU,Zt,T)}T.offset(-v.rect().x-1,-v.rect().y-1);A=a.I(4*T.f());var ee=w.PntT.v.FrFl;"SClr"==ee&&lt.Sy(A,w.Clr.v),"GrFl"==ee&&lt.Gw(w,A,T,r,v.tcQ(Qt,Wt)),"Ptrn"==ee&&lt.vh(w,A,T,r,e);k={nn:A,wq:T,UY:it.FC(w.Md.v.BlnM),uy:w.Opct.v.val/100,Sh:te,Sv:Zt};d.type[u].push(k),d.all.push(k)}}}}return d},lt._o=function(t){var e=1/Math.sqrt(t.x*t.x+t.y*t.y+t.Xh*t.Xh);t.x*=e,t.y*=e,t.Xh*=e},lt.tyn=function(t,e){return{x:t.y*e.Xh-t.Xh*e.y,y:t.Xh*e.x-t.x*e.Xh,Xh:t.x*e.y-t.y*e.x}},lt.tDP=function(t,e){return t.x*e.x+t.y*e.y+t.Xh*e.Xh},lt.oW=function(t){var e=lt.wU();return{fill:null!=t.add.iOpa?t.add.iOpa/255:e.fill,PE:null!=t.add.brst?t.add.brst:e.PE,Pq:null!=t.add.knko?t.add.knko:e.Pq,style:!1,VE:!1}},lt.wU=function(){return{fill:1,PE:[1,1,1],Pq:0,style:!1,VE:!1}},lt.bE=function(t,e){if(null==e)return null;for(var i=t.Idnt.v,n=0;n<e.length;n++)if(e[n].id==i)return e[n];return null},lt.KP=function(t,e,i){for(var n=["patternFillMulti","ebblMulti","frameFXMulti"],r=0;r<n.length;r++)for(var s=t.v[n[r]].v,a=0;a<s.length;a++)s[a].v.Ptrn&&e.EO(lt.bE(s[a].v.Ptrn.v,i))},lt.vh=function(t,e,i,n,r){var s=lt.bE(t.Ptrn.v,n.add.Patt);if(null!=s&&!i.km()){var h=a.scale.vh(s.nn,s.lU.$,s.lU.z),o=t.Scl.v.val/100,l=-i.x+t.phase.v.Hrzn.v-1,u=-i.y+t.phase.v.Vrtc.v-1;(null==t.Algn||t.Algn.v)&&(l+=r.x,u+=r.y),a.scale.tCg(h,e,i.$,i.z,o,o,l+1,u+1)}},lt.Gw=function(t,e,i,n,r,s){null==s&&(s=i);var h=t.Type?t.Type.v.GrdT:"shapeburst",o=t.Algn&&t.Algn.v?s:new L(0,0,n.$,n.z),l=t.Angl?a.e.qL(t,o):[new f(0,0),new f(100,0)],u=l[0].x,c=l[0].y,p=l[1].x-u,v=l[1].y-c,d=Math.sqrt(p*p+v*v),y=[p*(d=1/(2*d*d)),v*d,-v*d,p*d];a.e.AH(t.Grad.v,e,i,y,u,c,!!t.Rvrs&&t.Rvrs.v,ot.e.types.indexOf(h),0,0,r)},lt.tcX=function(t,e){for(var i=0;i<t.all.length;i++){var n=t.all[i];n.$C=n.wq.clone(),n.$C.offset(e.x,e.y)}},lt.Kg=function(t,e,i,n,r,s){var a=u.Yv?lt.Kh:lt.Kv;lt.tcX(e,i);for(var h=e.type.DrSh,o=0;o<h.length;o++)h[o].Tm||a(h[o],n,r,s)},lt.Ka=function(t,e,i,n,r,s,h,o,l,f){var c=i,p=u.Yv?lt.Kh:lt.Kv,v=u.Yv?u.a.Ak:a.a.fX;m=e.type.DrSh;for(var d=0;d<m.length;d++)m[d].Tm&&p(m[d],n,r,s);m=e.type.OrGl;for(d=0;d<m.length;d++)p(m[d],n,r,s);for(var y="patternFill GrFl SoFi ChFX IrGl IrSh".split(" "),g=0;g<y.length;g++){var m=e.type[y[g]];for(d=0;d<m.length;d++)p(m[d],h,c,s)}var w=e.type.ebbl[0],b=null!=w&&w.tJ_;m=e.type.FrFX;for(d=0;d<m.length;d++){var x=m[d];st.Hr.Jg(o,f,l,f,s),p(x,l,f,s),b&&d==m.length-1&&(w.vR&&p(w.vR,l,f,s),w.Ss&&p(w.Ss,l,f,s),w.SU&&p(w.SU,l,f,s),w.Sb&&p(w.Sb,l,f,s)),(x.Sv||x.ab)&&v(l,f,h,c,u.Yv?x.ab:x.Sv,x.$C,0,s,1),(x.Sh||x.Sc)&&v(l,f,n,r,u.Yv?x.Sc:x.Sh,x.$C,0,s,1)}b||null==w||(w.vR&&p(w.vR,n,r,s),w.Ss&&p(w.Ss,n,r,s),w.SU&&p(w.SU,h,c,s),w.Sb&&p(w.Sb,h,c,s))},lt.Kv=function(t,e,i,n){var r=lt.wU();r.fill=t.uy,r.style=!0,a.a.MR(t.UY,t.nn,t.$C,e,i,n,1,r)},lt.Kh=function(t,e,i,n){var r=lt.wU();r.fill=t.uy,r.style=!0,u.a.dv(t.UY,t.GJ,t.$C,e,i,n,1,r)},lt.Kp=function(t,e){for(var i=1-e.Inpr.v.val/100,n=1+Math.tan(i*(Math.PI/2)),r=t.length,s=0;s<r;s++)t[s]=Math.min(255,Math.round(t[s]*n))},lt.wc=function(t,e){var i=e.blur.v.val;if(i>Math.round(i*(e.Ckmt.v.val/100))){var n=a.kv.tH(e.TrnS.v.Crv.v,256,!0);a.vs(t,n)}e.Nose.v.val>0&&a.style.tDI(t,e.Nose.v.val/100)},lt.Sy=function(t,e,i){null==i&&(i=255);var n=a.e.NG(e),r=i<<24|n.H<<16|n.q<<8|n.T;a.Mw(t,r)},lt.It=function(t,e,i,n){var r=e.uglg&&e.uglg.v?i.Ej():e.lagl.v.val;r=r*Math.PI/180+n;var s=Math.cos(r)*e.Dstn.v.val,a=Math.sin(r)*e.Dstn.v.val;t.x-=Math.round(s),t.y+=Math.round(a)},lt.Yq=function(t){if(null==t)return null;var e=t.frameFXMulti.v;if(0==e.length)return null;e=e[0].v;var i=JSON.parse(JSON.stringify(ot.nO.default));return lt.Ki(e,i),i},lt.Ki=function(t,e){for(var i=ot.stroke.YI.indexOf(t.PntT.v.FrFl),n=[ot.IS,ot.fT,ot.fP][i],r=e.strokeStyleContent.v={classID:ot.nO.aw[i]},s=0;s<n.length;s++)r[n[s]]=t[n[s]];e.strokeEnabled=t.enab,e.strokeStyleLineWidth=t.Sz,e.strokeStyleLineAlignment.v.strokeStyleLineAlignment=ot.nO.e$[ot.stroke.types.indexOf(t.Styl.v.FStl)],e.strokeStyleOpacity=t.Opct,e.strokeStyleBlendMode=t.Md},lt.Yo=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push({t:"UntF",v:{type:"#Nne",val:Math.round(t[n]*e)}});return i},lt.eS=function(t,e,i){this.GH=e.clone(),this.GH.FA(1,1),this.Po=e.clone(),this.Po.FA(i,i),this.PF=a.I(this.GH.f()),a.Jg(t,e,this.PF,this.GH),this.vt=null,this.vV=null,this.vy=null},lt.eS.prototype.y_=function(){return this.PF},lt.eS.prototype.rect=function(){return this.GH},lt.eS.prototype.wM=function(){return this.Po},lt.eS.prototype.b_=function(){return this.vt||(this.vt=a.clone(this.y_()),a.UK(this.vt)),this.vt},lt.eS.prototype.wp=function(){return this.vV||(this.vV=new Float64Array(this.rect().f()),a.style.td(this.b_(),this.vV,this.rect().$,this.rect().z)),this.vV},lt.eS.prototype.YX=function(){if(this.vy)return this.vy;var t=this.wM(),e=a.I(t.f());return a.Jg(this.y_(),this.rect(),e,t),this.vy=new Float64Array(t.f()),a.style.td(e,this.vy,t.$,t.z),this.vy},lt.eS.prototype.tcQ=function(t,e){var i={oG:-e,uA:t,EK:null,TR:null};if(0==e)return i.EK=this.rect(),i.TR=this.wp(),i;var n=this.YX().slice(0),r=this.wM();i.EK=r,i.TR=n;for(var s=0;s<n.length;s++)n[s]=-n[s];if(0==t)return i;for(var a=this.wp(),h=this.rect(),o=0;o<h.z;o++)for(var l=0;l<h.$;l++){var u=o*h.$+l;n[(o+h.y-r.y)*r.$+l+h.x-r.x]+=a[u]}return i},lt.eS.prototype.Gg=function(t,e,i){var n=Math.ceil(t+e),r={lU:this.rect().clone(),y_:null};if(r.lU.FA(n,n),r.y_=a.I(r.lU.f()),0==t&&0==e)a.sa(i?this.y_():this.b_(),r.y_);else{var s=a.I(r.lU.f());a.Jg(this.y_(),this.rect(),s,r.lU),i||a.UK(s),0!=t&&(i?a.style.il(s,r.lU,this.YX(),this.wM(),t):a.style.il(s,r.lU,this.wp(),this.rect(),t)),0!=e?a.blur.ur(s,r.y_,r.lU,Math.max(1,.43*e)):r.y_=s}return r},lt.eS.prototype.KQ=function(t,e,i){var n={lU:this.rect().clone(),y_:null};i&&n.lU.FA(t,t),n.y_=a.I(n.lU.f());for(var r=n.lU.$,s=n.lU.z,h=i?this.YX():this.wp(),o=i?this.wM():this.rect(),l=n.lU,u=l.sj(o),f=(r=u.$,s=u.z,u.x-l.x),c=u.y-l.y,p=u.x-o.x,v=u.y-o.y,d=1-2*e,y=0;y<s;y++)for(var g=0;g<r;g++){var m=h[(y+v)*o.$+g+p]/t;n.y_[(y+c)*l.$+g+f]=Math.max(0,Math.min(255,255-(m+d)/(1+d)*255))}return n},lt.KO=function(t,e,i){var n=t.Lefx,r=t.blendOptions;if(n){var s=e.add.lmfx;null==i&&(i=s?s.Scl.v.val:100),e.add.lmfx=JSON.parse(JSON.stringify(n.v)),lt.Kc(e.add.lmfx,i/e.add.lmfx.Scl.v.val),s&&(e.add.lmfx.Scl.v.val=s.Scl.v.val)}else delete e.add.lmfx;r&&((r=r.v).Md?e.kE=it.FC(r.Md.v.BlnM):e.kE=e.oP()?"pass":"norm",r.fillOpacity?e.add.iOpa=Math.round(255*r.fillOpacity.v.val/100):e.add.iOpa=255)},lt.Kn=function(t){var e={VI:{classID:"null",Idnt:{t:"TEXT",v:at.kf()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},PH:{classID:"Styl",blendOptions:{t:"Objc",v:{classID:"blendOptions",fillOpacity:{t:"UntF",v:{type:"#Prc",val:null!=t.add.iOpa?100*t.add.iOpa/255:100}}}}}},i=t.add.lmfx;return i&&(e.PH.Lefx={t:"Objc",v:i}),e},ut.FI=function(t){return JSON.parse(JSON.stringify(t))},ut.wi=function(t){var e=ut.FI(ut.tcK),i=e.Brsh.v;return null!=t&&(delete i.Hrdn,i.classID="sampledBrush",i.Nm={t:"TEXT",v:"layer.png"},i.sampledData={t:"TEXT",v:t}),e},ut.tcK={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}},ut._o={},ut._o.check=function(t){for(var e=ut._o.YO,i=0;i<e.length;i++)null==t[e[i]]&&(t[e[i]]=JSON.parse(ut._o.wX[e[i]]));var n=[];for(i=0;i<e.length;i++)n.push(e[i]);var r=ut._o.Kl;for(i=0;i<r.length;i++){for(var s=r[i][0],a=r[i][1],h=!0,o=0;o<s.length;o++)h=h&&1==t[s[o]].v;if(h)for(o=0;o<a.length;o++)null==t[a[o]]?console.log("Missing conditional parameter "+a[o]):n.push(a[o])}for(var l in t)-1==n.indexOf(l)&&console.log("Extra parameter "+l);t=t.Brsh.v,e=ut._o.HF.YO;for(i=0;i<e.length;i++)null==t[e[i]]&&(t[e[i]]=JSON.parse(ut._o.HF.wX[e[i]]));n=[];for(i=0;i<e.length;i++)t[e[i]]?n.push(e[i]):console.log("Missing default parameter "+e[i]);r=ut._o.HF.tcz[t.classID];for(i=0;i<r.length;i++)null==t[r[i]]&&"dtipsGridSize"!=r[i]&&"dtipsErodibleTipHeightMap"!=r[i]&&1!=t.trw?console.log("Missing conditional parameter "+r[i]):n.push(r[i]);for(var l in t)-1==n.indexOf(l)&&console.log("Extra parameter "+l)},ut._o.YQ=function(t){for(var e=ut._o.Kl,i=0;i<e.length;i++){for(var n=e[i][0],r=e[i][1],s=!0,a=0;a<n.length;a++)s=s&&t[n[a]]&&1==t[n[a]].v;if(s)for(a=0;a<r.length;a++)null==t[r[a]]&&(t[r[a]]=JSON.parse(ut._o.wX[r[a]]));else for(a=0;a<r.length;a++)null!=t[r[a]]&&delete t[r[a]]}},ut._o.HF={},ut._o.HF.YO="classID Dmtr Angl Spcn Intr flipX flipY".split(" "),ut._o.HF.wX={flipX:'{"t":"bool","v":false}',flipY:'{"t":"bool","v":false}'},ut._o.HF.tcz={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")},ut._o.Kl=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]],ut._o.YO="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" "),ut._o.wX={useBrushSize:'{"t":"bool","v":false}',useBrushPose:'{"t":"bool","v":false}',brushGroup:'{"t":"Objc","v":{"classID":"brushGroup","useBrushGroup":{"t":"bool","v":false}}}',flipX:'{"t":"bool","v":false}',flipY:'{"t":"bool","v":false}',brushProjection:'{"t":"bool","v":false}',minimumDiameter:'{"t":"UntF","v":{"type":"#Prc","val":0}}',minimumRoundness:'{"t":"UntF","v":{"type":"#Prc","val":25}}',tiltScale:'{"t":"UntF","v":{"type":"#Prc","val":200}}',szVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":2},"fStp":{"t":"long","v":1},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',angleDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',roundnessDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',prVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":2},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',opVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',wtVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',mxVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',overridePoseAngle:'{"t":"bool","v":false}',overridePoseTiltX:'{"t":"bool","v":true}',overridePoseTiltY:'{"t":"bool","v":true}',overridePosePressure:'{"t":"bool","v":true}',brushPosePressure:'{"t":"UntF","v":{"type":"#Prc","val":9}}',brushPoseTiltX:'{"t":"long","v":0}',brushPoseTiltY:'{"t":"long","v":0}',brushPoseAngle:'{"t":"long","v":0}',TxtC:'{"t":"bool","v":false}',interpretation:'{"t":"bool","v":true}',textureBlendMode:'{"t":"enum","v":{"BlnM":"CBrn"}}',textureDepth:'{"t":"UntF","v":{"type":"#Prc","val":37}}',minimumDepth:'{"t":"UntF","v":{"type":"#Prc","val":97}}',textureDepthDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',Txtr:'{"t":"Objc","v":{"classID":"Ptrn","Nm":{"t":"TEXT","v":"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal"},"Idnt":{"t":"TEXT","v":"52a93427-f5d6-1172-a989-8dc82a43aa51"}}}',textureScale:'{"t":"UntF","v":{"type":"#Prc","val":99}}',InvT:'{"t":"bool","v":false}',textureBrightness:'{"t":"long","v":14}',textureContrast:'{"t":"long","v":100}',Cnt:'{"t":"doub","v":4}',countDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":1},"jitter":{"t":"UntF","v":{"type":"#Prc","val":98}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',bothAxes:'{"t":"bool","v":false}',scatterDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":1},"jitter":{"t":"UntF","v":{"type":"#Prc","val":56}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',clVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',H:'{"t":"UntF","v":{"type":"#Prc","val":0}}',Strt:'{"t":"UntF","v":{"type":"#Prc","val":0}}',Brgh:'{"t":"UntF","v":{"type":"#Prc","val":36}}',purity:'{"t":"UntF","v":{"type":"#Prc","val":0}}',colorDynamicsPerTip:'{"t":"bool","v":false}'},ft.prototype.Kj=function(t,e){0!=this.dir||this.vv.v$(t)||(this.dir=Math.abs(this.vv.x-t.x)<Math.abs(this.vv.y-t.y)?1:2);var i=t;return e.l(W.Yz)&&(1==this.dir&&(i=new f(this.vv.x,t.y)),2==this.dir&&(i=new f(t.x,this.vv.y))),i},ct.KK=a.I(16),ct.prototype.Kb=function(t,e){this.AF=e,this.H=t,this.vf=JSON.stringify(t)+JSON.stringify(this.oN.tf),this.n_=ct.tLd(t,this.Fy,this.nw)},ct.prototype.moveTo=function(t,e,i){i=this.KB(i),this.Gc=i;var n=new f(t,e);this.H.Brsh.v.Dmtr.v.val;this.xQ=n.clone(),this.yd=n.clone(),this.kt=n.clone(),this.vO=[t,e],this.GM=[i],this.oN.tX!=ct.MY&&this.Yb(this.YR(n,this.K_()*i,new f(0,0))),this.GG=n.clone()},ct.prototype.lineTo=function(t,e,i){i=this.KB(i);var n=this.vO,r=n.length,s=n[r-2],a=n[r-1];if(t!=s||e!=a){var h=this.H.Brsh.v.Dmtr.v.val,o=Math.ceil(h)+1,l=new L(Math.round(s),Math.round(a),0,0);l.FA(o,o);var u=new L(Math.round(t),Math.round(e),0,0);u.FA(o,o),this.YT(l.Fv(u)),this.vO.push(t,e),this.GM.push(i),(r+=2)>=6&&this.Yb(this.KZ(r))}},ct.prototype.KB=function(t){if(null==t&&(t=1),t=Math.max(.05,Math.min(5,t)),isNaN(t))throw alert("Pressure is not a number"),"e";return t},ct.prototype.Yb=function(t){this.MD=t,this.Jz=this.Jz.Fv(t)},ct.prototype.finish=function(){var t,e=this.vO,i=e.length;4==i&&(t=this.Ke(e[i-2],e[i-1],this.GM[(i>>1)-1],!0)),i>4&&(t=this.KZ(i+2)),t&&this.Yb(t)},ct.prototype.KZ=function(t){var e=this.vO,i=this.GM,n=e[t-6],r=e[t-5],s=e[t-4],a=e[t-3],h=i[(t>>1)-3],o=i[(t>>1)-2],l=new f(0,0),u=new f(0,0);8<=t&&(l=ct.KA(e[t-8],e[t-7],n,r,s,a)),t<=e.length&&(u=ct.KA(e[t-2],e[t-1],s,a,n,r));for(var c=n+l.x,p=r+l.y,v=s+u.x,d=a+u.y,y=new L,g=0;g<10;g++){var m=.1*(g+1),w=1-m,b=w*w*w*n+3*m*w*w*c+3*m*m*w*v+m*m*m*s,x=w*w*w*r+3*m*w*w*p+3*m*m*w*d+m*m*m*a,M=this.Ke(b,x,h+m*(o-h));y=y.Fv(M)}return y},ct.KA=function(t,e,i,n,r,s){var a=t-i,h=e-n,o=r-i,l=s-n,u=Math.sqrt(a*a+h*h),c=Math.sqrt(o*o+l*l),p=Math.acos((a*o+h*l)/(u*c))/Math.PI,v=r-t,d=s-e,y=(p=.1+p*(.35-.1))*c/Math.sqrt(v*v+d*d);return new f(v*y,d*y)},ct.prototype.Ke=function(t,e,i,n){var r=new L,s=this.oN.tRh;if(null==s&&(s=0),0==s||n)return r=this.KN(t,e,i);var a=this.kt,h=t-a.x,o=e-a.y,l=Math.sqrt(h*h+o*o);if(h/=l,o/=l,l>s){var u=a.x+h*(l-s),f=a.y+o*(l-s);r=this.KN(u,f,i),this.kt.kR(u,f)}return r},ct.prototype.KN=function(t,e,i){var n=new L,r=new f(t,e),s=(this.H.Brsh.v.Dmtr.v.val,this.oN.tX),a=r.Tr(this.yd);a.normalize(1);for(var h=f.Ln(this.yd,r),o=-this.Pm,l=this.yd.clone();;){var u=this.K_()*(this.Gc+(i-this.Gc)*(Math.max(0,o)/h)),c=this.tLt()*(u+this.Ps)/2;if(s==ct.MY&&(c=1),!(o+c<h))break;o+=c;var p=new f(this.yd.x+a.x*o,this.yd.y+a.y*o),v=1;if(s==ct.MY){var d=l.clone();d.x+=a.x>0?1:-1;var y=l.clone();y.y+=a.y>0?1:-1,p=f.Ln(d,p)<f.Ln(y,p)?d:y,o=f.Ln(p,this.yd)}if(1==this.H.useScatter.v){v=this.H.Cnt.v;var g=this.H.countDynamics.v.jitter.v.val/100*(2*this.Ux()-1);v+=Math.round(v*g)}for(var m=0;m<v;m++){var w=this.YR(p,u,a);n=n.Fv(w)}l=p}return this.Pm=h-o,this.yd=r,this.Gc=i,n},ct.prototype.tLt=function(){var t=this.H.Brsh.v,e=t.Spcn.v.val;return Math.max(5,t.Rndn.v.val)/100*(e/100)},ct.prototype.K_=function(){var t=this.H,e=t.Brsh.v.Dmtr.v.val;if(t.useTipDynamics.v){var i=e*(t.minimumDiameter.v.val/100);e=i+(e-i)*(1-this.Ux()*(t.szVr.v.jitter.v.val/100))}return e},ct.prototype.YR=function(t,e,i){var n=this.H,r=this.H.Brsh.v,s=r.Dmtr.v.val,h=this.oN,o=h.OO,l=h.tX,u=(h.trM,new c);if(u.translate(-this.n_.AM.$/2,-this.n_.AM.z/2),u.scale(1/this.n_.P_,1/this.n_.P_),u.scale(e/s,e/s),u.scale(1,Math.max(5,r.Rndn.v.val)/100),n.useTipDynamics.v){var p=n.minimumRoundness.v.val/100;u.scale(1,p+(1-p)*Math.round(100-this.Ux()*n.roundnessDynamics.v.jitter.v.val)/100),u.rotate(4*(-.5+this.Ux())*Math.PI*(n.angleDynamics.v.jitter.v.val/100))}if(u.rotate(r.Angl.v.val*(Math.PI/180)),n.useScatter.v){var v=(2*this.Ux()-1)*n.scatterDynamics.v.jitter.v.val/100;u.translate(-v*e*i.y,v*e*i.x)}u.translate(t.x,t.y);var d=this.tL$(u,t);this.YT(d.rect);var y=d.rect.clone();if(null==l){var g=this.NG(n);a.Mw(d._K,Math.round(255*g.H)<<16|Math.round(255*g.q)<<8|Math.round(255*g.T)<<0,4278190080),a.a.tDM(d._K,d.rect,this.nn,this.rect,d.rect,o)}if(l==ct.MY){var m=new f(d.rect.x+d.rect.$/2,d.rect.y+d.rect.z/2),w=Math.round(m.x-this.GG.x),b=Math.round(m.y-this.GG.y),x=d.rect.clone();x.offset(-w,-b),x.sj(this.rect).offset(w,b),a.Pg(this.nn,this.rect,d._K,x),a.a.Lq(d._K,d.rect,this.nn,this.rect,d.JZ,d.rect,o)}if(l==ct._x||l==ct._h||l==ct.IR){var M=d.rect.sj(this.rect),S=a.I(M.f());a.Jg(d.JZ,d.rect,S,M);var A=d._K;if(a.Pg(this.nn,this.rect,A,M),l==ct._h){var k=a.clone(A),C=a.HW.Cr([-1,-1,-1,-1,25,-1,-1,-1,-1]);a.HW.zV(A,k,M.$,M.z,C,3,0),a.sa(k,A)}else if(l==ct.IR){var T=et.vI("UnsM");T.Amnt.v.val=15,T.Thsh.v=0,T.Rds.v.val=5;k=a.I(A.length);et.kn("UnsM",{buffer:A,rect:M},T,0,0,{buffer:k,rect:M}),a.sa(k,A)}else et.$U(1,a.blur.Lj,A,M);a.a.Lq(A,M,this.nn,this.rect,S,M,o)}return this.Ps=e,this.GG=m,y},ct.prototype.NG=function(t){var e=ct.YJ(this.AF);if(t.useColorDynamics.v){var i=1-this.Ux()*t.clVr.v.jitter.v.val/100,n=ct.YJ(this.ze);e.T=i*e.T+(1-i)*n.T,e.q=i*e.q+(1-i)*n.q,e.H=i*e.H+(1-i)*n.H;var r=(-.5+this.Ux())*t.H.v.val/100,s=(2*this.Ux()-1)*t.Strt.v.val/100,h=(2*this.Ux()-1)*t.Brgh.v.val/100,o=a.sM(e.T,e.q,e.H);o.ht=(o.ht+r+1)%1,o._u=o._u+s,o._u<0&&(o._u=-o._u),o._u>1&&(o._u=1-(o._u-1)),o.Dq=o.Dq+h,o.Dq<0&&(o.Dq=-o.Dq),o.Dq>1&&(o.Dq=1-(o.Dq-1)),e=a.pq(o.ht,o._u,o.Dq)}return e},ct.prototype._o=function(t){return Math.max(0,Math.min(1,t))},ct.prototype.Ux=function(){return this.dP++,ct.hash(this.dP)},ct.YJ=function(t){return{T:(t>>16&255)/255,q:(t>>8&255)/255,H:(t>>0&255)/255}},ct.hash=function(t){return t=61^t^t>>16,t+=t<<3,t^=t>>4,t*=668265261,(16777215&(t^=t>>15))/16777215},ct.Kq=[],ct.prototype.tL$=function(t,e){for(var i,n=null,r=0;r<ct.Kq.length;r++)ct.Kq[r].vf==this.vf&&(n=ct.Kq[r],ct.Kq.splice(r,1));null==n&&(n={tV:[],vf:this.vf,Je:0});var s=n.tV,h=this.oN.tf;h&&((t=t.clone()).DX=Math.floor(t.DX),t.Ug=Math.floor(t.Ug));var o=ct.YC(t.DX,t.Ug);for(r=0;r<s.length;r++){var l=s[r];if(l.om.o==t.o&&l.om.H==t.H&&l.om.lA==t.lA&&l.om.KI==t.KI&&(ct.tLc(l.Vn,o)<.2||l.rect.f()>1e4)){i=l;break}}if(i)i.rect.x=Math.round(i.Gi.x-i.om.DX+t.DX),i.rect.y=Math.round(i.Gi.y-i.om.Ug+t.Ug);else{var u,f=Math.round(this.H.Brsh.v.Dmtr.v.val);if(h&&f<=3?(u={buffer:a.I(f*f*4),rect:new L(Math.round(e.x-f/2),Math.round(e.y-f/2),f,f)},a.Mw(u.buffer,4278190080)):u=j._.Qk([this.n_._K,this.n_.AM],t),h)for(r=0;r<u.buffer.length;r++)u.buffer[r]=u.buffer[r]>127?255:0;null==u&&(u={buffer:a.I(0),rect:new L});t.DX,Math.floor(t.DX),t.Ug,Math.floor(t.Ug);i={_K:u.buffer,JZ:a.I(u.rect.f()),rect:u.rect,Gi:u.rect.clone(),om:t,Vn:ct.YC(t.DX,t.Ug)},a.rY(i._K,i.JZ,3),s.push(i),s.length>200&&(s=s.slice(100))}for(n.tV=s,n.Je=Date.now(),ct.Kq.push(n),ct.Kq.sort((function(t,e){return e.Je-t.Je}));ct.Kq.length>3;)ct.Kq.pop();return i},ct.YC=function(t,e){return new f(t-Math.floor(t),e-Math.floor(e))},ct.tLc=function(t,e){var i=e.x,n=e.y,r=Math.abs(i-t.x),s=Math.abs(n-t.y);return Math.abs(i-1-t.x)<r?i--:Math.abs(i+1-t.x)<r&&i++,Math.abs(n-1-t.y)<s?n--:Math.abs(n+1-t.y)<s&&n++,r=t.x-i,s=t.y-n,Math.sqrt(r*r+s*s)},ct.prototype.YT=function(t){},ct.tLd=function(t,e,i){var n,r,s,h=t.Brsh.v.Dmtr.v.val;if("computedBrush"==t.Brsh.v.classID){var o=t.Brsh.v.Hrdn.v.val/100,l=1.55;s=1.2;var u=Math.round(s*h*l);Math.pow(o,.55);r=new L(0,0,u,u),n=a.I(u*u);for(var f=u/2,p=1/f,v=(e=ct.tLG(o),0);v<u;v++)for(var d=l*(v-f+.25)*p,y=l*(v-f+.75)*p,g=0;g<u;g++){var m=l*(g-f+.25)*p,w=l*(g-f+.75)*p,b=Math.floor(Math.sqrt(m*m+d*d)*(1e3/1.55)),x=Math.floor(Math.sqrt(w*w+d*d)*(1e3/1.55)),M=Math.floor(Math.sqrt(m*m+y*y)*(1e3/1.55)),S=Math.floor(Math.sqrt(w*w+y*y)*(1e3/1.55));n[v*u+g]=Math.round(63.75*(e[b]+e[x]+e[M]+e[S]))}}if("sampledBrush"==t.Brsh.v.classID){var A;for(v=0;v<e.length;v++)e[v].id==t.Brsh.v.sampledData.v&&(A=e[v]);n=A.channel,r=new L(0,0,A.lU.$,A.lU.z),s=Math.min(r.$,r.z)/h}var k=a.I(4*r.f());for(a.kw(n,k,3);Math.min(r.$,r.z)>2*h;){var C=new L(r.x,r.y,Math.floor(r.$/2),Math.floor(r.z/2)),T=j._.Qk([k,r],new c(C.$/r.$,0,0,C.z/r.z,0,0));s*=C.$/r.$,r=T.rect,k=T.buffer}return{P_:s,AM:r,_K:k}},ct.Ye=[],ct.tLG=function(t){if(ct.Ye[t])return ct.Ye[t];for(var e=Math.pow(t,.55),i=new Float64Array(2e3),n=0;n<2e3;n++)i[n]=ct.tLo(.001*n*1.55,e);return ct.Ye[t]=i,i},ct.tLo=function(t,e){return t<e?1:ct.tCt((t-e)/Math.pow(1.001-e,.86))},ct.tCt=function(t){var e=.85*t;return Math.exp(-e*e*(1/(.8*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))},ct.prototype.AK=function(){return this.rect.clone()},ct.prototype.YN=function(){return this.MD.sj(this.rect)},ct.prototype.Yd=function(){return this.Jz.sj(this.rect)},ct.prototype.GE=function(){return this.nn},ct.uU=function(t,e,i,n,r,s){var h=bt.B("canvas",""),o=h.getContext("2d");h.width=null!=s?s:n,h.height=r,o.fillStyle="#ffffff",o.fillStyle="#000000",o.font=Math.floor(10*bt.h())+"px Arial";var l=""+t.Brsh.v.Dmtr.v.val,u=o.measureText(l);o.fillText(l,(n-u.width)/2,r-2);var f=n,c=r-10*bt.h(),p=Math.min(f,c),v=(t.Brsh.v.Dmtr.v.val,t.Brsh.v.classID);if("computedBrush"==v){o.translate(f/2,c/2),o.rotate(-t.Brsh.v.Angl.v.val*Math.PI/180),o.scale(1,.1+.9*t.Brsh.v.Rndn.v.val/100);var d=Math.min(.95*p/2,l/2)+.5,y=.9*t.Brsh.v.Hrdn.v.val/100,g=o.createRadialGradient(0,0,0,0,0,d);g.addColorStop(y,"rgba(0,0,0,1)"),g.addColorStop((.5+y)/1.5,"rgba(0,0,0,.5)"),g.addColorStop(1,"rgba(0,0,0,0)"),o.fillStyle=g,o.fillRect(-d,-d,2*d,2*d)}else if("sampledBrush"==v){for(var m,w=0;w<e.length;w++)e[w].id==t.Brsh.v.sampledData.v&&(m=e[w]);var b=bt.B("canvas",""),x=b.getContext("2d");b.width=m.lU.$,b.height=m.lU.z;var M=x.getImageData(0,0,b.width,b.height),S=new a.wf(b.width*b.height);S.o=m.channel,a.GL(S,M.data),x.putImageData(M,0,0),p=Math.min(p,t.Brsh.v.Dmtr.v.val);var A=Math.max(b.width,b.height),k=.85*b.width*p/A,C=.85*b.height*p/A;o.drawImage(b,(f-k)/2,(c-C)/2,k,C)}return h.toDataURL()},ct.YF=function(t,e,i){0==i&&(i=1);var n=new L(0,0,128,128),r=t.Brsh.v.Dmtr.v.val;t.Brsh.v.Dmtr.v.val=Math.min(180,r*i);var h=t.Brsh.v.Dmtr.v.val,o=new ct(t,e,null,{OO:1},0,0,n);t.Brsh.v.Dmtr.v.val=r,o.moveTo(n.$/2,n.z/2);var l=new a.wf(n.f()),u=a.I(4*n.f());if(a.Pg(o.GE(),o.AK(),u,n),a.GQ(u,l),h>=3){var f=a.I(n.f());a.t.tPM(l.o,f,n);var c=a.I(n.f());a.blur.ur(a.clone(f),c,n,1),a.sk(l,255),a.sa(c,l.o);for(var p=0;p<f.length;p++)255==f[p]&&(l.o[p]=255,l.T[p]=l.q[p]=l.H[p]=0)}else{var v=l.o;for(p=0;p<4;p++)v[6976+128*p-1]=v[6976+128*p]=255,v[9536-128*p-1-128]=v[9536-128*p-128]=255,v[8118+p]=v[8118+p+128]=255,v[8138-p-1]=v[8138-p-1+128]=255}var d=a.I(4*n.f());return a.GL(l,d),d[3]=Math.max(d[3],1),s.Km(d,n.$,n.z)},ct.MY="0",ct._x="1",ct._h="2",ct.IR="3";var pt={};function vt(t,e){var i,n=dt.BR(t);n&&(i=new L(n[0],n[1],n[2],n[3])),this.VF=0,this.V_=!1,this.re=[],this.rect=new L,this.hj=[];for(var r=dt.Fk(t),s={},a=0;a<r.length;a++){var h={oQ:r.charAt(a),Nl:dt.tTJ(t,a),fj:0,path:null,nh:null,rect:new L,AM:new L,Vn:new f(0,0),scale:new f(0,0),tq:0,lineHeight:0,yK:0,LP:0,on:0,U_:a},o=t.ResourceDict.FontSet[h.Nl.Font].Name,l=h.nh=e.jq(o),u=0;null==s[o]&&(s[o]=Typr.U.stringToGlyphs(l,r));var c=s[o],p=Typr.U.codeToGlyph(l,h.oQ.charCodeAt(0));if("\n"==h.oQ?h.fj=-1:c[a]==p&&0!=h.Nl.FontCaps?h.fj=Typr.U.codeToGlyph(l,h.oQ.toUpperCase().charCodeAt(0)):h.fj=c[a],-1==h.fj)h.path={lX:[],Z:[]};else{var v=Typr.U.glyphToPath(l,h.fj);h.path={lX:v.cmds,Z:v.crds}}h.scale.x=null==h.Nl.HorizontalScale?1:h.Nl.HorizontalScale,h.scale.y=null==h.Nl.VerticalScale?1:h.Nl.VerticalScale;var d=l["OS/2"],y=l.hhea;if(1==h.Nl.FontCaps&&c[a]==p&&h.oQ!=h.oQ.toUpperCase()){var g=d.sxHeight?d.sxHeight/d.sTypoAscender:.76;h.scale.x*=g,h.scale.y*=g}var m=1/l.head.unitsPerEm*h.Nl.FontSize;if(1==h.Nl.FontBaseline){g=t.ResourceDict.SuperscriptSize;h.scale.x*=g,h.scale.y*=g,h.Vn.y-=t.ResourceDict.SuperscriptPosition*h.Nl.FontSize}if(2==h.Nl.FontBaseline){g=t.ResourceDict.SubscriptSize;h.scale.x*=g,h.scale.y*=g,h.Vn.y+=t.ResourceDict.SubscriptPosition*h.Nl.FontSize}if(h.Nl.BaselineShift&&(h.Vn.y-=h.Nl.BaselineShift),h.rect.x=0,h.rect.$=h.scale.x*(-1==h.fj?0:l.hmtx.aWidth[h.fj])*m,h.rect.y=-y.ascender*m,h.rect.z=-h.rect.y,null==l.glyf)h.AM=h.rect.clone(),h.AM.z*=h.scale.y,h.AM.y-=h.AM.z-h.rect.z,h.AM.z*=1.3;else if(null!=l.glyf[h.fj]){var w=l.glyf[h.fj];h.AM.x=w.xMin*m,h.AM.$=(w.xMax-w.xMin)*m*h.scale.x,h.AM.y=-w.yMax*m*h.scale.y,h.AM.z=(w.yMax-w.yMin)*m*h.scale.y}h.AM.y=-m*(d?d.usWinAscent:l.head.yMax)*.9357,h.AM.z=-h.AM.y-m*l.head.yMin,0==u&&d&&d.sxHeight&&-1!=o.toLowerCase().indexOf("capitals")&&(u=d.sxHeight),0==u&&d&&d.sCapHeight&&(u=d.sCapHeight),0==u&&d&&d.sTypoAscender&&(u=d.sTypoAscender),0==u&&(u=y.ascender),h.tq=u*m,h.lineHeight=(y.ascender-y.descender)*m,h.yK=y.ascender*m,h.LP=(-y.descender+y.lineGap)*m,0==h.Nl.AutoLeading&&(h.lineHeight=h.Nl.Leading),this.hj.push(h)}for(a=0;a<t.EngineDict.ParagraphRun.RunLengthArray.length;a++){var b=new vt.Yu(t,e,this.hj,a,i);this.re.push(b)}var x=null==i?0:this.re[0].KX[0].tq;for(a=0;a<this.re.length;a++){var M=this.re[a].KX;if(a>0&&(x+=M[0].lineHeight),this.re[a].Vn.y=x,this.VF+=M.length,i)for(var S=0;S<M.length;S++)M[S].Gq=M[S].Vn.y+x<i.y+i.z,M[S].Gq||(this.V_=!0);var A=this.re[a].rect.clone();A.xf(this.re[a].Vn),this.rect=this.rect.Fv(A);for(S=1;S<M.length;S++)x+=M[S].lineHeight;x+=dt.b$(t,a).SpaceAfter,a<this.re.length-1&&(x+=dt.b$(t,a+1).SpaceBefore)}}function dt(){}pt.Iq=function(t,e){var i,n=t.Ys();if(n.x==1/0||n.km())return{nn:a.I(0),rect:new L,_B:new L};var r=t.Ys(),s=pt.Yx(t,e),h=a.K.TD(s.Z);if(h.km())return{nn:a.I(0),rect:new L,_B:new L};var o=bt.B("canvas","");o.width=h.$,o.height=h.z;var l=o.getContext("2d");if(l.translate(-h.x,-h.y),pt.tCw(s,l),0!=t.hj.length){var u=l.getImageData(0,0,h.$,h.z);i=new Uint8Array(u.data.buffer)}else i=a.I(4*h.f());return{nn:i,rect:h,_B:r}},pt.Yx=function(t,e){var i={lX:[],Z:[]};if(pt.tCI(t,i),!a.UB.vn(e.O$)){var n=a.K.jm(i.Z);i=a.K.kX(i),i=a.K.kb(i,Math.min(n.$,n.z)/8);var r=dt.AK(e,t),s=a.UB.cq(e.O$,r);a.nH.apply(s,i.Z,r)}var h=e.UC;return a.K.UC(i.Z,h,i.Z),i},pt.tCw=function(t,e){Typr.U.pathToContext({crds:t.Z,cmds:t.lX},e)},pt.Ij=function(t,e){for(var i=t.Bd.ResourceDict.FontSet,n=[],r=t.Bd.EngineDict.StyleRun.RunArray,s=!0,a=0;a<r.length;a++)n.push(dt.Yh(t.Bd,a).Font);for(a=0;a<n.length;a++){var h=n[a];null==e.jq(i[h].Name)&&(s=!1)}return s},pt.tCI=function(t,e){for(var i=new c,n=0;n<t.re.length;n++)pt.tCM(t.hj,t.re[n],e,i)},pt.tCM=function(t,e,i,n){n.translate(e.Vn.x,e.Vn.y);for(var r=0;r<e.KX.length;r++){var s={},a=e.KX[r];if(!a.Gq)break;n.translate(a.Vn.x,a.Vn.y);for(var h=a.start;h<a.end;h++)pt.tCO(t,e.gY[h],s,i,n);n.translate(-a.Vn.x,-a.Vn.y)}n.translate(-e.Vn.x,-e.Vn.y)},pt.tCQ="()<>[]{}«»༺༻༼༽᚛᚜‹›⁅⁆⁽⁾₍₎∈∉∊∋∌∍∕∼∽≃≒≓≔≕≤≥≦≧≨≩≪≫≮≯≰≱≲≳≴≵≶≷≸≹≺≻≼≽≾≿⊀⊁⊂⊃⊄⊅⊆⊇⊈⊉⊊⊋⊏⊐⊑⊒⊘⊢⊣⊦⊨⊩⊫⊰⊱⊲⊳⊴⊵⊶⊷⋉⋊⋋⋌⋍⋐⋑⋖⋗⋘⋙⋚⋛⋜⋝⋞⋟⋠⋡⋢⋣⋤⋥⋦⋧⋨⋩⋪⋫⋬⋭⋰⋱⋲⋳⋴⋶⋷⋺⋻⋼⋽⋾⌈⌉⌊⌋〈〉❨❩❪❫❬❭❮❯❰❱❲❳❴❵⟃⟄⟅⟆⟈⟉⟋⟍⟕⟖⟝⟞⟢⟣⟤⟥⟦⟧⟨⟩⟪⟫⟬⟭⟮⟯⦃⦄⦅⦆⦇⦈⦉⦊⦋⦌⦍⦎⦏⦐⦑⦒⦓⦔⦕⦖⦗⦘⦸⧀⧁⧄⧅⧏⧐⧑⧒⧔⧕⧘⧙⧚⧛⧵⧸⧹⧼⧽⨫⨬⨭⨮⨴⨵⨼⨽⩤⩥⩹⩺⩽⩾⩿⪀⪁⪂⪃⪄⪋⪌⪑⪒⪓⪔⪕⪖⪗⪘⪙⪚⪛⪜⪡⪢⪦⪧⪨⪩⪪⪫⪬⪭⪯⪰⪳⪴⪻⪼⪽⪾⪿⫀⫁⫂⫃⫄⫅⫆⫍⫎⫏⫐⫑⫒⫓⫔⫕⫖⫞⫣⫤⫥⫬⫭⫷⫸⫹⫺⸂⸃⸄⸅⸉⸊⸌⸍⸜⸝⸠⸡⸢⸣⸤⸥⸦⸧⸨⸩〈〉《》「」『』【】〔〕〖〗〘〙〚〛﹙﹚﹛﹜﹝﹞﹤﹥（）＜＞［］｛｝｟｠｢｣",pt.tCO=function(t,e,i,n,r){r.translate(e.Vn.x,e.Vn.y);for(var s=e.start;s<e.end;s++){var h=t[s],o=r.clone();o.translate(h.Vn.x,h.Vn.y);var l=h.Nl.FontSize/h.nh.head.unitsPerEm,u=dt.NG(h.Nl),f=(Math.round(u.T)<<16)+(Math.round(u.q)<<8)+Math.round(u.H);if(n.lX.push("#"+a.fM(f)),0!=h.path.lX.length){var p=new c(l,0,0,-l,0,0);1==h.on&&-1!=pt.tCQ.indexOf(h.oQ)&&p.concat(new c(-1,0,0,1,h.rect.$,0)),h.Nl.FauxItalic&&p.concat(new c(1,0,-Math.tan(.18),1,0,0)),p.scale(h.scale.x,h.scale.y),p.concat(o),a.K.concat(n,h.path,p)}if(h.Nl.Underline){null==i.JN&&(i.JN=h.nh.post.underlineThickness*l),null==i.d$&&(i.d$=h.nh.post.underlinePosition*l);var v=0,d=-i.d$+i.JN/2,y=1.05*h.rect.$/h.scale.x,g=i.JN;a.K.concat(n,{lX:["M","L","L","L","Z"],Z:[v,d,v+y,d,v+y,d+g,v,d+g]},o)}if(h.Nl.Strikethrough){var m=h.nh["OS/2"].yStrikeoutSize*l;v=0,d=-(h.nh["OS/2"].yStrikeoutPosition*l)-m/2,y=1.05*h.rect.$/h.scale.x,g=m;a.K.concat(n,{lX:["M","L","L","L","Z"],Z:[v,d,v+y,d,v+y,d+g,v,d+g]},o)}n.lX.push("X")}r.translate(-e.Vn.x,-e.Vn.y)},vt.prototype.Ym=function(t){for(var e=0;e<this.hj.length;e++)if(this.hj[e].U_==t)return this.hj[e];return null},vt.prototype.tCn=function(t){for(var e=0;e<this.re.length;e++)for(var i=this.re[e],n=0;n<i.KX.length;n++){var r=i.KX[n],s=i.gY[r.start].start,a=i.gY[r.end-1].end;if(s<t&&t<a)return[s,a-1]}return[0,1]},vt.prototype.YM=function(t,e){for(var i=-1,n=0;n<this.re.length;n++)for(var r=this.re[n],s=0;s<r.KX.length;s++){i++;var a=r.KX[s],h=r.KX[s+1];if(null==h&&n<this.re.length-1&&(h=this.re[n+1].KX[0]),null!=e){if(i!=e)continue}else if(null!=h&&r.Vn.y+a.Vn.y<t.y)continue;for(var o=a.start;o<a.end;o++){var l=r.gY[o];if(!(o<a.end-1&&r.Vn.x+a.Vn.x+r.gY[o+1].Vn.x<t.x)){for(var u=l.start;u<l.end;u++){var f=this.hj[u],c=r.Vn.x+a.Vn.x+l.Vn.x+f.Vn.x;r.Vn.y,a.Vn.y,l.Vn.y,f.Vn.y;if(!(u<l.end-1&&c-f.Vn.x+this.hj[u+1].Vn.x<t.x))break}return this.hj[u].U_}}}},vt.prototype.Ii=function(t){for(var e=0,i=0,n=0;n<this.hj.length;n++)this.hj[n].U_==t&&(e=n);for(var r={rect:null,Pc:0},s=0;s<this.re.length;s++)for(var a=this.re[s],h=0;h<a.KX.length;h++){var o=a.KX[h];r.Pc=i,i++;for(var l=o.start;l<o.end;l++){var u,f,c,p,v=a.gY[l];for(f=v.start;f<v.end;f++)if(u=this.hj[f],c=a.Vn.x+o.Vn.x+v.Vn.x+u.Vn.x,p=a.Vn.y+o.Vn.y+v.Vn.y+u.Vn.y,f==e)return r.rect=new L(c,p-u.lineHeight,u.rect.$,u.lineHeight),r}}},vt.prototype.Ys=function(){for(var t=1/0,e=1/0,i=-1/0,n=-1/0,r=0;r<this.re.length;r++)for(var s=this.re[r],a=0;a<s.KX.length;a++){var h=s.KX[a];if(!h.Gq)break;for(var o=h.start;o<h.end;o++)for(var l=s.gY[o],u=l.start;u<l.end;u++){var f=this.hj[u],c=s.Vn.x+h.Vn.x+l.Vn.x+f.Vn.x,p=s.Vn.y+h.Vn.y+l.Vn.y+f.Vn.y;t=Math.min(t,c+f.AM.x),e=Math.min(e,p+f.AM.y),i=Math.max(i,c+f.AM.x+f.AM.$),n=Math.max(n,p+f.AM.y+f.AM.z)}}return new L(t,e,i-t,n-e)},vt.Yg=function(t,e,i,n,r,s){for(var a=[n],h=0,o=n;o<r;o++){null==i[o]&&console.log(o,n,r,i);var l=i[o].oQ.charCodeAt(0);32==l?(a.push(h,o,1,o+1),h=0):3851==l?(a.push(h+1,o+1),h=0):19968<=l&&l<=40959||12288<=l&&l<=12543||null!=s&&(-1!=s.indexOf(o-n)||o!=n&&i[o].on!=i[o-1].on)?(a.push(h,o),h=1):h++}a.push(h);var u=[];for(o=0;o<a.length;o+=2){var f=a[o],c=a[o+1];0!=c&&u.push(new vt.tCf(t,e,i,f,c))}return u},vt.Ya=function(t,e,i,n){for(var r=[[],[]],s=0,a=0;s<t.length;){for(var h=0,o=s,l=e?e.$-i.StartIndent-i.EndIndent-(0==s?i.FirstLineIndent:0):1/0;s!=t.length;){var u=t[s],f=0==h;if(!(f=n?f||-1==n.indexOf(a):f||u.PG||u.vb||h+u.rect.$<l))break;u.Vn.x=h,h+=u.rect.$,s++,a+=u.end-u.start}r[0].push(s-o),r[1].push(l)}return r},vt.Yu=function(t,e,i,n,r){this.gY=[],this.KX=[],this.rect=new L,this.AM=new L,this.Vn=new f(0,0);for(var s=dt.b$(t,n),a=t.EngineDict.ParagraphRun.RunLengthArray,h=a[n],o=0,l=0,u=0,c=0,p=0,v=0;v<n;v++)o+=a[v];var d=s._Direction?s._Direction:0,y=UnicodeBidirectional.resolve,g=UnicodeBidirectional.reorderPermutation,m=dt.Fk(t).slice(o,o+h),w=[];for(v=0;v<m.length;v++){var b=m.charCodeAt(v);w.push(b),b>l&&(l=b)}var x=[];for(v=0;v<m.length;v++)x.push(0);l>1424&&(x=y(w,d));for(v=0;v<w.length;v++)i[o+v].on=1&x[v];for(var M=vt.Yg(t,e,i,o,o+h),S=vt.Ya(M,r,s)[0],A=[],k=0;k<S.length;k++){var C=c;for(v=0;v<S[k];v++){var T=M[u+v];c+=T.end-T.start}A.push(c);var U=g(x.slice(C,c)),_=i.slice(o+C,o+c);if(U.length==_.length)for(v=0;v<_.length;v++)i[o+C+v]=_[U[v]];u+=S[k]}this.gY=vt.Yg(t,e,i,o,o+h,A);var F=vt.Ya(this.gY,r,s,A),O=(S=F[0],F[1]);for(k=0;k<S.length;k++){var D={start:p,end:0,rect:new L,AM:new L,Vn:new f(0,0),tq:0,lineHeight:0,yK:0,LP:0,Gq:!0};this.KX.push(D),p+=S[k],D.end=p;var N=D.end==this.gY.length,I=O[k],E=dt.Io(s);r&&E>2&&(6==E||!N)&&this.tCl(D,this.gY,i,I,d);for(v=D.start;v<D.end;v++){var P=this.gY[v].rect.clone();P.xf(this.gY[v].Vn),D.rect=D.rect.Fv(P);var J=this.gY[v].AM.clone();J.xf(this.gY[v].Vn),D.AM=D.AM.Fv(J),D.tq=Math.max(D.tq,this.gY[v].tq),D.lineHeight=Math.max(D.lineHeight,this.gY[v].lineHeight),D.yK=Math.max(D.yK,this.gY[v].yK),D.LP=Math.max(D.LP,this.gY[v].LP)}if(r){var B=this.lineWidth(D,this.gY,d);D.Vn.x=0,(1==E||N&&4==E)&&(D.Vn.x=B[1]+(I-B[0])),(2==E||N&&5==E)&&(D.Vn.x=B[1]+(I-B[0])/2),1==this.KX.length&&(D.Vn.x+=s.FirstLineIndent),D.Vn.x+=s.StartIndent}else 0==E&&(D.Vn.x=s.StartIndent+s.FirstLineIndent),1==E&&(D.Vn.x=-D.rect.$-s.EndIndent),2==E&&(D.Vn.x=-D.rect.$/2);1==this.KX.length?D.Vn.y=0:D.Vn.y=this.KX[this.KX.length-2].Vn.y+Math.max(this.KX[this.KX.length-2].LP+D.yK,D.lineHeight)}for(v=0;v<this.KX.length;v++){var X=this.KX[v].rect.clone();X.xf(this.KX[v].Vn),this.rect=this.rect.Fv(X);var z=this.KX[v].AM.clone();z.xf(this.KX[v].Vn),this.AM=this.AM.Fv(z)}},vt.Yu.prototype.lineWidth=function(t,e,i){for(var n=0,r=0,s=t.start;s<t.end;s++)n+=e[s].rect.$;if(0==i)for(s=t.end-1;s>=t.start&&(e[s].PG||e[s].vb);s--)n-=e[s].rect.$;if(1==i)for(s=t.start;s<t.end&&(e[s].PG||e[s].vb);s++){var a=e[s].rect.$;n-=a,r-=a}return[n,r]},vt.Yu.prototype.tCl=function(t,e,i,n,r){for(var s=0,a=0,h=0,o=0,l=t.start;l<t.end;l++)e[l].PG?h++:(s+=e[l].rect.$,a++);if(0==r)for(l=t.end-1;l>=t.start&&(e[l].PG||e[l].vb);l--)e[l].PG&&h--;if(1==r)for(l=t.start;l<t.end&&(e[l].PG||e[l].vb);l++)e[l].PG&&(h--,o++);if(!(a<=1||0==h)){var u=(n-s)/h,f=-o*u;for(l=t.start;l<t.end;l++)e[l].PG&&(i[e[l].start].rect.$=e[l].rect.$=u),e[l].Vn.x=f,f+=e[l].rect.$}},vt.tCf=function(t,e,i,n,r){this.PG=1==r&&" "==i[n].oQ,this.vb=1==r&&"\n"==i[n].oQ,this.start=n,this.end=n+r,this.rect=new L,this.AM=new L,this.Vn=new f(0,0),this.tq=0,this.lineHeight=0,this.yK=0,this.LP=0;var s=0;0==r&&(this.lineHeight=i[n].lineHeight,this.tq=i[n].tq,this.rect=new L(0,-i[n].lineHeight,0,i[n].lineHeight));for(var a=0;a<r;a++){var h=i[n+a],o=-1!=[1611,1612,1614,1615,1618,1623,1624,1761,1613,1616,1622,1617,-4,1625,-6,1759,1760,1762,1764,1767,1768,1771,1772,1763,1770,1773,1648,1619,1620,1621].indexOf(h.oQ.charCodeAt(0))&&null==h.nh.kern&&null==h.nh.GPOS,l=1/h.nh.head.unitsPerEm*h.Nl.FontSize,u=0;if(h.Nl.AutoKerning||(s+=2*h.Nl.Kerning*l),h.Vn.x=s,h.nh.hmtx.aWidth[h.fj]&&(s+=(o?0:h.nh.hmtx.aWidth[h.fj])*h.scale.x*l),h.Nl.AutoKerning&&a<r-1){var c=i[n+a+1].fj,p=0;-1!=c&&(p=Typr.U.getPairAdjustment(h.nh,h.fj,c),o&&(h.Vn.x+=h.scale.x*l*h.nh.hmtx.aWidth[c]/2)),null==p&&(p=0),s+=p*l}var v=h.rect.clone();v.xf(h.Vn),h.Nl.Tracking&&(u=.001*h.Nl.Tracking*h.Nl.FontSize),s+=u,1==r&&" "==h.oQ&&(v.$+=2*u),this.rect=this.rect.Fv(v);var d=h.AM.clone();d.xf(h.Vn),this.AM=this.AM.Fv(d),this.tq=Math.max(this.tq,h.tq),this.lineHeight=Math.max(this.lineHeight,h.lineHeight),this.yK=Math.max(this.yK,h.yK),this.LP=Math.max(this.LP,h.LP)}},dt.FI=function(t){return JSON.parse(JSON.stringify(t))},dt.Ib=function(t,e){for(var i in e)t[i]=e[i]},dt.YD=function(t,e,i){var n=dt.tTE();i&&dt.zX(n,0,0,i);var r={UC:new c(1,0,0,1,Math.round(t),Math.round(e)),Bd:n};return r.ho=dt.Yl(),r.O$=a.UB.I(),r._B=new L,r},dt.YS=function(t){for(var e=["CharacterDirection",0],i=0;i<e.length;i+=2)if(null!=t[e[i]]&&t[e[i]]!=e[i+1])throw"e";if(t instanceof Array)for(i=0;i<t.length;i++)dt.YS(t[i]);else if(t instanceof Object)for(var n in t)dt.YS(t[n])},dt.Io=function(t,e){return null==e&&(e=t.Justification),1==(t._Direction?t._Direction:0)&&(0==e||3==e?e++:1!=e&&4!=e||e--),e},dt.NG=function(t){var e={T:0,q:0,H:0};if(t.FillColor){var i=t.FillColor,n=i.Values;if(1==i.Type)e={T:255*n[1],q:255*n[2],H:255*n[3]};else if(2==i.Type){var r={classID:"CMYC",Cyn:{t:"doub",v:100*n[1]},Mgnt:{t:"doub",v:100*n[2]},Ylw:{t:"doub",v:100*n[3]},Blck:{t:"doub",v:100*n[4]}};e=a.e.NG(r)}else console.log("Unknown color type")}return e},dt.AK=function(t,e){var i;if(1==dt.gG(t.Bd)){var n=dt.BR(t.Bd);i=new L(0,0,n[2]-n[0],n[3]-n[1])}else i=e.Ys();return i},dt.NE=function(t){for(var e=t[0],i=0;i<t.length;i++)e=dt.tCj(e,t[i]);return e},dt.tCj=function(t,e){var i={};for(var n in t)JSON.stringify(t[n])==JSON.stringify(e[n])&&(i[n]=t[n]);return i},dt.kP=function(t,e){for(var i=t.vT,n=-1,r=0;r<i.length;r++)i[r].Name==e&&(n=r);-1==n&&(n=i.length,i.push({FontType:1,Name:e,Script:0,Synthetic:0})),t.hj.Font=n},dt.Fk=function(t){return t.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")},dt.YE=function(t,e){t.EngineDict.Editor.Text=e.replace(/\n/g,"\r")},dt.gG=function(t){return t.EngineDict.Rendered.Shapes.Children[0].ShapeType},dt.kN=function(t,e){var i=t.EngineDict.Rendered.Shapes.Children[0];i.ShapeType=e;var n=i.Cookie.Photoshop;n.ShapeType=e,n.Base.ShapeType=e,0==e&&(delete n.BoxBounds,n.PointBase=[0,0]),1==e&&(delete n.PointBase,n.BoxBounds=[0,0,1,1])},dt.BR=function(t){return t.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds},dt.Yc=function(t,e){t.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=e},dt.tTJ=function(t,e){return dt.Yh(t,dt.Sp(t.EngineDict.StyleRun.RunLengthArray,e).Vh)},dt.Yh=function(t,e){var i=t.ResourceDict.StyleSheetSet[0].StyleSheetData,n={};for(var r in i)n[r]=i[r];var s=t.EngineDict.StyleRun.RunArray[e].StyleSheet.StyleSheetData;return dt.Ib(n,s),n},dt.b$=function(t,e){var i=t.ResourceDict.ParagraphSheetSet[0].Properties,n=dt.FI(i),r=t.EngineDict.ParagraphRun.RunArray[e].ParagraphSheet.Properties;return dt.Ib(n,r),n},dt.el=function(t,e,i){if(""!=i){var n=dt.Fk(t);dt.YE(t,n.substring(0,e)+i+n.substring(e,n.length));var r=dt.Sp(t.EngineDict.StyleRun.RunLengthArray,e-1);t.EngineDict.StyleRun.RunLengthArray[r.Vh]+=i.length;var s=t.EngineDict.ParagraphRun,a=s.RunLengthArray,h=dt.Sp(a,e),o=i.split("\n");if(1!=o.length){a.splice(h.Vh+1,0,a[h.Vh]-(e-h.qE)),s.RunArray.splice(h.Vh+1,0,dt.FI(s.RunArray[h.Vh])),a[h.Vh]-=a[h.Vh+1],a[h.Vh]+=o[0].length+1;for(var l=1;l<o.length-1;l++)s.RunArray.splice(h.Vh+l,0,dt.FI(s.RunArray[h.Vh+l-1])),s.RunLengthArray.splice(h.Vh+l,0,o[l].length+1);a[h.Vh+o.length-1]+=o[o.length-1].length}else a[h.Vh]+=i.length}},dt.bw=function(t,e,i){var n=dt.Fk(t);dt.YE(t,n.substring(0,e)+n.substring(i,n.length)),dt.YW(t.EngineDict.ParagraphRun,e,i,!0),dt.YW(t.EngineDict.StyleRun,e,i,!1)},dt.YW=function(t,e,i,n){for(var r=t.RunLengthArray,s=dt.Sp(r,e),a=dt.Sp(r,i),h=[],o=0;o<r.length;o++)for(var l=0;l<r[o];l++)h.push(o);h.splice(e,i-e);var u=[];for(o=0;o<r.length;o++)u.push(0);for(o=0;o<h.length;o++)u[h[o]]++;for(o=0;o<r.length;o++)0==u[o]?(u.splice(o,1),r.splice(o,1),t.RunArray.splice(o,1),o--):u[o]<r[o]&&(r[o]=u[o]);n&&s.Vh!=a.Vh&&s.qE!=e&&(r[s.Vh]+=r[s.Vh+1],r.splice(s.Vh+1,1),t.RunArray.splice(s.Vh+1,1))},dt.zX=function(t,e,i,n){i==t.EngineDict.Editor.Text.length-2&&i++,null!=n.hj.Font&&(t.ResourceDict.FontSet=n.vT.slice(0)),e<=i&&dt.Yn(t.EngineDict.StyleRun,n.hj,e,i,!0),dt.Yn(t.EngineDict.ParagraphRun,n.re,e,i,!1)},dt.Yn=function(t,e,i,n,r){var s=t.RunLengthArray;if(r){if((h=dt.Sp(s,i)).qE!=i){var a=s[h.Vh];s.splice(h.Vh,0,i-h.qE),s[h.Vh+1]=a-s[h.Vh],t.RunArray.splice(h.Vh+1,0,dt.FI(t.RunArray[h.Vh]))}if((o=dt.Sp(s,n)).qE+s[o.Vh]-1!=n){a=s[o.Vh];s.splice(o.Vh,0,n-o.qE+1),s[o.Vh+1]=a-s[o.Vh],t.RunArray.splice(o.Vh+1,0,dt.FI(t.RunArray[o.Vh]))}}var h=dt.Sp(s,i),o=dt.Sp(s,n);if(r)for(var l=h.Vh;l<=o.Vh;l++)dt.Ib(t.RunArray[l].StyleSheet.StyleSheetData,e);else for(l=h.Vh;l<=o.Vh;l++)dt.Ib(t.RunArray[l].ParagraphSheet.Properties,e)},dt.Sr=function(t,e,i){for(var n={vT:t.ResourceDict.FontSet.slice(0),hj:[],re:[]},r=t.EngineDict.StyleRun.RunLengthArray,s=dt.Sp(r,e).Vh,a=dt.Sp(r,i).Vh,h=s;h<=a;h++){var o=dt.FI(t.ResourceDict.StyleSheetSet[0].StyleSheetData),l=t.EngineDict.StyleRun.RunArray[h].StyleSheet.StyleSheetData;dt.Ib(o,l),n.hj.push(o)}var u=t.EngineDict.ParagraphRun.RunLengthArray,f=dt.Sp(u,e).Vh,c=dt.Sp(u,i).Vh;for(h=f;h<=c;h++)n.re.push(dt.FI(t.EngineDict.ParagraphRun.RunArray[h].ParagraphSheet.Properties));return n.hj=dt.NE(n.hj),n.re=dt.NE(n.re),n},dt.bO=function(t,e){var i,n;i=["FontSize","Leading","BaselineShift"],n=t.hj;for(var r=0;r<i.length;r++)null!=n[i[r]]&&(n[i[r]]*=e);i=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"],n=t.re;for(r=0;r<i.length;r++)null!=n[i[r]]&&(n[i[r]]*=e)},dt.tTI=function(){return dt.Sr(dt.YY,0,0)},dt.Yl=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}},dt.Sp=function(t,e){for(var i=0,n=0;i+t[n]<=e;)i+=t[n],n++;return{Vh:n,qE:i}},dt.tTE=function(){return dt.FI(this.YY)},dt.Yf={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0},dt.tTb={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2},dt.YY={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(dt.Yf))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"、。，．・：；？！ー―’”）〕］｝〉》」』】ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ゛゜?!)]},.:;℃℉¢％‰",NoEnd:"‘“（〔［｛〈《「『【([{￥＄£＠§〒＃",Keep:"―‥",Hanging:"、。.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"、。，．・：；？！’”）〕］｝〉》」』】ヽヾゝゞ々",NoEnd:"‘“（〔［｛〈《「『【",Keep:"―‥",Hanging:"、。.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(dt.Yf))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(dt.tTb))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};var yt={tPy:function(t,e,i){var n={_98:{_0:"i7"}};return n._0=yt.tPD(t,e,i?i._0:null),n._1=yt.tPp(t,e,n._0,i?i._1:null),n},tPD:function(t,e,i){var n={};return n._1=yt.tPC(t,i?i._1:null),n._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]},n._3=JSON.parse(JSON.stringify(yt.tPb)),n._4=JSON.parse(JSON.stringify(yt.tPm)),n._5=yt.tPv(t,n._1._0,i?i._5:null),n._6=yt.tPh(t,i?i._6:null),n._8=yt.tPW(t,e,i?i._8:null),n._9=yt.tPs,n},tPC:function(t,e){for(var i=[],n=[],r=0;r<t.length;r++)for(var s=t[r].ResourceDict.FontSet,a=0;a<s.length;a++){var h=s[a];-1==n.indexOf(h.Name)&&(i.push(h),n.push(h.Name))}var o={_0:[]};for(r=0;r<i.length;r++){var l=i[r],u={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+l.Name,_1:"i"+l.Script,_2:"i"+l.FontType}}};0==l.Script&&delete u._0._0._1,o._0.push(u)}return o},tPv:function(t,e,i){var n={_0:[],_1:[]},r={_0:JSON.parse(JSON.stringify(yt.bV))};return yt.YZ(r._0,t[0].ResourceDict.StyleSheetSet[0],e,t[0].ResourceDict.FontSet),n._0.push(r),n._1.push({_0:"i0"}),n._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}}),n._1.push({_0:"i1"}),n},tPh:function(t,e){var i={_0:[],_1:[]},n={_0:JSON.parse(JSON.stringify(yt.bz))};return yt.bn(n._0,t[0].ResourceDict.ParagraphSheetSet[0]),i._0.push(n),i._1.push({_0:"i0"}),n={_0:JSON.parse(JSON.stringify(yt.bz))},yt.bn(n._0,t[0].ResourceDict.ParagraphSheetSet[0]),n._0._0="sBasic Paragraph",n._0._6="i0",i._0.push(n),i._1.push({_0:"i1"}),i},tPW:function(t,e,i){for(var n={_0:[]},r=0;r<t.length;r++){var s={};n._0.push({_0:s});var a=dt.gG(t[r]);if(1==a){var h=dt.BR(t[r]),o=h[2],l=h[3];s._1={_0:yt.bR("f",[0,0,0,0,o,0,o,0,o,0,o,0,o,l,o,l,o,l,o,l,0,l,0,l,0,l,0,l,0,0,0,0])}}s._2={},s._2._0="i"+a,s._2._6=0==a?["f-1","f-1"]:["f-2","f-2"],s._2._11={_4:"i-"+(0==a?1:2),_7:!1}}return n},tPp:function(t,e,i,n){var r={};return r._0=JSON.parse(JSON.stringify(yt.tPu)),r._1=yt.tPf(t,e,i,n?n._1:null),r._2=JSON.parse(JSON.stringify(yt.bV._6)),r._3=JSON.parse(JSON.stringify(yt.bz._5)),r},tPf:function(t,e,i,n){for(var r=[],s=i._1._0,a=0;a<t.length;a++){var h=t[a],o={_0:{}};r.push(o);var l=n?n[a]:null;o._0._0="s"+h.EngineDict.Editor.Text,o._0._0=o._0._0;var u={_0:[]};o._0._5=u;for(var f=h.EngineDict.ParagraphRun,c=0;c<f.RunArray.length;c++){var p={_0:{}};u._0.push(p),p._0._0={_0:"s",_5:{},_6:"i1"},yt.bn(p._0._0,h.EngineDict.ParagraphRun.RunArray[c].ParagraphSheet),p._1="i"+f.RunLengthArray[c]}var v={_0:[]};o._0._6=v;var d=l?l._0._6:null;f=h.EngineDict.StyleRun;for(c=0;c<f.RunArray.length;c++){var y={_0:{}};v._0.push(y);var g=d?d._0:null;y._0._0={_0:"s",_5:"i1",_6:{}},yt.YZ(y._0._0,h.EngineDict.StyleRun.RunArray[c].StyleSheet,s,h.ResourceDict.FontSet,g?y._0._0:null),y._1="i"+f.RunLengthArray[c]}o._0._10={_0:"i4",_2:!0},o._1=yt.view.tdW(h,null,a,null)}return r},YZ:function(t,e,i,n,r){t._0="s"+(e.Name?e.Name:"");var s=t._6,a=(r&&r._6,e.StyleSheetData);if(null!=a.Font){for(var h=n[a.Font].Name,o=-1,l=0;l<i.length;l++)if("s"+h==i[l]._0._0._0){o=l;break}s._0="i"+o,null!=a.FontSize&&(s._1="f"+a.FontSize),null!=a.FauxBold&&(s._2=a.FauxBold),null!=a.FauxItalic&&(s._3=a.FauxItalic),null!=a.AutoLeading&&(s._4=a.AutoLeading),null!=a.Leading&&(s._5="f"+a.Leading),null!=a.HorizontalScale&&(s._6="f"+a.HorizontalScale),null!=a.VerticalScale&&(s._7="f"+a.VerticalScale),null!=a.Tracking&&(s._8="i"+a.Tracking),null!=a.BaselineShift&&(s._9="f"+a.BaselineShift),null!=a.AutoKerning&&(s._11="i"+(a.AutoKerning?1:0)),null!=a.FontCaps&&(s._12="i"+a.FontCaps),null!=a.FontBaseline&&(s._13="i"+a.FontBaseline),null!=a.Strikethrough&&(s._15="i"+(a.Strikethrough?1:0)),null!=a.Underline&&(s._16="i"+(a.Underline?2:0)),null!=a.Ligatures&&(s._18=a.Ligatures),null!=a.DLigatures&&(s._19=a.DLigatures),null!=a.Language&&(s._38="i"+a.Language),null!=a.FillColor&&(s._53={_99:"/SimplePaint",_0:{_0:"i1",_1:yt.bR("f",a.FillColor.Values)}})}},bn:function(t,e){t._0="s"+(e.Name?e.Name:"");var i=t._5,n=e.Properties;null!=n.Justification&&(i._0="i"+n.Justification),null!=n.FirstLineIndent&&(i._1="f"+n.FirstLineIndent),null!=n.StartIndent&&(i._2="f"+n.StartIndent),null!=n.EndtIndent&&(i._3="f"+n.EndtIndent),null!=n.SpaceBefore&&(i._4="f"+n.SpaceBefore),null!=n.SpaceAfter&&(i._5="f"+n.SpaceAfter),null!=n.AutoHyphenate&&(i._9=n.AutoHyphenate),null!=n._Direction&&(i._33="i"+n._Direction)},bR:function(t,e){for(var i=[],n=0;n<e.length;n++)i.push(t+e[n]);return i},tPb:{_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]},tPm:{_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}¢—’”‰℃℉、。々〉》《』】〕ぁぃぅぇぉっゃゅょゎ゛゜ゝゞァィゥェォッャュョヮヵヶ・ーヽヾ！％），．：；？］｝",_1:"s([{£§‘“〈《「『【〒〔＃＄（＠［｛￥",_2:"s—‥…",_3:"s、。，．",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s’”、。々〉》《』】〕ゝゞ・ヽヾ！），．：；？］｝",_1:"s‘“〈《「『【〔（［｛",_2:"s—‥…",_3:"s、。，．",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}¢—’”‰℃℉、。々〉》《』】〕ぁぃぅぇぉっゃゅょゎ゛゜ゝゞァィゥェォッャュョヮヵヶ・ーヽヾ！％），．：；？］｝",_1:"s([{£§‘“〈《「『【〒〔＃＄（＠［｛￥",_2:"s—‥…",_3:"s、。，．",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s’”、。々〉》《』】〕ゝゞ・ヽヾ！），．：；？］｝",_1:"s‘“〈《「『【〔（［｛",_2:"s—‥…",_3:"s、。，．",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]},bV:{_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}},bz:{_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}},tPs:{_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]},tPu:{_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s",_1:"s5"},{_0:"s　",_1:"s1"},{_0:"s­",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i1",_1:"s”",_2:"s”",_3:"s’",_4:"s’"},{_0:"i2",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i3",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i4",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i5",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i6",_1:"s«",_2:"s»",_3:"s‹",_4:"s›"},{_0:"i7",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i8",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i9",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i10",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i11",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i12",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i13",_1:"s”",_2:"s”",_3:"s’",_4:"s’"},{_0:"i14",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i15",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i16",_1:"s”",_2:"s”",_3:"s’",_4:"s’"},{_0:"i17",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i18",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i19",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i20",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i21",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i22",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i23",_1:"s„",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i24",_1:"s„",_2:"s”",_3:"s‚",_4:"s’"},{_0:"i25",_1:"s«",_2:"s»",_3:"s‹",_4:"s›"},{_0:"i26",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i27",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i28",_1:"s„",_2:"s”",_3:"s’",_4:"s’"},{_0:"i29",_1:"s〝",_2:"s〞"},{_0:"i30",_1:"s「",_2:"s」"},{_0:"i31",_1:"s„",_2:"s“",_3:"s‘",_4:"s’"},{_0:"i32",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i33",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i34",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i35",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i36",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i37",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i38",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i39",_1:"s«",_2:"s»",_3:"s<",_4:"s>"},{_0:"i40",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i41",_1:"s«",_2:"s»",_3:"s<",_4:"s>"},{_0:"i42",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i43",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i44",_1:"s«",_2:"s»",_3:"s‹",_4:"s›"},{_0:"i45",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"}],_15:{_0:"sWinSoft"},_16:!1}},gt={};function mt(){}function wt(){}gt.tdG=function(t){return gt.bm(t,gt.ck)},gt.tDg=function(t){return gt.B$(t,gt.ck)},gt.bm=function(t,e){var i;if("string"==typeof t)return t;if(t instanceof Array){i=[];for(var n=0;n<t.length;n++)i[n]=gt.bm(t[n],e)}else{i={};var r={};for(var s in e){var a=e[s],h="_"+a[0];null!=t[h]&&(i[s]=a[1]?gt.bm(t[h],a[1]):t[h],r[h]=!0)}for(var s in t)if(null==r[s])throw console.log(r),console.log(s,t),"e"}return i},gt.B$=function(t,e){var i;if(t instanceof Array){i=[];for(var n=0;n<t.length;n++)i[n]=gt.B$(t[n],e)}else{i={};var r={};for(var s in e){var a=e[s],h="_"+a[0];null!=t[s]&&(i[h]=a[1]?gt.B$(t[s],a[1]):t[s],r[s]=!0)}for(var s in t)if(null==r[s])throw console.log(r),console.log(s,t),"e"}return i},gt.Fa={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]},gt.io={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,gt.Fa],_StrokeColor:[54,gt.Fa],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,gt.Fa],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]},gt.bJ={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,gt.io],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]},gt.br={_Name:[0],_Features:[5,gt.bJ],_Parent:[6]},gt.bH={_Name:[0],_Parent:[5],_Features:[6,gt.io]},gt.ck={_98:[98,{_0:[0]}],_DocumentResources:[0,{_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,gt.bH]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,gt.br]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,gt.br]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,gt.bH]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,gt.io],_OriginalNormalParagraphFeatures:[3,gt.bJ]}]},yt.view={},yt.view.tdW=function(t,e,i,n){var r={};dt.gG(t);return r._0=[{_0:"i"+i}],r},mt.bL=function(t){var e=t.add,i=e.vmsk,n=e.vstk,r=e.lmfx,s=e.TySh,h=[];if(t.TT()&&i){(u=a.A.gw(i.L)).km()||(h.push("width: "+Math.round(u.$)+"px"),h.push("height: "+Math.round(u.z)+"px"));var o=a.A.tte(i.L);o>0&&h.push("border-radius: "+Math.round(o)+"px")}else if(s){var l=s.Bd;if(1==dt.gG(l)){var u=dt.BR(l);h.push("width: "+Math.round(u[2])+"px"),h.push("height: "+Math.round(u[3])+"px")}mt.bC(h,dt.Sr(l,0,0),s.UC,!1)}if(r&&0!=r.dropShadowMulti.v.length){var f=r.dropShadowMulti.v[0].v;if(f.enab.v){var c=f.Dstn.v.val,p=f.lagl.v.val*Math.PI/180,v=c*Math.cos(p),d=c*Math.sin(p);h.push("box-shadow: "+(0==v?"0 ":mt._X(-v)+"px ")+(0==d?"0 ":mt._X(d)+"px ")+f.blur.v.val+"px "+mt.YP(f.Clr.v,f.Opct.v.val/100))}}var y=lt.Yy(r),g=y[0],m=y[1];if(e.SoCo&&null==m||g){var w=mt.YP((g||e.SoCo).Clr.v,null!=t.add.iOpa?t.add.iOpa/255:1);h.push("background-color: "+w)}else if(e.GdFl||m){var b=mt.NH(m||e.GdFl);h.push("background-image: "+b)}if(null!=n&&n.strokeEnabled.v||(n=lt.Yq(r)),n&&n.strokeEnabled.v){var x=n.strokeStyleContent.v,M=x.classID,S=(ot.nO.Ky.indexOf(n.strokeStyleLineCapType.v.strokeStyleLineCapType),ot.nO.join.indexOf(n.strokeStyleLineJoinType.v.strokeStyleLineJoinType),n.strokeStyleOpacity.v.val/100),A=n.strokeStyleLineWidth.v.val,k="";"solidColorLayer"==M&&(k=mt.YP(x.Clr.v,S)),h.push("border: "+A+"px solid "+k)}return h},mt.tdK={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},mt._X=function(t){return""+parseFloat(t.toFixed(3))},mt.bI=function(t){if(null==t)return{T:0,q:0,H:0};if("rgb("==t.slice(0,4)){var e=t.slice(4,t.length-1).split(",").map(parseFloat);return{T:e[0],q:e[1],H:e[2]}}if("#"!=t.charAt(0)){var i=mt.tdK;i[t]?t=i[t]:console.log("unknown color "+t)}return 3==(t=t.slice(1)).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{T:(t=parseInt(t,16))>>16&255,q:t>>8&255,H:255&t}},mt.YP=function(t,e){return mt.tdZ(a.e.NG(t),e)},mt.tdZ=function(t,e){null==e&&(e=1);var i=Math.round(t.T),n=Math.round(t.q),r=Math.round(t.H),s=i<<16|n<<8|r;return 1==e?"#"+a.fM(s):"rgba("+i+","+n+","+r+","+e+")"},mt.NH=function(t){var e=t.Grad.v;if(null==e.Clrs)return"";var i=e.Clrs.v.slice(0),n=e.Trns.v.slice(0),r=(t.Ofst.v,"Rdl"==t.Type.v.GrdT?1:0),s=(1==r?"radial":"linear")+"-gradient",a=0==r?Math.round(90-t.Angl.v.val)+"deg":"circle at center",h=t.Rvrs.v;h&&(i.reverse(),n.reverse());for(var o=0;o<i.length;o++){var l=i[o].v,u=o<n.length?n[o].v.Opct.v.val/100:1,f=l.Lctn.v/4096;h&&(f=1-f),a+=", "+mt.YP(l.Clr.v,u)+" "+Math.round(100*f)+"%"}return s+"("+a+")"},mt.bC=function(t,i,n,r,s){var h=i.hj,o=r?1:j._.ka(n),l=Math.round(h.FontSize*o);t.push("font-size: "+l+"px");var u=h.Tracking;null!=u&&0!=u&&t.push("letter-spacing: "+Math.round(u*l/1e3)+"px"),h.AutoLeading||t.push("line-height: "+Math.round(h.Leading*o)+"px"),h.Strikethrough&&t.push("text-decoration: line-through");var f=dt.NG(h);f=[f.T,f.q,f.H].map(Math.round),t.push((r?"fill":"color")+": #"+a.fM(f[0]<<16|f[1]<<8|f[2]));var c=i.vT[h.Font].Name;if(c){var p=s;if(p){var v=e.NW.jq(c);null!=v&&c==e.jv(v)||(p=!1)}if(p)t.push('font-family: "'+c+'"');else{t.push('font-family: "'+mt.tds(c)+'"');var d=c.toLowerCase();-1!=d.indexOf("light")?t.push("font-weight: 300"):-1!=d.indexOf("black")||-1!=d.indexOf("extrabold")?t.push("font-weight: 800"):-1!=d.indexOf("bold")&&t.push("font-weight: bold"),-1==d.indexOf("italic")&&-1==d.indexOf("oblique")||t.push("font-style: italic;")}}var y=i.re.Justification;null!=y&&0!=y&&(r?t.push("text-anchor: "+["start","end","middle"][y%3]):t.push("text-align: "+["left","right","center"][y%3]))},mt.tds=function(t){for(t=t.split("-")[0];t.endsWith("MT")||t.endsWith("PS");)t=t.slice(0,t.length-2);for(var e=!0,i=0;i<t.length;i++){var n=t.charAt(i);e||n.toLowerCase()==n?e=!1:(t=t.slice(0,i)+" "+t.slice(i),i++,e=!0)}return t},wt.bT=function(t,e){var i=acorn.parse(t),n=JSON.parse(JSON.stringify(wt.Lx.tGn));n.__return=!1,n.__break=!1,n.__throw=!1,wt.eval(i,e,n)},wt.eval=function(t,e,i){var n=t.type;if("Program"==n||"BlockStatement"==n){for(var r=t.body,s=0;s<r.length;s++){"FunctionDeclaration"==r[s].type&&(i[r[s].id.name]=r[s])}for(s=0;s<r.length;s++){r[s].type;var a=wt.eval(r[s],e,i);if(i.__return||i.__break||i.__throw)return a}}else{if("ReturnStatement"==n)return i.__return=!0,t.argument?wt.rz(t.argument,e,i):null;if("BreakStatement"==n)i.__break=!0;else if("VariableDeclaration"==n){var h=t.declarations;for(s=0;s<h.length;s++)wt.eval(h[s],e,i)}else if("VariableDeclarator"==n)i[t.id.name]=t.init?wt.rz(t.init,e,i):null;else if("FunctionDeclaration"==n)i[t.id.name]=t;else{if("MemberExpression"==n){var o=wt.rz(t.object,e,i),l=t.computed?wt.rz(t.property,e,i):wt.eval(t.property,e,i);return a=null!=o.kj?wt.Lx.aO(o,l,e,i):o[l]}if("ArrayExpression"==n){var u=[],f=t.elements;for(s=0;s<f.length;s++)u.push(wt.rz(f[s],e,i));return u}if("ObjectExpression"==n){for(u={},f=t.properties,s=0;s<f.length;s++){f[s];u[f[s].key.name?f[s].key.name:f[s].key.value]=wt.rz(f[s].value,e,i)}return u}if("ExpressionStatement"==n)return wt.eval(t.expression,e,i);if("NewExpression"==n){var c=t.arguments;u=null;if("Identifier"!=(v=(p=t.callee).type))throw"e";if(null==(u=wt.Lx.tGc(p.name,c,e,i)))throw"e";return u}if("CallExpression"==n){c=t.arguments;var p,v=(p=t.callee).type,d={};for(var y in i)d[y]=i[y];var g=[];for(s=0;s<c.length;s++)g.push(wt.rz(c[s],e,i));if("Identifier"==v){var m=i[p.name];if(m){if(m.params){var w=m.params;for(s=0;s<w.length;s++)d[w[s].name]=g[s];return wt.eval(m.body,e,d)}return m.apply(null,g)}if(null!=window[p.name])return window[p.name].apply(window,g);console.log("Unknown function "+p.name)}else{if("MemberExpression"==v){o=wt.rz(p.object,e,i),l=p.computed?wt.rz(p.property,e,i):wt.eval(p.property,e,i);return null!=o.kj?wt.Lx.Oh(o,l,g,e,i):o[l].apply(o,g)}console.log(t)}}else if("AssignmentExpression"==n){var b=t.operator,x=(U=t.left).type,M=wt.rz(U,e,i),S=wt.rz(t.right,e,i);a=null;if("="==b?a=S:"+="==b?a=M+S:"-="==b?a=M-S:"*="==b?a=M*S:"/="==b?a=M/S:"%="==b?a=M%S:"&="==b?a=M&S:"|="==b?a=M|S:"&&="==b?a=M&&S:"||="==b?a=M||S:console.log(t),"Identifier"==x){var A=U.name;if(!i.hasOwnProperty(A))throw"e";i[A]=a}else if("MemberExpression"==x){var k=wt.eval(U.property,e,i),C=wt.rz(U.object,e,i);null!=C.kj?wt.Lx.tGX(C,k,a,e,i):C[k]=a}else console.log(t)}else{if("Identifier"==n)return t.name;if("Literal"==n)return t.value;if("UpdateExpression"==n){b=t.operator;var T=t.argument.name;u=wt.rz(t.argument,e,i);if("++"==b)return i[T]++,t.prefix?i[T]:i[T]-1;if("--"==b)return i[T]--,t.prefix?i[T]:i[T]+1;console.log(t)}else{if("UnaryExpression"==n){b=t.operator;return"UnitValue"==(_=wt.rz(t.argument,e,i)).kj?"-"==b?-_.R:wt.bP(_.R,b):wt.bP(_,b)}if("BinaryExpression"==n||"LogicalExpression"==n){b=t.operator;var U=wt.rz(t.left,e,i),_=wt.rz(t.right,e,i);return null==U||null==_?wt.yt(U,_,b):"UnitValue"==U.kj&&"UnitValue"==_.kj?wt.yt(U.R,_.R,b):"UnitValue"==U.kj?wt.yt(U.R,_,b):"UnitValue"==_.kj?"-"==b?-(U-_.R):wt.yt(U,_.R,b):wt.yt(U,_,b)}if("IfStatement"==n||"ConditionalExpression"==n){if(wt.rz(t.test,e,i))return wt.eval(t.consequent,e,i);if(t.alternate)return wt.eval(t.alternate,e,i)}else if("ForInStatement"==n){wt.eval(t.left,e,i);var F=t.left.declarations[0].id.name,O=wt.rz(t.right,e,i);for(var y in O){i[F]=y;var L=wt.eval(t.body,e,i);if(i.__break)break;if(i.__return)return L}i.__break=!1}else if("ForStatement"==n){for(wt.eval(t.init,e,i);wt.eval(t.test,e,i);){L=wt.eval(t.body,e,i);if(i.__break)break;if(i.__return)return L;wt.eval(t.update,e,i)}i.__break=!1}else if("DoWhileStatement"==n){do{L=wt.eval(t.body,e,i);if(i.__break)break;if(i.__return)return L}while(wt.eval(t.test,e,i));i.__break=!1}else if("TryStatement"==n){if(wt.eval(t.block,e,i),i.__throw){var D=t.handler;i[D.param.name]=i.__throw,i.__throw=!1,wt.eval(D.body,e,i),delete i[D.param.name]}}else console.log(t)}}}}},wt.yt=function(t,e,i){return"+"==i?t+e:"-"==i?t-e:"*"==i?t*e:"/"==i?t/e:"%"==i?t%e:"^"==i?t^e:"&"==i?t&e:"&&"==i?t&&e:"|"==i?t|e:"||"==i?t||e:"<"==i?t<e:">"==i?t>e:"=="==i?t==e:"<="==i?t<=e:">="==i?t>=e:"!="==i?t!=e:"!=="==i?t!==e:"<<"==i?t<<e:">>"==i?t>>e:void console.log(i)},wt.bP=function(t,e){return"-"==e?-t:"!"==e?!t:"~"==e?~t:void console.log(obj)},wt.rz=function(t,e,i){return"Identifier"==t.type?wt.tGR(t.name,e,i):wt.eval(t,e,i)},wt.tGR=function(t,e,i){return"undefined"==t?void 0:i.hasOwnProperty(t)?i[t]:"app"==t?{kj:"Application"}:-1!=wt.Lx.tGv.indexOf(t)?wt.Lx.aO({kj:"Application"},t,e,i):window[t]?window[t]:(i[t]=null,null)},wt.Lx={},wt.Lx.tGc=function(t,e,i,n){if("SolidColor"==t)return{kj:"SolidColor",R:[1,0,0,0]}},wt.Lx.tGv=["activeDocument","documents","fonts","preferences","displayDialogs"],wt.Lx.aO=function(t,e,i,n){if("typename"==e)return"Layer"==t.kj?t.R.oP()?"LayerSet":"ArtLayer":t.kj;if(-1!=["Document","Layer"].indexOf(t.kj)&&-1!=["layers","artLayers","layerSets"].indexOf(e)){var r=(o=i.Ns()).root,s={kj:"Layers",R:[]};"Layer"==t.kj&&(r=o.root.oo(o.b.indexOf(t.R)));for(var a=0;a<r.children.length;a++){var h=(f=r.children[a].i).oP();h&&"artLayers"==e||!h&&"layerSets"==e||s.R.push({kj:"Layer",R:f})}return s.R.reverse(),s}if("Documents"==t.kj||"Layers"==t.kj||"HistoryStates"==t.kj){if("length"==e)return t.R.length;if(Number.isInteger(e))return t.R[e];console.log(t.kj+": unknown property ",e)}else if("Application"==t.kj){if("activeDocument"==e)return{kj:"Document",R:i.Ns()};if("documents"==e){for(s={kj:"Documents",R:[]},a=0;a<i.tl.length;a++)s.R.push({kj:"Document",R:i.tl[a]});return s}if("fonts"==e)return{kj:"TextFonts"};if("preferences"==e)return{kj:"Preferences"};if("displayDialogs"==e)return{kj:"DialogModes"};console.log(t,e)}else if("Document"==t.kj){var o=t.R;if("activeLayer"==e)return{kj:"Layer",R:f=o.b[o.g[0]]};if("width"==e)return o.$;if("height"==e)return o.z;if("name"==e)return o.name;if("selection"==e)return{kj:"Selection"};if("activeHistoryState"==e)return{kj:"HistoryState",U_:o.ei};if("historyStates"==e){var l=[];for(a=0;a<o.history.length;a++)l.push({kj:"HistoryState",U_:a});return{kj:"HistoryStates",R:l}}console.log(t,e)}else if("Layer"==t.kj){var u={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},f=t.R;if("visible"==e)return f.op();if(null!=u[e])return f.FT(u[e]);if("opacity"==e)return 100*f.opacity/255;if("name"==e)return f.getName();if("textItem"==e)return{kj:"TextItem",R:f};if("bounds"==e){o=i.Ns();var p=j._.AK(o,[o.b.indexOf(f)]),v=[p.x,p.y,p.x+p.$,p.y+p.z];return wt.Lx.tGi(v)}if("parent"==e){var d=i.tl;for(a=0;a<d.length;a++)if(-1!=d[a].b.indexOf(f))return{kj:"Document",R:d[a]}}else{if("kind"==e){var y=wt.Lx.yc;for(a=0;a<y.length;a++)if(null!=f.add[y[a]])return a;return 0}console.log(t,e)}}else if("TextItem"==t.kj){var g=t.R.add.TySh,m=g.Bd,w=dt.Fk(m),b=dt.Sr(m,0,Math.max(0,w.length-2));if("contents"==e)return w.slice(0,w.length-1);if("font"==e)return null!=b.hj.Font?b.vT[b.hj.Font].Name:null;if("size"==e)return{kj:"UnitValue",R:b.hj.FontSize};if("tracking"==e)return{kj:"UnitValue",R:b.hj.Tracking};if("kind"==e)return 1-dt.gG(m);if("color"==e)return{kj:"SolidColor",R:b.hj.FillColor.Values.slice(0)};if("width"==e||"height"==e){var x=dt.BR(m),M=x[2]-x[0],S=x[3]-x[1];return"width"==e?M:S}if("horizontalScale"==e||"verticalScale"==e){var A=g.UC.clone(),k=Math.atan2(-A.H,A.o),C=new c;return C.rotate(-k),A.concat(C),100*("horizontalScale"==e?A.o:A.KI)}console.log(t,e)}else if("Preferences"==t.kj){if("rulerUnits"==e)return 5;console.log(t,e)}else if("SolidColor"==t.kj){if("rgb"==e)return{kj:"RGBColor",R:t.R};console.log(t,e)}else if("RGBColor"==t.kj){if("red"==e)return Math.round(255*t.R[1]);if("green"==e)return Math.round(255*t.R[2]);if("blue"==e)return Math.round(255*t.R[3]);console.log(t,e)}else{if("UnitValue"==t.kj){if("value"==e)return t.R;throw"e"}console.log(t,e)}},wt.Lx.tGi=function(t){for(var e=[],i=0;i<t.length;i++)e.push({kj:"UnitValue",R:t[i]});return e},wt.Lx.tGo=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].kj?t[i].R:t[i]);return e},wt.Lx.tGX=function(t,e,i,n,r){var s=new xt(bt.E.W,!0),a=new xt(bt.E.Y,!0),h=n.Ns();if("Application"==t.kj)"activeDocument"==e?(a.data={X:bt.m.pL,Ti:i.R},n.N(a)):"displayDialogs"==e||console.log(t,e,i);else if("Document"==t.kj)"activeLayer"==e?h.g=[h.b.indexOf(i.R)]:"activeHistoryState"==e?(s.c=j.ni,s.data={X:"h_itemchange",index:i.U_}):console.log(t,e);else if("Layer"==t.kj){s.c=j.uh;var o={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},l=t.R,u=h.b.indexOf(l);"visible"==e?l.op()!=i&&(s.data={X:nt.Eh,i:u}):"opacity"==e?s.data={X:nt.CY,i:u,UG:Math.round(255*i/100)}:"name"==e?s.data={X:nt.HU,i:u,name:i}:null!=o[e]?s.data={X:nt.Hw,i:u,UG:[[i],[o[e]]]}:"kind"==e?s.data={X:nt.rS,i:u,de:wt.Lx.yc[i]}:console.log(t,e,i)}else if("TextItem"==t.kj){s.c=j.Jv;var f=(l=t.R).add.TySh,p=JSON.parse(JSON.stringify(f.Bd)),v=f.UC.clone(),d=dt.Fk(p),y=dt.Sr(p,0,d.length-2),g=!1;if("contents"==e)dt.bw(p,0,d.length-1),dt.el(p,0,i);else if("size"==e)y.hj.FontSize=null!=i.R?i.R:i,g=!0;else if("tracking"==e)y.hj.Tracking=null!=i.R?i.R:i,g=!0;else if("kind"==e){if(1==dt.gG(p)&&1==i){var m=new vt(p,n.TX.LS).re[0],w=m.KX[0].end,b=m.gY[w-1].end;dt.bw(p,0,d.length-1),dt.el(p,0,d.slice(0,b-1))}dt.kN(p,1-i)}else if("font"==e)dt.kP(y,i),g=!0;else if("color"==e)y.hj.FillColor.Values=i.R.slice(0),g=!0;else if("width"==e||"height"==e){var x=dt.BR(p).slice(0);"width"==e?x[2]=Math.round(x[0]+i):x[3]=Math.round(x[1]+i),dt.Yc(p,x)}else if("horizontalScale"==e||"verticalScale"==e){var M=1,S=1;"horizontalScale"==e?M=i/100:S=i/100;var A=new c;A.scale(M,S),A.concat(v),v=A}else console.log(t,e,i);g&&dt.zX(p,0,d.length-1,y),s.data={X:"newED",uG:h.b.indexOf(l),VA:p,UC:v}}else"Preferences"==t.kj?"rulerUnits"==e?5!=i&&console.log("only pixel units supported"):console.log(t,e,i):"RGBColor"==t.kj?"red"==e?t.R[1]=i/255:"green"==e?t.R[2]=i/255:"blue"==e?t.R[3]=i/255:console.log(t,e):console.log(t,e,i);null!=s.data&&n.N(s)},wt.Lx.Oh=function(t,e,i,n,r){var s=t.kj,a=null,h=new xt(bt.E.W,!0),o=new xt(bt.E.Y,!0),l=n.Ns(),u=n.tl;if("Application"==s)"open"==e&&(o.data={X:bt.m.UF,gg:{url:i[0]}},i[2]&&0!=u.length&&(o.data.gg.sN=u.indexOf(l)));else if("Document"==s){l=t.R;if("save"==e)o.data={X:bt.m.G_};else if("saveToOE"==e)o.data={X:bt.m.G_,dJ:i};else if("resizeImage"==e||"resizeCanvas"==e){var c=i[0],p=i[1];"number"!=typeof c&&(c=l.$*parseFloat(c.slice(0,c.length-1))/100,p=l.z*parseFloat(p.slice(0,p.length-1))/100),h.data={X:"resizeImage"==e?"imgsize":"canvsize",vg:Math.round(c),vF:Math.round(p),iP:i[2]},h.c=j.Wz}else if("paste"==e){var v=i[0];null==v&&(v=!1),o.data={X:bt.m.yT,trR:v}}else"close"==e?o.data={X:bt.m.bj,tx:l}:console.log(t,e,i)}else if("Layer"==s){var d=t.R,y=l.b.indexOf(d);if("copy"==e)o.data={X:bt.m.yL,DJ:y};else if("clear"==e)h.data={X:"clear",DJ:y},h.c=j.so;else if("duplicate"==e)0==i.length?(h.data={X:nt.nJ,i:y},h.c=j.uh,a={kj:"Layer",R:l.b[l.g[0]]}):"Document"==i[0].kj&&(h.data={X:nt.HS,b:l.HK(y),Ts:l,dN:i[0].R},h.c=j.uh);else if("convertToSO"==e)h.data={X:nt.Jj,i:y},h.c=j.uh,a={kj:"Layer",R:l.b[l.g[0]]};else if("merge"==e||"remove"==e)h.data={X:"merge"==e?nt.CM:nt.vN,i:y},h.c=j.uh,"remove"!=e&&(a={kj:"Layer",R:l.b[l.g[0]]});else if("move"==e)h.data={X:nt.TS,source:y,target:l.b.indexOf(i[0].R),tre:3!=i[1]},h.c=j.uh;else if("rotate"==e)h.data={X:"rot",_F:[2,5],R:-i[0]*Math.PI/180,iP:i[1],i:y},h.c=j._y;else if("resize"==e)h.data={X:"scl",_F:[2,4],R:new f(i[0]/100,i[1]/100),iP:i[2],i:y},h.c=j._y;else if("translate"==e){var g=wt.Lx.tGo(i);h.data={X:"trsl",i:y,ttQ:g[0],ttz:g[1]},h.c=j.Ft}else console.log(t,e,i)}else{if("Documents"==s){if("getByName"==e){for(var m=0;m<u.length;m++)if(u[m].name==i[0])return{kj:"Document",R:u[m]};return null}throw"e"}if("Layers"==s)if("getByName"==e){for(m=0;m<t.R.length;m++)if(t.R[m].R.getName()==i[0]){a=t.R[m];break}null==a&&(r.__throw={message:"No layer with a name "+i[0]})}else"add"==e?(h.data={X:nt.Hl},h.c=j.uh,n.N(h),h.data=null,a={kj:"Layer",R:l.b[l.g[0]]}):console.log(t,e,i);else if("Selection"==t.kj)if(h.c=j.sQ,"select"==e){var w=i[0],b={lX:["M"],Z:[w[0][0],w[0][1]]};for(m=1;m<w.length;m++)b.lX.push("L"),b.Z.push(w[m][0],w[m][1]);h.data={X:"polygon",_F:"Select area",EA:b}}else"copy"==e?o.data={X:bt.m.yL}:"deselect"==e?h.data={X:"deselect"}:console.log(t,e,i);else console.log(t,e,i)}return h.data&&n.N(h),o.data&&n.N(o),a},wt.Lx.tGn={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{CM:0,INCHES:1,MM:2,PERCENT:3,PICAS:4,PIXELS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2}},wt.Lx.yc="---- SoLd TySh SoCo GdFl PtFl".split(" ");var bt={bd:0,GW:function(){return bt.bd++,bt.bd},txH:"uint8",B:function(t,e){var i=document.createElement(t);return null!=e&&i.setAttribute("class",e),i},hk:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},wj:function(t,e){var i=t.getAttribute("class").split(" ");-1==i.indexOf(e)&&i.push(e),t.setAttribute("class",i.join(" "))},cd:function(t,e){var i=t.getAttribute("class");null!=i&&(-1!=(i=i.split(" ")).indexOf(e)&&i.splice(i.indexOf(e),1),t.setAttribute("class",i.join(" ")))}};bt.ZN=document,bt.N_=function(t){for(var e=0,i=0;i<t;i++)e+=Math.random();return e/t<Math.PI/4},bt.ci=function(t,e){var i="";bt.N_(29)||(e-=4);for(var n=0;n<t.length;n++)i+=String.fromCharCode(t.charCodeAt(n)-e-n);return i},bt.FM=function(t,e){var i="";bt.N_(29)||(e+=4);for(var n=0;n<t.length;n++)i+=String.fromCharCode(t.charCodeAt(n)+e+n);return i},bt.Br=function(t,e){var i="";bt.N_(29)||(e+=3);for(var n=0;n<t.length;n++)i+=String.fromCharCode((256<<16)+t.charCodeAt(n)+e*n&255);return i},bt.hd=function(t){var e=Math.random();return bt.txH="uint"+(3+e),new t},bt.bG=0,bt.bM=function(t,e){var i=0;return Date.now()-bt.bG>1e3?i=0==e?100:10*e:(t%10!=0&&(t*=10),i=(t+e)%100),bt.bG=Date.now(),i},bt.oA=function(t,e){window.PointerEvent?t.addEventListener("pointerdown",e,!1):(t.addEventListener("mousedown",e,!1),t.addEventListener("touchstart",e,!1))},bt.ny=function(t,e){window.PointerEvent?t.addEventListener("pointermove",e,!1):(t.addEventListener("mousemove",e,!1),t.addEventListener("touchmove",e,!1))},bt.nL=function(t,e){window.PointerEvent?t.addEventListener("pointerup",e,!1):(t.addEventListener("mouseup",e,!1),t.addEventListener("touchend",e,!1))},bt.tDf=function(t,e){window.PointerEvent?t.removeEventListener("pointerdown",e,!1):(t.removeEventListener("mousedown",e,!1),t.removeEventListener("touchstart",e,!1))},bt.vD=function(t,e){window.PointerEvent?t.removeEventListener("pointermove",e,!1):(t.removeEventListener("mousemove",e,!1),t.removeEventListener("touchmove",e,!1))},bt.cQ=function(t,e){window.PointerEvent?t.removeEventListener("pointerup",e,!1):(t.removeEventListener("mouseup",e,!1),t.removeEventListener("touchend",e,!1))},bt.FW=function(t){t.addEventListener("touchstart",bt.qX,!1),t.addEventListener("touchmove",bt.qX,!1),t.addEventListener("touchend",bt.qX,!1)},bt.UZ=function(t,e,i,n){var r=bt.h();t.width=Math.floor(e*r),t.height=Math.floor(i*r),t.style.width=t.width/r+"px",t.style.height=t.height/r+"px",n&&n.setTransform(r,0,0,r,0,0)},bt.gx=function(t,e,i){t.setAttribute("style","width:"+e/bt.h()+"px; height:"+i/bt.h()+"px")},bt.qF=function(t,e){null==e&&(e=t.currentTarget);var i=e.getBoundingClientRect();return t.touches&&(t=t.touches.item(0)),{x:t.clientX-i.left,y:t.clientY-i.top}},bt.h=function(t){return window.devicePixelRatio||1},bt.qX=function(t){t.preventDefault()},bt.IX=function(t){var e=64/bt.h();bt.h();return"url("+t+") 64 64, auto; cursor: -webkit-image-set( url("+t+") "+bt.h()+"x  ) "+e+" "+e+", auto;"},bt.Ur=function(t,e,i){return i=i||"",null==PIMG["__"+t]&&(i+=" gsicon"),'<img src="'+PIMG[t]+'" alt="'+(e||"")+'" class="'+i+'" />'},bt.bg=function(t,e,i,n){var r,s=t.dataTransfer.getData("text/uri-list");null!=s&&s.startsWith("http")&&((r=new xt(bt.E.Y,!0)).data={X:bt.m.UF,gg:{url:s,Go:!0,sN:i,vB:n}},e.N(r));0!=t.dataTransfer.files.length&&((r=new xt(bt.E.Y,!0)).data={X:bt.m.bi,data:t.dataTransfer.files,sN:i,vB:n},e.N(r))};var xt=function(t,e){e||(e=!1),this.type=t,this.target=null,this.currentTarget=null,this.bubbles=e,this.c=null,this.MI=!1};bt.E={W:"0",Y:"1",p:"2",pH:"3",ba:"4",Gn:"5"},bt.m={BC:"10",Fe:"11",Il:"12",BG:"13",gM:"14",bS:"14.1",UF:"15",pD:"16",Bx:"17",bv:"18",G_:"19",bh:"20",Bv:"21",yL:"22",Bo:"22.5",yT:"23",yP:"24",gI:"25",IA:"26",pL:"27",Bn:"28",bW:"28.5",bq:"29",bi:"30",mG:"31",bo:"32",q$:"33",nv:"34",u_:"35",yQ:"37",bX:"38",bQ:"39",bl:"40",Bl:"41",bf:"42",Ie:"43",bj:"44",bK:"45",bY:"46"};var Mt={};function St(){t.call(this),this.parent=null,this.J=null,this.JX=0,this.ht=0}function At(t){St.call(this),this.GO=null,this.trV=this.Ub.bind(this),this.tr$=this.Bz.bind(this),this.trD=this.txC.bind(this),this.trc=this.bZ.bind(this),this.EA=[],this.Aj=[],this.JF=[],this.dH=[],this.J=bt.B("div","contextpanel"),this.J.addEventListener("contextmenu",bt.qX,!1),this.Tj=null,this.Jm=0,this.tra=t,this.$I=[];for(var e=0;e<t.length;e++){var i=bt.B("div","enab");if(this.Aj.push(i),this.J.appendChild(i),t[e].kg){var r=bt.B("img","thumb");r.setAttribute("src",PIMG[t[e].kg]),i.appendChild(r)}else{var s=bt.B("span","check");this.dH.push(s),i.appendChild(s)}var a=bt.B("span","label");if(a.innerHTML="string"==typeof t[e].name?t[e].name:n.get(t[e].name),i.appendChild(a),this.JF.push(a),t[e].title&&(i.title=t[e].title),t[e].wN&&this.J.appendChild(bt.B("hr")),t[e].Vo||t[e].sub){var h=bt.B("span","right");i.appendChild(h),t[e].Vo&&(h.innerHTML=t[e].Vo),t[e].sub&&(h.innerHTML="▶")}if(i.addEventListener("click",this.trV,!1),i.addEventListener("mouseover",this.tr$,!0),i.addEventListener("mouseout",this.trD,!0),t[e].sub){var o=new At(t[e].sub);o.parent=this,this.$I.push(o),o.O("select",this.txh,this)}else this.$I.push(null)}}function kt(t,e,i,n,r,s,a){St.call(this),this.J=bt.B("span","fitem");var h=bt.GW();this.Do=t,this.oG=e,this.uA=i,this.Js=null,n instanceof Array&&(this.Js=n,n=n[0]),this.r$=n,this.Ey=r,this.trX=s,this.Gf=a,this.qn=0,this.TC=bt.B("label","flabel"),this.TC.innerHTML=t,this.TC.setAttribute("for",h),this.TC.setAttribute("style","cursor:col-resize;"),this.Nz=bt.B("input",""),this.Nz.setAttribute("type","range"),a?(this.Nz.min=0,this.Nz.max=400):(this.Nz.min=e,this.Nz.max=i,0!=r&&(this.Nz.step=(i-e)/200)),this.IT=bt.B("input",""),this.IT.setAttribute("type","text"),this.IT.setAttribute("id",h),this.to=bt.B("span",""),this.to.innerHTML=n,this.IT.addEventListener("change",this.cp.bind(this),!1),this.IT.addEventListener("keydown",this.BZ.bind(this),!1),this.IT.addEventListener("wheel",this.Dg.bind(this),!1),this.Nz.addEventListener("input",this.cp.bind(this),!1),this.Nz.addEventListener("click",this.tRD.bind(this),!1),this.trA=this.tRO.bind(this),this.dw=this.tRK.bind(this),this.dI=this.tRY.bind(this),this.Gj=0,this.GB=0,bt.oA(this.TC,this.trA)}function Ct(t,e){St.call(this),this.UT=[],this.Os=-1,this.tHr=t,e&&(this.lt=[{name:[5,4]}],this.TA=new At(this.lt),this.TA.parent=this,this.TA.O("select",this.aQ,this)),this.J=bt.B("div","imageset scrollable"),this.J.addEventListener("contextmenu",bt.qX,!1)}function Tt(t,e,i,r,s,a,h){if(St.call(this),this.J=bt.B("span","fitem "+i),this.aC=new St,this.aC.J=bt.B("div","floatcont"),this.aC.J.setAttribute("style","width: "+(r+1.5)+"em;"),this.aC.parent=this,this.rJ=bt.B("div"),this.aC.J.appendChild(this.rJ),this.xI=bt.B("div"),this.aC.J.appendChild(this.xI),t&&(this.Do=t,this.TC=bt.B("label","flabel"),this.J.appendChild(this.TC)),this.X=bt.B("button",h?"nopadding":""),this.X.setAttribute("style","position:relative;"),this.X.addEventListener("click",(e?this.zI:this.Fu).bind(this),!1),this.J.appendChild(this.X),this.Fx=bt.B("img",h?"gsicon":""),this.X.appendChild(this.Fx),e){var o=bt.B("button");o.textContent="▼",o.addEventListener("click",this.Fu.bind(this),!1),this.J.appendChild(o)}else{var l=bt.B("span");l.textContent="▼",l.setAttribute("style","position:absolute;  bottom:2px;  right:4px;"),this.X.appendChild(l)}var u=bt.B("span");this.xI.appendChild(u),u.setAttribute("style","display:inline-block;  vertical-align:top; width:"+r+"em;"),this.ut=new Ct(h,!0),u.appendChild(this.ut.J),this.ut.parent=this.aC,this.ut.O(bt.E.p,this.tRb,this),this.ut.O("del",this.tRu,this),this.ut.J.style.height=s+"em",this.rH=bt.B("button"),this.rH.textContent="▼",this.rH.addEventListener("click",this.tR_.bind(this),!1),this.xI.appendChild(this.rH);var f=a!=Q.fd&&a!=Q.Sl?a:null,c=null==a?"":Q.qC[a][0].toUpperCase();this.lt=f?[{name:[12,87]}]:[],this.lt=this.lt.concat([{name:"",V:function(t){return{cg:n.get([1,0])+" ."+c}}},{name:"",V:function(t){return{cg:n.get([1,8])+" ."+c}}}]),this.TA=new At(this.lt),this.TA.parent=this.aC,this.TA.O("select",this.aQ,this),this.dD=a,this.dL=f,this.TM=null,this.ia=!0,this.M$=null}function Ut(t){St.call(this),this.PQ=0,this.alt=0;var e="ai"+bt.GW();this.J=bt.B("span","fitem angleinput"),t&&(this.TC=bt.B("label","flabel"),this.Do=t,this.J.appendChild(this.TC),this.TC.setAttribute("for",e)),this.eH=20,this.rP=bt.B("canvas","gsicon"),this._m=this.rP.getContext("2d"),bt.UZ(this.rP,2*this.eH+1,2*this.eH+1,this._m),this.J.appendChild(this.rP),bt.oA(this.rP,this.uB.bind(this)),this.tQ=this.Ll.bind(this),this.tO=this.uZ.bind(this),this.IT=bt.B("input",""),this.IT.setAttribute("type","text"),this.J.appendChild(this.IT),this.IT.setAttribute("id",e),this.IT.addEventListener("change",this.cp.bind(this),!1),this.to=bt.B("span",""),this.to.innerHTML="°",this.J.appendChild(this.to),this.Q(this.PQ,this.alt)}function _t(t){St.call(this),this.$$=0,this.J=bt.B("span","fitem angleinput"),t&&(this.TC=bt.B("label","flabel"),this.Do=t,this.J.appendChild(this.TC)),this.rP=bt.B("canvas","gsicon"),this._m=this.rP.getContext("2d"),bt.UZ(this.rP,41,41),this.J.appendChild(this.rP),bt.oA(this.rP,this.uB.bind(this)),this.tQ=this.Ll.bind(this),this.tO=this.uZ.bind(this),this.Q(0)}function Ft(t){Tt.call(this,t,!1,"brushbutton nopadding",16.6,10,Q.Tz,!0),this.EC=new re([12,14],1,1e3," px",0,!0),this.EC.O(bt.E.p,this.bN,this),this.rJ.appendChild(this.EC.J),this.lV=new re([12,17],0,100,"%"),this.lV.O(bt.E.p,this.bN,this),this.rJ.appendChild(this.lV.J)}function Ot(t,e,i,n){St.call(this),this.J=bt.B("button","fitem"+(e?" spread":"")+(n?" bbtn":"")),this.Do=t,this.EG=i,this.w(),this.J.addEventListener("click",this.xa.bind(this),!1),null!=i&&this.J.setAttribute("title",i)}function Lt(t){St.call(this),this.rw=!1,this.Fa={T:0,q:0,H:0},this.Ga=t,this.J=bt.B("span","fitem colorsample"),this.J.addEventListener("click",this.xa.bind(this),!1)}function Dt(t){St.call(this),this.J=bt.B("span","fitem cswatch"),this.dC=0,this.qb=[],this.$G=[];for(var e=this.ttU.bind(this),i=0;i<t;i++){this.qb.push(0);var n=bt.B("span","colorsample");n.addEventListener("click",e,!1),this.$G.push(n),this.J.appendChild(n)}var r=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],s=Math.min(t,r.length);for(i=0;i<s;i++)this.qb[i]=r[i];this.TE()}function Nt(t){Tt.call(this,t,!0,"contourbutton",17,10.5,Q.J$)}function It(t){St.call(this),this.qs=null,this.Sn=null,this.$c=null,this.xy=null,this.dT=[],this.dd=[],this.J=bt.B("span","fitem fillbutton"),this.aC=new St,this.aC.J=bt.B("div","floatcont form"),this.aC.J.setAttribute("style","width: 21em;"),this.aC.parent=this,this.TB=t,this.TC=this.TC=bt.B("label","flabel"),this.J.appendChild(this.TC),this.rP=bt.B("canvas"),this._m=this.rP.getContext("2d"),this.dG=null,this.J.appendChild(this.rP),this.rP.addEventListener("click",this.Fu.bind(this),!1),this.rL=new Bt([12,66],["","Color","Grad","Patt"]),this.aC.J.appendChild(this.rL.J),this.rL.O(bt.E.p,this.pw,this),this.aC.J.appendChild(bt.B("hr")),this.tHn=bt.B("span"),this.sb=new Lt(!0),this.sb.parent=this.aC,this.sb.O(bt.E.p,this.pw,this),this.xD=new Dt(10),this.xD.O(bt.E.p,this.pw,this),this.lP=bt.B("div","marged hiline"),this.lP.appendChild(this.sb.J),this.lP.appendChild(bt.B("br")),this.lP.appendChild(this.xD.J),this.uE=new ke("GrFl",!0),this.uE.parent=this.aC,this.uE.O(bt.E.p,this.pw,this),this.EM=bt.B("div","marged hiline");for(var e="Grad Type Algn Angl Rvrs Scl Ofst".split(" "),i=0;i<e.length;i++){var n=this.uE.Ju[e[i]].J;this.EM.appendChild(n)}this.uo=new ke("patternFill",!0),this.uo.parent=this.aC,this.uo.O(bt.E.p,this.pw,this),this.Eg=bt.B("div","marged hiline");for(e=["Ptrn","Scl","Algn","phase"],i=0;i<e.length;i++){n=this.uo.Ju[e[i]].J;this.Eg.appendChild(n)}}function Et(t){Tt.call(this,t,!1,"patternbutton",18,10,Q.Sd)}function Pt(t){Tt.call(this,t,!1,"patternbutton",24.2,17,Q.fd)}function Jt(t,e){St.call(this),this.J=bt.B("span","fitem curveeditor"),this.mode=0,this.xc=t,this.tHl=e,this.hc=null,this.Ko=null,this.yd=new f,this.t_=this.Ll.bind(this),this.Vt=this.uZ.bind(this),this.rP=bt.B("canvas",""),this._m=this.rP.getContext("2d"),bt.FW(this.rP),bt.UZ(this.rP,256,256,this._m),this.J.appendChild(this.rP),bt.oA(this.rP,this.uB.bind(this))}function Bt(t,e){St.call(this),e&&(this.Os=0,this.J=bt.B("span","fitem bbmenu"),t&&(this.Do=t,this.TC=bt.B("label","flabel"),this.TC.textContent=t+":",this.J.appendChild(this.TC)),this.Fr=[],this.Ev=null,this.ea(e),this.Q(0))}function Xt(t,e,i,n){if(St.call(this),e){null==i&&(i=!1),this.Os=0,this.twt=i,this.Do=t,this.xL=null,this.dx=n;var r="dd"+bt.GW();this.J=bt.B("span","fitem ddmenu"),t&&!i&&(this.TC=bt.B("label","flabel"),this.J.appendChild(this.TC),this.TC.setAttribute("for",r)),this.GX=bt.B("select","bbtn"),this.GX.setAttribute("id",r),this.J.appendChild(this.GX),this.GX.addEventListener("change",this.cp.bind(this),!1),this.Fr=[],this.Ev=null,this.ea(e,n),this.w()}}function zt(){St.call(this),this.le=null,this.li=new $t,this.li.O(bt.E.p,this.tVH,this),this.li.parent=this,this.lm=new Wt([12,14],1,500,"px",0,!0),this.lm.O(bt.E.p,this.tVd,this),this.lm.parent=this,this.fJ=new ne([16,0]," px",3),this.fJ.O(bt.E.p,this.Py,this),this.jc=new Wt([16,1],-500,5e3,"%",0,!0),this.jc.O(bt.E.p,this.Py,this),this.jc.parent=this,this.EB=new Wt("V-scal",0,300,"%"),this.EB.O(bt.E.p,this.Py,this),this.EB.parent=this,this.Ez=new Wt("H-scal",0,300,"%"),this.Ez.O(bt.E.p,this.Py,this),this.Ez.parent=this,this.pc=new Wt([16,2],-10,10,"px"),this.pc.O(bt.E.p,this.Py,this),this.pc.parent=this,this.jO=new Lt(!0),this.jO.O(bt.E.p,this.tVj,this),this.jO.parent=this,this.xC=new Ot('<img src="'+PIMG["type/italic"]+'" class="autoscale gsicon" />'),this.xG=new Ot('<img src="'+PIMG["type/caps"]+'" class="autoscale gsicon" />'),this.xM=new Ot('<img src="'+PIMG["type/scaps"]+'" class="autoscale gsicon" />'),this.xg=new Ot('<img src="'+PIMG["type/sub"]+'" class="autoscale gsicon" />'),this.xS=new Ot('<img src="'+PIMG["type/sup"]+'" class="autoscale gsicon" />'),this.xE=new Ot('<img src="'+PIMG["type/under"]+'" class="autoscale gsicon" />'),this.xW=new Ot('<img src="'+PIMG["type/strike"]+'" class="autoscale gsicon" />');for(var t=[this.xC,this.xG,this.xM,this.xg,this.xS,this.xE,this.xW],e=0;e<t.length;e++)t[e].O("click",this.ttu,this);this.rT=new Ot('<img src="'+PIMG["par/left"]+'" class="autoscale gsicon" />'),this.rW=new Ot('<img src="'+PIMG["par/right"]+'" class="autoscale gsicon" />'),this.rm=new Ot('<img src="'+PIMG["par/center"]+'" class="autoscale gsicon" />'),this.dM=new Ot('<img src="'+PIMG["par/jleft"]+'" class="autoscale gsicon" />'),this.dg=new Ot('<img src="'+PIMG["par/jright"]+'" class="autoscale gsicon" />'),this.da=new Ot('<img src="'+PIMG["par/jcenter"]+'" class="autoscale gsicon" />'),this.dS=new Ot('<img src="'+PIMG["par/jall"]+'" class="autoscale gsicon" />'),this.px=[this.rT,this.rW,this.rm,this.dM,this.dg,this.da,this.dS];for(e=0;e<this.px.length;e++)this.px[e].O("click",this.Py,this);var i=["lind","rind","flind","bind","aind"],n=[];for(e=0;e<5;e++)n.push('<img src="'+PIMG["par/"+i[e]]+'" class="autoscale gsicon" /> ');this.EZ=new Wt(n[0],-20,20,"px"),this.EZ.O(bt.E.p,this.Py,this),this.EZ.parent=this,this.EU=new Wt(n[1],-20,20,"px"),this.EU.O(bt.E.p,this.Py,this),this.EU.parent=this,this.Em=new Wt(n[2],-20,20,"px"),this.Em.O(bt.E.p,this.Py,this),this.Em.parent=this,this.h$=new Wt(n[3],-20,20,"px"),this.h$.O(bt.E.p,this.Py,this),this.h$.parent=this,this.ha=new Wt(n[4],-20,20,"px"),this.ha.O(bt.E.p,this.Py,this),this.ha.parent=this,this.pv=new Bt([12,33],["Abc ...","... أي بي"]),this.pv.O(bt.E.p,this.Py,this),this.pv.parent=this}function $t(){St.call(this),this.J=bt.B("span","fontinput"),this.FQ=null,this.rs=null,this.jk=null,this.pW=[],this.pi=[],this.po="",this.UT={},this.dW={},this.r_=!1,this.Kt=bt.B("button","fitem"),this.Kt.setAttribute("style","width:9em;"),this.Kt.textContent="Family Name ▼",this.J.appendChild(this.Kt),this.Kt.addEventListener("mousedown",this.By.bind(this),!1),this.pQ=new St,this.pQ.J=bt.B("div","floatcont");var t=bt.B("div","flexrow");this.pQ.J.appendChild(t);var e=bt.B("div",""),i=bt.B("div","");t.appendChild(e),t.appendChild(i),this.BX=[];for(var n=0;n<FNTS.cats.length;n++)this.BX.push({name:FNTS.cats[n],index:n,NA:0});for(n=0;n<FNTS.list.length;n++)this.BX[FNTS.list[n][4]].NA++;this.BX.sort((function(t,e){return e.NA-t.NA})),this.HR=new qt([7,0]),this.HR.O(bt.E.p,this.t$u,this),e.appendChild(this.HR.J),this.H$=bt.B("div","vlist marged scrollable"),this.H$.setAttribute("style","width:10em; height:6.8em; "),e.appendChild(this.H$),this.HI=[];for(n=0;n<this.BX.length;n++){var r=new qt(this.BX[n].name);this.HI.push(r),r.O(bt.E.p,this.tJB,this),r.Q(!0),this.H$.appendChild(r.J),this.pW.push(1)}this.Hy=new qt([7,0]),this.Hy.O(bt.E.p,this.tJr,this),i.appendChild(this.Hy.J),this.HP=bt.B("div","vlist marged scrollable"),this.HP.setAttribute("style","width:10em; height:6.8em; "),i.appendChild(this.HP),this.Hx=[];for(n=0;n<FNTS.subsetNames.length;n++){r=new qt(FNTS.subsetNames[n]);this.Hx.push(r),r.O(bt.E.p,this.trt,this),r.Q(!1),this.HP.appendChild(r.J),this.pi.push(0)}var s=bt.B("div","form");this.pQ.J.appendChild(s),this.pf=new Ot(bt.Ur("tools/cshape",null,"autoscale"),!1,"Show Favorites Only"),this.pf.O("click",this.t$O,this),s.appendChild(this.pf.J),this.Gb=new ne([12,86],null,9),this.Gb.O("input",this.zL,this),s.appendChild(this.Gb.J);var a=new Ot("Load Font",!1,"Load OTF / TTF file from your computer",!0);a.O("click",this.t$c,this),a.J.style.marginLeft="1.5em",s.appendChild(a.J),this.xp=bt.B("span","fitem imageset scrollable marged"),this.xp.style.height="30em",this.pQ.J.appendChild(this.xp),this.pj=bt.B("button","fitem"),this.pj.setAttribute("style","width:6em;"),this.pj.textContent="SubFamily Name ▼",this.J.appendChild(this.pj),this.pj.addEventListener("mousedown",this.By.bind(this),!1),this.xi=new St,this.xi.J=bt.B("div","floatcont"),this.HM=bt.B("span","fitem imageset scrollable marged"),this.xi.J.appendChild(this.HM)}function Vt(t,e,i){Tt.call(this,e,!0,"gradientbutton",18,10,Q.wB),this.AF=-1,this.ze=-1,this.dq=null,this.tww=t,this.Ga=i}function Rt(t){Tt.call(this,t,!1,"swatchbutton",16,8.75,Q.Jr)}function qt(t,e,i){St.call(this),this.J=bt.B("span","fitem cbox"),null==e&&(e=!0),null==i&&(i="flabel");var n="cb"+bt.GW();this.IT=bt.B("input",""),this.IT.setAttribute("type","checkbox"),this.IT.setAttribute("id",n),this.J.appendChild(this.IT),this.Do=t,this.TC=bt.B("label",i),e&&this.TC.setAttribute("for",n),this.J.appendChild(this.TC),this.w(),this.IT.addEventListener("change",this.cp.bind(this),!1)}function Ht(t,e){St.call(this),this.J=bt.B("span","fitem mbox"),t&&(this.Do=t,this.TC=bt.B("label","flabel"),this.J.appendChild(this.TC));var i=this.cp.bind(this);this.Ph=e,this.Dw=[],this.dp=[];for(var n=0;n<e.length;n++){var r="mb"+bt.GW(),s=bt.B("input","");this.Dw.push(s),s.setAttribute("type","checkbox"),s.setAttribute("id",r),s.addEventListener("change",i,!1),this.J.appendChild(s);var a=bt.B("label","flabel");this.dp.push(a),a.setAttribute("for",r),this.J.appendChild(a)}this.w()}function jt(t,e,i,n,r,s){kt.call(this,t,e,i,n,r,!1,s),this.J.appendChild(this.TC);var a=bt.B("span","rangecont");this.J.appendChild(a),a.appendChild(this.Nz),this.J.appendChild(this.IT),this.IT.setAttribute("style","width:3.3em"),this.J.appendChild(this.to)}function Gt(t,e,i){null==t&&(t=!1),null==e&&(e=!1),null==i&&(i=!1),St.call(this),this.TF=new f,this.ew=new f,this.twy=72,this.hv=72,this.J=bt.B("span",""),this.fQ=new Wt([12,41],0,0,null,0,!1,!0),this.J.appendChild(this.fQ.J),this.fQ.O(bt.E.p,this.pw,this);var n=["px","%"];t&&(n=n.concat(["mm","in"])),this.pb=new Xt(null,n),this.J.appendChild(this.pb.J),this.pb.O(bt.E.p,this.pw,this),this.ET=new Wt([12,42],0,0,null,0,!1,!0),this.J.appendChild(this.ET.J),this.ET.O(bt.E.p,this.pw,this);var r=new Ot("⇵",!1,null,!0);r.O("click",this.trN,this),this.J.appendChild(r.J),this.hh=new ne("DPI","Px / Inch",5),t&&this.J.appendChild(this.hh.J),this.hh.O(bt.E.p,this.pw,this),this.hi=new qt("Relative"),this.hi.O(bt.E.p,this.pw,this),i&&(this.J.appendChild(bt.B("br")),this.J.appendChild(this.hi.J)),this.pm=new qt([12,51]),this.pm.O(bt.E.p,this.pw,this),this.di=new Kt("Ratio: "),this.J.appendChild(bt.B("br")),e&&(this.J.appendChild(this.pm.J),this.J.appendChild(this.di.J),this.pm.PT())}function Yt(){St.call(this),this.Hg=0,this.twp=[0,0,1,1,100,100],this.J=bt.B("span","fitem"),this.hu=new Xt(null,[[12,89,0],[12,89,1],[12,89,2]]),this.J.appendChild(this.hu.J),this.hu.O(bt.E.p,this.pw,this),this.fQ=new ne("W",null,3),this.fQ.Q(0),this.J.appendChild(this.fQ.J),this.fQ.O(bt.E.p,this.pw,this),this.ET=new ne("H",null,3),this.ET.Q(0),this.J.appendChild(this.ET.J),this.ET.O(bt.E.p,this.pw,this),this.Q({yC:0,x:0,y:0})}function Kt(t,e){St.call(this),this.Do=t,this.J=bt.B("span","labelitem fitem"+(e?" spread":"")),this.w()}function Qt(t){St.call(this),this.J=bt.B("span",""),this.dX=t,this.K$=new jt("Off X",-100,100,t?"%":"px",0,!1),this.Yt=new jt("Off Y",-100,100,t?"%":"px",0,!1),this.K$.O(bt.E.p,this.pw,this),this.Yt.O(bt.E.p,this.pw,this),this.J.appendChild(this.K$.J),this.J.appendChild(this.Yt.J)}function Wt(t,e,i,n,r,s,a){kt.call(this,t,e,i,n,r,!0,s),bt.wj(this.J,"rangedropinput"),this.J.appendChild(this.TC),this.IT.setAttribute("style","width:3.3em"),this.J.appendChild(this.IT),this.dQ=bt.B("span","rangecont"),this.dQ.appendChild(this.Nz),this.Hh=bt.B("button"),this.Hh.innerHTML="▼",this.Hh.addEventListener("click",this.tHE.bind(this),!1),1!=a&&this.J.appendChild(this.Hh),this.VV=new St,this.VV.J=this.dQ}function Zt(){St.call(this),this.J=bt.B("span","fitem strokebutton"),this.dO=[{strokeStyleLineDashSet:{t:"VlLs",v:[]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:4}},{t:"UntF",v:{type:"#Nne",val:2}}]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleRoundCap"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:0}},{t:"UntF",v:{type:"#Nne",val:2}}]}}],this.Hp=null,this.hO=bt.B("button"),this.J.appendChild(this.hO),this.hO.addEventListener("click",this.Fu.bind(this),!1);var t=bt.B("canvas","gsicon");bt.UZ(t,40,16),this._m=t.getContext("2d"),this.hO.appendChild(t);var e=bt.B("span");e.textContent=" ▼",this.hO.appendChild(e),this.aC=new St,this.aC.J=bt.B("div","floatcont form"),this.aC.J.setAttribute("style","width: 12em;"),this.aC.parent=this,this.UT=[new Xt([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new Xt("Caps",["Butt","Round","Square"]),new Xt("Corners",["Miter","Round","Bevel"]),new ne("Gaps")];for(var i=0;i<this.dO.length;i++)this.UT.push(new Ot(["Full","Dash","Dots"][i]));for(i=0;i<this.UT.length;i++){var n=this.UT[i];this.aC.J.appendChild(n.J);var r=i<4?bt.E.p:"click";n.O(r,this.pw,this),3==i&&this.aC.J.appendChild(bt.B("br"))}}function te(t){Tt.call(this,t,!1,"contourbutton",34,16,Q.Sl),this.Gb=new ne([12,86],null,16),this.Gb.O("input",this.zL,this),this.aC.J.appendChild(this.Gb.J),this.HX=null,this.po="",this.VP=null}function ee(){St.call(this),this.oE=null,this.J=bt.B("span","fitem"),this.xo=new It([14,9]),this.HB=new Wt([12,14],0,150,"pt",1,!0),this.ws=new Zt,this.xY=[this.xo,this.HB,this.ws];for(var t=0;t<this.xY.length;t++){var e=this.xY[t];this.J.appendChild(e.J),e.parent=this,e.O(bt.E.p,this.pw,this)}}function ie(t,e){St.call(this),this.J=bt.B("span","fitem"),this.hB=["front","union","difference","intersection","xor"],this.tyI=[[18,0],[18,1],[18,2],[18,3],[18,4]],this.Aj=[],this.Hm=0;for(var i=0;i<this.hB.length;i++){var n=new Ot('<img src="'+PIMG["set/"+this.hB[i]]+'" class="autoscale gsicon" />',!1);n.O("click",this.tHo,this),this.J.appendChild(n.J),this.Aj.push(n)}this.Aj[0].PT()}function ne(t,e,i){St.call(this);var n=bt.GW();this.J=bt.B("span","fitem tinput"),t&&(this.Do=t,this.TC=bt.B("label","flabel"),this.J.appendChild(this.TC),this.TC.setAttribute("for",n),this.w()),this.IT=bt.B("input",""),this.IT.setAttribute("type","text"),this.IT.setAttribute("id",n),i&&this.IT.setAttribute("style","width:"+i+"em"),this.J.appendChild(this.IT),e&&(this.to=bt.B("span",""),this.to.textContent=e,this.J.appendChild(this.to)),this.IT.addEventListener("change",this.cp.bind(this),!1),this.IT.addEventListener("input",this.twr.bind(this),!1)}function re(t,e,i,n,r,s){kt.call(this,t,e,i,n,r,!0,s),bt.wj(this.J,"trangeinput"),this.J.appendChild(this.TC),this.J.appendChild(this.IT);var a=bt.B("span","rangecont");this.J.appendChild(a),a.appendChild(this.Nz),this.Nz.setAttribute("style","width:97%;")}function se(){St.call(this),this.Ae={GS:20,Gh:!0},this.J=bt.B("span",""),this.p_=new Wt([12,24],0,255),this.p_.Q(10),this.J.appendChild(this.p_.J),this.p_.O(bt.E.p,this.pw,this),this.hZ=new qt([12,25]),this.hZ.PT(),this.J.appendChild(this.hZ.J),this.hZ.O(bt.E.p,this.pw,this)}function ae(t,e){for(var i in St.call(this),null==e&&(e=!1),this.VP=[],this.WT=0,this.WO=[],this.ln=[],a.UB.type)("warpCustom"!=i||e)&&(this.WO.push(i),this.ln.push(a.UB.type[i]));this.J=bt.B("span","fitem warpbutton"),this.aC=new St,this.aC.J=bt.B("div","floatcont"),this.aC.J.setAttribute("style","width: 10em;"),t&&(this.TC=bt.B("label","flabel"),this.TC.innerHTML=t,this.J.appendChild(this.TC)),this.X=bt.B("button"),this.J.appendChild(this.X),this.X.addEventListener("click",this.Fu.bind(this),!1),this.xm=new Ct(!0),this.aC.J.appendChild(this.xm.J),this.xm.O(bt.E.p,this.twC,this),this.w()}function he(t,e,i){St.call(this),null==t&&(t=!1),null==e&&(e=!1),null==i&&(i=!1),this.twN=e,this.UB=null,this.Me=new ae("Style:",i),this.Me.parent=this,this.Me.O(bt.E.p,this.Id,this),this.VG=new Xt("Orientation:",["Horizontal","Vertical"]),this.VG.O(bt.E.p,this.Id,this);var n=t?Wt:re;this.$j=new n("Bend:",-100,100,"%"),this.$N=new n("Horizontal Distortion:",-100,100,"%"),this.Jf=new n("Vertical Distortion:",-100,100,"%"),this.$j.parent=this.$N.parent=this.Jf.parent=this,this.$j.O(bt.E.p,this.Id,this),this.$N.O(bt.E.p,this.Id,this),this.Jf.O(bt.E.p,this.Id,this)}function oe(t){St.call(this),this.J=bt.B("div"),this.Hu=t,this.WY=!1,this.Md=new f(0,0),this.oH="grab; cursor:-moz-grab; cursor:-webkit-grab;",this.J.setAttribute("style","cursor:"+this.oH),this.lZ=bt.B("canvas","canv"),this.J.appendChild(this.lZ),this._m=this.lZ.getContext("2d"),this.MG=null,this.dU=null,this.wV=null,this.rj=0,this.twF=this.Bq.bind(this),this.dn=null,this.ck=null,this.n=new ht({$:1,z:1}),this.i$=null,this.yo=null,this.twm=this.nZ.bind(this),this.dl=this.fI.bind(this),this.df=this.Ub.bind(this),this.tws=this.Dg.bind(this),this.qr=0,this.Mx=null,this.Bh(this.lZ),this.zj(this)}function le(){St.call(this),this.J=bt.B("span","fitem"),this.$$=!1,this.wy=new Ot("No",!1,"Cancel"),this.Di=new Ot("Yes",!1,"Confirm"),this.J.appendChild(this.wy.J),this.J.appendChild(this.Di.J),this.wy.O("click",this.ki,this),this.Di.O("click",this.ki,this),this.w()}function ue(){St.call(this),this.J=bt.B("div")}function fe(t){St.call(this),this.tIc=t,this.J=bt.B("div",""),this.Fq=[]}function ce(t,e){St.call(this),this.id=e,this.pN=t,this.wW=null,this.J=bt.B("div","window "+e),this.Mt=bt.B("div","head"),this.J.appendChild(this.Mt),this.tIQ=this.tIv.bind(this),this.dA=this.tIh.bind(this),this.GV=this.ty$.bind(this),bt.FW(this.Mt),bt.oA(this.Mt,this.tIQ),this.wo=bt.B("span","cross"),ce.prototype.w.call(this),bt.nL(this.wo,this.BB.bind(this)),this.body=bt.B("div","body"),this.J.appendChild(this.body)}function pe(){ce.call(this,[0,13,0],"account"),this.AA=bt.B("div","form padded scrollable"),this.AA.setAttribute("style","max-width:42em;  max-height:33em;"),this.body.appendChild(this.AA),this.ii=[new pe.vS,new pe.xj];for(var t=0;t<this.ii.length;t++)this.ii[t].parent=this;this.O("showpage",this.tyH,this)}function ve(t){ce.call(this,tt.names[t],"adjust_"+t),this.qd=t,this.wZ=null,this.AA=bt.B("div","form"),this.AA.setAttribute("style","width:24em"),this.body.appendChild(this.AA),this.uW=new ue[t],this.uW.O(bt.E.p,this.Id,this),this.AA.appendChild(this.uW.J),this.uW.parent=this,this.Di=new Ot("OK",!0,null,!0),this.Di.O("click",this.wS,this),this.AA.appendChild(this.Di.J),this.O("closebtn",this.eA,this)}function de(){ce.call(this,[11,0],"camera"),this.data=null,this.wA=new f(1,1),this.AA=bt.B("div","form hbar"),this.body.appendChild(this.AA),this.tcH=new Xt(null,[]),this.zd=new Bt([21,0],[[21,2],[21,1]]),this.AA.appendChild(this.zd.J),this.wk=new Ot([11,0],!1,null,!0),this.wk.O("click",this.tDt,this),this.AA.appendChild(this.wk.J),this.xs=new Kt(""),this.AA.appendChild(this.xs.J),this.stream=null,this.aV=bt.B("video",""),this.aV.setAttribute("autoplay","true"),this.body.appendChild(this.aV),this.gH=this.tDQ.bind(this),this.vU=this.tDZ.bind(this),this.tIs=this.Bu.bind(this),this.O("closebtn",this.tDk,this)}function ye(){ce.call(this,[7,8],"crange"),this.Ho=null,this.wF=0,this.w_=0,this.hF=null,this.AA=bt.B("div","form"),this.AA.setAttribute("style","width:18em"),this.body.appendChild(this.AA),this.gn=new re("Fuzziness",0,200),this.gn.Q(40),this.gn.O(bt.E.p,this.k_,this),this.AA.appendChild(this.gn.J),this.ql=bt.B("canvas"),this.AA.appendChild(this.ql),this.gO=new Ot("OK",!0,null,!0),this.gO.O("click",this.create,this),this.body.appendChild(this.gO.J)}function ge(){ce.call(this,[11,1],"colorpicker"),this.iT=null,this.oE=null,this.aj=null,this.ZR=!1,this.Ga=!1;var t,e,i=bt.B("div","flexrow");this.body.appendChild(i),this.MH=new f,this.ZV=new f,this.tQ=this.zt.bind(this),this.tO=this.tcx.bind(this),this.rP=bt.B("canvas",""),this._m=this.rP.getContext("2d"),this.rP.width=this.rP.height=256,bt.FW(this.rP),bt.oA(this.rP,this.tct.bind(this)),i.appendChild(this.rP),this.WV=this.zr.bind(this),this.WP=this.tcY.bind(this),this.nM=bt.B("canvas",""),this.Mh=this.nM.getContext("2d"),this.nM.width=20,this.nM.height=256,bt.FW(this.nM),bt.oA(this.nM,this.tcO.bind(this)),i.appendChild(this.nM);var n=bt.B("div","form");n.setAttribute("style","width:14.5em; margin-left:1em;"),i.appendChild(n),this.Wd=bt.B("div","full"),n.appendChild(this.Wd),this.WG=bt.B("div","full"),n.appendChild(this.WG);var r=bt.B("div","flexrow");n.appendChild(r);var s=bt.B("div"),a=bt.B("div");r.appendChild(s),r.appendChild(a),t=["R","G","B"],e=s,this.I$=[];for(var h=0;h<3;h++){var o=new Wt(t[h]+":",0,255,null,0,!1,!0);this.I$.push(o),o.O(bt.E.p,this.tDm,this),e.appendChild(o.J)}t=["H","S","B"],e=a,this.IJ=[];for(h=0;h<3;h++){var l=360,u="°";0!=h&&(l=100,u="%");o=new Wt(t[h]+":",0,l,u,0,!1,!0);this.IJ.push(o),o.O(bt.E.p,this.tcR,this),e.appendChild(o.J)}this.ET=new ne("Hex",null,6),this.ET.O(bt.E.p,this.ZC,this),n.appendChild(this.ET.J),this.iW=bt.B("input","fitem"),this.iW.setAttribute("type","color"),this.iW.addEventListener("change",this.ZC.bind(this),!1),n.appendChild(this.iW),this.iQ=new Dt(9),this.iQ.O(bt.E.p,this.ZC,this),n.appendChild(this.iQ.J),this.Di=new Ot("OK",!0,null,!0),this.Di.O("click",this._O,this),n.appendChild(this.Di.J),this.O("closebtn",this.eA,this),this.gl=!1}function me(){ce.call(this,[11,2],"contoureditor"),this.Wx=null,this.Px=null,this.response=null,this.DI=bt.B("div","cell"),this.body.appendChild(this.DI),this.Kw=bt.B("div","cell padded"),this.body.appendChild(this.Kw);var t=bt.B("div","bordered padded vmargin");this.DI.appendChild(t),this.uW=new Jt,this.uW.O(bt.E.p,this.zz,this),t.appendChild(this.uW.J),this.Di=new Ot("OK",!0,null,!0),this.Di.O("click",this.close,this),this.Kw.appendChild(this.Di.J),this.coords=bt.B("div",""),this.coords.setAttribute("style","width:250px"),this.DI.appendChild(this.coords),this.ap=new ne("X (in)","%",4),this.al=new ne("Y (out)","%",4),this.if=new qt([19,3,0]),this.ap.O(bt.E.p,this.Zq,this),this.al.O(bt.E.p,this.Zq,this),this.if.O(bt.E.p,this.Zq,this),this.coords.appendChild(this.ap.J),this.coords.appendChild(this.if.J),this.coords.appendChild(this.al.J),this.O("closebtn",this.ua,this)}function we(){ce.call(this,[11,3],"csize"),this.gf=0,this.AA=bt.B("div","form"),this.AA.setAttribute("style","width:22em"),this.body.appendChild(this.AA),this.JB=new Gt(!1,!0,!0),this.JB.trW(!1),this.AA.appendChild(this.JB.J),this.ge=new Bt("Align with",["Document","Offset"]),this.ge.O(bt.E.p,this.tcN,this),this.AA.appendChild(this.ge.J),this.iu=new _t("Anchor"),this.AA.appendChild(this.iu.J),this.iu.Q(4),this.gN=new Qt(!1),this.gN.tHP(new f(0,0)),this.gO=new Ot("OK",!0,null,!0),this.gO.O("click",this.create,this),this.body.appendChild(this.gO.J)}function be(){ce.call(this,[11,4],"duplinto"),this.b=null,this.tx=null,this.ZM=null,this.AA=bt.B("div","form"),this.AA.setAttribute("style","width:18em"),this.body.appendChild(this.AA),this.Aw=new Xt([12,43],["abc","def"]),this.Aw.O(bt.E.p,this.zw,this),this.AA.appendChild(this.Aw.J),this.A_=new ne([12,48]),this.AA.appendChild(this.A_.J),this.Di=new Ot("OK",!0,null,!0),this.Di.O("click",this._O,this),this.AA.appendChild(this.Di.J)}function xe(){ce.call(this,[1,9],"eassets"),this.Sn=null,this.Al=null;var t=bt.B("div","form");t.setAttribute("style","width:37em"),this.body.appendChild(t);var e=bt.B("span");e.innerHTML='A layer is <b>exportable</b>, when its name starts with <b>"-e-"</b>.<br/>',t.appendChild(e),this.iK=bt.B("span"),t.appendChild(this.iK),t.appendChild(bt.B("br")),this.aR=new Ht([12,50],["PNG","JPG","SVG"]),this.aR.Q([!0,!1,!1]),t.appendChild(this.aR.J),this.at=new Ht([12,14],["1x","2x","3x","4x"]),this.at.Q([!0,!1,!1,!1]),t.appendChild(this.at.J),this.gO=new Ot([1,9],!0,null,!0),this.gO.O("click",this.DG,this),t.appendChild(this.gO.J),this.O("closebtn",this.Zp,this)}function Me(t){ce.call(this,fe[t]?et.names[t]:tt.names[t],"filter_"+t),this.qd=t,this.UQ=null,this.uW=fe[t]?new fe[t]:new ue[t],this.uW.O(bt.E.p,this.Id,this),this.uW.parent=this,this.fi()||this.body.setAttribute("style","width:22em"),this.body.appendChild(this.uW.J),this.Di=new Ot("OK",!0,null,!0),this.Di.O("click",this.wS,this),this.uW.fi()?this.uW.Bj(this.Di.J):this.body.appendChild(this.Di.J),this.O("closebtn",this.eA,this)}function Se(){ce.call(this,[11,5],"gradienteditor"),this.iT=null,this.oE=null,this.wR=null,this.aj=null,this.ZR=!1,this.Ga=!1,bt.wj(this.body,"form"),this.To=null,this.g$=null,this.uu=-1,this.BE=-1,this.qn=0,this.t_=this.Ll.bind(this),this.Vt=this.uZ.bind(this),this.rP=bt.B("canvas",""),this._m=this.rP.getContext("2d"),this.rP.setAttribute("style","display:block"),this.VM=null,bt.FW(this.rP),bt.oA(this.rP,this.uB.bind(this)),this.oR=new Wt("Smoothness:",0,100,"%"),this.oR.O(bt.E.p,this.MP,this),this.oR.parent=this,this.body.appendChild(this.oR.J),this.body.appendChild(bt.B("br")),this.SX=new Kt([12,0]),this.body.appendChild(this.SX.J),this.oT=bt.B("div","bordered padded noalign"),this.body.appendChild(this.oT),this.OO=new Wt([12,0],0,100,"%"),this.OO.parent=this,this.OO.O(bt.E.p,this.MP,this),this.oT.appendChild(this.OO.J),this.vJ=new Wt([12,40],0,100,"%"),this.vJ.parent=this,this.vJ.O(bt.E.p,this.MP,this),this.oT.appendChild(this.vJ.J),this.a$=new Ot([5,4],!1,null,!0),this.a$.O("click",this.zT,this),this.oT.appendChild(this.a$.J),this.body.appendChild(this.rP),this.body.appendChild(bt.B("br")),this.Wg=new Kt([13,0]),this.body.appendChild(this.Wg.J),this.Va=bt.B("div","bordered padded noalign"),this.body.appendChild(this.Va),this.ZI=new Xt([12,44],[[12,45],[12,46],[12,47]]),this.ZI.O(bt.E.p,this.MP,this),this.Va.appendChild(this.ZI.J),this.MB=new Lt(!0),this.MB.parent=this,this.MB.O(bt.E.p,this.MP,this),this.Va.appendChild(this.MB.J),this.vC=new Wt([12,40],0,100,"%"),this.vC.parent=this,this.vC.O(bt.E.p,this.MP,this),this.Va.appendChild(this.vC.J),this.aH=new Ot([5,4],!1,null,!0),this.aH.O("click",this.zP,this),this.Va.appendChild(this.aH.J),this.Di=new Ot("OK",!0,null,!0),this.Di.O("click",this._O,this),this.body.appendChild(this.Di.J),this.O("closebtn",this.eA,this)}function Ae(){ce.call(this,[11,10],"isize"),this.AA=bt.B("div","form"),this.AA.setAttribute("style","width:20em"),this.body.appendChild(this.AA),this.JB=new Gt(!0,!0),this.AA.appendChild(this.JB.J),this.hu=new Xt("Interpolate",["Nearest","Bilinear"]),this.hu.Q(1),this.hu.O(bt.E.p,this.AQ,this),this.AA.appendChild(this.hu.J),this.gO=new Ot("OK",!0,null,!0),this.gO.O("click",this.create,this),this.body.appendChild(this.gO.J)}function ke(t,e,i){St.call(this),this.J=bt.B("div",""),this.io=t,this.Ju=null,this.ov=null!=e&&e,this.aT=null,this.Au=i,this.Ir=[],this.UA=[],this.oq=[],this.UT=[],this.oY=0,this.Ju=this.tLk(ke.UT[t]),this.sA()}function Ce(){ce.call(this,[11,6],"layerstyle"),this.tLM=-1,this.data={},this.Ti=null,this.Sn=null,this.qI=[],this.iz=[],bt.wj(this.body,"flexrow"),this.DI=bt.B("div","bordered"),this.DI.setAttribute("style","min-width:13em;"),this.body.appendChild(this.DI),this.Nc=bt.B("div",""),this.Nc.setAttribute("style","width:25em; padding-left: 1em;"),this.body.appendChild(this.Nc),this.Kw=bt.B("div","form"),this.Kw.setAttribute("style","padding-left: 1em; width:7em;"),this.body.appendChild(this.Kw),this.Di=new Ot("OK",!0,null,!0),this.Di.O("click",this.wS,this),this.Kw.appendChild(this.Di.J),this.II=new Ot([12,87],!0,null,!0),this.II.O("click",this.tCb,this),this.Kw.appendChild(this.II.J),this.Um=new Pt,this.Um.parent=this,this.Um.O(bt.E.p,this.tCY,this),this.Kw.appendChild(this.Um.J),this.O("closebtn",this.eA,this),this.O("redrawall",this.zM,this)}function Te(){ce.call(this,[1,10],"script");var t=bt.B("div","form");this.body.appendChild(t);var e=new Ot("JS Reference",!1,null,!0);e.O("click",this.tCz,this),t.appendChild(e.J),t.appendChild(new Kt("Demos:").J),this.Wa=[];for(var i=Te.ZZ,n=0;n<i.length;n++){var r=new Ot(i[n].AN,!1,null,!0);this.Wa.push(r),t.appendChild(r.J),r.O("click",this.tCA,this)}this._L=bt.B("textarea"),this._L.setAttribute("rows",16),this._L.setAttribute("cols",70),this._L.setAttribute("style","display:block;tab-size:4; font-family:monospace;"),t.appendChild(this._L),this.WS=new Ot("Run",!0,null,!0),this.WS.O("click",this.tCZ,this),t.appendChild(this.WS.J)}function Ue(){ce.call(this,[11,7],"newproject"),this.data=null;var t=bt.B("div","flexrow");this.kr=t,this.body.appendChild(t);var e=bt.B("div","form");this.AA=e,e.setAttribute("style","width:17em"),t.appendChild(e),this.A_=new ne([12,48]),e.appendChild(this.A_.J),this.JB=new Gt(!0),this.JB.Q(new f(1280,720),72),e.appendChild(this.JB.J),this.Iy=new Xt([12,46],[[13,1,8],[13,1,9]]),e.appendChild(this.Iy.J),e.appendChild(bt.B("hr")),this.gO=new Ot([12,49],!0,null,!0),this.gO.O("click",this.create,this),e.appendChild(this.gO.J);var i=bt.B("div","form");this.tyi=i,t.appendChild(i);for(var n=Ue.Ae,r=[],s=0;s<n.length;s++)r.push(n[s].name);this.o_=new Bt(null,r),this.o_.O(bt.E.p,this.zq,this),i.appendChild(this.o_.J),this.kY=new Ct(!0),this.kY.O(bt.E.p,this.tCU,this),i.appendChild(this.kY.J),this.zq()}function _e(t,e,i){ce.call(this,e,"sel_"+t),this.X=t,this.AA=bt.B("div","form"),this.body.appendChild(this.AA),this.A_=new ne(e,i),this.AA.appendChild(this.A_.J),this.A_.Q(1),this.Di=new Ot("OK",!0,null,!0),this.Di.O("click",this._O,this),this.AA.appendChild(this.Di.J)}function Fe(t,e){ce.call(this,e,t),this.Ae=null,this.AA=bt.B("div","form"),this.body.appendChild(this.AA),this.A_=new ne(e),this.AA.appendChild(this.A_.J),this.Di=new Ot("OK",!0,null,!0),this.Di.O("click",this._O,this),this.AA.appendChild(this.Di.J)}function Oe(){ce.call(this,[1,5],"open_from_url"),this.sN=null;var t=bt.B("div","form");this.body.appendChild(t),this.IC=new ne("URL",null,22),t.appendChild(this.IC.J),t.appendChild(bt.B("br")),this.zd=new Bt([21,0],[[21,2],[21,1]]),t.appendChild(this.zd.J),this.gO=new Ot("OK",!0,null,!0),this.gO.O("click",this.tCk,this),t.appendChild(this.gO.J)}function Le(){ce.call(this,[12,79],"preferences"),this.Sn=null;var t=bt.B("div","form");this.body.appendChild(t),this.UT=[new qt([8,2]),new qt([8,4]),new jt("Grid gap",1,100,"px"),new Xt("Ruler units",a.VU.ip)];for(var e=0;e<this.UT.length;e++){var i=this.UT[e];t.appendChild(i.J),t.appendChild(bt.B("br")),i.O(bt.E.p,this.DG,this)}this.gO=new Ot("Apply",!0,null,!0),this.gO.O("click",this.DG,this)}function De(){for(var t in ce.call(this,[11,8],"saveforweb"),this.O("closebtn",(function(){this.ez.yY()}),this),this.vd={JPG:[{k$:new re([12,52],0,100,"%"),ng:50}],WEBP:[{k$:new re([12,52],0,100,"%"),ng:50}],GIF:[{k$:new re([12,52],0,100,"%"),ng:100},{k$:new qt("reverse frames"),ng:!1}],PNG:[{k$:new re([12,52],0,100,"%"),ng:100},{k$:new qt("don't use palettes"),ng:!1}],PDF:[{k$:new qt("rasterize all"),ng:!1},{k$:new qt("rasterize text"),ng:!1}],EMF:[{k$:new qt("rasterize all"),ng:!1},{k$:new qt("rasterize text"),ng:!1}],SVG:[{k$:new qt("add raster graphics"),ng:!1},{k$:new qt("add hidden layers"),ng:!1},{k$:new qt("include fonts"),ng:!1},{k$:new qt("rasterize text"),ng:!1},{k$:new qt("add layer names"),ng:!0},{k$:new qt("pretty-print"),ng:!0}]},this.vd)for(var e=this.vd[t],i=0;i<e.length;i++)e[i].k$.Q(e[i].ng);this.Su=new f(512,512),this.Ti=null,this.ow=null,this.Wh=null,bt.wj(this.body,"flexrow");var n=bt.B("div"),r=bt.B("div");for(var a in this.body.appendChild(n),this.body.appendChild(r),this.Va=bt.B("div","imgcont"),n.appendChild(this.Va),this.ez=new oe,this.ez.Tc(this.Su.x,this.Su.y),this._U=bt.B("span"),n.appendChild(this._U),this.AA=bt.B("div","form cell padded"),this.AA.setAttribute("style","width:17em"),r.appendChild(this.AA),this.vp=new Xt([12,50],s.aL()),this.AA.appendChild(this.vp.J),this.vp.O(bt.E.p,this.TE,this),this.JB=new Gt(!1,!0),this.JB.O(bt.E.p,this.TE,this),this.AA.appendChild(this.JB.J),this.oN=bt.B("div",""),this.AA.appendChild(this.oN),this.vd)for(i=0;i<this.vd[a].length;i++)this.vd[a][i].k$.O(bt.E.p,this.TE,this);this.IP=new Ot([1,2],!0,null,!0),this.IP.O("click",this.save,this),this.AA.appendChild(this.IP.J),this.WW=-1}function Ne(){ce.call(this,[11,13],"shortcuts");var t=bt.B("div","scrollable"),e='<div style="column-count:3; column-gap:3em; column-rule-width:1px;" class="">',i="";t.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em"),i+='<h2 style="margin-top:0;">Main Menu</h2>',i+=e,i+=this.Lr({File:"---",Open:"Ctrl + O",Save:"Ctrl + S","Save as PSD":"Shift+Ctrl + S","Save for web":"Alt+Shift+Ctrl + S",Edit:"---","Undo / Redo":"Ctrl + Z","Step Forward":"Shift + Ctrl + Z","Step Backward":"Alt + Ctrl + Z",Cut:"Ctrl + X",Copy:"Ctrl + C",Paste:"Ctrl + V",Clear:"Delete",Fill:"Alt + Backspace","Free Transform":"Alt + Ctrl + T",Preferences:"Ctrl + K",Adjustments:"---",Levels:"Ctrl + L",Curves:"Ctrl + M","Hue / Saturation":"Ctrl + U",Invert:"Ctrl + I",Layer:"---",Duplicate:"Ctrl + J","Clipping Mask":"Alt + Ctrl + G","Group Layers":"Ctrl + G","Merge Down":"Ctrl + E",Select:"---",All:"Ctrl + A",Deselect:"Ctrl + D",View:"---","Zoom In":"Ctrl + +","Zoom Out":"Ctrl + -",Rulers:"Ctrl + R",Guides:"Ctrl + ;",Grid:"Ctrl + '",Shortcuts:"?"}),i+="</div>",i+='<h2 style="margin-top:1.5em;">Navigation</h2>',i+=e,i+=this.Lr({"Vertical scroll":"Wheel","Horizontal scroll":"Ctrl + Wheel",Zooming:"Alt + Wheel"}),i+="</div>",i+='<h2 style="margin-top:1.5em;">Quick tools (press to enable, release to disable)</h2>',i+=e,i+=this.Lr({Move:"Ctrl",Hand:"Spacebar",Zoom:"Ctrl + Spacebar"}),i+="</div>",i+='<h2 style="margin-top:1.5em;">Tools</h2>',i+=e,i+=this.Lr(Ne.Uj),i+=this.Lr({abc:null,Other:"---","Default Colors":"D","Swap Frg. - Bckg.":"X","Decrease Brush Size":"[","Increase Brush Size":"]","Decrease Hardness":"{","Increase Hardness":"}"}),i+="</div>",t.innerHTML=i,this.body.appendChild(t)}function Ie(){ce.call(this,[2,3],"fill"),this.Sn=null,this.Ho=null;var t=bt.B("div","form padded");this.body.appendChild(t),this.rL=new Xt([2,3],[[12,45],[12,46],[13,1,10],[13,1,8],"Content Aware"]),t.appendChild(this.rL.J),this.gO=new Ot("OK",!0,null,!0),this.gO.O("click",this.wS,this),this.body.appendChild(this.gO.J)}function Ee(){ce.call(this,[14,9],"stroke"),this.Sn=null,this.AA=bt.B("div","form"),this.AA.setAttribute("style","width:24em"),this.body.appendChild(this.AA),this.ws=new ke("FrFX",!0),this.ws.parent=this;for(var t=["Sz","Styl","Md","Opct"].concat(ot.IS),e=0;e<t.length;e++){var i=this.ws.Ju[t[e]].J;this.AA.appendChild(i)}this.pY=!1,this.gO=new Ot("OK",!0,null,!0),this.gO.O("click",this.wS,this),this.body.appendChild(this.gO.J)}function Pe(){ce.call(this,[11,9],"textwarp"),this.UT=new he,this.UT.O(bt.E.p,this.Id,this),this.UT.parent=this,this.AA=bt.B("div","form"),this.AA.setAttribute("style","width:20em"),this.body.appendChild(this.AA),this.AA.appendChild(this.UT.Me.J),this.AA.appendChild(this.UT.VG.J),this.AA.appendChild(this.UT.$j.J),this.AA.appendChild(this.UT.$N.J),this.AA.appendChild(this.UT.Jf.J),this.gO=new Ot("OK",!0,null,!0),this.gO.O("click",this.wS,this),this.AA.appendChild(this.gO.J),this.O("closebtn",this.eA,this)}function Je(){ce.call(this,"Raw Photopea","rawpea"),this.Fx=null,this.HO=null,this.IG=null,this.tLm=0,this.HY=null,this.oD=null,this.it=500,this.ou=500,this.O("closebtn",this.VZ.bind(this),this),bt.wj(this.body,"flexrow");var t=bt.B("div"),e=bt.B("div");e.setAttribute("style","padding-left: 1em"),this.body.appendChild(t),this.body.appendChild(e),this.ql=bt.B("canvas"),t.appendChild(this.ql),this.XS=bt.B("canvas"),this.XS.width=256,this.XS.height=100,bt.gx(this.XS,256,100),e.appendChild(this.XS),this.AA=bt.B("div"),this.AA.setAttribute("style","width:18em;"),e.appendChild(this.AA),this.Xw=new Kt("Hi",!0),this.AA.appendChild(this.Xw.J),this.gD=[new re("Temperature",2e3,13e3),new re("Tint",-150,150),new re([4,3],-4,4,null,!0),new re([12,2],-150,150),new re([12,3],-100,100)];for(var i=0;i<this.gD.length;i++){var n=this.gD[i];n.Q(0),n.O(bt.E.p,this.k_,this),this.AA.appendChild(n.J)}this.gO=new Ot("OK",!0,null,!0),this.gO.O("click",this.create,this),this.AA.appendChild(this.gO.J)}function Be(){ce.call(this,[11,11],"vbitmap"),this.Ae=null,this.ax=null,this.Ig=null,this.aM=null,this.Al=null,this.AA=bt.B("div","form hbar"),this.body.appendChild(this.AA),this.XE=new jt([12,82],2,50,null),this.XE.O(bt.E.p,this.Uz,this),this.AA.appendChild(this.XE.J),this.Xi=new qt([12,81]),this.Xi.O(bt.E.p,this.Uz,this),this.AA.appendChild(this.Xi.J),this.gO=new Ot("OK",!1,null,!0),this.gO.O("click",this.create,this),this.AA.appendChild(this.gO.J);var t=bt.B("div","flexrow");this.body.appendChild(t),this.ee=new oe,this.ee.O("viewchange",this.zn,this),this.lZ=bt.B("canvas"),this.lZ.setAttribute("style","margin-left: 1px; cursor:grab; cursor:-moz-grab; cursor:-webkit-grab;"),this._m=this.lZ.getContext("2d");var e=a.I(1024);a.by(e,16,16,8,0,0),this.IE=a.scale.vh(e,16,16),this.ee.Bh(this.lZ),t.appendChild(this.ee.J),t.appendChild(this.lZ)}function Xe(){ce.call(this,[7,11],"redge"),this.Ae={},this.Uu=null,this.le=null,this.Al=null,this.XI=null,this.ud=null;var t='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEX///+nxBvIAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC" />',e='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEUAAACnej3aAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC" />';this.BK=[],this.AZ=-1,this.AA=bt.B("div","form hbar"),this.body.appendChild(this.AA),this.gj=new Ft,this.gj.parent=this,this.gj.O(bt.E.p,this.Hf,this),this.AA.appendChild(this.gj.J),this.IW=new Bt(null,[t,'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEV5eXkrfmUiAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC" />',e]),this.AA.appendChild(this.IW.J),this.ww=new Wt([7,9],0,50,null),this.ww.parent=this,this.ww.O(bt.E.p,this.zf,this),this.AA.appendChild(this.ww.J);var i=new Ot([12,90],!1,null,!0);i.O("click",(function(t){alert(n.get([15,7,1]),5e3)}),this),this.AA.appendChild(i.J),this.tyQ=i;var r=bt.B("span","form");this.AA.appendChild(r),r.setAttribute("style","position:absolute;  right:0px"),this.Ip=new Bt([12,46],['<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEX////IyMhc4gNCAAAAEElEQVR4nGNg+M+AFeEQBgB+vw/xkaQUAAAAAABJRU5ErkJggg==" />',t,e]),this.Ip.O(bt.E.p,this.zY,this),r.appendChild(this.Ip.J),this.IO=new Xt(null,[[6,13],[6,2],[17,2]]),r.appendChild(this.IO.J),this.gO=new Ot("OK",!1,null,!0),this.gO.O("click",this.create,this),r.appendChild(this.gO.J);var s=bt.B("div","flexrow");this.body.appendChild(s),this._z=new oe(!0),this.XK=new oe,this._z.zj(this.XK),this.XK.zj(this._z),this._z.O("mousedown",this.nZ,this),this._z.O("mousemove",this.fI,this),this._z.O("mouseup",this.Ub,this),this._z.O("zoom",this.Hf,this),s.appendChild(this._z.J),s.appendChild(this.XK.J)}function ze(t,e,i){St.call(this),this.name=t,this.na=i,this.cN=bt.B("div",""),this.hD=bt.B("div","pbody"),this.vu=new Ot("",!1,""),this.vu.parent=this,this.lo=bt.B("span","cross"),this.TB=bt.B("span",""),this.TB.addEventListener("mousedown",this.tCN.bind(this),!1),this.lo.addEventListener("mousedown",this.Zp.bind(this),!1),this.cN.appendChild(this.TB),e&&this.cN.appendChild(this.lo),this.Os=!1,this.TB.textContent=t}function $e(){ze.call(this,[9,3]),this.hD.setAttribute("style","width:380px;"),this.TM=null,this.HF=null,this.AF=0,this.ze=0;var t=bt.B("div","");this.hD.appendChild(t),this.DI=bt.B("div","bordered cell"),this.DI.setAttribute("style","width:10em; height:28.5em;"),t.appendChild(this.DI),this.UT=[],this.Iz=null,this.vi=[];var e=this.tTa.bind(this);this.qI=[new $e.GD,new $e.eU,new $e._e,new $e.um];for(var i=0;i<this.qI.length;i++){var n=bt.B("div","listitem"),r=this.qI[i].Es,s=null;0==i?(this.Iz=new Kt(r),n.appendChild(this.Iz.J)):((s=new qt(r,!1)).O(bt.E.p,this.tTP,this),n.appendChild(s.J)),this.vi.push(s),this.DI.appendChild(n),this.UT.push(n),n.addEventListener("click",e,!1)}this.Nc=bt.B("div","cell padded"),t.appendChild(this.Nc);for(i=0;i<this.qI.length;i++)this.qI[i].O("brushchange",this.tTy,this);this.setItem(0),this.rP=bt.B("canvas",""),this.rP.width=Math.floor(380*bt.h()),this.rP.height=Math.floor(80*bt.h()),bt.gx(this.rP,this.rP.width,this.rP.height),t.appendChild(this.rP),this._m=this.rP.getContext("2d"),this.Uz()}function Ve(){ze.call(this,[9,0]),this.hD.setAttribute("style","min-width:200px;"),this.lT=bt.B("div","hpbody scrollable"),this.lT.style.height="160px",this.hD.appendChild(this.lT),this.tyO=-1,this.IU=[]}function Re(t,e,i){St.call(this),this.index=e,this.J=bt.B("div",e==i?"listitem selected":"listitem"),this.Do=t.name,this.w(),e>i&&(this.J.style.opacity=.4),this.J.addEventListener("click",this.cL.bind(this),!1)}function qe(){ze.call(this,[9,8]),this.NW=bt.B("div","padded"),this.hD.appendChild(this.NW),this.TV=new Dt(10),this.NW.appendChild(this.TV.J),this.NW.appendChild(bt.B("hr")),this.og=new Rt,this.og.parent=this,this.NW.appendChild(this.og.xI),this.TV.O(bt.E.p,this.zU,this),this.og.O(bt.E.p,this.zU,this)}function He(){ze.call(this,[9,4]),this.hD.setAttribute("style","min-width:240px;"),this.Ty=new zt,this.Ty.parent=this;var t=bt.B("div","marged");this.hD.appendChild(t),t.appendChild(this.Ty.li.J),this.hD.appendChild(bt.B("hr"));var e=bt.B("div","marged");this.hD.appendChild(e),e.appendChild(this.Ty.lm.J),e.appendChild(this.Ty.fJ.J);var i=bt.B("div","marged");this.hD.appendChild(i),i.appendChild(this.Ty.jc.J),this.hD.appendChild(bt.B("hr"));var n=bt.B("div","marged");this.hD.appendChild(n),n.appendChild(this.Ty.EB.J),n.appendChild(this.Ty.Ez.J);var r=bt.B("div","marged");this.hD.appendChild(r),r.appendChild(this.Ty.pc.J),r.appendChild(this.Ty.jO.J),this.hD.appendChild(bt.B("hr"));var s=bt.B("div","marged");this.hD.appendChild(s),s.appendChild(this.Ty.xC.J),s.appendChild(this.Ty.xG.J),s.appendChild(this.Ty.xM.J),s.appendChild(this.Ty.xS.J),s.appendChild(this.Ty.xg.J),s.appendChild(this.Ty.xE.J),s.appendChild(this.Ty.xW.J)}function je(){ze.call(this,"CSS"),this.NW=bt.B("div","padded"),this.hD.appendChild(this.NW),this._L=bt.B("textarea"),this._L.setAttribute("rows",16),this._L.setAttribute("cols",36),this._L.setAttribute("style","display:block;tab-size:4; font-family:monospace;"),this.NW.appendChild(this._L)}function Ge(){ze.call(this,[9,6]),this.hD.setAttribute("style","min-width:240px;");var t=bt.B("div","marged row");this.hD.appendChild(t),(e=bt.B("div","cell")).setAttribute("style","width:10em"),t.appendChild(e),(i=bt.B("div","cell")).setAttribute("style","width:10em"),t.appendChild(i),this.tDw=new Kt("R:"),this.tDC=new Kt("G:"),this.tDG=new Kt("B:"),this.hD.appendChild(bt.B("hr",""));var e,i,n=bt.B("div","marged row");this.hD.appendChild(n),(e=bt.B("div","cell")).setAttribute("style","width:10em"),(i=bt.B("div","cell")).setAttribute("style","width:10em"),n.appendChild(e),n.appendChild(i),this.ap=new Kt(""),e.appendChild(this.ap.J),e.appendChild(bt.B("br")),this.al=new Kt(""),e.appendChild(this.al.J),this.fQ=new Kt(""),i.appendChild(this.fQ.J),i.appendChild(bt.B("br")),this.ET=new Kt(""),i.appendChild(this.ET.J),this.ap.Q("X: 100 px"),this.al.Q("Y: 100 px"),this.fQ.Q("W: 0"),this.ET.Q("H: 0")}function Ye(){ze.call(this,[9,1]),this.oj=null,this.Ti=null,this.ZM=null,this.Mt=bt.B("div","lphead"),this.lT=bt.B("div","lpbody scrollable"),this.QX=bt.B("div","lpfoot"),this.es=new Xt(null,it.ln,!1,it.XL),this.es.O(bt.E.p,this.tdf,this),this.Mt.appendChild(this.es.J),this.XV=new Wt([12,0],0,100,"%",0),this.XV.O(bt.E.p,this.tdY,this),this.XV.parent=this,this.Mt.appendChild(this.XV.J),this.XM=new Ht('<img src="'+PIMG["lrs/lock"]+'" class="autoscale gsicon" />',[[12,76,2],[12,40],[7,0]]),this.XM.O(bt.E.p,this.tdk,this),this.Mt.appendChild(this.XM.J),this.XM.J.setAttribute("style","margin-right:1.5em"),this.Qn=new Wt([12,26],0,100,"%",0),this.Qn.O(bt.E.p,this.tdm,this),this.Qn.parent=this,this.S$=[],this.tRE(),this.hD.appendChild(this.Mt),this.hD.appendChild(this.lT),this.hD.appendChild(this.QX),this.hD.addEventListener("contextmenu",Ke.ua,!1),this.fV=[{name:[14,10]},{name:[6,0]},{name:[11,4]},{name:[5,4],wN:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",V:function(t){return{V:null!=t.b[t.g[0]].add.SoLd}},wN:!0},{name:[6,8],V:function(t){var e=t.b[t.g[0]];return e.add.TySh||e.add.SoLd||e.add.SoCo||e.add.GdFl||e.add.PtFl?{V:!0}:{V:!1}}},{name:[6,34],V:function(t){return{V:null!=t.b[t.g[0]].add.lmfx}}},{name:[6,40],wN:!0,V:function(t){return{V:null!=t.b[t.g[0]].add.TySh}}},{name:"",wN:!0,V:function(t){var e=t.b[t.g[0]].add.TySh;return{V:null!=e,cg:"Convert to "+(e&&0==dt.gG(e.Bd)?"Paragraph text":"Point text")}}},{name:[6,6],wN:!0,V:function(t){return{V:t.HG(t.g[0]),cU:t.b[t.g[0]].fB}}},{name:[11,6],wN:!0,sub:[{name:[5,1],V:function(t){return{V:null!=t.b[t.g[0]].add.lmfx}}},{name:[5,2]},{name:[2,2],V:function(t){return{V:null!=t.b[t.g[0]].add.lmfx}}}]},{name:[6,10],V:function(t){return{V:1==t.g.length&&0!=t.g[0]&&!t.b[t.g[0]].oP()}}},{name:[6,12],V:function(t){return{V:t.g.length>1||t.b[t.g[0]].oP()}},wN:!0},{name:[13,0],sub:function(){for(var t=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],e=[],i=0;i<t.length;i++)e.push({name:t[i]});return e}()}],this.SG=[null,nt.nJ,{U:bt.E.Y,k:{X:bt.m.gI,gL:"duplinto"}},nt.vN,nt.Jj,nt.jN,nt.jF,nt.KJ,nt.fs,{U:bt.E.W,c:j.Jv,k:{X:"switchPntPrgr"}},nt.Ei,null,nt.CM,nt.JK,nt.wt],this.Nc=new At(this.fV),this.Nc.O("select",this.aQ,this),this.zG=[{name:[6,45],V:function(t){return{V:null==t.b[t.g[0]].hy(t).d}}},{name:[6,47]}],this.tDW=[nt.rB,nt.wH],this.Im=new At(this.zG),this.Im.O("select",this.aQ,this),this.zx=[{name:"enab/disab",V:function(t){return{cg:n.get(t.b[t.g[0]].Ab().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],V:function(t){return{V:t.FS(!1,!0)}}}],this.tDq=[nt.v_,nt.rU,nt.KT],this.Sw=new At(this.zx),this.Sw.O("select",this.aQ,this),this.ZL=[{name:"enab/disab",V:function(t){return{cg:n.get(t.b[t.g[0]].hy(t).d.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],this.tDi=[nt.rA,nt.rZ],this.Is=new At(this.ZL),this.Is.O("select",this.aQ,this),this.UW=[{name:"enab/disab",V:function(t){return{cg:n.get(t.b[t.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}],this.tDj=[nt.CK,nt.HJ],this.SD=new At(this.UW),this.SD.O("select",this.aQ,this),this.Uq=Ce.zv(!0),this.tDK=Ce.zW(!0),this.Qs=new At(this.Uq),this.Qs.O("select",this.aQ,this),this.UN=Ce.zg(),this.tDe=Ce.za(),this.SC=new At(this.UN),this.SC.O("select",this.aQ,this),this.O("rclick",this.tdI,this)}function Ke(t,e,i,r){St.call(this),this.parent=e,this.sh=t,this.Iu=[],this.J=bt.B("div","layeritem"),this.cw=this.A$.bind(this),this.NI=this.tta.bind(this),this.SM=this.ttX.bind(this);var s=t.i,a=15,h=!1;this.Mt=bt.B("div",-1!=i.g.indexOf(t.index)?"head selected":"head"),null!=t.i.add.artb&&bt.wj(this.Mt,"artb"),this.Mt.setAttribute("style","height: "+(s.cS+10)+"px"),this.Nw=bt.B("div","headL"),this.NP=bt.B("div","headR"),this.Xq=bt.B("div","lpineck"),this.lT=bt.B("div","lpibody"),this.J.appendChild(this.Mt),this.Mt.appendChild(this.Nw),this.Mt.appendChild(this.NP),(s.JP()||s.kl())&&s.Jq()&&this.J.appendChild(this.Xq);var o=this.Mt;o.setAttribute("draggable","true"),o.addEventListener("dragstart",this.Zk.bind(this),!1),o.addEventListener("drop",this.VV.bind(this),!1),o.addEventListener("dragover",this.Z_.bind(this),!1),o.addEventListener("dragenter",Ke.ua,!1),o.addEventListener("dragleave",this.Zu.bind(this),!1),this.cm=[],this.Q_=[],this.cs=bt.B("div"),this.yV=bt.B("div","eye"),this.cs.appendChild(this.yV),this.FV=bt.B("div","space"),this.y$=bt.B("div","arrow"),this.tcL=bt.B("div","folder"),this.tcG=bt.B("div","clipp"),this.SS=bt.B("div","thumb"),this.SE=bt.B("div","chain"),this.wv=bt.B("div","thumb"),this.Sq=bt.B("div","chain"),this.Xp=bt.B("div","thumb"),this.Xf=bt.B("div","thumb"),this.UR=bt.B("div","label"),this.UR.textContent=s.getName(),this.wv.setAttribute("draggable","true"),this.Xp.setAttribute("draggable","true"),this.tch=bt.B("div","link"),this.Fs=bt.B("div","lock"),this.tcW=bt.B("div","lrfx"),this.Sf=bt.B("div","arfx"),this.Mt.addEventListener("click",this.ZH.bind(this),!1),this.Mt.addEventListener("contextmenu",this.SM,!1),this.Xf.addEventListener("click",this.ZH.bind(this),!1),this.Xf.addEventListener("contextmenu",this.SM,!1);var l=null==s.add.lclr?0:[0,16711680,16748544,16763904,4513024,22015,11141375,7829367][s.add.lclr];0==l&&(l=r.nx);for(var u=[l>>16,l>>8&255,255&l],f=0;f<3;f++)u[f]=Math.round(.5*u[f]+110);1<bt.h()&&bt.h()<1.5&&(a/=bt.h()),this.cs.setAttribute("style","background-color:rgba("+u.join(",")+","+(0==l?0:1)+");"),this.yV.setAttribute("style","background-size: "+a+"px "+a+"px;");var c=this.tRU.bind(this);if(this.cs.addEventListener("mousedown",c,!1),this.cs.addEventListener("mouseover",c,!1),this.y$.addEventListener("click",this.tRk.bind(this),!1),this.SE.addEventListener("click",this.ttH.bind(this),!1),this.Sq.addEventListener("click",this.ttw.bind(this),!1),this.UR.addEventListener("click",this.ttD.bind(this),!1),this.Sf.addEventListener("click",this.ttW.bind(this),!1),this.cm[0]=this.cs,this.cm[1]=this.FV,this.cm[10]=this.UR,s.oP()){if(this.cm[2]=this.y$,this.cm[3]=this.tcL,s.add.lsct==rt.Gp){for(f=t.children.length-1;f>=0;f--){var p=new Ke(t.children[f],e,i,{nx:l});this.Iu.push(p),this.lT.appendChild(p.J)}this.J.appendChild(this.lT)}this.y$.setAttribute("class",s.add.lsct==rt.Gp?"open":"closed")}else this.cm[5]=this.SS,this.SS.appendChild(s.Fd.canvas);var v=s.Ab();if(v&&(this.wv.appendChild(t.i.LJ.canvas),this.SE.style.opacity=v.WZ?1:0),s.add.vmsk&&(this.Xp.appendChild(t.i.LL.canvas),this.Sq.style.opacity=s.add.vmsk.WZ?1:0),s.kl()&&s.hy(i).d&&this.Xf.appendChild(t.i.Ld.canvas),s.JP()){this.Xq.addEventListener("contextmenu",this.SM,!1),(A=new Ye.Eb(n.get([12,1]),"sm","layerstyle",t.depth,0,null)).parent=this,this.Xq.appendChild(A.J);var d=(m=s.add.lmfx).masterFXSwitch.v;A.cE(d);for(f=0;f<ot.order.length;f++){var y=m[ot.vz[f]].v;if(0!=y.length)for(var g=0;g<y.length;g++){(A=new Ye.Eb(n.get(ot.names[f]),"s","layerstyle",t.depth,1,[f,g])).cE(d&&y[g].v.enab.v),A.parent=this,this.Xq.appendChild(A.J)}}}if(s.kl()){(A=new Ye.Eb(n.get([12,55]),"fm",null,t.depth,0,-1,s.hy(i).d?this.Xf:null)).parent=this,this.Xq.appendChild(A.J),this.mR=A.J,this.mR.addEventListener("contextmenu",this.SM,!1);var m,w=(m=s.add.SoLd.filterFX.v).filterFXList.v;d=m.enab.v;A.cE(d);for(f=w.length-1;f>=0;f--){var b=w[f].v,x=b.filterID.v,M=O.Xn(x);tt.ys[M]&&(M=tt.ys[M]);var S=b.Nm.v;et.names[M]&&(S=n.get(et.names[M])),tt.names[M]&&(S=n.get(tt.names[M]));var A,k=fe[M]||ue[M]?"filter_"+M:null;(A=new Ye.Eb(S,"f",k,t.depth,1,f)).cE(d&&b.enab.v),A.parent=this,this.Xq.appendChild(A.J)}}i.b.indexOf(s)==i.g[0]&&(s.G<=0&&this.SS.setAttribute("class","thumb active"),1==s.G&&this.wv.setAttribute("class","thumb active"),3==s.G&&this.Xf.setAttribute("class","thumb active"),s.uv&&this.Xp.setAttribute("class","thumb active")),this.cs.style.opacity=s.op()?1:.25,this.FV.setAttribute("style","width:"+18*Math.max(0,t.depth-1)+"px");var C=null!=s.add.lspf&&0!=s.add.lspf;this.Fs.style.opacity=s.FT(31)?1:.5;var T=s.TT()&&s.add.vmsk;this.cm[4]=s.fB?this.tcG:null,this.cm[6]=v?this.SE:null,this.cm[7]=v?this.wv:null,this.cm[8]=s.add.vmsk&&!T?this.Sq:null,this.cm[9]=s.add.vmsk&&!T?this.Xp:null;var U=s.nb,_=i.g;if(0!=U)for(f=0;f<_.length;f++)if(i.b[_[f]].nb==U){h=!0;break}this.Q_[0]=h?this.tch:null,this.Q_[1]=C?this.Fs:null,this.Q_[2]=s.JP()?this.tcW:null,this.Q_[3]=s.JP()||s.kl()?this.Sf:null,this.Sf.setAttribute("class",s.Jq()?"arfx open  gsicon":"arfx closed  gsicon");var F=this.cm;for(f=0;f<F.length;f++)F[f]&&this.Nw.appendChild(F[f]);F=this.Q_;for(f=0;f<F.length;f++)F[f]&&this.NP.appendChild(F[f])}function Qe(){ze.call(this,[9,5]),this.hD.setAttribute("style","min-width:240px;"),this.Ty=new zt,this.Ty.parent=this;var t=bt.B("div","marged");this.hD.appendChild(t),t.appendChild(this.Ty.rT.J),t.appendChild(this.Ty.rm.J),t.appendChild(this.Ty.rW.J),t.appendChild(this.Ty.dM.J),t.appendChild(this.Ty.da.J),t.appendChild(this.Ty.dg.J),t.appendChild(this.Ty.dS.J),this.hD.appendChild(bt.B("hr"));var e=bt.B("div","marged");this.hD.appendChild(e),e.appendChild(this.Ty.EZ.J),e.appendChild(this.Ty.EU.J),e.appendChild(this.Ty.Em.J),this.hD.appendChild(bt.B("hr"));var i=bt.B("div","marged");this.hD.appendChild(i),i.appendChild(this.Ty.h$.J),i.appendChild(this.Ty.ha.J),i.appendChild(this.Ty.pv.J)}function We(){ze.call(this,[9,2]),this.Al=null,this.mV=-1,this.NW=bt.B("div","padded"),this.NW.style.width="20.4em",this.hD.appendChild(this.NW);var t=bt.B("span","fitem");this.NW.appendChild(t),this.ko=[new Ot([0,3]),new Ot([12,73]),new Ot([12,91,0])];for(var e=0;e<this.ko.length;e++){var i=this.ko[e];i.O("click",this.ttF,this),t.appendChild(i.J)}this.NW.appendChild(bt.B("hr")),this.OJ=new We.ek,this.OJ.parent=this,this.Oa=new We.pO,this.Oa.parent=this,this.yr=new We.kQ,this.yr.parent=this,this.m$=[this.OJ,this.Oa,this.yr],this.NW.appendChild(this.OJ.J)}function Ze(t){ze.call(this,t.name,!0),this.Ti=t,this.le=null,this.sl=!1,this.Lk={x:0,y:0,Vv:!1},this.SN=!0,this.OQ=document.createElement("canvas"),this.nT=this.OQ.getContext("2d"),this.lZ=document.createElement("canvas"),this.C=this.lZ.getContext("2d");var e=a.I(1024);a.by(e,16,16,8,0,0),this.IE=a.scale.vh(e,16,16),this.tcq=this.nZ.bind(this),this.nY=this.fI.bind(this),this.my=this.Ub.bind(this),this.qr=0;var i=this.hD;bt.oA(i,this.tcq),bt.ny(i,this.nY),i.addEventListener("wheel",this.Dg.bind(this),!1),i.addEventListener("contextmenu",this.t$H.bind(this),!1),this._g=0,this.PL=4,bt.FW(i)}function ti(){ze.call(this,[9,7]),this.hD.setAttribute("style","min-width:240px;"),this.Al=null,this.nz=-1,this.tcn=[],this.lT=bt.B("div","scrollable"),this.lT.style.height="160px",this.hD.appendChild(this.lT),this.QX=bt.B("div","lpfoot"),this.hD.appendChild(this.QX),this.$G=[];for(var t=["reload","lrs/newlayer","lrs/bin"],e=["Update Layer Comp","New Layer Comp","Delete Layer Comp"],i=0;i<t.length;i++){var n=new Ot('<img src="'+PIMG[t[i]]+'" class="gsicon" />',!1,e[i]);n.O("click",this.t$x,this),this.QX.appendChild(n.J),this.$G.push(n)}}function ei(t,e,i,n,r){St.call(this),this.U_=e,this.J=bt.B("div","head listitem"+(e==r?" selected":""));var s=e==n,a=new Ot("<b>"+(s?"✓":"—")+"</b>");s&&a.PT(),this.J.appendChild(a.J),a.O("click",this.ti,this);var h=this.TB=bt.B("span");if(h.textContent=t,this.J.appendChild(h),this.$G=[],0!=e){this.J.addEventListener("mouseup",this.AI.bind(this),!1),this.mL=bt.B("span","headR"),this.J.appendChild(this.mL);for(var o=["lrs/eye","pos","lrs/fx"],l=["Visibility","Position","Appearance"],u=0;u<o.length;u++){var f=new Ot('<img src="'+PIMG[o[u]]+'" class="autoscale gsicon" />',!1,l[u]);0==(i>>u&1)&&f.J.setAttribute("style","opacity:0.3"),f.O("click",this.t$E,this),this.mL.appendChild(f.J),this.$G.push(f)}}}function ii(t){ze.call(this,t.name,!1,t.icon);var e=bt.B("iframe","padded");e.setAttribute("src",t.url),e.setAttribute("style","width:"+t.width+"px; height:"+t.height+"px"),this.hD.appendChild(e)}function ni(){St.call(this),this.c=0,this.Xg=null,this.J=bt.B("div","toolconf"),this.yw=bt.B("div"),this.J.appendChild(this.yw),this.body=new bt.B("div","body"),this.J.appendChild(this.body)}function ri(t){if(ni.call(this),null!=t){this.Dw={};for(var e=0;e<t.length;e++){var i=t[e],n=null;"brush"==i&&(n=new Ft),"bmode"==i&&(n=new Xt([12,19],it.ln,!1,it.XL)),"opacity"==i&&(n=new Wt([12,0],0,100,"%")).Q(100),"flow"==i&&(n=new Wt([12,63],0,100,"%")).Q(100),"smth"==i&&(n=new Wt([19,3,0],0,100,"%")).Q(0),"wconf"==i&&(n=new se),"strn"==i&&(n=new Wt([12,64],1,100,"%")).Q(50),"smode"==i&&(n=new Xt([12,36],[[19,7,0],[19,7,1]])).Q(1),"pdetail"==i&&(n=new qt([12,65])).PT(),"rng"==i&&(n=new Xt([12,12],[[19,6,0],[19,6,1],[19,6,2]])).Q(1),"expo"==i&&(n=new Wt([12,5],0,100,"%")).Q(50),"algnd"==i&&(n=new qt([12,75])).Q(!1),"sfrom"==i&&(n=new Xt([12,70],[[17,1],[17,3],[17,0]])),"qsmode"==i&&(n=new Bt([12,36],[[5,3],[18,1],[18,2]])),"redge"==i&&(n=new Ot([7,11],!1,null,!0)),"setop"==i&&(n=new ie),"patch"==i&&(n=new Bt("Drag to choose",[[12,70],[12,71]])),n.parent=this,this.body.appendChild(n.J),this.Dw[i]=n,"brush"==i?n.O(bt.E.p,this.t$e,this):"redge"==i?n.O("click",this.AD,this):n.O(bt.E.p,this.Mc,this)}}}function si(){ni.call(this),this.data={X:bt.m.q$,uy:"front",jQ:0,$V:{Gh:!0,GS:10},lQ:{yC:0,x:1,y:1}},this.ne=new ie,this.body.appendChild(this.ne.J),this.ne.O(bt.E.p,this.cp,this),this.QM=new Wt([7,6],0,100," px"),this.QM.parent=this,this.QM.Q(0),this.body.appendChild(this.QM.J),this.QM.O(bt.E.p,this.cp,this),this.yI=new Ot([7,11],!1,null,!0),this.body.appendChild(this.yI.J),this.yI.O("click",this.AD,this)}function ai(){ri.call(this,["brush","strn"])}function hi(){ri.call(this,["brush","bmode","opacity","flow","smth"])}function oi(){ri.call(this,["brush","bmode","opacity","flow","smth"])}function li(){ri.call(this,["brush","rng","expo"])}function ui(){ri.call(this,"brush bmode opacity flow algnd sfrom".split(" "))}function fi(){ni.call(this);var t=bt.B("span","fitem");this.body.appendChild(t);var e=[[17,0],[17,1],[11,12],[17,2]];this.ko=[];for(var i=0;i<e.length;i++){var n=new Ot(e[i],!1,null,!0);this.ko.push(n),n.PT(),n.O("click",this.t$s,this),t.appendChild(n.J)}this.lQ=new Yt,this.lQ.O(bt.E.p,this.tJw,this),this.body.appendChild(this.lQ.J),this.tE=new le,this.tE.O("click",this.ki,this)}function ci(){ri.call(this,["brush","rng","expo"])}function pi(){ri.call(this,["brush","opacity","flow","smth"])}function vi(){si.call(this,j.hw),this.lQ=new Yt,this.lQ.O(bt.E.p,this.Ac,this),this.body.appendChild(this.lQ.J)}function di(){ni.call(this),this.SF=new Xt("...",["1x1","3x3","5x5","11x11","31x31"]),this.SF.O(bt.E.p,this.Mc,this),this.body.appendChild(this.SF.J)}function yi(){ni.call(this),this.NV=new Vt(!1),this.NV.parent=this,this.NV.O(bt.E.p,this.lN,this),this.body.appendChild(this.NV.J),this.NV.Q(JSON.parse(ot._Y.j_).v),this.vH=new Xt(null,ot.e.names.slice(0,5)),this.vH.O(bt.E.p,this.lN,this),this.body.appendChild(this.vH.J),this.vL=new Xt([12,19],it.ln,null,it.XL),this.vL.O(bt.E.p,this.lN,this),this.body.appendChild(this.vL.J),this.SX=new Wt([12,0],0,100,"%"),this.SX.parent=this,this.SX.O(bt.E.p,this.lN,this),this.body.appendChild(this.SX.J),this.SX.Q(100),this.vG=new qt([12,23]),this.vG.O(bt.E.p,this.lN,this),this.body.appendChild(this.vG.J)}function gi(){ni.call(this)}function mi(){ri.call(this,["brush","algnd","sfrom"])}function wi(){ni.call(this),this.Ty=new zt,this.Ty.parent=this,this.body.appendChild(this.Ty.li.J),this.body.appendChild(this.Ty.lm.J),this.body.appendChild(this.Ty.jO.J);var t=bt.B("span","fitem");this.body.appendChild(t),t.appendChild(this.Ty.rT.J),t.appendChild(this.Ty.rm.J),t.appendChild(this.Ty.rW.J),this.wE=new Ot([11,9],!1,null,!0),this.wE.O("click",this.tJa,this),this.body.appendChild(this.wE.J),this.tE=new le,this.tE.O("click",this.ki,this)}function bi(){si.call(this)}function xi(){ni.call(this);var t=[],e='<svg  class="autoscale gsicon" viewBox="0 0 14 18" width="14" height="18" fill="black"><path d="M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z" /></svg>';this.nu=new qt([12,85]),this.nu.O(bt.E.p,this.Mc,this),t.push(this.nu.J),this.lR=new qt([20,1]),this.lR.O(bt.E.p,this.Mc,this),t.push(this.lR.J),this.lH=new qt([12,83]),this.lH.O(bt.E.p,this.Mc,this),t.push(this.lH.J);var i=bt.B("span","fitem");t.push(i),this.mA=new Xt("Scale Output",["1x","2x","3x","4x"],!0),i.appendChild(this.mA.J),this.vx=new Ot(e+" PNG",!1,null,!0),this.vx.PT(),i.appendChild(this.vx.J),this.vx.O("click",this.Ah,this),this.yy=new Ot(e+" SVG",!1,null,!0),this.yy.PT(),i.appendChild(this.yy.J),this.yy.O("click",this.Ah,this);var n=bt.B("span","fitem");t.push(n);var r=bt.B("span","fitem");t.push(r),this.$G=[];for(var s=0;s<8;s++){var a=new Ot("Hi",!1,3==s||7==s?[20,4,6]:[20,4,s<3?s:s-1]);(s<4?n:r).appendChild(a.J),a.O("click",this.Ah,this),this.$G.push(a)}for(s=0;s<t.length;s++)this.body.appendChild(t[s]);this.mm=t}function Mi(){si.call(this),this.Wu=new se,this.Wu.O(bt.E.p,this.tJE,this),this.body.appendChild(this.Wu.J)}function Si(){ri.call(this,["setop","patch"])}function Ai(){ri.call(this,["bmode","opacity","wconf"])}function ki(){si.call(this)}function Ci(){si.call(this)}function Ti(){si.call(this),this.lQ=new Yt,this.lQ.O(bt.E.p,this.Ac,this),this.body.appendChild(this.lQ.J)}function Ui(){ni.call(this),this.Ph=[new ne("X",null,3),new ne("Y",null,3),new ne("W",null,3),new ne("H",null,3),new ne([12,15],null,4),new ne([12,80,0],null,4),new Ot("Straighten Layer",!1,null,!0)];for(var t=0;t<this.Ph.length;t++){var e=this.Ph[t];this.body.appendChild(e.J)}this.Ph[6].O("click",this.tJi,this),this.vM=0}function _i(){ri.call(this,["brush","strn","pdetail"])}function Fi(){ri.call(this,["brush"]),this.m_=[];for(var t=[[7,12]],e=0;e<t.length;e++){var i=new Ot(t[e],!1,null,!0);this.m_.push(i),i.parent=this,this.body.appendChild(i.J),i.O("click",this.tJO,this)}}function Oi(){ri.call(this,["brush","strn"])}function Li(){ri.call(this,["brush","flow","smode"])}function Di(){ni.call(this),this.UK=!1;var t=bt.B("span","fitem");this.body.appendChild(t),this.Nx=new Ot('<img src="'+PIMG.zoomIn+'" class="autoscale gsicon" />'),t.appendChild(this.Nx.J),this.Nx.O("click",this.ZX,this),this.va=new Ot('<img src="'+PIMG.zoomOut+'" class="autoscale gsicon" />'),t.appendChild(this.va.J),this.va.O("click",this.ZO,this),this.vX=new Ot([20,2]),this.body.appendChild(this.vX.J),this.vX.O("click",this.Zn,this),this.yD=new Ot([20,3]),this.body.appendChild(this.yD.J),this.yD.O("click",this.Zn,this),this.Nx.PT()}function Ni(t,e){if(ni.call(this),null!=t){this.Dw={};var i=[[12,76,0],[12,76,1]];null==e&&i.push([12,76,2]);for(var n=0;n<t.length;n++){var r=t[n],s=null;"tmode"==r&&(s=new Xt(null,i)).Q(1),"binop"==r&&(s=new Xt(null,[[18,1],[18,2],[18,3],[18,4]])),"pshape"==r&&(s=new Xt(null,["Polygon","Star","Spiral"])),"shape"==r&&(s=new te([12,76,1])),"crad"==r&&(s=new Wt("Corner Radius",0,50,"px")).Q(0),"cstr"==r&&(s=new Yt),"irad"==r&&(s=new Wt("Inner Radius",0,100,"%")).Q(40),"length"==r&&(s=new Wt("Length",4,40)).Q(4),"sides"==r&&(s=new Wt([12,78],3,30)).Q(5),"width"==r&&(s=new Wt([12,41],1,100,"px")).Q(5),"tolr"==r&&(s=new Wt([12,24],0,100)).Q(5),"fstyle"==r&&(s=new It([12,26])),"sstyle"==r&&(s=new ee),s.parent=this,this.body.appendChild(s.J),this.Dw[r]=s,s.O(bt.E.p,this.Mc,this)}}}function Ii(){Ni.call(this,["tmode","fstyle","sstyle","binop"],!0)}function Ei(){Ni.call(this,["tmode","fstyle","sstyle","binop","tolr"])}function Pi(){Ni.call(this,["fstyle","sstyle"]),this.tdL=null,this.sV=null,this.s$=null,this.IV=new Xt("Path",[[18,1],[18,2],[18,3],[18,4]]),this.Qo=new Ot("▼"),this.Qo.PT(),this.lM=new Ot("▲"),this.lM.PT(),this.yG=[this.IV,this.Qo,this.lM];for(var t=0;t<this.yG.length;t++){var e=this.yG[t];this.body.appendChild(e.J),e.parent=this,e.O(0==t?bt.E.p:"click",this.pw,this)}}function Ji(){Ni.call(this,["fstyle","sstyle"])}function Bi(){Ni.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}function Xi(){Ni.call(this,["tmode","fstyle","sstyle","binop","cstr"])}function zi(){Ni.call(this,"tmode fstyle sstyle binop pshape sides irad crad length".split(" ")),this.tLH=[["sides","crad"],["sides","irad","crad"],["length"]],this.Zf()}function $i(){Ni.call(this,["tmode","fstyle","sstyle","binop","width"])}function Vi(){Ni.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}function Ri(){ri.call(this,["brush","qsmode","redge"])}function qi(){if(ni.call(this),null!=window.Typr){this.Vf=null,this.sJ=bt.B("span",""),this.sr=bt.B("span","");for(var t in this.oO={ap:new Wt("X",0,0,"px",1,!1,!0),al:new Wt("Y",0,0,"px",1,!1,!0),fQ:new Wt("W",0,0,["%","px"],1,!1,!0),gO:new Ot("≡",null,[12,51],null),ET:new Wt("H",0,0,["%","px"],1,!1,!0),tLE:new Wt("∡",0,0,"°",1,!1,!0),tLh:new Wt("Skew X",-85,85,"°",1,!1,!0),tLW:new Wt("Skew Y",-85,85,"°",1,!1,!0)},this.oO){this.sJ.appendChild(this.oO[t].J);var e=this.oO[t]==this.oO.gO?"click":bt.E.p;this.oO[t].O(e,this.AQ,this)}this.Wu=new he(!0,!0,!0),this.Wu.O(bt.E.p,this.trT,this),this.Wu.parent=this;var i=this.sr,n=this.Wu;i.appendChild(n.Me.J),i.appendChild(n.VG.J),i.appendChild(n.$j.J),i.appendChild(n.$N.J),i.appendChild(n.Jf.J),this.wE=new Ot([11,9]),this.wE.O("click",this.trv,this),this.hu=new Xt(null,["Nearest","Bilinear"]),this.hu.Q(1),this.hu.O(bt.E.p,this.AQ,this),this.tE=new le,this.tE.O("click",this.ki,this)}}function Hi(){qi.call(this)}function ji(){qi.call(this)}function Gi(){St.call(this),this.J=bt.B("div","cmanager"),this.JX=0,this.ht=0,this.NM=[],this.lp=bt.B("div","droparea");var t=bt.B("div","dropbox");t.innerHTML="Insert into current project";var e=bt.B("div","dropbox");e.innerHTML="Open as new projects",this.lp.appendChild(t),this.lp.appendChild(e),this.yx={},this.yM=bt.B("div","alertcont"),this.J.appendChild(this.yM),this.sH=bt.B("div","alertcont"),this.J.appendChild(this.sH),this.sw=0,bt.oA(document.body,this.tHJ.bind(this))}function Yi(){St.call(this),this.J=bt.B("div","confbar")}function Ki(){St.call(this),this.Np=bt.B("input",""),this.Np.setAttribute("type","file"),this.Np.setAttribute("multiple",""),this.Np.addEventListener("change",function(t){this.U$(t.target.files,null,this.ya,null),this.ya=null}.bind(this),!1),document.body.appendChild(this.Np),this.Np.setAttribute("style","display:none"),this.sI=[],this.yg=!1,this.sy={},this.ya=null}function Qi(){this.size=16,this.data=a.I(16)}function Wi(t){St.call(this),this.vj=t,this.tLB=this.tIG.bind(this),this.sD=this.tIx.bind(this),this.tLU=this.tIM.bind(this),this.lF=0,this.sL=0,this.J=bt.B("div","panelblock"),this.Qb=bt.B("div","block"),this.vK=bt.B("div","collapsed"),this.J.appendChild(this.Qb),this.sC=-1,this.Os=-1,this.yS=!0,this.NB=bt.B("div","panelhead"),this.Qb.appendChild(this.NB),this.lT=bt.B("div",""),this.Qb.appendChild(this.lT),this.UT=[],this.vZ=null,this.fw=null}function Zi(t){Wi.call(this,t),this.sT=0,this.Nk=[],this.fh=[],this.tLe=this.tIm.bind(this),this.sP=this.tIu.bind(this),this.VV=this.LO.bind(this),this.Ue(this.lT),this.Ue(this.NB),this.ve=bt.B("div","intro"),this.qo=["default;"],this.tGr="";var e=bt.B("ul");e.setAttribute("style","margin:0;  padding:160px 0px 0 113px; font-size:1.8em;"),this.ve.appendChild(e),this.$G=[];for(var i=[[11,7],[1,6],"pea.psd","milk.sketch"],r=bt.B("li"),s=0;s<i.length;s++){if(2==s){var h=new Ot("Demo: ");r.appendChild(h.J)}(p=new Ot(i[s])).O("click",this.tIZ,this),r.appendChild(p.J),this.$G.push(p),0!=s&&1!=s&&3!=s&&s!=i.length-1||(e.appendChild(r),r=bt.B("li"))}var o=bt.B("div");o.setAttribute("style","margin:0;  padding:30px 22px 0 26px; font-size:1.1em"),this.ve.appendChild(o),this.tL_={};var l=["en"],u=navigator.languages;if(u)for(s=0;s<u.length;s++){var f=u[s].split("-")[0].toLowerCase();-1==l.indexOf(f)&&l.push(f)}for(s=0;s<l.length;s++){f=l[s];(p=new Ot((-1==n.Dm(f)?"*":"")+f.toUpperCase())).O("click",this.Ad,this),p.yE=f,o.appendChild(p.J),this.tL_[f]=p}var c=bt.B("span");c.setAttribute("style","float:right"),o.appendChild(c);for(s=0;s<Mt.Us.length;s++){var p,v=Mt.Us[s];(p=new Ot('<span style="display:inline-block; width:10px; height:10px; background-color:#'+a.fM(v["--bg-color"])+';"></span>')).O("click",this.Ad,this),p.tCR=s,c.appendChild(p.J)}}function tn(){St.call(this),Mt.bb(1),this.J=bt.B("div","flexrow photopea"),this.fq=bt.B("div"),this.J.appendChild(this.fq),this.Lk={x:0,y:0,Vv:!1},this.trs=!1,this.vA=!1,this.yO=null,this.tDb=0,this.tHZ=0,this.yn=0,bt.N_(27)?bt.ZN=window:bt.ZN=this.J,window.alert=function(t,e){this.pt.alert(t,e),console.log("Alert: "+t)}.bind(this),window.onmessage=function(t){if(t.data instanceof ArrayBuffer){var e=s.Uw(t.data),i=s.aD(e);Ki.Uy({url:"file"},t.data,this),null==i&&this.ct()}else if("{"==t.data.charAt(0)||t.data.startsWith("amp-")||t.data.startsWith("0=goog"))clearTimeout(this.tDd);else{var n=new xt(bt.E.Y,!0);n.data={X:bt.m.Bl,Wv:t.data},this.N(n),this.ct()}}.bind(this),window.onbeforeunload=this.tyW.bind(this),this.Uj={trz:[{c:j.Ft,yl:!0,Vo:[W.sf]},{c:j.mS,yl:!1,Vo:[W.JW]},{c:j.ML,yl:!1,Vo:[W.sf,W.JW]}],iD:[[{c:new j.UP,wR:new xi}],[{c:new j.nk,wR:new Ti},{c:new j.iR,wR:new vi}],[{c:new j.rK,wR:new bi},{c:new j.jn,wR:new ki},{c:new j.Ic,wR:new Ci}],[{c:new j.tI,wR:new Ri},{c:new j.QV,wR:new Mi}],[{c:new j.$p,wR:new fi}],[{c:new j.uS,wR:new di},{c:new j.Qz,wR:new Ui}],"---",[{c:new j.rk,wR:new Fi},{c:new j.as,wR:new mi},{c:new j.nf,wR:new Si}],[{c:new j.sq,wR:new hi},{c:new j.sB,wR:new oi}],[{c:new j.rv,wR:new ui}],[{c:new j.gF,wR:new pi}],[{c:new j.Aa,wR:new yi},{c:new j.V$,wR:new Ai}],[{c:new j.sW,wR:new ai},{c:new j._p,wR:new _i},{c:new j._i,wR:new Oi}],[{c:new j.ss,wR:new ci},{c:new j.sZ,wR:new li},{c:new j._j,wR:new Li}],"---",[{c:new j.fl,wR:new wi}],[{c:new j.au,wR:new Ii},{c:new j.nA,wR:new Ei}],[{c:new j.oh,wR:new Pi},{c:new j.BO,wR:new Ji}],[{c:new j.Rect,wR:new Bi},{c:new j.QJ,wR:new Xi},{c:new j.tu,wR:new $i},{c:new j.ns,wR:new zi},{c:new j.lw,wR:new Vi}],"---",[{c:new j.am,wR:new gi}],[{c:new j.He,wR:new Di}]],keys:[W.Oe,W.OB,W.VN,W.twl,W.JR,W.jt,null,W.OY,W.Op,W.$M,W.E,W.Oi,null,W.OZ,null,W.D,W.yJ,W.m,W.Hr,null,W.Oj,W.$f],gV:[{c:new j.QE,wR:new Hi},{c:new j.Qh,wR:new ji}],yk:[{c:new K.l$},{c:new K.History},{c:new K.YU},{c:new K.cW},{c:new K.sU},{c:new K.lf}],map:{},gm:null,yF:null,fK:null};for(var t={},r=0;r<this.Uj.iD.length;r++){var a=this.Uj.iD[r];if("---"!=a)for(var h=0;h<a.length;h++){this.Uj.map[a[h].c.id]=a[h],a[h].no=r,a[h].tCc=h;var o=n.get(a[h].c.name);"<li>"+a[h].c.id+": "+o+"</li>",t[o]=this.Uj.keys[r]}}for(r=0;r<this.Uj.gV.length;r++)this.Uj.map[this.Uj.gV[r].c.id]=this.Uj.gV[r];for(r=0;r<this.Uj.yk.length;r++)this.Uj.map[this.Uj.yk[r].c.id]=this.Uj.yk[r];for(var l in this.Uj.map){var u=this.Uj.map[l];u.wR&&u.wR.t$n(l,u.c.Xg)}this.TX={tRm:!1,lL:{nw:[],Fy:[],list:[],CU:null},MS:[],IH:[],wg:[],bs:[],tGq:[],tGp:[],aI:[],B_:[],gq:{uV:1,uL:JSON.parse(JSON.stringify(ot.Ks[0]))},ga:JSON.parse(JSON.stringify(ot.nO.default)),sR:[null].concat(ot.Ks),st:[null].concat(ot.Ks),LS:new e,iJ:{vT:[],hj:null,re:null},xq:[],AF:16711680,ze:0,Td:!1,kk:!0,sS:{UL:!0,TN:!1,XB:!0,Qx:!0,Xa:20,eJ:0},PB:!0,EY:[!0,!0,!0,!0,!0],gp:1,fe:!0,jr:!0,compact:!1,ve:!0,jL:null,lD:null,tGQ:null,ym:null,jG:null},this.TX.iJ=dt.tTI(),this.TX.LS.O(bt.E.Y,this.Ai,this),this.gK=new W,this.nB=new hn,this.lJ=new Yi,this.My=new sn(this.Uj,!0),this.rV=new rn,this.qy=new Zi(this),this.Lh=bt.B("div"),this.vk=!1,this.tDd=0,bt.wj(this.qy.J,"mainblock");var f=this.fq;f.addEventListener("drop",this.qy.VV,!1),f.addEventListener("dragover",Zi.ua,!1),f.addEventListener("dragenter",Zi.ua,!1),f.addEventListener("dragleave",Zi.ua,!1),this.nB.parent=this.lJ.parent=this.My.parent=this.rV.parent=this.qy.parent=this,this.qy.O(bt.E.p,this.Ui,this),this.qy.O(bt.E.pH,this.tDA,this),this.qy.O(bt.E.ba,this.tDN,this),this.O("mouse",this.UO,this),this.O(bt.E.W,this.Ly,this),this.O(bt.E.Y,this.Ai,this),document.body.addEventListener("keydown",this.BZ.bind(this),!1),window.addEventListener("keyup",this.cw.bind(this),!1),window.addEventListener("resize",this._Z.bind(this),!1),window.addEventListener("paste",this.tDV.bind(this),!1),window.addEventListener("copy",this.tyj.bind(this),!1),window.addEventListener("blur",function(t){this.gK.reset()}.bind(this),!1),window.addEventListener("beforeinstallprompt",function(t){t.preventDefault(),this.TX.jL=t}.bind(this)),"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js",{scope:"./"}).then((function(t){t.tGm?console.log("Service worker installing"):t.tGF?console.log("Service worker installed"):t.active&&console.log("Service worker active")})).catch((function(t){console.log("Registration failed with "+t)})),this.tHD=0,this.tl=[],this.vY=new Ki,this.vY.parent=this,this.tF=new on,this.tF.parent=this,f.appendChild(this.tF.J),this.pt=new Gi,this.pt.parent=this,f.appendChild(this.pt.J),f.appendChild(this.nB.J),f.appendChild(this.lJ.J);var c=this.tCS=bt.B("div","flexrow");f.appendChild(c),c.appendChild(this.My.J),c.appendChild(this.qy.J),c.appendChild(this.rV.J),this.vY.VD({url:"rsrc/PPBasic.abr"}),this.vY.VD({url:"rsrc/basic.pat"}),this.vY.VD({url:"rsrc/Default Gradients.grd"}),this.vY.VD({url:"rsrc/fa_basic.csh"}),this.vY.VD({url:"rsrc/PPBasic.shc"}),this.VL(j.Ft),i.sA(this.tyJ.bind(this)),this.tCW=this.LR.bind(this),window.requestAnimationFrame(this.tCW)}function en(t){St.call(this),null!=t&&(this.J=bt.B("div","sbar "+t),this.Er=new bt.B("div","top"),this.Er.innerHTML="> <",this.J.appendChild(this.Er),this.jh=1,this.Er.addEventListener("click",this.tcJ.bind(this),!1))}function nn(t){en.call(this,"vcolumn"),this.Dt=t,this.et(),this.kr=bt.B("div"),this.kr.setAttribute("style","cursor:default;"),this.tCu=this.tcr.bind(this),this.twG=this.tcI.bind(this),this.trY=this.tcP.bind(this),bt.oA(this.J,this.tCu),this.J.appendChild(this.kr),this.DV=bt.B("div",""),this.kr.appendChild(this.DV),this.ji=null,this.jb=bt.B("div","float"),this.$a=[],this.tHx=null,this.tLg=0}function rn(){for(var t in St.call(this),this.Sn=null,this.tyV=!0,this.rq=rn.yJ,this.J=bt.B("div","rightbar"),this.la=[new nn(380),new nn(265)],this.$a=[[new Wi,new Wi,new Wi,new Wi],[new Wi,new Wi]],this.rq){var e=this.rq[t];this.$a[e.qq][e.tA].LQ(e.AB)}this.$a[1][0]._v(0)}function sn(t,e){en.call(this,"toolbar"),this.D$=null,this.Ep=bt.B("div","tools"),this.J.appendChild(this.Ep),this.kS=null,this.tTD=e,this.Uj=null,this.UT=null,this.fV=null,this.Ix=null,this.eE(t),this.AF=new Lt,this.AF.O(bt.E.p,this.yh,this),this.AF.parent=this,this.ze=new Lt,this.ze.O(bt.E.p,this.yh,this),this.ze.parent=this,this.Dy=bt.B("span","scont"),this.jz=bt.B("button","switch"),this.jz.textContent="⇵",this.EH=bt.B("button","switch"),this.EH.textContent="D";var i=this.tLS.bind(this);this.jz.addEventListener("click",i,!1),this.EH.addEventListener("click",i,!1),this.Dy.appendChild(this.jz),this.Dy.appendChild(this.EH)}function an(t,e,i,n,r,s){St.call(this),this.lF=0,this.tDo=this.tLp.bind(this),this.no=r,this.tDl=n,this.Do=t,this.tRW=e,this.tTd=s,this.Xg=i,this.J=bt.B("button",""),this.w(),this.J.addEventListener("mousedown",this.nZ.bind(this),!1),this.J.addEventListener("click",this.Ub.bind(this),!1),this.J.addEventListener("mouseover",this.tDo,!1),this.J.addEventListener("contextmenu",an.ua,!1)}function hn(){St.call(this),this.J=bt.B("div","topbar"),this.ED=bt.B("span",""),this.J.appendChild(this.ED),this.$c=null,this.DL=null,this.Aj=[],this.qI=[];for(var t=0;t<hn.data.length;t++){var e=hn.data[t],i=bt.B("button");this.Aj.push(i),this.ED.appendChild(i),i.addEventListener("mousedown",this.nZ.bind(this),!1);var n=new At(e.items);n.parent=this,this.qI.push(n),n.O("select",this.tLF,this)}this.fv=new Ot([0,13,0],!1,null,!0),this.fv.O("click",this.tLl,this),this.J.appendChild(this.fv.J)}function on(){for(var t in St.call(this),this.J=bt.B("div",""),this.DC=0,this.DT=0,this.tA=bt.B("div",""),this.tA.setAttribute("style","width:200em; height:100em; position:absolute;"),this.LW=[],this.yv=[new pe,new De,new Ue,new Oe,new Te,new de,new Le,new Ne,new ge,new Se,new me,new Ce,new we,new Ae,new be,new Pe,new ye,new Je,new Ie,new Ee,new Be,new Xe,new xe,new _e("border",[7,9],"px"),new _e("expand",[7,4],"px"),new _e("contract",[7,5],"px"),new _e("feather",[7,6],"px"),new Fe("namewindow",[12,48])],ue)this.yv.push(new ve(t)),this.yv.push(new Me(t));for(var e in fe)this.yv.push(new Me(e));for(var i=0;i<this.yv.length;i++){var n=this.yv[i];n.O(bt.E.pH,this.tCD,this),n.parent=this}}Mt.bb=function(t){var e=Mt.Us[t],i=document.documentElement.style,n=20;i.setProperty("--bg-color","#"+a.fM(e["--bg-color"])),i.setProperty("--bg-panel","#"+a.fM(e["--bg-panel"])),i.setProperty("--bg-canvas","#"+a.fM(e["--bg-canvas"])),i.setProperty("--bg-input","#"+a.fM(e["--bg-input"])),i.setProperty("--bg-bbtn","#"+a.fM(e["--bg-bbtn"])),i.setProperty("--bg-bbtnOver","#"+a.fM(e["--bg-bbtnOver"])),i.setProperty("--brdr","#"+a.fM(e["--brdr"])),i.setProperty("--text-color","#"+a.fM(e["--text-color"])),i.setProperty("--brdrLgt","rgba(255,255,255,"+e["--brdrLgt"]+")"),i.setProperty("--brdrDrk","rgba(  0,  0,  0,"+e["--brdrDrk"]+")"),i.setProperty("--alphaDark",""+e["--alphaDark"]),i.setProperty("--gs-invert",""+e["--gs-invert"]);var r=e["--sh-clr"];i.setProperty("--sh-clr","rgba("+(r>>16)+","+(r>>8&255)+","+(255&r)+", 0.45)"),i.setProperty("--sh-dy",e["--sh-dy"]+"px"),1<bt.h()&&bt.h()<1.5&&(n/=bt.h()),i.setProperty("--img20",n+"px");var s="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape".split(" ");for(t=0;t<s.length;t++){var h=s[t],o=h.split("/").pop(),l=null==PIMG["__"+h]?e["--gs-invert"]:"0";i.setProperty("--icon_"+o,"url("+PIMG[h]+")"),i.setProperty("--icon_"+o+"_invrt",l)}},Mt.Us=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}],St.prototype=new t,St.prototype.txL=function(t){for(var e=this;null!=e;){if(e==t)return!0;e=e.parent}return!1},St.prototype.Bb=function(){var t=this.J;return t.offsetWidth+t.clientLeft},St.prototype.yB=function(){var t=this.J;return t.offsetHeight+t.clientTop},St.prototype.update=function(t){},St.prototype.N=function(e){t.prototype.N.call(this,e),e.bubbles&&null!=this.parent&&this.parent.N(e)},St.prototype.tD_=function(t){t.stopPropagation(),t.preventDefault()},St.prototype.w=function(){},St.prototype.qQ=function(t){bt.cd(this.J,"disabled")},St.prototype.uI=function(t){bt.wj(this.J,"disabled")},St.prototype.FX=function(t){t?this.qQ():this.uI()},At.prototype=new St,At.prototype.bB=function(t){bt.hk(this.J);for(var e=0;e<t.length;e++)0!=t[e]&&null!=t[e]&&(this.J.appendChild(this.Aj[e]),1!=t[e]&&this.$I[e]&&this.$I[e].bB(t[e]))},At.prototype.w=function(){for(var t=this.tra,e=0;e<t.length;e++)this.JF[e].innerHTML=("string"==typeof t[e].name?t[e].name:n.get(t[e].name))+(t[e].W_?"...":"");for(e=0;e<this.$I.length;e++)this.$I[e]&&this.$I[e].w()},At.prototype.update=function(t,e,i){for(var n=0;n<e.length;n++)if(e[n].V){var r=e[n].V(t,i,n);null!=r.V&&this.Aj[n].setAttribute("class",r.V?"enab":"disab"),null!=r.cg&&(this.JF[n].textContent=r.cg),null!=r.cU&&(this.dH[n].textContent=r.cU?"✓":"")}for(n=0;n<this.$I.length;n++)this.$I[n]&&this.$I[n].update(t,e[n].sub,i)},At.prototype.pa=function(){return this.EA},At.prototype.Ub=function(t){if(0==t.button){var e=this.Aj.indexOf(t.currentTarget);if(this.$I[e])this.Jm=e,this.bZ();else{this.GO=null,this.EA=[e],this.N(new xt("select",!1));var i=new xt(bt.E.Y,!0);i.data={X:bt.m.BG},this.N(i)}}},At.prototype.Bz=function(t){var e=this.Aj.indexOf(t.currentTarget);this.Tj&&(clearTimeout(this.Tj),this.Tj=null),null!=this.$I[e]&&(this.Jm=e,this.Tj=setTimeout(this.trc,300))},At.prototype.txC=function(t){this.Aj.indexOf(t.currentTarget);this.Tj&&(clearTimeout(this.Tj),this.Tj=null)},At.prototype.bZ=function(){this.Tj&&(clearTimeout(this.Tj),this.Tj=null);var t=this.Jm;this.GO&&this.GO.bA(),this.GO=this.$I[t];var e=this.Aj[t].getBoundingClientRect(),i=new xt(bt.E.Y,!0);i.data={X:bt.m.Fe,AB:this.$I[t],x:e.left+e.width+2,y:e.top},this.N(i)},At.prototype.bA=function(){for(var t=0;t<this.$I.length;t++)this.$I[t]&&this.$I[t].bA();var e=new xt(bt.E.Y,!0);e.data={X:bt.m.Il,AB:this},this.N(e)},At.prototype.txh=function(t){var e=this.$I.indexOf(t.target);this.EA=[e].concat(t.target.pa()),this.N(new xt("select",!1))},kt.prototype=new St,kt.prototype.bU=function(t){this.Ey=t},kt.prototype.$v=function(t){this.TC.textContent=t},kt.prototype.w=function(){var t="string"==typeof this.Do?this.Do:n.get(this.Do);this.TC.textContent=t+":"},kt.prototype.Q=function(t){this.oG==this.uA||(t=Math.max(this.oG,t)),0==this.Ey&&(t=Math.round(t));var e=this.r$;this.IT.value=(0!=this.Ey?t.toFixed(this.Ey):t)+(this.trX&&e?(e.toLowerCase()==e.toUpperCase()?"":" ")+e:"");var i=400*Math.pow((t-this.oG)/(this.uA-this.oG),1/2.7);this.Nz.value=this.Gf?i:t},kt.prototype.v=function(){return parseFloat(this.IT.value)},kt.prototype.xx=function(){return this.r$},kt.prototype.cp=function(t){var e=0;if(t.currentTarget==this.IT){for(var i=t.target.value,n=0;n<i.length&&("."==i.charAt(n)||48<=i.charCodeAt(n)&&i.charCodeAt(n)<=57);)n++;e=parseFloat(i);var r=i.slice(n).trim();this.Js&&-1!=this.Js.indexOf(r)&&(this.r$=r)}else{if(Date.now()-this.qn<10)return;e=t.target.value,this.Gf&&(e=this.oG+Math.pow(e/400,2.7)*(this.uA-this.oG))}this.Q(e),this.lN()},kt.prototype.lN=function(){this.N(new xt(bt.E.p))},kt.prototype.BZ=function(t){var e=0;W.Kd(t.code,W.fS)&&(e=1),W.Kd(t.code,W.fO)&&(e=-1),0!=e&&this.bk(e,t.shiftKey)},kt.prototype.Dg=function(t){this.bk(t.deltaY>0?-1:1,t.shiftKey)},kt.prototype.bk=function(t,e){var i=this.Ey,n=t*(null==i||0==i?1:.1);e&&(n*=10);var r=this.v()+n;this.Gf||(r=Math.min(this.uA,r)),this.Q(r),this.lN()},kt.prototype.tRD=function(t){var e=Date.now()-this.qn;if(this.qn=Date.now(),!(e>300)){var i=(this.uA+this.oG)/2;this.oG<0&&this.uA>0?i=0:this.oG<1&&this.uA>1&&this.uA<10&&(i=1),this.Q(i),this.lN()}},kt.prototype.tRO=function(t){bt.ny(document,this.dw),bt.nL(document,this.dI),this.Gj=bt.qF(t,document.body).x,this.GB=this.v()},kt.prototype.tRK=function(t){var e=this.oG==this.uA,i=bt.qF(t,document.body).x,n=(i-this.Gj)*(e?1:1/120*(this.uA-this.oG)),r=this.GB+n;e&&(r=Math.round(r)),e||((r=Math.max(this.oG,r))==this.oG&&(this.Gj=i,this.GB=this.oG),this.Gf||(r=Math.min(this.uA,r))==this.uA&&(this.Gj=i,this.GB=this.uA)),this.Q(r),this.lN()},kt.prototype.tRY=function(t){bt.vD(document,this.dw),bt.cQ(document,this.dI)},Ct.prototype=new St,Ct.prototype.w=function(){this.TA&&this.TA.w()},Ct.prototype.aQ=function(t){this.N(new xt("del"))},Ct.prototype.mx=function(t,e,i,n){this.UT=[],this.J.innerHTML="";for(var r=0;r<t.length;r++){var s=bt.B("img","image");i&&bt.gx(s,i,n),this.tHr&&bt.wj(s,"gsicon");var a=t[r];s.setAttribute("src",a),e&&s.setAttribute("title",e[r]),s.addEventListener("mousedown",this.xa.bind(this),!1),this.J.appendChild(s),this.UT.push(s)}},Ct.prototype.xa=function(t){if(this.Os=this.UT.indexOf(t.target),0==t.button&&this.N(new xt(bt.E.p)),2==t.button&&this.TA){var e=this.TA;e.update(null,this.lt);var i=bt.qF(t,document.body),n=new xt(bt.E.Y,!0);n.data={X:bt.m.Fe,AB:e,x:i.x,y:i.y+2},this.N(n)}},Ct.prototype.v=function(){return this.Os},Ct.prototype.Du=function(t){for(var e=0;e<this.UT.length;e++){var i=this.UT[e];e==t?bt.wj(i,"active"):bt.cd(i,"active")}},Tt.prototype=new St,Tt.prototype.tRb=function(t){this.pS(t),this.ut.Du(this.ut.v())},Tt.prototype.tRu=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.u_,fa:"del",gg:this.dD,gB:[this.ut.v()]},this.N(e)},Tt.prototype.zI=function(){},Tt.prototype.w=function(){this.TA.w(),this.ut.w();var t=this.Do;if(null!=t){var e="string"==typeof t?t:n.get(t);this.TC.textContent=e+":"}},Tt.prototype.$v=function(t){this.TC.textContent=t},Tt.prototype.aA=function(t){this.TM=t,this.ia=!0},Tt.prototype.aQ=function(t){var e=t.target.pa()[0];null==this.dL&&e++;var i=new xt(bt.E.Y,!0);0==e&&(i.data={X:bt.m.u_,fa:"add",gg:this.dL,Tb:this.be()}),1==e&&(i.data={X:bt.m.pD}),2==e&&(i.data={X:bt.m.bY,tHa:this.dD}),this.N(i)},Tt.prototype.be=function(){return[this.v()]},Tt.prototype.tR_=function(t){var e=this.TA,i=this.lt;e.update(null,i);var n=t.currentTarget.getBoundingClientRect(),r=new xt(bt.E.Y,!0);r.data={X:bt.m.Fe,AB:e,x:n.left,y:n.top+n.height},this.N(r)},Tt.prototype.Fu=function(t){this._I();var e=this.X.getBoundingClientRect(),i=new xt(bt.E.Y,!0);i.data={X:bt.m.Fe,AB:this.aC,x:e.left,y:e.top+e.height,tHS:!0},this.N(i)},Ut.prototype=new St,Ut.prototype.w=function(){var t="string"==typeof this.Do?this.Do:n.get(this.Do);this.TC.textContent=t+":"},Ut.prototype.$v=function(t){this.TC.textContent=t},Ut.prototype.v=function(){return{PQ:this.PQ,alt:this.alt}},Ut.prototype.Q=function(t,e){null!=t&&(this.PQ=t),null!=e&&(this.alt=e),this.IT.value=this.PQ,t=Math.PI*this.PQ/180,e=.9*this.eH*(90-this.alt)/90;var i=this.eH+.5,n=this._m;n.clearRect(0,0,100,100),n.strokeStyle="#000000",n.beginPath(),n.arc(i,i,.9*this.eH,0,2*Math.PI),n.moveTo(i,i),n.lineTo(i+Math.cos(t)*this.eH*.9,i-Math.sin(t)*this.eH*.9),n.stroke(),n.strokeStyle="#ff0000",n.beginPath(),n.moveTo(i+Math.cos(t)*e-3,i-Math.sin(t)*e),n.lineTo(i+Math.cos(t)*e+3,i-Math.sin(t)*e),n.moveTo(i+Math.cos(t)*e,i-Math.sin(t)*e-3),n.lineTo(i+Math.cos(t)*e,i-Math.sin(t)*e+3),n.stroke()},Ut.prototype.cp=function(t){var e=parseInt(this.IT.value);e%=360,this.Q(e),this.N(new xt(bt.E.p,!1))},Ut.prototype.uB=function(t){bt.ny(window,this.tQ),bt.nL(window,this.tO),this.Ll(t)},Ut.prototype.Ll=function(t){var e=bt.qF(t,this.rP),i=e.x-this.eH,n=e.y-this.eH,r=180*Math.atan2(-n,i)/Math.PI,s=90-90*Math.min(1,Math.sqrt(i*i+n*n)/(.9*this.eH));this.Q(Math.round(r),Math.round(s)),this.N(new xt(bt.E.p,!1))},Ut.prototype.uZ=function(t){this.N(new xt(bt.E.p,!1)),bt.vD(window,this.tQ),bt.cQ(window,this.tO)},_t.prototype=new St,_t.prototype.w=function(){var t="string"==typeof this.Do?this.Do:n.get(this.Do);this.TC.textContent=t+":"},_t.prototype.$v=function(t){this.TC.textContent=t},_t.prototype.v=function(){return this.$$},_t.prototype.Q=function(t){this.$$=t;var e=this.rP.width,i=Math.floor(t/3),n=(t-3*i+.5)*e/3,r=(i+.5)*e/3,s=this._m,a=[.5,Math.round(e/3)+.5,Math.round(2*e/3)+.5,e-.5];s.clearRect(0,0,e,e),s.setLineDash([]),s.strokeStyle=s.fillStyle="#000000",s.beginPath();for(var h=0;h<4;h++){var o=a[h];s.moveTo(o,0),s.lineTo(o,e),s.moveTo(0,o),s.lineTo(e,o)}s.stroke(),s.setLineDash([1,2]);var l=.53*e,u=Math.max(0,Math.min(e-l,n-l/2)),f=Math.max(0,Math.min(e-l,r-l/2));s.strokeRect(Math.round(u)+.5,Math.round(f)+.5,Math.round(l),Math.round(l)),s.beginPath(),s.arc(n,r,e/8,0,2*Math.PI),s.fill()},_t.prototype.uB=function(t){bt.ny(window,this.tQ),bt.nL(window,this.tO),this.Ll(t)},_t.prototype.Ll=function(t){var e=bt.qF(t,this.rP),i=Math.max(0,Math.min(2,Math.floor(e.x/(41/3)))),n=Math.max(0,Math.min(2,Math.floor(e.y/(41/3))));this.Q(3*n+i)},_t.prototype.uZ=function(t){this.N(new xt(bt.E.p,!1)),bt.vD(window,this.tQ),bt.cQ(window,this.tO)},Ft.prototype=new Tt,Ft.prototype.Fu=function(t){this._I();var e=this.J.getBoundingClientRect(),i=new xt(bt.E.Y,!0);i.data={X:bt.m.Fe,AB:this.aC,x:e.left,y:e.top+e.height},this.N(i)},Ft.prototype.Q=function(t,e,i){this.M$=JSON.parse(JSON.stringify(t));var n=Math.floor(20*bt.h()),r=Math.floor(36*bt.h()),s=Math.floor(24*bt.h()),a=ct.uU(t,e,i,n,s,r);this.Fx.setAttribute("src",a),bt.gx(this.Fx,r,s);var h=t.Brsh.v;this.EC.Q(h.Dmtr.v.val),null!=h.Hrdn?(this.lV.qQ(),this.lV.Q(h.Hrdn.v.val)):this.lV.uI(),this.ut.Du(-1)},Ft.prototype.be=function(){return{list:[{t:"Objc",v:this.v()}],Fy:[],nw:[]}},Ft.prototype.v=function(){return this.M$},Ft.prototype._I=function(){if(this.ia){for(var t=[],e=[],i=this.TM,n=Math.floor(33*bt.h()),r=Math.floor(40*bt.h()),s=0;s<i.list.length;s++){var a=i.list[s].v,h=ct.uU(a,i.Fy,i.nw,n,r);t.push(h),e.push(a.Nm.v.split("=").pop())}this.ut.mx(t,e,n,r),this.ia=!1}},Ft.prototype.pS=function(t){var e=this.TM;this.Q(e.list[this.ut.v()].v,e.Fy,e.nw),this.N(new xt(bt.E.p))},Ft.prototype.w=function(){Tt.prototype.w.call(this),this.EC.w(),this.lV.w()},Ft.prototype.bN=function(t){var e=this.TM,i=this.M$;i.Brsh.v.Dmtr.v.val=this.EC.v(),null!=i.Brsh.v.Hrdn&&(i.Brsh.v.Hrdn.v.val=this.lV.v()),this.Q(i,e.Fy,e.nw),this.N(new xt(bt.E.p))},Ot.prototype=new St,Ot.prototype.w=function(){var t="string"==typeof this.Do?this.Do:n.get(this.Do);if(this.J.innerHTML=t,this.EG){var e="string"==typeof this.EG?this.EG:n.get(this.EG);this.J.setAttribute("title",e)}},Ot.prototype.tcV=function(t){this.J.setAttribute("title",t)},Ot.prototype.xa=function(t){this.N(new xt("click",!1))},Ot.prototype.PT=function(){bt.wj(this.J,"active")},Ot.prototype.vl=function(){bt.cd(this.J,"active")},Ot.prototype.$v=function(t,e){t&&(this.Do=t),e&&(this.EG=e),this.w()},Ot.prototype.Q=function(t){t?this.PT():this.vl()},Ot.prototype.Tv=function(){return-1!=this.J.getAttribute("class").indexOf("active")},Ot.prototype.v=function(){return this.Tv()},Lt.prototype=new St,Lt.prototype.w=function(){},Lt.prototype.bF=function(t){this.rw!=t&&(this.rw=t,this.zD())},Lt.prototype.xa=function(t){var e=this.Fa,i=new xt(bt.E.Y,!0);i.data={X:bt.m.gI,gL:"colorpicker",nx:e.T<<16|e.q<<8|e.H,rI:this.yh.bind(this),rc:this.Ga},this.N(i)},Lt.prototype.yh=function(t){this.kI(t),this.N(new xt(bt.E.p))},Lt.prototype.ttq=function(){this.xa(null)},Lt.prototype.zy=function(){var t=this.Fa;return t.T<<16|t.q<<8|t.H},Lt.prototype.v=function(){return a.e.Ta(this.Fa)},Lt.prototype.kI=function(t){this.Fa={T:t>>16&255,q:t>>8&255,H:255&t},this.zD()},Lt.prototype.Q=function(t){this.Fa=a.e.NG(t),this.zD()},Lt.prototype.zD=function(){var t=this.Fa,e=t.T,i=t.q,n=t.H;this.rw&&(e=i=n=Math.round(a.YK(e,i,n)));var r=e<<16|i<<8|n;this.J.setAttribute("style","background-color:#"+a.fM(r))},Dt.prototype=new St,Dt.prototype.ttU=function(t){this.dC=this.$G.indexOf(t.currentTarget),this.N(new xt(bt.E.p))},Dt.prototype.v=function(){return this.qb[this.dC]},Dt.prototype.Q=function(t){var e=this.qb,i=e.indexOf(t);-1!=i?e.splice(i,1):e.pop(),e.unshift(t),this.TE()},Dt.prototype.TE=function(){for(var t=0;t<this.qb.length;t++)this.$G[t].setAttribute("style","background-color:#"+a.fM(this.qb[t]))},Nt.prototype=new Tt,Nt.prototype.pS=function(t){this.Q(this.TM[t.target.v()]),this.N(new xt(bt.E.p))},Nt.prototype.zI=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.gI,gL:"contoureditor",C:this.M$,response:this.tts.bind(this)},this.N(e)},Nt.prototype.tts=function(t){this.Q(t),this.N(new xt(bt.E.p))},Nt.prototype._I=function(){if(this.ia){for(var t=Math.floor(38*bt.h()),e=Math.floor(38*bt.h()),i=[],n=[],r=this.TM,s=0;s<r.length;s++)n.push(r[s].Nm?r[s].Nm.v:""),i.push(a.kv.uU(r[s].Crv.v,t,e));this.ut.mx(i,n,t,e),this.ia=!1}},Nt.prototype.Q=function(t){this.M$=JSON.parse(JSON.stringify(t));for(var e=this.M$.Crv.v,i=0;i<e.length;i++)null==e[i].v.Cnty&&(e[i].v.Cnty={t:"bool",v:!0});this.fC()},Nt.prototype.fC=function(){var t=Math.floor(30*bt.h()),e=Math.floor(30*bt.h()),i=a.kv.uU(this.M$.Crv.v,t,e);this.Fx.setAttribute("src",i),bt.gx(this.Fx,t,e)},Nt.prototype.v=function(){return JSON.parse(JSON.stringify(this.M$))},It.prototype=new St,It.prototype.qB=function(t,e){e==Q.Sd&&(this.dT=[],this.dd=[],this.qs&&this.Q(this.$c,this.v(),this.qs)),this.Sn=t,this.uE.qB(t,e),this.uo.qB(t,e)},It.prototype.w=function(){this.TC.textContent=n.get(this.TB)+": ",this.rL.w(),this.sb.w(),this.uE.w(),this.uo.w()},It.prototype.pw=function(t){var e=t.currentTarget;if(e==this.rL){var i=this.rL.v(),n={uV:i,uL:this.qs[i]};i>0&&null==n.uL&&(n.uL=JSON.parse(JSON.stringify(ot.Ks[i-1]))),this.qs&&this.Q(this.$c,n,this.qs)}e==this.xD&&this.sb.kI(e.v()),this.N(new xt(bt.E.p,!1))},It.prototype.Fu=function(t){var e=this.rP.getBoundingClientRect(),i=new xt(bt.E.Y,!0);i.data={X:bt.m.Fe,AB:this.aC,x:e.left,y:e.top+e.height+4},this.N(i),this.xD.Q(this.sb.zy())},It.prototype.Q=function(t,e,i){this.qs=i,this.$c=t;for(var n,r=this.dT,s=this.dd,a=!1,h=0;h<4;h++){var o={uV:h,uL:i[h]},l=It.BH(o);if(s[h]!=l){a=!0;var u=It.Bw(null,o,this.Sn,this.$c,22,22,!1);r[h]='<img width="22" height="22" src="'+u+'" />',s[h]=l}}a&&this.rL.ea(r,[[13,1,0],[13,0],[12,37],[12,62]]),this.rL.Q(e.uV),(l=It.BH(e))!=this.dG&&It.Bw(this._m,e,this.Sn,this.$c,30,23,!0),this.dG=l;var f=e.uV;0==f&&(n=this.tHn),1==f&&(this.sb.Q(e.uL.Clr.v),n=this.lP),2==f&&(this.uE.update(t,e.uL),n=this.EM),3==f&&(this.uo.update(t,e.uL),n=this.Eg),n!=this.xy&&(null!=this.xy&&this.aC.J.removeChild(this.xy),this.aC.J.appendChild(n),this.xy=n)},It.prototype.v=function(){var t={uV:this.rL.v()};return 1==t.uV&&(t.uL=JSON.parse(JSON.stringify(ot.Ks[0])),t.uL.Clr.v=this.sb.v()),2==t.uV&&(t.uL=this.uE.v()),3==t.uV&&(t.uL=this.uo.v()),t},It.BH=function(t){var e=t.uV,i=t.uL,n="empty";return 1==e&&(n=(n=a.e.NG(i.Clr.v)).T+","+n.q+","+n.H),2==e&&(n=JSON.stringify(i.Grad.v)),3==e&&(n=i.Ptrn.v.Idnt.v),n},It.Bw=function(t,e,i,n,r,s,h){null==t&&(t=It._m);var o=Math.floor(r*bt.h()),l=Math.floor(s*bt.h()),u=t.canvas;u.width=o,u.height=l,bt.gx(u,o,l);var f=e.uV;if(0==f&&(t.fillStyle="#ffffff",t.fillRect(0,0,o,l),t.strokeStyle="#ff0000",t.lineWidth=2,t.moveTo(0,0),t.lineTo(o,l),t.moveTo(0,l),t.lineTo(o,0),t.stroke()),1==f){var c=e.uL.Clr.v;c=a.e.NG(c),t.fillStyle="#"+a.fM(c.T<<16|c.q<<8|c.H),t.fillRect(0,0,o,l)}if(2==f&&j.Aa.uU(e.uL.Grad.v,o,l,0,i.AF,i.ze,u),3==f){var p,v=e.uL.Ptrn.v;null!=n&&(p=lt.bE(v,n.add.Patt)),null==p&&(p=lt.bE(v,i.wg)),Et.uU(p,o,l,u)}if(h){t.beginPath(),t.strokeStyle="#000000",t.fillStyle="#ffffff",t.lineWidth=2;var d=.7*o,y=Math.floor(.7*l),g=7*bt.h();t.moveTo(d,y),t.lineTo(d+g,y),t.lineTo(d+g/2,y+g/2),t.closePath(),t.stroke(),t.fill()}if(t==It._m)return u.toDataURL()},It._m=bt.B("canvas").getContext("2d"),Et.prototype=new Tt,Et.prototype.pS=function(t){var e=this.TM[this.ut.v()];this.M$={classID:"Ptrn",Nm:{t:"TEXT",v:e.name},Idnt:{t:"TEXT",v:e.id}},this.N(new xt(bt.E.p)),this.fC()},Et.prototype._I=function(){if(this.ia){for(var t=this.TM,e=Math.floor(34*bt.h()),i=Math.floor(34*bt.h()),n=[],r=[],s=0;s<t.length;s++)n.push(Et.uU(t[s],e,i)),r.push(t[s].name);this.ut.mx(n,r,e,i),this.ia=!1}},Et.prototype.Q=function(t,e){this.M$&&t.Idnt.v==this.M$.Idnt.v||(this.M$=JSON.parse(JSON.stringify(t)),this.fC(e))},Et.prototype.v=function(){return JSON.parse(JSON.stringify(this.M$))},Et.prototype.fC=function(t){var e,i=Math.floor(50*bt.h()),n=Math.floor(50*bt.h());null!=t&&(e=lt.bE(this.M$,t.add.Patt)),null==e&&(e=lt.bE(this.M$,this.TM));var r=Et.uU(e,i,n);this.Fx.setAttribute("src",r),bt.gx(this.Fx,i,n)},Et.ql=bt.B("canvas",""),Et.uU=function(t,e,i,n){null==n&&(n=Et.ql);var r=n.getContext("2d");if(n.width=e,n.height=i,t){var s=t.lU.$,h=t.lU.z,o=t.nn,l=Math.min(e/s,i/h),u=l;u*s<2&&(u=2/s);var f=l;f*h<2&&(f=2/h);var p=j._.Qk([o,t.lU],new c(u,0,0,f,0,0),!1),v=p.rect.$,d=p.rect.z,y=r.createImageData(v,d);a.sa(p.buffer,y.data),r.putImageData(y,Math.floor((e-v)/2),Math.floor((i-d)/2))}return n.toDataURL()},Pt.prototype=new Tt,Pt.prototype.pS=function(t){this.M$=JSON.parse(JSON.stringify(this.TM[0][this.ut.v()])),this.N(new xt(bt.E.p))},Pt.prototype._I=function(){var t=this.TM;if(null!=t&&this.ia){for(var e=Math.floor(50*bt.h()),i=Math.floor(50*bt.h()),n=[],r=[],s=0;s<t[0].length;s++)n.push(Pt.uU(this.TM[0][s].PH,e,i,this.TM[1])),r.push(t[0][s].VI.Nm.v.split("=").pop());this.ut.mx(n,r,e,i),this.ia=!1}},Pt.prototype.Q=function(t,e,i,n){this.M$=JSON.parse(JSON.stringify(t)),this.fC(e,i,n),this.ut.Du(-1)},Pt.prototype.v=function(){return JSON.parse(JSON.stringify(this.M$))},Pt.prototype.fC=function(t,e,i){var n=Math.floor(68*bt.h()),r=Math.floor(68*bt.h()),s=Pt.uU(this.M$.PH,n,r,t||this.TM[1],e,i);this.Fx.setAttribute("src",s),bt.gx(this.Fx,n,r)},Pt.uU=function(t,e,i,n,r,h){var o=new at;o.$=e,o.z=i,o.buffer=a.I(e*i*4),o.add.Patt=n,o.wh(null==r?90:r),o.Hq(null==h?30:h);var l=new L(0,0,Math.round(.5*e),Math.round(.5*i));l.x=Math.round((e-l.$)/2),l.y=Math.round((i-l.z)/2);var f=o.Zs();f.rect=l,f.buffer=a.I(4*l.f()),a.Mw(f.buffer,4284045657),lt.KO(t,f,50),o.b.push(f),o.f$(),o.r();var c=u.Yv;u.Yv=!1,o.LD();var p=o.cn();return u.Yv=c,s.Km(p,o.$,o.z)},Jt.prototype=new St,Jt.prototype.Q=function(t,e){var i=JSON.stringify(t);i!=JSON.stringify(this.hc)&&(this.mode=256==t.length?1:0,this.hc=JSON.parse(i),null!=e&&(this.Ko=this.hc[e]),this.Uz())},Jt.prototype.v=function(){return JSON.parse(JSON.stringify(this.hc))},Jt.prototype.BI=function(){return this.hc.indexOf(this.Ko)},Jt.prototype.uB=function(t){var e=bt.qF(t,this.rP),i=e.x,n=256-e.y;if(this.xc){var r=i;i=256-n,n=r}if(this.yd.kR(i,n),0==this.mode){for(var s=null,h=0;h<this.hc.length;h++){var o=this.hc[h].v;Math.sqrt((o.Hrzn.v-i)*(o.Hrzn.v-i)+(o.Vrtc.v-n)*(o.Vrtc.v-n))<5&&(s=this.hc[h])}null==s&&(s=a.kv.oS(i,n,!0),this.hc.push(s)),this.Ko=s}bt.ny(document.body,this.t_),bt.nL(document.body,this.Vt),this.Ll(t)},Jt.prototype.Ll=function(t){var e=bt.qF(t,this.rP),i=e.x,n=256-e.y;if(this.xc){var r=i;i=256-n,n=r}if(0==this.mode){var s=this.hc,a=this.tHl,h=s.indexOf(this.Ko),o=0==h||h==s.length-1,l=0,u=255,f=!0;o&&(l=1,u=254),a&&o||(this.Ko.v.Hrzn.v=Math.max(l,Math.min(u,Math.round(i)))),this.Ko.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(n)));for(var c=0;c<s.length;c++)s[c]!=this.Ko&&Math.abs(s[c].v.Hrzn.v-this.Ko.v.Hrzn.v)<2&&(f=!1);(i<0||i>255||n<0||n>255)&&(f=!1),f&&-1==s.indexOf(this.Ko)&&s.push(this.Ko),f||-1==s.indexOf(this.Ko)||!(s.length>2)||a&&o||s.splice(s.indexOf(this.Ko),1),s[0].v.Hrzn.v==s[1].v.Hrzn.v&&(0==s[0].v.Hrzn.v?s[1].v.Hrzn.v=1:s[0].v.Hrzn.v--),s.sort((function(t,e){return t.v.Hrzn.v-e.v.Hrzn.v}))}else{i=Math.max(0,Math.min(255,i)),n=Math.max(0,Math.min(255,n));var p=this.yd.x,v=i,d=this.yd.y,y=n;if(i<this.yd.x&&(v=p,p=i,y=d,d=n),this.hc[i]=n,p!=v)for(var g=p;g<=v;g++)this.hc[g]=Math.round(d+(g-p)*(y-d)/(v-p))}this.yd.kR(i,n),this.Uz(),this.N(new xt(bt.E.p))},Jt.prototype.uZ=function(t){bt.vD(document.body,this.t_),bt.cQ(document.body,this.Vt),this.N(new xt(bt.E.p))},Jt.prototype.Uz=function(){var t=this._m;t.fillStyle="#ffffff",t.fillRect(0,0,256,256),t.strokeStyle="#aaaaaa",t.lineWidth=1,t.beginPath();for(var e=1;e<4;e++)t.moveTo(0,64*e-.5),t.lineTo(255,64*e-.5),t.moveTo(64*e-.5,0),t.lineTo(64*e-.5,255);if(t.stroke(),this.xc&&(t.save(),t.transform(0,1,-1,0,256,0)),0==this.mode){var i=this.hc,n=a.kv.tH(i,256);t.strokeStyle="#000000",t.beginPath(),t.moveTo(0,255.5-n[0]);for(e=0;e<256;e++)t.lineTo(e,255.5-n[e]);t.stroke(),t.lineWidth=2;for(e=0;e<i.length;e++){var r=i[e].v;t.fillStyle=this.Ko==i[e]?"#333":"#fff",t.beginPath(),t.moveTo(r.Hrzn.v,255.5-r.Vrtc.v),t.arc(r.Hrzn.v,255.5-r.Vrtc.v,3,0,2*Math.PI),t.stroke(),t.fill()}}else{n=this.hc;t.strokeStyle="#000000",t.beginPath(),t.moveTo(0,255.5-n[0]);for(e=0;e<256;e++)t.lineTo(e,255.5-n[e]);t.stroke()}this.xc&&t.restore()},Bt.prototype=new St,Bt.prototype.$v=function(t){this.Do=t,this.w()},Bt.prototype.w=function(){if(null!=this.Do){var t="string"==typeof this.Do?this.Do:n.get(this.Do);this.TC.textContent=t+": "}for(var e=0;e<this.Fr.length;e++)this.Fr[e].w()},Bt.prototype.v=function(){return this.Os},Bt.prototype.ea=function(t,e){for(;this.Fr.length>0;)this.J.removeChild(this.Fr.pop().J);this.Ev=t;for(var i=0;i<t.length;i++){var n=new Ot(t[i],!1,e?e[i]:null);n.O("click",this.cp,this),this.J.appendChild(n.J),this.Fr.push(n)}this.w()},Bt.prototype.Q=function(t){this.Os=t;for(var e=0;e<this.Fr.length;e++)this.Fr[e].vl();this.Fr[t].PT()},Bt.prototype.cp=function(t){var e=this.Fr.indexOf(t.target);this.Q(e),this.N(new xt(bt.E.p,!1))},Xt.prototype=new St,Xt.prototype.$v=function(t){this.Do=t,this.w()},Xt.prototype.w=function(){if(null!=this.Do){var t="string"==typeof this.Do?this.Do:n.get(this.Do);this.twt?this.GX.setAttribute("title",t):this.TC.textContent=t+":"}this.Ev&&this.ea(this.Ev,this.dx),this.Q(this.Os)},Xt.prototype.v=function(){return this.Os},Xt.prototype.ea=function(t,e){bt.hk(this.GX);var i=[],r=0;if(e){i.push(e[0]);for(var s=1;s<e.length;s++)i.push(i[s-1]+e[s])}this.Ev=t,this.xL=[],this.dx=e;for(s=0;s<t.length;s++){var a=bt.B("option");if("string"==typeof t[s]?a.textContent=t[s]:a.textContent=n.get(t[s]),a.setAttribute("value",s),this.GX.appendChild(a),this.Fr.push(a),this.xL.push(s+r),-1!=i.indexOf(s+1)&&s!=t.length-1){var h=bt.B("option");h.setAttribute("disabled",""),h.textContent="",this.GX.appendChild(h),r++}}},Xt.prototype.Q=function(t){this.Os=t,this.GX.selectedIndex=this.xL[t]},Xt.prototype.cp=function(t){this.Os=this.xL.indexOf(this.GX.selectedIndex),this.N(new xt(bt.E.p,!1))},zt.prototype=new St,zt.prototype.w=function(){this.li.w(),this.lm.w(),this.fJ.w(),this.jc.w(),this.pc.w(),this.pv.w()},zt.prototype.zc=function(t){this.iJ=JSON.parse(JSON.stringify(t.iJ));var e=this.iJ,i=e.hj,n=e.re;this.xC.Q(i.FauxItalic),this.xG.Q(2==i.FontCaps),this.xM.Q(1==i.FontCaps),this.xS.Q(1==i.FontBaseline),this.xg.Q(2==i.FontBaseline),this.xE.Q(i.Underline),this.xW.Q(i.Strikethrough),this.li.Q(null==i.Font?null:e.vT[i.Font].Name,t.LS,t.xq);var r=null==i.FontSize?20:i.FontSize;if(this.lm.Q(r),this.jc.Q(i.Tracking),i.AutoLeading?this.fJ.Q("Auto"):this.fJ.Q(i.Leading),this.EB.Q(100*i.VerticalScale),this.Ez.Q(100*i.HorizontalScale),this.pc.Q(i.BaselineShift),i.FillColor){var s=dt.NG(i);this.jO.kI(Math.round(s.T)<<16|Math.round(s.q)<<8|Math.round(s.H))}else this.jO.kI(0);for(var a=n._Direction?n._Direction:0,h=dt.Io(n),o=0;o<this.px.length;o++)this.px[o].Q(h==o);this.pv.Q(a),this.EZ.Q(n.StartIndent),this.EU.Q(n.EndIndent),this.Em.Q(n.FirstLineIndent),this.h$.Q(n.SpaceBefore),this.ha.Q(n.SpaceAfter)},zt.prototype.Id=function(){var t=new xt(bt.E.Y,!0);t.data={X:bt.m.u_,gg:Q.vw,iJ:this.iJ},this.N(t)},zt.prototype.ttu=function(t){var e=this.iJ.hj,i=t.target,n=!i.Tv();i==this.xC&&(e.FauxItalic=n),i==this.xG&&(e.FontCaps=n?2:0),i==this.xM&&(e.FontCaps=n?1:0),i==this.xS&&(e.FontBaseline=n?1:0),i==this.xg&&(e.FontBaseline=n?2:0),i==this.xE&&(e.Underline=n),i==this.xW&&(e.Strikethrough=n),this.Id()},zt.prototype.Py=function(t){var e=this.iJ.hj,i=this.iJ.re,n=t.target;if(n==this.jc&&(e.Tracking=this.jc.v()),n==this.fJ){var r=this.fJ.v().toLowerCase();e.AutoLeading="auto"==r,e.Leading="auto"==r?40:parseInt(r)}n==this.EB&&(e.VerticalScale=n.v()/100),n==this.Ez&&(e.HorizontalScale=n.v()/100),n==this.pc&&(e.BaselineShift=n.v()),-1!=this.px.indexOf(n)&&(i.Justification=dt.Io(i,this.px.indexOf(n))),n==this.EZ&&(i.StartIndent=n.v()),n==this.EU&&(i.EndIndent=n.v()),n==this.Em&&(i.FirstLineIndent=n.v()),n==this.h$&&(i.SpaceBefore=n.v()),n==this.ha&&(i.SpaceAfter=n.v()),n==this.pv&&(i._Direction=n.v()),this.Id()},zt.prototype.tVH=function(t){for(var e=this.iJ,i=this.li.v(),n=-1,r=0;r<e.vT.length;r++)e.vT[r].Name==i&&(n=r);if(-1==n){n=e.vT.length;var s=JSON.parse(JSON.stringify(e.vT[0]));s.Name=i,e.vT.splice(n,0,s)}e.hj.Font=n,this.Id()},zt.prototype.tVd=function(t){var e=parseFloat(this.lm.v());isNaN(e)||(this.iJ.hj.FontSize=e,this.Id())},zt.prototype.tVj=function(t){for(var e=this.jO.zy(),i={Type:1,Values:[1,(e>>16&255)/255,(e>>8&255)/255,(e>>0&255)/255]},n=0;n<4;n++)i.Values[n]=Math.round(1e3*i.Values[n])/1e3;this.iJ.hj.FillColor=i,this.Id()},$t.prototype=new St,$t.prototype.t$c=function(){var t=new xt(bt.E.Y,!0);t.data={X:bt.m.pD,twH:".otf,.ttf,.ttc"},this.N(t)},$t.prototype.w=function(){this.HR.w(),this.Hy.w(),this.pf.$v(bt.Ur("tools/cshape",null,"autoscale"))},$t.prototype.t$O=function(t){this.pf.Q(!this.pf.Tv()),this.kx()},$t.prototype.zL=function(t){this.po=this.Gb.v().toLowerCase(),this.kx()},$t.prototype.t$u=function(t){for(var e=t.target.v(),i=this.HI,n=this.pW,r=0;r<i.length;r++)i[r].Q(e),n[r]=e?1:0;this.kx()},$t.prototype.tJr=function(t){for(var e=t.target.v(),i=this.Hx,n=this.pi,r=0;r<i.length;r++)i[r].Q(e),n[r]=e?1:0;this.kx()},$t.prototype.By=function(t){t.preventDefault(),t.stopPropagation();var e=t.currentTarget,i=e.getBoundingClientRect(),n=e==this.Kt;if(n||null!=this.FQ.g_()[this.jk]){var r=new xt(bt.E.Y,!0);r.data={X:bt.m.Fe,AB:n?this.pQ:this.xi,x:i.left,y:i.top+i.height},this.N(r),n&&(this.kx(),this.Gb.yW())}},$t.prototype.tJB=function(t){var e=this.HI.indexOf(t.target),i=this.BX[e].index;this.pW[i]=1-this.pW[i],this.kx()},$t.prototype.trt=function(t){var e=this.Hx.indexOf(t.target);this.pi[e]=1-this.pi[e],this.kx()},$t.prototype.try=function(t){var e=t.currentTarget.firstChild.nextSibling.textContent;if("button"==t.target.tagName.toLowerCase()){var i=this.rs.slice(0),n=i.indexOf(e);-1==n?(i=i.slice(Math.max(0,i.length-9))).push(e):i.splice(n,1);var r=new xt(bt.E.Y,!0);r.data={X:bt.m.u_,gg:Q.tb,UG:i},this.N(r),this.r_=!0,this.kx()}else this.BD(e,null)},$t.prototype.trL=function(t){this.BD(null,t.currentTarget.firstChild.textContent)},$t.prototype.BD=function(t,i){var n=null==t?this.xi:this.pQ,r=this.FQ;if(null==t)t=r.g_()[this.jk][0];else{var s=r.DS(t),a=r.g_()[this.jk];i=e.Da(s,a?a[1]:"regular")}var h=r.EN(t,i)[2];this.Q(h,r),this.N(new xt(bt.E.p,!1));var o=new xt(bt.E.Y,!0);o.data={X:bt.m.Il,AB:n},this.N(o)},$t.prototype.v=function(){return this.jk},$t.prototype.Q=function(t,i,n){this.FQ;if(null!=t?this.jk=t:t=this.jk,this.FQ=i,this.rs=n,null!=t){var r,s;if(null==(l=i.g_()[t]))r="- "+t,s="-------";else{r=l[0],s=l[1];var a=i.DS(r);a.sort(e.tHK);a.indexOf(s);var h=this.trL.bind(this);this.HM.textContent="";for(var o=0;o<a.length;o++){var l=i.EN(r,a[o]);if(0!=this.pW[l[4]]){var u=this.Bc(l,l[1],h,!1);this.HM.appendChild(u)}}}this.Kt.textContent=r.substring(0,15)+" ▼",this.Kt.setAttribute("title",r),this.pj.textContent=s.substring(0,10)+" ▼",this.pj.setAttribute("title",s)}},$t.prototype.kx=function(){var t=this.FQ.g_()[this.jk],i=this.rs,n=null,r=this.FQ.ttx(),s=this.try.bind(this);for(var a in r){var h=e.Da(r[a],"regular"),o=this.FQ.EN(a,h),l=-1!=i.indexOf(a),u=!0;if(this.po.length>0&&-1==o[0].toLowerCase().indexOf(this.po))u=!1;else if(0==this.pW[o[4]])u=!1;else if(this.pf.Tv()&&!l)u=!1;else for(var f=0;f<this.pi.length;f++)1==this.pi[f]&&0==(o[3]>>>f&1)&&(u=!1);if(null==(c=this.UT[a])){var c=this.Bc(o,a,s,!0);this.UT[a]=c,this.xp.appendChild(c)}var p=u?"":"display:none; ",v="opacity: "+(l?"1":"0.2");t&&t[0]==a&&(p+="background-color:rgba(0,0,0,0.13);",n=c),this.dW[a]!=p+v&&(c.setAttribute("style",p),c.firstChild.setAttribute("style",v),this.dW[a]=p+v)}n&&!this.r_&&(this.xp.scrollTop=n.offsetTop-210),this.r_=!1},$t.prototype.Bc=function(t,i,n,r){var s=bt.B("div","fontitem"),a="";s.addEventListener("click",n,!1),r&&s.appendChild(bt.B("button","star"));var h=bt.B("span","label");h.setAttribute("title",i),h.textContent=i,s.appendChild(h);var o=bt.h(),l=1/o,u=e.Ek*l,f=e.jg*l;1<o&&o<1.5&&(a="width:"+u+"px; height:"+f+"px;");var c=bt.B("span","thumb gsicon");if(t.eZ)1<o&&o<1.5&&(a+="background-size: "+u+"px "+f+"px;"),a+="background: url("+t.eZ+")";else{var p=Math.ceil(FNTS.list.length/e.cols),v=Math.floor(t.U_/p),d=t.U_%p,y=v*e.Ek,g=d*e.jg;1<o&&o<1.5&&(a+="background-size: "+e.cols*u+"px "+p*f+"px;",y*=l,g*=l),a+="background-position:-"+y+"px -"+g+"px;"}return c.setAttribute("style",a),s.appendChild(c),s},Vt.prototype=new Tt,Vt.prototype.pS=function(t){var e=this.TM;this.Q(e[this.ut.v()]),this.N(new xt(bt.E.p))},Vt.prototype.zI=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.gI,gL:"gradienteditor",e:this.M$,rI:this.trd.bind(this),rc:this.Ga},this.N(e)},Vt.prototype.trd=function(t){this.Q(t),this.N(new xt(bt.E.p))},Vt.prototype._I=function(){if(this.ia){for(var t=Math.floor(36*bt.h()),e=Math.floor(36*bt.h()),i=[],n=[],r=this.TM,s=0;s<r.length;s++){var a=r[s];n.push(a.Nm?a.Nm.v.split("=").pop():"");var h=j.Aa.uU(a,t,e,Math.PI/4,this.AF,this.ze);i.push(h)}this.ut.mx(i,n,t,e),this.ia=!1}},Vt.prototype.zE=function(t,e){this.BT(this.M$,t,e)},Vt.prototype.Q=function(t){this.BT(t,this.AF,this.ze)},Vt.prototype.BT=function(t,e,i){if(this.AF=e,this.ze=i,null!=t){var n=JSON.stringify(t),r=n+e+","+i;if(r!=this.dq){this.dq=r,this.M$=JSON.parse(n);var s=Math.floor(80*bt.h()),a=Math.floor(16*bt.h()),h=j.Aa.uU(this.M$,s,a,0,this.AF,this.ze);this.Fx.setAttribute("src",h),bt.gx(this.Fx,s,a)}}},Vt.prototype.v=function(){return this.tww?j.Aa.tRR(this.M$,this.AF,this.ze):JSON.parse(JSON.stringify(this.M$))},Rt.prototype=new Tt,Rt.prototype.pS=function(t){this.Q(this.TM[t.target.v()]),this.N(new xt(bt.E.p))},Rt.prototype._I=function(){if(this.ia){for(var t=Math.floor(10*bt.h()),e=Math.floor(10*bt.h()),i=[],n=[],r=this.TM,s=0;s<r.length;s++)n.push(r[s].qm?r[s].qm.split("=").pop():""),i.push(Rt.uU(r[s],t,e));this.ut.mx(i,n,t,e),this.ia=!1}},Rt.prototype.aA=function(t){this.TM=t,this.ia=!0,this._I()},Rt.prototype.Q=function(t){this.M$=JSON.parse(JSON.stringify(t)),this.fC()},Rt.prototype.fC=function(){var t=Math.floor(24*bt.h()),e=Math.floor(20*bt.h()),i=Rt.uU(this.M$,t,e);this.Fx.setAttribute("src",i),bt.gx(this.Fx,t,e)},Rt.prototype.v=function(){return JSON.parse(JSON.stringify(this.M$))},Rt.uU=function(t,e,i){var n=t.H<<16|t.q<<8|t.T,r=a.I(e*i*4);return a.Mw(r,4278190080|n),s.Km(r,e,i)},qt.prototype=new St,qt.prototype.BP=function(){return this.Do},qt.prototype.$v=function(t){this.TC.textContent=t},qt.prototype.w=function(){var t="string"==typeof this.Do?this.Do:n.get(this.Do);this.TC.textContent=t},qt.prototype.PT=function(){this.IT.checked=!0},qt.prototype.vl=function(){this.IT.checked=!1},qt.prototype.Tv=function(){return this.IT.checked},qt.prototype.Q=function(t){this.IT.checked=t},qt.prototype.v=qt.prototype.Tv,qt.prototype.cp=function(t){this.N(new xt(bt.E.p,!1))},Ht.prototype=new St,Ht.prototype.Q=function(t){for(var e=0;e<this.Ph.length;e++)this.Dw[e].checked=t[e]},Ht.prototype.v=function(){for(var t=[],e=0;e<this.Ph.length;e++)t[e]=this.Dw[e].checked;return t},Ht.prototype.w=function(){var t="string"==typeof this.Do?this.Do:n.get(this.Do);this.TC.innerHTML=t+":";for(var e=0;e<this.Ph.length;e++){var i=this.Ph[e];t="string"==typeof i?i:n.get(i);this.dp[e].textContent=t}},Ht.prototype.cp=function(t){this.N(new xt(bt.E.p,!1))},jt.prototype=new kt,Gt.prototype=new St,Gt.prototype.trW=function(t){this.pm.Q(t)},Gt.prototype.w=function(){this.fQ.w(),this.ET.w(),this.pm.w()},Gt.prototype.trN=function(t){var e=this.ew.x;this.ew.x=this.ew.y,this.ew.y=e,this.cj()},Gt.prototype.pw=function(t){if(t.target!=this.pb&&t.target!=this.hi){var e=this.TF,i=this.hv,n=parseFloat(this.fQ.v());isNaN(n)&&(n=1);var r=parseFloat(this.ET.v());isNaN(r)&&(r=1);var s=this.pb.v();1==s&&(n=this.TF.x*(n/100),r=this.TF.y*(r/100));var a=[1,1,25.4/i,1/i][s];if(n/=a,r/=a,this.hi.v()&&(n+=this.TF.x,r+=this.TF.y),t.target==this.hh){var h=parseInt(this.hh.v());if(s>1){var o=h/i;n*=o,r*=o}i=h}this.pm.Tv()&&(t&&t.target==this.fQ?r=n*(e.y/e.x):n=r*(e.x/e.y)),n=Math.max(Math.abs(n),1),r=Math.max(Math.abs(r),1),this.ew=new f(Math.round(n),Math.round(r)),this.hv=i,this.cj(),this.N(new xt(bt.E.p,!1))}else this.cj()},Gt.prototype.tru=function(t){this.pb.Q(t),this.cj()},Gt.prototype.Q=function(t,e){this.TF=t.clone(),this.ew=t.clone(),this.twy=e,this.hv=e,this.cj()},Gt.prototype.cj=function(){for(var t=this.ew.x,e=this.ew.y,i=this.hv,n=(t/e).toFixed(3);"0"==n.charAt(n.length-1);)n=n.substring(0,n.length-1);"."==n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),this.di.Q("  "+n+" : 1"),this.hi.v()&&(t-=this.TF.x,e-=this.TF.y);var r=this.pb.v();1==r&&(t=100*t/this.TF.x,e=100*e/this.TF.y),t=Math.round(t),e=Math.round(e);var s=[1,1,25.4/i,1/i][r];t*=s,e*=s;var a=r>2?2:0;this.fQ.bU(a),this.ET.bU(a),this.fQ.Q(t),this.ET.Q(e),this.hh.Q(i)},Gt.prototype.v=function(){return this.ew.clone()},Gt.prototype.zi=function(){return this.hv},Yt.prototype=new St,Yt.prototype.w=function(){this.fQ.$v(n.get([12,41]).charAt(0)),this.ET.$v(n.get([12,42]).charAt(0)),this.hu.w()},Yt.prototype.pw=function(t){if(t.target==this.hu){var e=this.v(),i=this.twp;i[2*this.Hg]=e.x,i[2*this.Hg+1]=e.y,this.Hg=e.yC,this.Q({yC:e.yC,x:i[2*e.yC],y:i[2*e.yC+1]})}this.N(new xt(bt.E.p,!1))},Yt.prototype.Q=function(t){this.hu.Q(t.yC),this.fQ.Q(t.x),this.ET.Q(t.y),0==t.yC?(this.fQ.uI(),this.ET.uI()):(this.fQ.qQ(),this.ET.qQ())},Yt.prototype.v=function(){return{yC:this.hu.v(),x:parseInt(this.fQ.v()),y:parseInt(this.ET.v())}},Kt.prototype=new St,Kt.prototype.Q=function(t){this.J.textContent=t},Kt.prototype.v=function(){return this.J.textContent},Kt.prototype.qQ=function(){this.J.removeAttribute("disabled")},Kt.prototype.uI=function(){this.J.setAttribute("disabled","")},Kt.prototype.$v=function(t){this.J.textContent=t},Kt.prototype.w=function(){var t="string"==typeof this.Do?this.Do:n.get(this.Do);this.J.textContent=t},Kt.prototype.BP=function(){return this.Do},Qt.prototype=new St,Qt.prototype.w=function(){this.K$.w(),this.Yt.w()},Qt.prototype.pw=function(t){this.N(new xt(bt.E.p,!1))},Qt.prototype.tHP=function(t){this.K$.Q(t.x),this.Yt.Q(t.y)},Qt.prototype.tHv=function(){return new f(this.K$.v(),this.Yt.v())},Qt.prototype.Q=function(t){var e=t.Hrzn.v,i=t.Vrtc.v;this.dX&&(e=e.val,i=i.val),this.K$.Q(e),this.Yt.Q(i)},Qt.prototype.v=function(){var t=this.K$.v(),e=this.Yt.v();return this.dX?{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:t}},Vrtc:{t:"UntF",v:{type:"#Prc",val:e}}}:{classID:"Pnt",Hrzn:{v:t,t:"doub"},Vrtc:{v:e,t:"doub"}}},Wt.prototype=new kt,Wt.prototype.tHE=function(t){var e=this.J.getBoundingClientRect();this.Nz.setAttribute("style","width:"+e.width+"px;");var i=new xt(bt.E.Y,!0);i.data={X:bt.m.Fe,AB:this.VV,x:e.left,y:e.top+e.height},this.N(i)},Zt.prototype=new St,Zt.prototype.Fu=function(t){var e=this.hO.getBoundingClientRect(),i=new xt(bt.E.Y,!0);i.data={X:bt.m.Fe,AB:this.aC,x:e.left,y:e.top+e.height+4},this.N(i)},Zt.prototype.pw=function(t){var e=this.Hp,i=this.UT,n=i.indexOf(t.target),r=ot.nO.e$[i[0].v()],s=ot.nO.Ky[i[1].v()],a=ot.nO.join[i[2].v()];e.strokeStyleLineAlignment.v.strokeStyleLineAlignment=r,e.strokeStyleLineCapType.v.strokeStyleLineCapType=s,e.strokeStyleLineJoinType.v.strokeStyleLineJoinType=a;for(var h=e.strokeStyleLineDashSet.v=[],o=i[3].v().split(" "),l=0;l<o.length;l++)h.push({t:"UntF",v:{type:"#Nne",val:parseInt(o[l])}});if("click"==t.type){var u=JSON.parse(JSON.stringify(this.dO[n-4]));for(var f in u)e[f]=u[f]}this.N(new xt(bt.E.p,!1))},Zt.prototype.w=function(){for(var t=0;t<this.UT.length;t++)this.UT[t].w()},Zt.prototype.Q=function(t){this.Hp=JSON.parse(JSON.stringify(t));for(var e=t.strokeStyleLineAlignment.v.strokeStyleLineAlignment,i=t.strokeStyleLineCapType.v.strokeStyleLineCapType,n=t.strokeStyleLineJoinType.v.strokeStyleLineJoinType,r=[],s=t.strokeStyleLineDashSet.v,a=0;a<s.length;a++)r.push(s[a].v.val);var h=this.UT;h[0].Q(ot.nO.e$.indexOf(e)),h[1].Q(ot.nO.Ky.indexOf(i)),h[2].Q(ot.nO.join.indexOf(n)),h[3].Q(r.join(" "));for(var o=this._m,l=o.canvas.width,u=o.canvas.height,f=Math.min(5,t.strokeStyleLineWidth.v.val),c=0;c<r.length;c++)r[c]*=f;o.clearRect(0,0,l,u),o.setLineDash(r),o.lineCap=["butt","round","square"][ot.nO.Ky.indexOf(i)],o.lineJoin=["miter","round","bevel"][ot.nO.join.indexOf(n)],o.lineWidth=f,o.beginPath(),o.moveTo(0,u/2),o.lineTo(2*l,u/2),o.stroke()},Zt.prototype.v=function(){return JSON.parse(JSON.stringify(this.Hp))},te.prototype=new Tt,te.prototype.w=function(){Tt.prototype.w.call(this),this.Gb.w()},te.prototype.pS=function(t){this.Q(this.HX[t.target.v()]),this.N(new xt(bt.E.p))},te.prototype.zL=function(t){this.po=this.Gb.v().toLowerCase(),this.Bg()},te.prototype._I=function(){if(this.ia){var t=this.TM,e=Math.floor(38*bt.h()),i=Math.floor(38*bt.h());this.VP=[];for(var n=0;n<t.length;n++)this.VP.push(te.Ba(t[n],e,i));this.Bg(),this.ia=!1}},te.prototype.Bg=function(){var t=Math.floor(38*bt.h()),e=Math.floor(38*bt.h());this.HX=[];for(var i=[],n=[],r=this.TM,s=0;s<r.length;s++)-1!=r[s].Ff.toLowerCase().indexOf(this.po)&&(this.HX.push(r[s]),i.push(this.VP[s]),n.push(r[s].Ff));this.ut.mx(i,n,t,e)},te.prototype.Q=function(t){this.M$=te.clone(t),this.fC()},te.prototype.fC=function(){var t=Math.floor(23*bt.h()),e=Math.floor(23*bt.h()),i=te.Ba(this.M$,t,e);this.Fx.setAttribute("src",i),bt.gx(this.Fx,t,e)},te.prototype.v=function(){return te.clone(this.M$)},te.clone=function(t){return{Ff:t.Ff,VI:t.VI,L:nt.hT.Cx(t.L),SZ:t.SZ.clone()}},te.ql=null,te.zQ=null,te.Ba=function(t,e,i){var n=nt.hT.Cx(t.L),r=t.SZ,s=.9*Math.min(e/r.$,i/r.z),h=new c;h.translate(-.5,-.5),h.scale(.95,.95),h.translate(.5,.5),h.scale(s*r.$,s*r.z),a.A.Nj(n,h);var o=new nt.hT;o.L=n;var l=o.Ab();l.rect.x=Math.floor((e-l.rect.$)/2),l.rect.y=Math.floor((i-l.rect.z)/2);var u=a.I(4*l.rect.f());a.Mw(u,4278190080),a.UK(l.channel),a.kw(l.channel,u,0),a.kw(l.channel,u,1),a.kw(l.channel,u,2);var f=te;null==f.ql&&(f.ql=bt.B("canvas"));var p=f.ql,v=p.getContext("2d");p.width==e&&p.height==i&&null!=f.zQ||(p.width=e,p.height=i,f.zQ=v.createImageData(e,i));var d=f.zQ;return a.Mw(d.data,4294967295),a.Pg(u,l.rect,d.data,new L(0,0,e,i)),v.putImageData(d,0,0),p.toDataURL()},ee.prototype=new St,ee.prototype.w=function(){for(var t=0;t<this.xY.length;t++)this.xY[t].w()},ee.prototype.qB=function(t,e){this.xo.qB(t,e)},ee.prototype.pw=function(t){var e=this.oE,i=this.xo.v(),n=i.uV;e.strokeEnabled.v=0!=n,0!=n&&(e.strokeStyleContent.v=i.uL,i.uL.classID=ot.nO.aw[n-1]),e.strokeStyleLineWidth.v.val=this.HB.v(),t.target==this.ws&&(e=this.ws.v()),this.oE=e,this.N(new xt(bt.E.p,!1))},ee.prototype.Q=function(t,e,i){this.oE=JSON.parse(JSON.stringify(e));var n=e.strokeEnabled.v,r=e.strokeStyleContent.v,s=n?{uV:1+ot.nO.aw.indexOf(r.classID),uL:r}:{uV:0};this.xo.Q(t,s,i),this.HB.Q(e.strokeStyleLineWidth.v.val),this.ws.Q(e)},ee.prototype.v=function(){return JSON.parse(JSON.stringify(this.oE))},ie.prototype=new St,ie.prototype.v=function(){return this.hB[this.Hm]},ie.prototype.Q=function(t){this.Hm=this.hB.indexOf(t);for(var e=0;e<this.Aj.length;e++)this.Aj[e].vl();this.Aj[this.Hm].PT()},ie.prototype.tHo=function(t){this.Q(this.hB[this.Aj.indexOf(t.currentTarget)]),this.N(new xt(bt.E.p,!1))},ie.prototype.w=function(){},ne.prototype=new St,ne.prototype.w=function(){if(null!=this.Do){var t="string"==typeof this.Do?this.Do:n.get(this.Do);this.TC.textContent=t+":"}},ne.prototype.$v=function(t){this.TC.textContent=t},ne.prototype.Q=function(t){this.IT.value=null==t?"":t},ne.prototype.v=function(){return this.IT.value},ne.prototype.yW=function(){this.IT.select(),this.IT.focus()},ne.prototype.cp=function(t){this.N(new xt(bt.E.p,!1))},ne.prototype.twr=function(t){this.N(new xt("input",!1))},re.prototype=new kt,se.prototype=new St,se.prototype.pw=function(){var t=parseInt(this.p_.v());t=Math.max(0,Math.min(255,t)),this.p_.Q(t),this.Ae.GS=t,this.Ae.Gh=this.hZ.Tv(),this.N(new xt(bt.E.p,!1))},se.prototype.v=function(){return JSON.parse(JSON.stringify(this.Ae))},se.prototype.w=function(){this.p_.w(),this.hZ.w()},ae.prototype=new St,ae.prototype.$v=function(t){this.TC.textContent=t},ae.prototype.w=function(){this.VP=[];var t=Math.floor(114*bt.h()),e=Math.floor(23*bt.h()),i=bt.B("canvas","");i.width=t,i.height=e;var r=i.getContext("2d");r.lineWidth=1,r.strokeStyle="#000000",r.font=Math.floor(13*bt.h())+"px sans-serif";for(var s=Math.floor(16*bt.h()),h=new L(0,0,s,s),o=0;o<this.WO.length;o++){var l=this.WO[o];r.clearRect(0,0,i.width,i.height);var u=a.UB.UB(h,l,!0,.3,0,0),f=a.K.DK(h);f.lX.push("M","L","M","L"),f.Z.push(0,s/2,s,s/2),f.Z.push(s/2,0,s/2,s),f=a.K.kX(f),f=a.K.kb(f,s/5),a.nH.apply(u,f.Z,h),a.K.UC(f.Z,new c(1,0,0,1,Math.floor(8*bt.h())+.5,Math.floor(3*bt.h())+.5),f.Z),r.beginPath(),Typr.U.pathToContext({cmds:f.lX,crds:f.Z},r),r.stroke(),r.fillText(n.get(a.UB.type[l]),Math.floor(40*bt.h()),Math.floor(16*bt.h())),this.VP.push(i.toDataURL())}this.xm.mx(this.VP,null,t,e),this.fC()},ae.prototype.Fu=function(t){var e=this.X.getBoundingClientRect(),i=new xt(bt.E.Y,!0);i.data={X:bt.m.Fe,AB:this.aC,x:e.left,y:e.top+e.height+4},this.N(i)},ae.prototype.twC=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.Il,AB:this.aC},this.N(e),this.WT=t.target.v(),this.fC(),this.N(new xt(bt.E.p))},ae.prototype.fC=function(){this.xm.Du(this.WT),this.X.innerHTML='<img src="'+this.VP[this.WT]+'" class="gsicon" />';var t=Math.floor(114*bt.h()),e=Math.floor(23*bt.h());bt.gx(this.X.firstChild,t,e)},ae.prototype.v=function(){return this.WO[this.WT]},ae.prototype.Q=function(t){this.WT=this.WO.indexOf(t),this.fC()},he.prototype=new St,he.prototype.w=function(){var t=this.twN?1:100;this.Me.$v(n.get([12,22])+":"),this.Me.w(),this.VG.$v(n.get([22,0])+":"),this.VG.ea([n.get([22,4,0]),n.get([22,4,1])]),this.$j.$v(n.get([22,1])+":"),this.$N.$v(n.get([22,2]).substring(0,t)+":"),this.Jf.$v(n.get([22,3]).substring(0,t)+":")},he.prototype.Id=function(){var t=this.UB,e=this.Me.v(),i=t.warpStyle.v.warpStyle;"warpCustom"==e?a.UB.P$(a.UB.cq(t),t):delete t.customEnvelopeWarp,t.warpStyle.v.warpStyle=this.Me.v(),t.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.VG.v()],t.warpValue.v=this.$j.v(),t.warpPerspective.v=this.$N.v(),t.warpPerspectiveOther.v=this.Jf.v(),"warpNone"==e||"warpCustom"==e?(t.warpValue.v=0,t.warpPerspective.v=0,t.warpPerspectiveOther.v=0):"warpNone"!=i&&"warpCustom"!=i||(t.warpValue.v=50),this.N(new xt(bt.E.p,!1)),this.Q(t)},he.prototype.v=function(t){return JSON.parse(JSON.stringify(this.UB))},he.prototype.Q=function(t){this.UB=JSON.parse(JSON.stringify(t)),this.Me.Q(t.warpStyle.v.warpStyle),this.VG.Q("Hrzn"==t.warpRotate.v.Ornt?0:1),this.$j.Q(t.warpValue.v),this.$N.Q(t.warpPerspective.v),this.Jf.Q(t.warpPerspectiveOther.v);for(var e=t.warpStyle.v.warpStyle,i="warpNone"==e||"warpCustom"==e,n=[this.VG,this.$j,this.$N,this.Jf],r=0;r<n.length;r++)i?n[r].uI():n[r].qQ()},oe.prototype=new St,oe.prototype.FJ=function(t){var e=this.oH;if(this.WY=t.l(W.JW),this.WY&&(e="grab; cursor:-moz-grab; cursor:-webkit-grab;"),this.J.setAttribute("style","cursor:"+e),t.l(W.sf)){var i=0;t.l(W.Ve)&&(i=1),t.l(W.fn)&&(i=-1),0!=i&&this.BW(new f(this.lZ.width/2,this.lZ.height/2),1==i)}},oe.prototype.yp=function(t){this.oH=t,this.J.setAttribute("style","cursor:"+t)},oe.prototype.Bh=function(t){bt.oA(t,this.twm),bt.FW(t),t.addEventListener("wheel",this.tws,!1)},oe.prototype.zj=function(t){t.O("viewchange",this.twg,this)},oe.prototype.twg=function(t){var e=this.n.s,i=t.currentTarget.yi();this.n.s=i.s,this.n.M=i.M.clone(),e!=i.s&&this.zb(),this.Uz()},oe.prototype.yi=function(){return{s:this.n.s,M:this.n.M}},oe.prototype.Q=function(t,e){var i=t[0].MD;null!=this.dU&&this.dU[0].MD.v$(i)||(this.n.Ti={$:i.$,z:i.z},this.n.M=new f(0,0),this.n.s=1),this.dU=t,this.zb(),this.yY(),this.rj=0,this.Bq(),this.ck=e},oe.prototype.Dg=function(t){if(t.preventDefault(),!(0==t.deltaY||Date.now()-this.qr<100)){var e=bt.qF(t);e.x=bt.h()*e.x,e.y=bt.h()*e.y,this.qr=Date.now(),this.BW(e,t.deltaY<0)}},oe.prototype.BW=function(t,e){j.He.Qr(this.n,t,e),this.zb(),this.N(new xt("viewchange")),this.N(new xt("zoom"))},oe.prototype.zb=function(){this.wV=[];for(var t=this.n.s,e=0;e<this.dU.length;e++){var i,n=this.dU[e],r=new Uint8Array(n.data);i=t>=1?{nn:r,rect:n.MD}:a.Yp(r,n.MD,t),this.wV.push(i)}},oe.prototype.yY=function(){clearTimeout(this.dn)},oe.prototype.Uz=function(){if(null!=this.dU){this.dU[this.rj];var t,e,i=this.wV[this.rj],n=this.n;if(n.s<=1){var r=i.rect.clone();r.x=n.M.x+Math.floor((n.C.$-i.rect.$)/2),r.y=n.M.y+Math.floor((n.C.z-i.rect.z)/2),t=i.nn,e=r}else{var s=n.Yr(),h=n.Pi(),o=new L(0,0,s.$*n.s,s.z*n.s);o.x=s.x*n.s+h.x,o.y=s.y*n.s+h.y,null!=n.wY&&n.wY.length==4*s.f()||(n.wY=a.I(4*s.f())),null!=n.Ot&&n.Ot.length==4*o.f()||(n.Ot=a.I(4*o.f())),a.Mw(n.wY,0),a.Pg(i.nn,i.rect,n.wY,s),a.scale.ke(n.wY,s.$,s.z,n.Ot,o.$,o.z,n.s),t=n.Ot,e=o}h=n.Pi();a.by(this.MG.data,n.C.$,n.C.z,8,-h.x,-h.y),a.a.MR("norm",t,e,this.MG.data,n.C,n.C,1),this._m.setTransform(1,0,0,1,0,0),this._m.putImageData(this.MG,0,0);var l=this.ck;if(l){this._m.fillStyle="#00ff00",this._m.lineWidth=1;var u=this.dU[0].MD,f=n.s*u.$/l.JX;this._m.beginPath(),this._m.strokeStyle="#ff6600";for(var c=0;c<l.ht;c++)for(var p=0;p<l.JX;p++){var v=c*l.JX+p<<1,d=(p+l.map[v])*f+h.x,y=(c+l.map[v+1])*f+h.y;if(p!=l.JX-1){this._m.moveTo(d,y);var g=(p+1+l.map[v+2])*f+h.x,m=(c+l.map[v+3])*f+h.y;this._m.lineTo(g,m)}if(c!=l.ht-1){this._m.moveTo(d,y);g=(p+l.map[v+2*l.JX])*f+h.x,m=(c+1+l.map[v+2*l.JX+1])*f+h.y;this._m.lineTo(g,m)}}this._m.stroke()}n.s<1&&(h=e);p=h.x,c=h.y;var w=h.$,b=h.z;this._m.clearRect(p,c,-1e3,b),this._m.clearRect(p+w,c,1e3,b),this._m.clearRect(p-1e3,c,w+2e3,-1e3),this._m.clearRect(p-1e3,c+b,w+2e3,1e3),this._m.setTransform(1,0,0,1,0,n.C.z),this._m.scale(bt.h(),bt.h()),this._m.fillStyle="rgba(0,0,0,1)",this._m.fillRect(0,0,50,-18),this._m.font="11px monospace",this._m.fillStyle="rgba(255,255,255,1)";var x=100*n.s;x<100&&(x=x.toFixed(2)),x+="%";var M=this._m.measureText(x).width;this._m.fillText(x,(50-M)/2,-6)}},oe.prototype.Bq=function(){var t=this.dU,e=t.length,i=this.dU[this.rj];if(this.Uz(),1!=e&&t[(this.rj+1)%e].MD.v$(i.MD)){var n=i.pA?parseInt(i.pA.split(",").pop()):30;0==n&&(n=16),this.dn=setTimeout(this.twF,n)}this.rj=(this.rj+1)%e},oe.prototype.Tc=function(t,e){var i=Math.floor(t*bt.h()),n=Math.floor(e*bt.h());this.n.C=new L(0,0,i,n),this.lZ.width=i,this.lZ.height=n,this.lZ.setAttribute("style","width:"+i/bt.h()+"px; height:"+n/bt.h()+"px; display:block;"),this.MG=this._m.createImageData(i,n),this.Uz()},oe.prototype.nZ=function(t){this.Mx=t.target,bt.ny(window,this.dl),bt.nL(window,this.df),this.i$=bt.qF(t,this.lZ),this.i$.x*=bt.h(),this.i$.y*=bt.h(),this.Md=this.i$,this.yo=this.n.M.clone(),this.Hu&&this.Mx==this.lZ&&!this.WY&&this.N(new xt("mousedown"))},oe.prototype.fI=function(t){var e=this.n,i=this.dU[this.rj].MD.clone();i.$*=e.s,i.z*=e.s;var n=bt.qF(t,this.lZ);if(n.x*=bt.h(),n.y*=bt.h(),this.Md=n,this.Hu&&this.Mx==this.lZ&&!this.WY)this.N(new xt("mousemove"));else if(!e.C.pk(i)){var r=n.x-this.i$.x,s=n.y-this.i$.y;e.M.x=this.yo.x+Math.round(r),e.M.y=this.yo.y+Math.round(s),this.N(new xt("viewchange"))}},oe.prototype.Ub=function(t){bt.vD(window,this.dl),bt.cQ(window,this.df),t.detail>1&&(this.n.s=1,this.n.M.kR(0,0),this.Uz()),this.Hu&&this.Mx==this.lZ&&!this.WY&&this.N(new xt("mouseup"))},oe.prototype.cZ=function(){return this.n.kp(this.Md.x,this.Md.y)},le.prototype=new St,le.prototype.w=function(){this.wy.$v(bt.Ur("cross",null,"autoscale")),this.Di.$v(bt.Ur("checkmark",null,"autoscale"))},le.prototype.ki=function(t){this.$$=t.target==this.Di,this.N(new UIEvent("click"))},le.prototype.v=function(){return this.$$},ue.prototype=new St,ue.prototype.fi=function(){return!1},ue.prototype.Tc=function(t,e){},ue.prototype.Q=function(t){},ue.prototype.yb=function(t){},ue.prototype.Id=function(t){this.N(new xt(bt.E.p))},ue.prototype.w=function(){},ue.prototype.qB=function(t,e){},ue.blnc=function(){ue.call(this);var t=this.J;this.$$=null,this.si=new Xt([12,12],[[19,6,0],[19,6,1],[19,6,2]]),this.si.O(bt.E.p,this.k_,this),t.appendChild(this.si.J),this.fY=[];for(var e=0;e<3;e++){var i=new re(["Red","Green","Blue"][e],-100,100);i.O(bt.E.p,this.Id,this),this.fY.push(i),t.appendChild(i.J)}this.gy=new qt("Preserve Luminosity"),this.gy.O(bt.E.p,this.Id,this),t.appendChild(this.gy.J)},ue.blnc.prototype=new ue,ue.blnc.prototype.w=function(){this.si.w()},ue.blnc.prototype.Q=function(t){this.$$=JSON.parse(JSON.stringify(t)),this.k_()},ue.blnc.prototype.v=function(t){for(var e=this.$$.fY[this.si.v()],i=0;i<3;i++)e[i]=this.fY[i].v();return this.$$.If=this.gy.v(),JSON.parse(JSON.stringify(this.$$))},ue.blnc.prototype.k_=function(t){for(var e=this.$$.fY[this.si.v()],i=0;i<3;i++)this.fY[i].Q(e[i]);this.gy.Q(this.$$.If)},ue.brit=function(){ue.call(this);var t=this.J;this.qT=new re([12,2],-150,150,""),this.qT.O(bt.E.p,this.Id,this),t.appendChild(this.qT.J),this.qg=new re([12,3],-100,100,""),this.qg.O(bt.E.p,this.Id,this),t.appendChild(this.qg.J),this.Ma=new qt("Old Way"),this.Ma.O(bt.E.p,this.Id,this),t.appendChild(this.Ma.J)},ue.brit.prototype=new ue,ue.brit.prototype.w=function(){this.qT.w(),this.qg.w()},ue.brit.prototype.Q=function(t){this.qT.Q(t[0]),this.qg.Q(t[1]),this.Ma.Q(t[2])},ue.brit.prototype.v=function(t){return[this.qT.v(),this.qg.v(),this.Ma.v()]},ue.curv=function(){ue.call(this),this.value=null;var t=this.J;this.bx=new Xt("...",["RGB","Red","Green","Blue"]),this.bx.O(bt.E.p,this.Uz,this),t.appendChild(this.bx.J),this.hu=new Xt(null,["Spline","Sketch"]),this.hu.O(bt.E.p,this.twq,this),t.appendChild(this.hu.J);var e=new Ot("Reset");e.O("click",this.Bi,this),t.appendChild(e.J),this.uW=new Jt,this.uW.O(bt.E.p,this.zz,this),t.appendChild(this.uW.J)},ue.curv.prototype=new ue,ue.curv.prototype.w=function(){this.bx.$v(n.get([12,4])+": ")},ue.curv.prototype.Bi=function(t){var e=this.hu.v();if(this.value=[],0==e)for(var i=0;i<4;i++)this.value.push([a.kv.oS(0,0,!0),a.kv.oS(255,255,!0)]);else for(i=0;i<4;i++){var n=[];this.value.push(n);for(var r=0;r<256;r++)n.push(r)}this.Uz(),this.Id()},ue.curv.prototype.twq=function(t){(256==this.value[0].length?1:0)!=this.hu.v()&&this.Bi()},ue.curv.prototype.zz=function(){this.value[this.bx.v()]=this.uW.v(),this.Id()},ue.curv.prototype.Uz=function(){var t=256==this.value[0].length?1:0;this.hu.Q(t),this.uW.Q(this.value[this.bx.v()])},ue.curv.prototype.Q=function(t){this.value=t,this.Uz()},ue.curv.prototype.v=function(t){return this.value},ue.expA=function(){ue.call(this);var t=this.J;this.qv=new re([12,5],-20,20,null,3),this.qv.O(bt.E.p,this.Id,this),t.appendChild(this.qv.J),this.qp=new re([12,6],-.5,.5,null,3),this.qp.O(bt.E.p,this.Id,this),t.appendChild(this.qp.J),this.qN=new re([12,7],.01,6.99,null,3),this.qN.O(bt.E.p,this.Id,this),t.appendChild(this.qN.J)},ue.expA.prototype=new ue,ue.expA.prototype.w=function(){this.qv.w(),this.qp.w(),this.qN.w()},ue.expA.prototype.Q=function(t){this.qv.Q(t[0]),this.qp.Q(t[1]),this.qN.Q(t[2])},ue.expA.prototype.v=function(t){return[this.qv.v(),this.qp.v(),this.qN.v()]},ue.grdm=function(){ue.call(this);var t=this.J;this.YA=new Vt(!0,null,!0),t.appendChild(this.YA.J),this.YA.O(bt.E.p,this.Id,this),this.YA.parent=this,this.pT=new qt([12,23]),t.appendChild(this.pT.J),this.pT.O(bt.E.p,this.Id,this)},ue.grdm.prototype=new ue,ue.grdm.prototype.qB=function(t,e){this.YA.zE(t.AF,t.ze),e!=Q.nc&&e!=Q.wB||this.YA.aA(t.MS)},ue.grdm.prototype.w=function(){this.pT.w()},ue.grdm.prototype.Q=function(t){this.YA.Q(t[0]),this.pT.Q(t[1])},ue.grdm.prototype.v=function(t){return[this.YA.v(),this.pT.v()]},ue.selc=function(){ue.call(this);var t=this.J;this.gP=[],this.gU=null,this.si=new Xt("Colors","Reds,Yellows,Greens,Cyans,Blues,Magentas,Whites,Neutrals,Blacks".split(",")),this.si.O(bt.E.p,this.lN,this),t.appendChild(this.si.J);for(var e=0;e<4;e++){var i=new re(["Cyan","Magenta","Yellow","Black"][e],-100,100,"%");i.O(bt.E.p,this.lN,this),this.gP.push(i),t.appendChild(i.J)}this.pP=new qt("Absolute"),t.appendChild(this.pP.J),this.pP.O(bt.E.p,this.lN,this)},ue.selc.prototype=new ue,ue.selc.prototype.w=function(){this.si.w(),this.pP.w();for(var t=0;t<4;t++)this.gP[t].w()},ue.selc.prototype.Q=function(t){this.gU=JSON.parse(JSON.stringify(t)),this.k_()},ue.selc.prototype.v=function(t){return JSON.parse(JSON.stringify(this.gU))},ue.selc.prototype.lN=function(t){if(t.target!=this.si){for(var e=this.gU,i=e.uF[this.si.v()+1],n=0;n<4;n++)i[n]=this.gP[n].v();e.ir=this.pP.v()}this.k_(),this.Id()},ue.selc.prototype.k_=function(){for(var t=this.gU,e=t.uF[this.si.v()+1],i=0;i<4;i++)this.gP[i].Q(e[i]);this.pP.Q(t.ir)},ue.blwh=function(){ue.call(this);var t=this.J;this.Mp=new qt([12,11]),this.Mp.O(bt.E.p,this.Id,this),t.appendChild(this.Mp.J),this.nx=new Lt,this.nx.parent=this,this.nx.O(bt.E.p,this.Id,this),t.appendChild(this.nx.J),this.wC=[];for(var e="Red Yellow Green Cyan Blue Magenta".split(" "),i=0;i<6;i++){var n=new re(e[i]+"s",-200,300);n.O(bt.E.p,this.Id,this),this.wC.push(n),t.appendChild(n.J)}},ue.blwh.prototype=new ue,ue.blwh.prototype.Q=function(t){for(var e=0;e<6;e++)this.wC[e].Q(t[e]);this.Mp.Q(t[6]),this.nx.Q(t[7])},ue.blwh.prototype.v=function(){for(var t=[],e=0;e<6;e++)t.push(this.wC[e].v());return t.push(this.Mp.v()),t.push(this.nx.v()),t},ue.hue2=function(){ue.call(this),this.value=null;var t=this.J;this.si=new Xt([12,12],"Master Red Yellow Green Cyan Blue Magenta".split(" ")),this.si.O(bt.E.p,this.Uz,this),t.appendChild(this.si.J),this.PW=new re([12,8],-180,180),this.PW.O(bt.E.p,this.zF,this),t.appendChild(this.PW.J),this.GY=new re([12,9],-100,100),this.GY.O(bt.E.p,this.zF,this),t.appendChild(this.GY.J),this.pd=new re([12,10],-100,100),this.pd.O(bt.E.p,this.zF,this),t.appendChild(this.pd.J),this.pE=new qt([12,11]),this.pE.O(bt.E.p,this.twK,this),t.appendChild(this.pE.J),this.dj=new Kt("...",!0),t.appendChild(this.dj.J)},ue.hue2.prototype=new ue,ue.hue2.prototype.w=function(){this.PW.w(),this.GY.w(),this.pd.w(),this.pE.w(),this.si.w()},ue.hue2.prototype.twK=function(t){this.value.bc=this.pE.v(),this.Uz(),this.Id()},ue.hue2.prototype.zF=function(t){var e=this.BQ();e[0]=this.PW.v();var i=this.GY.v();e[1]=this.value.bc?Math.max(0,i):i,e[2]=this.pd.v(),this.Uz(),this.Id()},ue.hue2.prototype.BQ=function(){var t=this.value;if(t.bc)return t.qq;var e=this.si.v();return 0==e?t.ry:t.gV[e-1].fY},ue.hue2.prototype.Uz=function(){var t=this.value,e="";this.pE.Q(t.bc),t.bc?this.si.uI():this.si.qQ();var i=this.BQ();if(this.PW.Q(i[0]),this.GY.Q(i[1]),this.pd.Q(i[2]),!t.bc){e+="Apply to hue interval: ";var n=this.si.v();if(0==n)e+="full";else e+=t.gV[n-1].gX}this.dj.Q(e)},ue.hue2.prototype.Q=function(t){this.value=JSON.parse(JSON.stringify(t)),this.Uz()},ue.hue2.prototype.v=function(t){return JSON.parse(JSON.stringify(this.value))},ue.levl=function(){ue.call(this),this.value=null,this.tV=null,this.XW=[new f(0,0),new f(0,0),new f(0,0),new f(0,0),new f(0,0)],this.xV=-1,this.t_=this.Ll.bind(this),this.Vt=this.uZ.bind(this);var t=this.J;this.bx=new Xt("Channel: ",["RGB","Red","Green","Blue"]),this.bx.O(bt.E.p,this.Uz,this),t.appendChild(this.bx.J);var e=new Ot("Reset");e.O("click",this.twY,this),t.appendChild(e.J);var i=bt.B("div","");t.appendChild(i);var n=bt.B("div","");t.appendChild(n),this.rP=bt.B("canvas"),i.appendChild(this.rP),this._m=this.rP.getContext("2d"),this.iy=new f(256,120),this.rP.setAttribute("style","display:block"),bt.UZ(this.rP,this.iy.x,this.iy.y,this._m),bt.FW(this.rP),bt.oA(this.rP,this.uB.bind(this)),this.nM=bt.B("canvas",""),n.appendChild(this.nM),this.Mh=this.nM.getContext("2d"),this.MQ=new f(this.iy.x,40),this.nM.setAttribute("style","display:block"),bt.UZ(this.nM,this.MQ.x,this.MQ.y,this.Mh),bt.FW(this.nM),bt.oA(this.nM,this.twB.bind(this));for(var r=this.dK=[],s=0;s<5;s++){var a=new ne(null,null,3);r.push(a),a.O(bt.E.p,this.twb,this),(s<2||4==s?i:n).appendChild(a.J)}i.appendChild(r[1].J),r[4].J.setAttribute("style","margin: 0 4.7em"),r[3].J.setAttribute("style","margin:0 0 0 13em")},ue.levl.prototype=new ue,ue.levl.prototype.w=function(){this.bx.$v(n.get([12,4])+": ")},ue.levl.prototype.twY=function(t){var e=this.tV;this.Q([[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]]),this.yb(e),this.Id()},ue.levl.prototype.twb=function(t){for(var e=this.value[this.bx.v()],i=0;i<4;i++){var n=255,r=1;4==i&&(n=999,r=100),e[i]=Math.max(0,Math.min(n,parseInt(this.dK[i].v())*r))}this.Uz(),this.Id()},ue.levl.prototype.Uz=function(t){for(var e=this.value[this.bx.v()],i=0;i<5;i++)this.dK[i].Q(e[i]/(4==i?100:1));var n=this.iy.x,r=this.iy.y,s=this._m;if(s.clearRect(0,0,n,r),s.fillStyle="#cccccc",s.fillRect(8,8,n-16,r-16-8),this.tV){var a=this.tV[this.bx.v()],h=0;for(i=0;i<a.length;i++)h+=a[i];s.fillStyle="#333333",s.beginPath(),s.moveTo(8,r-16);for(i=0;i<256;i++){var o=55*a[i]/h;s.lineTo(8+i/256*(n-16),Math.max(8,r-16-r*o))}s.lineTo(n-8,r-16),s.closePath(),s.fill()}this.XW[0].kR(8+e[0]/255*(n-16),r-14),this.XW[1].kR(8+e[1]/255*(n-16),r-14);var l=Math.log(e[4]/100)/Math.log(9.99);l=.5-l/2,this.XW[4].kR(this.XW[0].x+l*(this.XW[1].x-this.XW[0].x),r-14),this.cu(s,this.XW[0],"#000000"),this.cu(s,this.XW[4],"#777777"),this.cu(s,this.XW[1],"#ffffff");n=this.MQ.x,r=this.MQ.y;(s=this.Mh).clearRect(0,0,n,r);var u=s.createLinearGradient(0,0,n-16,0);u.addColorStop(0,"black"),u.addColorStop(1,"white"),s.fillStyle=u,s.fillRect(8,8,n-16,16),this.XW[2].kR(8+e[2]/255*(n-16),r-14),this.XW[3].kR(8+e[3]/255*(n-16),r-14),this.cu(s,this.XW[2],"#000000"),this.cu(s,this.XW[3],"#ffffff")},ue.levl.prototype.cu=function(t,e,i){t.fillStyle=i,t.fillRect(e.x-5,e.y,10,10)},ue.levl.prototype.uB=function(t){var e=bt.qF(t,this.rP);f.Ln(this.XW[4],e)<10&&(this.xV=4);for(var i=0;i<3;i++)f.Ln(this.XW[i],e)<10&&(this.xV=i);this.Bf()},ue.levl.prototype.twB=function(t){for(var e=bt.qF(t,this.nM),i=2;i<4;i++)f.Ln(this.XW[i],e)<10&&(this.xV=i);this.Bf()},ue.levl.prototype.Bf=function(t){-1!=this.xV&&(bt.ny(document.body,this.t_),bt.nL(document.body,this.Vt))},ue.levl.prototype.Ll=function(t){var e=this.value[this.bx.v()],i=255*(bt.qF(t,2==this.xV&&3==this.xV?this.nM:this.rP).x-8)/(this.iy.x-16);if(i=Math.max(0,Math.min(255,i)),0==this.xV&&(i=Math.min(i,e[1]-2)),1==this.xV&&(i=Math.max(i,e[0]+2)),4!=this.xV)e[this.xV]=Math.round(i);else{var n=(i-e[0])/(e[1]-e[0]);n=1-2*n,n=Math.pow(9.99,n),e[4]=Math.min(999,Math.max(10,Math.round(100*n)))}this.Uz(),this.Id()},ue.levl.prototype.uZ=function(t){bt.vD(document.body,this.t_),bt.cQ(document.body,this.Vt),this.xV=-1},ue.levl.prototype.Q=function(t){this.value=t,this.tV=null,this.Uz()},ue.levl.prototype.yb=function(t){this.tV=t,this.Uz()},ue.levl.prototype.v=function(t){return JSON.parse(JSON.stringify(this.value))},ue.phfl=function(){ue.call(this);var t=this.J;this.nx=new Lt,this.nx.parent=this,this.nx.O(bt.E.p,this.Id,this),t.appendChild(this.nx.J),this.JU=new re([12,74],0,100,"%"),this.JU.O(bt.E.p,this.Id,this),t.appendChild(this.JU.J),this.gy=new qt("Preserve Luminosity"),this.gy.O(bt.E.p,this.Id,this),t.appendChild(this.gy.J)},ue.phfl.prototype=new ue,ue.phfl.prototype.w=function(){this.JU.w()},ue.phfl.prototype.Q=function(t){this.nx.Q(t.qq),this.JU.Q(t.mC),this.gy.Q(t.uT)},ue.phfl.prototype.v=function(){return{mC:this.JU.v(),uT:this.gy.v(),qq:this.nx.v()}},ue.vibA=function(){ue.call(this);var t=this.J;this.gh=new re([12,13],-100,100,null),this.gh.O(bt.E.p,this.Id,this),t.appendChild(this.gh.J),this.GY=new re([12,9],-100,100,null),this.GY.O(bt.E.p,this.Id,this),t.appendChild(this.GY.J)},ue.vibA.prototype=new ue,ue.vibA.prototype.w=function(){this.gh.w(),this.GY.w()},ue.vibA.prototype.Q=function(t){this.gh.Q(t[0]),this.GY.Q(t[1])},ue.vibA.prototype.v=function(t){return[this.gh.v(),this.GY.v()]},ue.thrs=function(){ue.call(this);var t=this.J;this.gh=new re([4,13],1,255,null),this.gh.O(bt.E.p,this.Id,this),t.appendChild(this.gh.J)},ue.thrs.prototype=new ue,ue.thrs.prototype.w=function(){this.gh.w()},ue.thrs.prototype.Q=function(t){this.gh.Q(t)},ue.thrs.prototype.v=function(t){return this.gh.v()},ue.mixr=function(){ue.call(this);var t=this.J;this.gP=[],this.gU=null,this.si=new Xt([12,4],["Red","Green","Blue"]),this.si.O(bt.E.p,this.lN,this),t.appendChild(this.si.J),t.appendChild(bt.B("br")),this._J=new qt([12,60]),t.appendChild(this._J.J),this._J.O(bt.E.p,this.lN,this);for(var e=0;e<4;e++){var i=new re(["Red","Green","Blue","Total"][e],-200,200,"%");i.O(bt.E.p,this.lN,this),this.gP.push(i),t.appendChild(i.J)}},ue.mixr.prototype=new ue,ue.mixr.prototype.w=function(){this.si.w(),this._J.w();for(var t=0;t<4;t++)this.gP[t].w()},ue.mixr.prototype.Q=function(t){this.gU=JSON.parse(JSON.stringify(t)),this.k_()},ue.mixr.prototype.v=function(t){return JSON.parse(JSON.stringify(this.gU))},ue.mixr.prototype.lN=function(t){if(t.target!=this.si){var e=this.gU;if(t.target==this._J)e._J=this._J.v(),e._J?e.R=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]:e.R=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0];else{var i=5*(e._J?0:this.si.v()),n=this.gP.indexOf(t.target);e.R[i+(n<3?n:4)]=t.target.v()}}this.k_(),this.Id()},ue.mixr.prototype.k_=function(){var t=this.gU;this._J.Q(t._J);for(var e=5*(t._J?0:this.si.v()),i=0;i<4;i++)this.gP[i].Q(t.R[e+(i<3?i:4)])},fe.prototype=new St,fe.prototype.Bj=function(t){},fe.prototype.fi=function(){return!1},fe.prototype.Tc=function(t,e){},fe.prototype.Q=function(t,e,i,n,r,s){var a=[];this.Fw(t,a,s);for(var h=0;h<this.Fq.length;h++)this.Fq[h].Q(a[h])},fe.prototype.v=function(){for(var t=et.vI(this.tIc),e=[],i=0;i<this.Fq.length;i++)e.push(this.Fq[i].v());return this.ts(t,e),t},fe.prototype.FJ=function(t){},fe.prototype.Id=function(t){this.N(new xt(bt.E.p))},fe.prototype.w=function(){for(var t=0;t<this.Fq.length;t++)this.Fq[t].w()},fe.prototype.sA=function(){bt.wj(this.J,"form");for(var t=0;t<this.Fq.length;t++)this.Fq[t].O(bt.E.p,this.Id,this),this.J.appendChild(this.Fq[t].J),this.J.appendChild(bt.B("br"))},fe.LnCr=function(){fe.call(this,"LnCr"),this.Fq.push(new re([12,57],-100,100,"%")),this.sA()},fe.LnCr.prototype=new fe,fe.LnCr.prototype.Fw=function(t,e){},fe.LnCr.prototype.ts=function(t,e){},fe["\0\0±"]=function(){fe.call(this,"\0\0±"),this.Fq.push(new re([12,56],1,200," px")),this.sA()},fe["\0\0±"].prototype=new fe,fe["\0\0±"].prototype.Fw=function(t,e){e[0]=t.Rds.v.val},fe["\0\0±"].prototype.ts=function(t,e){t.Rds.v.val=e[0]},fe.GsnB=function(){fe.call(this,"GsnB"),this.Fq.push(new re([12,56],1,200," px")),this.sA()},fe.GsnB.prototype=new fe,fe.GsnB.prototype.Fw=function(t,e){e[0]=t.Rds.v.val},fe.GsnB.prototype.ts=function(t,e){t.Rds.v.val=e[0]},fe.MtnB=function(){fe.call(this,"MtnB"),this.Fq.push(new Ut([12,15])),this.Fq.push(new re([12,28],1,100," px")),this.sA()},fe.MtnB.prototype=new fe,fe.MtnB.prototype.Fw=function(t,e){e[0]=t.Angl.v,e[1]=t.Dstn.v.val},fe.MtnB.prototype.ts=function(t,e){t.Angl.v=e[0].PQ,t.Dstn.v.val=e[1]},fe.RdlB=function(){fe.call(this,"RdlB"),this.Fq.push(new re([12,57],1,100)),this.Fq.push(new Bt([12,36],["Spin","Zoom"])),this.Fq.push(new jt("Off X",0,1,null,2)),this.Fq.push(new jt("Off Y",0,1,null,2)),this.sA()},fe.RdlB.prototype=new fe,fe.RdlB.prototype.Fw=function(t,e){e[0]=t.Amnt.v,e[1]=["Spn","Zm"].indexOf(t.BlrM.v.BlrM),e[2]=t.Cntr.v.Hrzn.v,e[3]=t.Cntr.v.Vrtc.v},fe.RdlB.prototype.ts=function(t,e){t.Amnt.v=e[0],t.BlrM.v.BlrM=["Spn","Zm"][e[1]],t.Cntr.v.Hrzn.v=e[2],t.Cntr.v.Vrtc.v=e[3]},fe.Dspl=function(){fe.call(this,"Dspl"),this.Fq.push(new Xt("Smart Object",["a","b"])),this.Fq.push(new re([22,4,0],-100,100,"px")),this.Fq.push(new re([22,4,1],-100,100,"px")),this.Fq.push(new Xt([24,18,0],[[24,18,3],[24,18,2]])),this.sA()},fe.Dspl.prototype=new fe,fe.Dspl.prototype.Fw=function(t,e,i){this.dY=[],this.wT=[];for(var n=-1,r=0;r<i.length;r++){var s=i[r];this.dY.push(s.Xl.trim()),this.wT.push(s.VB),s.VB==t.DspF.v.pth&&(n=r)}this.Fq[0].ea(this.dY),e[0]=-1==n?0:n,e[1]=t.HrzS.v,e[2]=t.VrtS.v,e[3]=["WrpA","RptE"].indexOf(t.UndA.v.UndA)},fe.Dspl.prototype.ts=function(t,e){0!=this.wT.length&&(t.DspF.v.pth=this.wT[e[0]],t.HrzS.v=e[1],t.VrtS.v=e[2],t.UndA.v.UndA=["WrpA","RptE"][e[3]])},fe.Pnch=function(){fe.call(this,"Pnch"),this.Fq.push(new re([12,57],-100,100,"%")),this.sA()},fe.Pnch.prototype=new fe,fe.Pnch.prototype.Fw=function(t,e){e[0]=t.Amnt.v},fe.Pnch.prototype.ts=function(t,e){t.Amnt.v=e[0]},fe["Plr "]=function(){fe.call(this,"Plr "),this.Fq.push(new Bt(null,["Rect to Polar","Polar to Rect"])),this.sA()},fe["Plr "].prototype=new fe,fe["Plr "].prototype.Fw=function(t,e){e[0]=["RctP","PlrR"].indexOf(t.Cnvr.v.Cnvr)},fe["Plr "].prototype.ts=function(t,e){t.Cnvr.v.Cnvr=["RctP","PlrR"][e[0]]},fe.Rple=function(){fe.call(this,"Rple"),this.Fq.push(new re([12,57],-999,999)),this.Fq.push(new Xt([12,14],[[19,8,0],[19,8,1],[19,8,2]])),this.sA()},fe.Rple.prototype=new fe,fe.Rple.prototype.Fw=function(t,e){e[0]=t.Amnt.v,e[1]=["Sml","Mdm","Lrg"].indexOf(t.RplS.v.RplS)},fe.Rple.prototype.ts=function(t,e){t.Amnt.v=e[0],t.RplS.v.RplS=["Sml","Mdm","Lrg"][e[1]]},fe["Shr "]=function(){fe.call(this,"Shr "),this.Fq.push(new Jt(!0,!0)),this.Fq.push(new Xt([24,18,0],[[24,18,3],[24,18,2]])),this.sA()},fe["Shr "].prototype=new fe,fe["Shr "].prototype.Fw=function(t,e){var i=new c(0,255/127,255/127,0,-2,128),n=JSON.parse(JSON.stringify(t.ShrP.v));a.kv.UC(n,i),e[0]=n,e[1]=["WrpA","RptE"].indexOf(t.UndA.v.UndA)},fe["Shr "].prototype.ts=function(t,e){var i=new c(0,255/127,255/127,0,-2,128);i.UK(),a.kv.UC(e[0],i),t.ShrP.v=e[0],t.ShrE.v=e[0].length-1,t.UndA.v.UndA=["WrpA","RptE"][e[1]]},fe.Sphr=function(){fe.call(this,"Sphr"),this.Fq.push(new re([12,57],-100,100)),this.Fq.push(new Xt([12,36],["Normal",[22,4,0],[22,4,1]])),this.sA()},fe.Sphr.prototype=new fe,fe.Sphr.prototype.Fw=function(t,e){e[0]=t.Amnt.v,e[1]=["Nrml","HrzO","VrtO"].indexOf(t.SphM.v.SphM)},fe.Sphr.prototype.ts=function(t,e){t.Amnt.v=e[0],t.SphM.v.SphM=["Nrml","HrzO","VrtO"][e[1]]},fe.Twrl=function(){fe.call(this,"Twrl"),this.Fq.push(new re([12,15],-999,999)),this.sA()},fe.Twrl.prototype=new fe,fe.Twrl.prototype.Fw=function(t,e){e[0]=t.Angl.v},fe.Twrl.prototype.ts=function(t,e){t.Angl.v=e[0]},fe["\0\0µ"]=function(){fe.call(this,"\0\0µ"),this.Fq.push(new re([12,56],1,200," px")),this.Fq.push(new re([4,13],1,255," px")),this.sA()},fe["\0\0µ"].prototype=new fe,fe["\0\0µ"].prototype.Fw=function(t,e){e[0]=t.Rds.v.val,e[1]=t.Thsh.v},fe["\0\0µ"].prototype.ts=function(t,e){t.Rds.v.val=e[0],t.Thsh.v=e[1]},fe.AdNs=function(){fe.call(this,"AdNs"),this.Fq.push(new re([12,57],0,200," %")),this.Fq.push(new Xt([12,58],[[12,59,0],[12,59,1]])),this.Fq.push(new qt([12,60])),this.sA()},fe.AdNs.prototype=new fe,fe.AdNs.prototype.Fw=function(t,e){e[0]=t.Nose.v.val,e[1]=["Unfr","Gsn"].indexOf(t.Dstr.v.Dstr),e[2]=t.Mnch.v},fe.AdNs.prototype.ts=function(t,e){t.Nose.v.val=e[0],t.Dstr.v.Dstr=["Unfr","Gsn"][e[1]],t.Mnch.v=e[2]},fe.DstS=function(){fe.call(this,"DstS"),this.Fq.push(new re([12,56],1,200," px")),this.Fq.push(new re([4,13],1,255," px")),this.sA()},fe.DstS.prototype=new fe,fe.DstS.prototype.Fw=function(t,e){e[0]=t.Rds.v,e[1]=t.Thsh.v},fe.DstS.prototype.ts=function(t,e){t.Rds.v=e[0],t.Thsh.v=e[1]},fe["Mdn "]=function(){fe.call(this,"Mdn "),this.Fq.push(new re([12,56],1,200," px")),this.sA()},fe["Mdn "].prototype=new fe,fe["Mdn "].prototype.Fw=function(t){vs[0]=t.Rds.v.val},fe["Mdn "].prototype.ts=function(){M.Rds.v.val=vs[0]},fe.ClrH=function(){fe.call(this,"ClrH"),this.Fq.push(new re([12,56],4,100," px"));for(var t=1;t<4;t++)this.Fq.push(new re("Angle "+t,0,90," °"));this.sA()},fe.ClrH.prototype=new fe,fe.ClrH.prototype.Fw=function(t,e){e[0]=t.Rds.v;for(var i=1;i<4;i++)e[i]=t["Ang"+i].v},fe.ClrH.prototype.ts=function(t,e){t.Rds.v=e[0];for(var i=1;i<4;i++)t["Ang"+i].v=e[i]},fe.ClrH.prototype.w=function(){var t=this.Fq;t[0].w();for(var e=1;e<4;e++)t[e].$v(n.get([12,15])+" "+e)},fe["Msc "]=function(){fe.call(this,"Msc "),this.Fq.push(new re([12,61],2,200," px")),this.sA()},fe["Msc "].prototype=new fe,fe["Msc "].prototype.Fw=function(t,e){e[0]=t.ClSz.v.val},fe["Msc "].prototype.ts=function(t,e){t.ClSz.v.val=e[0]},fe.UnsM=function(){fe.call(this,"UnsM"),this.Fq.push(new re([12,57],1,200," %")),this.Fq.push(new re([12,56],0,200," px")),this.Fq.push(new re([4,13],0,255," ")),this.sA()},fe.UnsM.prototype=new fe,fe.UnsM.prototype.Fw=function(t,e){e[0]=t.Amnt.v.val,e[1]=t.Rds.v.val,e[2]=t.Thsh.v},fe.UnsM.prototype.ts=function(t,e){t.Amnt.v.val=e[0],t.Rds.v.val=e[1],t.Thsh.v=e[2]},fe.HghP=function(){fe.call(this,"HghP"),this.Fq.push(new re([12,56],1,200," px")),this.sA()},fe.HghP.prototype=new fe,fe.HghP.prototype.Fw=function(t,e){e[0]=t.Rds.v.val},fe.HghP.prototype.ts=function(t,e){t.Rds.v.val=e[0]},fe["Mxm "]=function(){fe.call(this,"Mxm "),this.Fq.push(new re([12,56],1,200," px")),this.sA()},fe["Mxm "].prototype=new fe,fe["Mxm "].prototype.Fw=function(t,e){e[0]=t.Rds.v.val},fe["Mxm "].prototype.ts=function(t,e){t.Rds.v.val=e[0]},fe["Mnm "]=function(){fe.call(this,"Mnm "),this.Fq.push(new re([12,56],1,200," px")),this.sA()},fe["Mnm "].prototype=new fe,fe["Mnm "].prototype.Fw=function(t,e){e[0]=t.Rds.v.val},fe["Mnm "].prototype.ts=function(t,e){t.Rds.v.val=e[0]},fe.Ofst=function(){fe.call(this,"Ofst"),this.Fq.push(new re([22,4,0],-1024,1024," px")),this.Fq.push(new re([22,4,1],-1024,1024," px")),this.Fq.push(new Xt([24,18,0],[[24,18,1],[24,18,2],[24,18,3]])),this.sA()},fe.Ofst.prototype=new fe,fe.Ofst.prototype.Fw=function(t,e){e[0]=t.Hrzn.v,e[1]=t.Vrtc.v,e[2]=["Bckg","Rpt","Wrp"].indexOf(t.Fl.v.FlMd)},fe.Ofst.prototype.ts=function(t,e){t.Hrzn.v=e[0],t.Vrtc.v=e[1],t.Fl.v.FlMd=["Bckg","Rpt","Wrp"][e[2]]},fe.Rept=function(){fe.call(this,"Rept"),this.Fq.push(new jt([12,38],1,300," %")),this.Fq.push(new jt("Row Shift",-50,50," %")),this.Fq.push(new jt("Space X",-99,200," %")),this.Fq.push(new jt("Space Y",-99,200," %")),this.Fq.push(new qt([4,16,2])),this.Fq.push(new Ut([12,15])),this.sA()},fe.Rept.prototype=new fe,fe.Rept.prototype.Fw=function(t,e){e[0]=t.Scl.v.val,e[1]=t.Rsft.v.val,e[2]=t.SpcX.v.val,e[3]=t.SpcY.v.val,e[4]=t.SpcC.v,e[5]=t.Angl.v},fe.Rept.prototype.ts=function(t,e){return t.Scl.v.val=e[0],t.Rsft.v.val=e[1],t.SpcX.v.val=e[2],t.SpcY.v.val=e[3],t.SpcC.v=e[4],t.Angl.v=e[5].PQ,t},fe.LqFy=function(){fe.call(this,"LqFy"),this.qt=!1,this.Lk=null,this.tIp=null,this.c=0,this.Uj={iD:[[{c:{id:0,name:[24,1,0,1,0],Xg:"liq/smudge"}}],[{c:{id:1,name:[24,1,0,1,1],Xg:"liq/reconstruct"}}],[{c:{id:2,name:[24,1,0,1,2],Xg:"liq/smooth"}}],[{c:{id:3,name:[24,1,0,1,3],Xg:"liq/twirl"}}],[{c:{id:4,name:[24,1,0,1,4],Xg:"liq/shrink"}}],[{c:{id:5,name:[24,1,0,1,5],Xg:"liq/blow"}}],[{c:{id:6,name:[24,1,0,1,6],Xg:"liq/pleft"}}]],keys:[]},this.My=new sn(this.Uj,!1),this.My.VL(0),this.My.O(bt.E.Y,this.twZ,this),this.iM=ut.wi(),this.ck=null,this.BK=[],this.AZ=-1,this.EK=null,this.db=null,this.dB=null,this.Mz=null,this.dz=null;var t=bt.B("div","flexrow");this.lT=t,this.J.appendChild(t),t.appendChild(this.My.J),this.view=new oe(!0),this.view.Tc(100,100),this.view.O("mousedown",this.nZ,this),this.view.O("mousemove",this.fI,this),this.view.O("mouseup",this.Ub,this),this.view.O("zoom",this.Hf,this),t.appendChild(this.view.J);var e=bt.B("div","form");t.appendChild(e),this.wd=e,e.style.width="230px",this.Dw=[new re([12,14],0,1e3,null,!1,!0),new re([12,74],0,100,null,!1,!1),new re([12,84],0,100,null,!1,!1),new qt([12,46]),new re([12,0],0,100,null,!1,!1)],this.iM.Brsh.v.Dmtr.v.val=100;for(var i=[100,50,100,!1,100],n=0;n<this.Dw.length;n++){var r=this.Dw[n];r.Q(i[n]),r.O(bt.E.p,this.twA,this),e.appendChild(r.J)}var s=new Ot("Reset",!0,null,!0);s.O("click",this.tIr,this),e.appendChild(s.J),this.LO=new St,this.LO.J=bt.B("div","floatcont"),this.MZ=new Ot("Menu",!1,null,!0),this.MZ.O("click",this.twz,this),this.MZ.J.setAttribute("style","position:absolute; right:13px; top:47px"),this.Hf()},fe.LqFy.prototype=new fe,fe.LqFy.prototype.fi=function(){return!0},fe.LqFy.prototype.Bj=function(t){this.wd.appendChild(t)},fe.LqFy.prototype.twz=function(t){var e=this.MZ.J.getBoundingClientRect();this.LO.J.appendChild(this.wd);var i=new xt(bt.E.Y,!0);i.data={X:bt.m.Fe,AB:this.LO,x:e.right+e.width-290,y:e.top+e.height},this.N(i)},fe.LqFy.prototype.FJ=function(t){this.qt=t.l(W.kz);var e=j.mh.Og(this.iM,t);if(null!=e)this.iM=e,this.Hf(),this.Dw[0].Q(e.Brsh.v.Dmtr.v.val);else if(t.l(W.sf)&&t.l(W.$f)){var i=this.BK;t.l(W.Yz)?this.AZ+1<i.length&&this.AZ++:this.AZ>0&&this.AZ--,this.ck.map=i[this.AZ].slice(0),this.k_(null)}else this.view.FJ(t)},fe.LqFy.prototype.twZ=function(t){t.data.X==bt.m.mG&&(this.c=t.data.c,this.My.VL(this.c))},fe.LqFy.prototype.twA=function(t){var e=t.currentTarget,i=this.Dw.indexOf(e),n=this.iM.Brsh.v;0==i&&(n.Dmtr.v.val=e.v(),this.Hf()),i>2&&this.k_(null)},fe.LqFy.prototype.c_=function(){var t=this.BK;for(this.AZ++,t[this.AZ]=this.ck.map.slice(0);t.length>this.AZ+1;)t.pop();for(;t.length>50;)t=t.slice(1),this.AZ--},fe.LqFy.prototype.nZ=function(t){this.ye(),this.Lk=this.view.cZ(),this.tIp=new f(0,0),this.O(bt.E.Gn,this.LR,this)},fe.LqFy.prototype.fI=function(t){var e=this.view.cZ(),i=new f(e.x-this.Lk.x,e.y-this.Lk.y);0!=this.c&&6!=this.c||this.BY(i),this.Lk=e},fe.LqFy.prototype.Ub=function(t){this.c_(),this.ye()},fe.LqFy.prototype.ye=function(){this.tHp(bt.E.Gn,this.LR)&&this.removeEventListener(bt.E.Gn,this.LR,this)},fe.LqFy.prototype.LR=function(t){0!=this.c&&6!=this.c&&this.BY(new f(0,0))},fe.LqFy.prototype.BY=function(t){for(var e=this.ck,i=e.JX/this.EK.$,n=this.Lk,r=this.iM.Brsh.v.Dmtr.v.val,s=(Date.now(),e.JX),h=e.ht,o=Math.sqrt(t.x*t.x+t.y*t.y),l=Math.max(1,Math.ceil(o/2)),u=t.x/l,c=t.y/l,p=n.clone(),v=this.c,d=this.Dw[1].v()/100,y=this.Dw[2].v()/100,g=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],m=(1-d)*g[2*v]+d*g[2*v+1],w=r*i/2,b=0;b<l;b++){var x=[];p.x+=u,p.y+=c,a.oL.tri(e.map,s,h,v,p.x*i,p.y*i,w,1,d,y,new f(u*i,c*i),x,this.qt),a.oL.tJj(s,h,e.map,x,m*y)}new L(0,0,s,h);var M=new L(n.x*i,n.y*i,0,0);M.FA(r*i*.5,r*i*.5);var S=M.clone();S.offset(t.x*i,t.y*i);var A=new L((M=M.Fv(S)).x/i,M.y/i,M.$/i,M.z/i);A=a.K.Cn(A).sj(this.EK),this.k_(A)},fe.LqFy.prototype.Hf=function(){var t=ct.YF(this.iM,null,this.view.yi().s),e=bt.IX(t);this.view.yp(e)},fe.LqFy.prototype.Q=function(t,e,i,n,r){if(null!=e){if(!n.v$(i)){var s=i.Fv(n),h=a.I(4*s.f());a.Pg(e,i,h,s),e=h,i=s}this.dB=e,this.db=r,this.dz=e.slice(0),this.Mz=e.slice(0),this.EK=i,this.ck=T.Fp(new Uint8Array(t.LqMe.v).buffer);var o=i.$,l=i.z;this.ck.JX/o<.22&&(this.ck={JX:Math.floor(o/4),ht:Math.floor(l/4)},this.ck.map=new Float32Array(this.ck.JX*this.ck.ht*2)),this.BK=[],this.AZ=-1,this.c_(),this.k_(null)}},fe.LqFy.prototype.v=function(){this.ye();for(var t=et.vI("LqFy"),e=new Uint8Array(T.nX(this.ck)),i=[],n=0;n<e.length;n++)i.push(e[n]);return t.LqMe.v=i,t},fe.LqFy.prototype.Tc=function(t,e){this.My.Tc(t,e);var i=this.MZ.J,n=this.wd;this.lT.appendChild(n),this.lT.appendChild(i),t>450?(n.style.marginLeft="1em",this.lT.removeChild(i),this.view.Tc(t-238-45,e)):(n.style.marginLeft="",this.lT.removeChild(n),this.view.Tc(t-40,e))},fe.LqFy.prototype.w=function(){this.My.w();for(var t=0;t<this.Dw.length;t++)this.Dw[t].w()},fe.LqFy.prototype.tIr=function(){this.ye(),this.ck.map.fill(0),this.c_(),this.k_(null)},fe.LqFy.prototype.k_=function(t){var e=this.EK,i=this.dB,n=this.dz,r=this.ck;a.oL.CS(i,this.Mz,e.$,e.z,t,r.map,r.JX,r.ht,0),this.Dw[3].Tv()?(a.Pg(this.db,e,n,e,t||e),a.a.MR("norm",this.Mz,e,n,e,t||e,this.Dw[4].v()/100)):a.sa(this.Mz,n),this.view.Q([{MD:e,data:n.buffer}])},ce.prototype=new St,ce.prototype.ZQ=function(){return!1},ce.prototype.Zy=function(){return!1},ce.prototype.w=function(){if(null!=this.pN){var t="string"==typeof this.pN?this.pN:n.get(this.pN);this.Mt.innerHTML='<span class="wname">'+t+"</span>",this.Mt.appendChild(this.wo);var e=null==PIMG.__cross?"filter:invert(1);":"";this.wo.setAttribute("style","background-image:url("+PIMG.cross+");"+e)}},ce.prototype.cL=function(t,e,i,n,r){},ce.prototype.XY=function(t,e,i,n,r){},ce.prototype.Nu=function(t,e,i,n,r){},ce.prototype.OH=function(t,e,i,n,r){},ce.prototype.FJ=function(t,e,i,n){},ce.prototype.jV=function(t){return!1},ce.prototype.mv=function(t,e){return!0},ce.prototype.aK=function(t,e,i){},ce.prototype.qB=function(t,e){},ce.prototype.fi=function(){return!1},ce.prototype._S=function(t,e){return t<450||e<450?new f(0,0):new f(150,150)},ce.prototype.Tc=function(){},ce.prototype.close=function(){this.N(new xt(bt.E.pH))},ce.prototype.tIv=function(t){this.wW=bt.qF(t,this.J),bt.ny(window,this.dA),bt.nL(window,this.GV)},ce.prototype.tIh=function(t){var e=this.J.parentNode,i=bt.qF(t,e);this.J.style.left=Math.round(i.x-this.wW.x)+"px",this.J.style.top=e.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(i.y-this.wW.y)))+"px"},ce.prototype.ty$=function(t){bt.vD(window,this.dA),bt.cQ(window,this.GV)},ce.prototype.BB=function(t){this.N(new xt("closebtn")),this.close()},pe.prototype=new ce,pe.prototype.tyH=function(t){bt.hk(this.AA),this.AA.scrollTop=0,this.AA.appendChild(this.ii[t.data.U_].J)},pe.prototype.w=function(){ce.prototype.w.call(this);for(var t=0;t<this.ii.length;t++)this.ii[t].w()},pe.prototype.aK=function(t,e,i){bt.hk(this.AA);var n=this.ii[0];this.AA.appendChild(n.J),n.aK(),this.w()},pe.prototype.qB=function(t,e){this.aK(null,null,null)},pe.vS=function(){St.call(this),this.J=bt.B("div");var t,e,i=this.J,n="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";this.wQ=bt.B("div"),i.appendChild(this.wQ),this.MA=new Ot([0,11],!1,null,!0),this.MA.J.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;"),this.MA.O("click",this.hg,this),i.appendChild(this.MA.J),this.wl=new Ot([0,13,1],!1,null,!0),this.wl.O("click",this.BA,this),i.appendChild(this.wl.J),(t=bt.B("h2","")).innerHTML="Account types",i.appendChild(t),(e=bt.B("table","")).innerHTML='\t\t\t<table>\t\t\t\t<tr>   <th class="left"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class="left">PSD import and export</td><td class="yes">✓</td><td class="yes">✓</td>    </tr>\t\t\t\t<tr>   <td class="left">Advanced editing tools</td><td class="yes">✓</td><td class="yes">✓</td>    </tr>\t\t\t\t<tr>   <td class="left">No Ads</td><td class="no"> </td><td class="yes">✓</td>    </tr>\t\t\t\t<tr>   <td class="left">Helping us improve PP</td><td class="no"> </td><td class="yes">✓</td>    </tr>\t\t\t\t\x3c!--<tr class="lastrow">   <td class="left">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>--\x3e\t\t\t</table>\t\t',i.appendChild(e);var r=[9,20,30,80,100,240,40,80,100,200,200,400];this.Mg=[];for(var s=0;s<r.length;s++)this.Mg.push(new Ot("Buy: $"+r[s],!1,null,!0));for(s=0;s<this.Mg.length;s++)this.Mg[s].J.setAttribute("style",n),this.Mg[s].O("click",this.tyE,this);(t=bt.B("h2","")).innerHTML="Go Premium",i.appendChild(t),this.Mk=new Ot("...",!0),this.Mk.J.setAttribute("style",n),i.appendChild(this.Mk.J),e=this.BN(["Single user",this.Mg[0],this.Mg[1],"Team of 5",this.Mg[2],this.Mg[3],"Team of 20",this.Mg[4],this.Mg[5]]),i.appendChild(e),this.xw=new qt("I accept",!0,""),i.appendChild(this.xw.J),this.wz=new Ot([0,13,1],!1,null,!0),this.wz.O("click",this.BA,this),i.appendChild(this.wz.J),(t=bt.B("h2","")).textContent="Team Settings",i.appendChild(t),this.Hi=new qt("Join a team"),i.appendChild(this.Hi.J),this.Hi.O(bt.E.p,this.Be,this),this.Hi.PT(),this.gd=new ne("Email of a leader",null,14),i.appendChild(this.gd.J),i.appendChild(bt.B("br")),this.iL=new qt("Start a team"),i.appendChild(this.iL.J),this.iL.O(bt.E.p,this.Be,this);var a=new Kt("Emails of other members:");i.appendChild(a.J),i.appendChild(bt.B("br")),this._L=bt.B("textarea"),this._L.setAttribute("rows",3),this._L.setAttribute("cols",70),this._L.setAttribute("style","display:block;tab-size:4;"),i.appendChild(this._L);var h=new Ot("Save Team Settings",!1,null,!0);i.appendChild(h.J),h.O("click",this.tyT,this);var o=this.tIz=new Ot("More about Teams",!1,null,!0);i.appendChild(o.J),o.O("click",this.BU,this),(t=bt.B("h2","")).innerHTML="Distributor Account",i.appendChild(t),this.gv=new Ot("...",!0),this.gv.J.setAttribute("style",n),i.appendChild(this.gv.J),e=this.BN(["1000 views/month",this.Mg[6],this.Mg[7],"5000 views/month",this.Mg[8],this.Mg[9],"20000 views/month",this.Mg[10],this.Mg[11]]),i.appendChild(e),this.gQ=new ne("Domain name (e.g. domain.com)",null,14),i.appendChild(this.gQ.J),i.appendChild(bt.B("br")),(h=new Ot("Save Domain Settings",!1,null,!0)).PT(),i.appendChild(h.J),h.O("click",this.tyv,this);o=new Ot("More about Distributors",!1,null,!0);i.appendChild(o.J),o.O("click",this.BU,this)},pe.vS.prototype=new St,pe.vS.prototype.BA=function(t){var e=new xt("showpage",!0);e.data={U_:1},this.N(e)},pe.vS.prototype.w=function(){this.MA.$v(i.TQ()?n.get([0,11]):n.get([0,10])),this.wz.w(),this.wl.w()},pe.vS.prototype.BU=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.yQ,link:"https://www.photopea.com/api/accounts#"+(t.target==this.tIz?"teams":"distributors")},this.N(e)},pe.vS.prototype.Be=function(t){var e=t.currentTarget==this.Hi;this.Hi.Q(e),this.iL.Q(!e)},pe.vS.prototype.tyT=function(t){var e=this.Hi.v(),n=this.gd.v().trim(),r=this._L.value.trim();if(n.length>60)alert("Too long email address");else if(r.length>600)alert("Too many team members");else{r=""==(r=(r=r.split(",").join(" ").trim()).replace(/\s+/g," "))?[]:r.split(" ");var s=i.jf();null==s&&(s={}),null==s.acc&&(s.acc={}),s.acc.team={jin:e,ldr:n,mmb:r},i.hn(s,this.ZD.bind(this)),alert("Saved!"),this.aK()}},pe.vS.prototype.tyv=function(t){var e=this.gQ.v().trim();if(0!=e.length)if(i.TQ())if("0"!=i.PS().distrib){var n=i.jf();null==n&&(n={}),null==n.acc&&(n.acc={}),n.acc.dname=e,i.hn(n,this.ZD.bind(this)),alert("Saved!"),this.aK()}else alert("Order a distributor account first.");else alert("You have to log in first.");else alert("Domain is empty.")},pe.vS.prototype.aK=function(){if(i.TQ()){var t=i.PS();if(null==t)return;this.wQ.innerHTML='<span style="font-size:1.5em; margin-right:0.7em;">'+t.name+"</span> "+t.email+" <br/>"}else this.wQ.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";var e=i.TQ()&&1e3*t.premium>Date.now();if(this.Mk.J.style.display=e?"block":"none",e){var n,r=parseInt(t.premium)-Date.now()/1e3;n=-1==(a=parseInt(t.ptype))?"member of a team":1==a?"Single user":"Team of "+a,this.Mk.$v("Premium active for "+Math.round(r/86400)+" more days! ("+n+")")}var s=i.TQ()&&1e3*t.distrib>Date.now();if(this.gv.J.style.display=s?"block":"none",s){r=parseInt(t.distrib)-Date.now()/1e3;var a=parseInt(t.ptype);this.gv.$v("Distributor active for "+Math.round(r/86400)+" more days! ("+a+" visitos)")}var h=i.jf();if(h&&h.acc&&h.acc.team){var o=h.acc.team;this.Hi.Q(o.jin),this.iL.Q(!o.jin),this.gd.Q(o.ldr),this._L.value=o.mmb.join(", ")}else this.Hi.Q(!0),this.iL.Q(!1),this.gd.Q(""),this._L.value="";h&&h.acc&&h.acc.dname?this.gQ.Q(h.acc.dname):this.gQ.Q("")},pe.vS.prototype.BN=function(t){var e=bt.B("table","");e.innerHTML='\t\t\t\t<table>\t\t\t\t\t<tr>   <th class="left"></th><th>30 days</th><th>90 days</th> </tr>\t\t\t\t</table>\t\t\t';for(var i=0;i<t.length;i+=3){var n,r=bt.B("tr");e.appendChild(r),n=bt.B("td","left"),r.appendChild(n),n.innerHTML="<b>"+t[i]+"</b>",n=bt.B("td"),r.appendChild(n),n.appendChild(t[i+1].J),n=bt.B("td"),r.appendChild(n),n.appendChild(t[i+2].J)}return e},pe.vS.prototype.tyE=function(t){var e=this.Mg.indexOf(t.currentTarget);if(i.TQ())if(0==this.xw.v()&&e<6)alert("You must accept Terms of Service");else{var n=0==(1&e)?30:90,r=[1,5,20,1e3,5e3,2e4][Math.floor(e/2)];i.TQ()&&1e3*i.PS().premium>Date.now()&&r<1e3?alert("You already have premium."):(i.order(n,r,this.ZD.bind(this)),this.Zc())}else alert("You must log in before buying Premium")},pe.vS.prototype.ZD=function(t){i.TQ()&&i.PS().msg&&alert(i.PS().msg),this.aK(),this.Zc()},pe.vS.prototype.hg=function(t){i.TQ()?(i.tRn(),this.Zc(),this.aK(null,null,null)):i.hg(this.tyf.bind(this))},pe.vS.prototype.tyf=function(){var t=new xt(bt.E.Y,!0);t.data={X:bt.m.tIk},this.N(t)},pe.vS.prototype.Zc=function(){var t=new xt(bt.E.Y,!0);t.data={X:bt.m.bX},this.N(t)},pe.xj=function(){St.call(this),this.J=bt.B("div");var t=this.J,e=this.tIF=new Ot([0,13,2],!1,null,!0);e.O("click",this.tyZ,this),t.appendChild(e.J);var i=bt.B("div","");i.innerHTML=pe.xj.tys,t.appendChild(i)},pe.xj.prototype=new St,pe.xj.prototype.tyZ=function(t){var e=new xt("showpage",!0);e.data={U_:0},this.N(e)},pe.xj.prototype.w=function(){this.tIF.w()},pe.xj.tys='\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us ("these Terms") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the "Service"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we’ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you’ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don’t grant us (and we don’t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t\x3c!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user\'s access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user\'s access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t--\x3e\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you "log out"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in "localData".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t',ve.prototype=new ce,ve.prototype.ZQ=function(){return!0},ve.prototype.mv=function(t,e){return null!=t},ve.prototype.w=function(){ce.prototype.w.call(this),this.uW&&this.uW.w()},ve.prototype.Id=function(t){this.oe({X:"edit",Dq:this.uW.v()})},ve.prototype.eA=function(t){this.oe({X:"cancel"})},ve.prototype.wS=function(t){this.wZ=this.uW.v(),this.oe({X:"confirm"}),this.close()},ve.prototype.aK=function(t,e,i,n){if(n.l(W.kz)&&this.wZ)this.uW.Q(this.wZ);else{var r={};tt.jw(this.qd,r);var s=tt.cV(r);this.uW.Q(s)}var h=K.sU.getData(t),o=a.Yk(h[0].gk);this.uW.yb(o),this.Id(null)},ve.prototype.qB=function(t,e){this.uW.qB(t,e)},ve.prototype.oe=function(t){var e=new xt(bt.E.W,!0);t.qd=this.qd,e.data=t,e.c=j.nP,e.MI=!0,this.N(e)},de.prototype=new ce,de.prototype.w=function(){ce.prototype.w.call(this),this.zd.w(),this.wk.w(),this.Bu()},de.prototype.cn=function(){var t=this.aV.videoWidth,e=this.aV.videoHeight,i=bt.B("canvas","");i.width=t,i.height=e;var n=i.getContext("2d");n.drawImage(this.aV,0,0,t,e);var r=n.getImageData(0,0,t,e);return{MD:new L(0,0,t,e),data:r.data.buffer}},de.prototype.tDt=function(t){0==this.zd.v()?this.tDp():this.tDL()},de.prototype.tDL=function(){var t=this.cn(),e={buffer:new Uint8Array(t.data),rect:t.MD},i=new xt(bt.E.W,!0);i.MI=!0,i.c=j.uh,i.data={X:nt.rh,lD:e},this.N(i),alert(n.get([21,4]))},de.prototype.tDp=function(){var t=this.cn(),e=Ki.Uc("camera",[t]),i=new xt(bt.E.Y,!0);i.data={X:bt.m.pL,Ti:e},this.N(i),alert(n.get([21,5]))},de.prototype.aK=function(t,e,i){var n={video:{width:{ideal:6e3},height:{ideal:6e3}}};navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(n).then(this.gH).catch(this.vU):navigator.webkitGetUserMedia(n,this.gH,this.vU)},de.prototype.tDQ=function(t){this.stream=t,this.aV.srcObject=t,this.aV.addEventListener("loadedmetadata",this.tIs,!1)},de.prototype.Bu=function(t){var e=this.aV.videoWidth,i=this.aV.videoHeight;this.xs.Q(n.get([21,3])+": "+e+" x "+i+" px"),this.wA.kR(e,i),this.Tc(this.JX,this.ht)},de.prototype._S=function(t,e){return Math.min(t,e)<500?new f(0,0):new f(100,100)},de.prototype.Tc=function(t,e){this.JX=t,this.ht=e;var i=t-28,n=e-28-38,r=this.wA.x/this.wA.y;i/n>r?i=n*r:n=i/r,this.aV.setAttribute("style","display: block; width: "+Math.round(i)+"px; height:"+Math.round(n)+"px;")},de.prototype.tDZ=function(t){console.log("error",t),alert(n.get([21,6])),this.close()},de.prototype.tDk=function(t){null!=this.stream&&(this.stream.getTracks()[0].stop(),this.aV.src="",this.stream=null)},ye.prototype=new ce,ye.prototype.mv=function(t,e){return null!=t},ye.prototype.Zy=function(){return!0},ye.prototype.cL=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y);this.wF=Math.max(0,Math.min(t.$-1,Math.floor(s.x))),this.w_=Math.max(0,Math.min(t.z-1,Math.floor(s.y))),this.k_()},ye.prototype.w=function(){ce.prototype.w.call(this)},ye.prototype.create=function(t){var e=new xt(bt.E.W,!0);e.c=j.sQ,e.data={X:"setsel",_F:[7,8],t:{rect:new L(0,0,this.Ho.$,this.Ho.z),channel:this.hF}},e.MI=!0,this.N(e),this.close()},ye.prototype.aK=function(t,e){this.Ho=t,this.wF=0,this.w_=0,this.k_()},ye.prototype.k_=function(){var t=this.Ho,e=this.wF,i=this.w_,n=this.ql,r=n.getContext("2d"),s=Math.floor(230*bt.h()),h=Math.floor(s*(t.z/t.$));n.width=s,n.height=h,bt.gx(n,s,h);for(var o=new L(0,0,t.$,t.z),l=t.$*t.z,u=t.cn(),f=this.hF=a.I(l),p=4*(i*t.$+e),v=1/255,d=u[p]*v,y=u[p+1]*v,g=u[p+2]*v,m=a.pI(d,y,g),w=this.gn.v()/200,b=1/w,x=1/Math.sqrt(3),M=0;M<l;M++){var S=M<<2,A=u[S]*v,k=u[S+1]*v,C=u[S+2]*v,T=a.pI(A,k,C),U=a.Y_(T.ht,m.ht);1!=T.NK&&1!=m.NK||(U=0);Math.abs(T._u-m._u),Math.abs(T.NK-m.NK);var _=Math.sqrt((d-A)*(d-A)+(y-k)*(y-k)+(g-C)*(g-C))*x,F=_<=w?1-_*b:0;f[M]=255*F*(1-U)}var O=a.I(4*f.length);a.Mw(O,4294967295);for(M=0;M<3;M++)a.kw(f,O,M);var D=j._.Qk([O,o],new c(s/t.$,0,0,h/t.z,0,0)),N=r.createImageData(D.rect.$,D.rect.z);a.sa(D.buffer,N.data),r.putImageData(N,0,0)},ge.prototype=new ce,ge.prototype.Zy=function(){return!0},ge.prototype.Tc=function(t,e){this.rP.style.width=Math.min(256,t-250)+"px"},ge.prototype.cL=function(t,e,i,n,r){this.gl=!0,this.zR(t,r)},ge.prototype.XY=function(t,e,i,n,r){this.gl&&this.zR(t,r)},ge.prototype.Nu=function(t,e,i,n,r){this.gl=!1},ge.prototype.zR=function(t,e){var i=j.uS.WL(t,e,1),n=255&i,r=i>>8&255,s=i>>16&255;this.oE={T:s/255,q:r/255,H:n/255},this.update()},ge.prototype.tDm=function(t){var e=this.I$,i=this._o(parseInt(e[0].v())),n=this._o(parseInt(e[1].v())),r=this._o(parseInt(e[2].v()));this.oE={T:i/255,q:n/255,H:r/255},this.update()},ge.prototype.tcR=function(t){var e=this.IJ,i=this.Lt(parseInt(e[0].v())/360),n=this.Lt(parseInt(e[1].v())/100),r=this.Lt(parseInt(e[2].v())/100);this.oE=a.pq(i,n,r),this.ZV.y=255*(1-i),this.update()},ge.prototype.ZC=function(t){var e;t.currentTarget==this.iQ?e=this.iQ.v():("#"==(e=t.currentTarget==this.ET?this.ET.v():this.iW.value).charAt(0)&&(e=e.slice(1)),3==e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e=a.ttO(e)),this.oE={T:(e>>16&255)/255,q:(e>>8&255)/255,H:(255&e)/255},this.update()},ge.prototype.tct=function(t){bt.ny(window,this.tQ),bt.nL(window,this.tO),this.zt(t)},ge.prototype.tcx=function(t){bt.vD(window,this.tQ),bt.cQ(window,this.tO)},ge.prototype.zt=function(t){var e=bt.qF(t,this.rP);e.x=e.x*(256/parseFloat(this.rP.style.width)),this.MH.kR(this._o(e.x),this._o(e.y)),this.oE=this.z$(),this.update()},ge.prototype.z$=function(){var t=a.pq((255-this._o(this.ZV.y))/255,this.Lt(this.MH.x/255),this.Lt(1-this.MH.y/255));return{T:t.T,q:t.q,H:t.H}},ge.prototype.tcO=function(t){bt.ny(window,this.WV),bt.nL(window,this.WP),this.zr(t)},ge.prototype.tcY=function(t){bt.vD(window,this.WV),bt.cQ(window,this.WP)},ge.prototype.zr=function(t){var e=bt.qF(t,this.nM);this.ZV.kR(this._o(e.x),this._o(e.y)),this.oE=this.z$(),this.update()},ge.prototype.DD=function(t){var e=t.T,i=t.q,n=t.H;return Math.round(255*e)<<16|Math.round(255*i)<<8|Math.round(255*n)},ge.prototype._O=function(t){this.zH();var e=this.DD(this.oE);this.iQ.Q(e),this.aj(e),this.close()},ge.prototype.eA=function(t){this.zH(),this.ZR&&this.aj(this.DD(this.iT))},ge.prototype.zH=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.bS},this.N(e)},ge.prototype.aK=function(t,e){var i=new xt(bt.E.Y,!0);i.data={X:bt.m.gM,Ut:"crosshair",push:!0},this.N(i),this.gl=!1,this.aj=e.rI,this.ZR=!1,this.Ga=e.rc;var n=e.nx;this.oE={T:(n>>16&255)/255,q:(n>>8&255)/255,H:(n>>0&255)/255},this.iT=JSON.parse(JSON.stringify(this.oE)),this.WG.setAttribute("style","height:3em;background-color:#"+a.fM(n)+";"),this.update()},ge.prototype.update=function(){var t=this.oE,e=this.DD(t),i=this.I$;i[0].Q(Math.round(255*t.T)),i[1].Q(Math.round(255*t.q)),i[2].Q(Math.round(255*t.H)),this.ET.Q(a.fM(e)),this.iW.value="#"+a.fM(e),this.Wd.setAttribute("style","height:3em;background-color:#"+a.fM(e)+";");var n=a.sM(t.T,t.q,t.H);0==n.Dq&&(n._u=this.MH.x/255),0!=n._u&&0!=n.Dq||(n.ht=(255-this._o(this.ZV.y))/255),(i=this.IJ)[0].Q(Math.round(360*n.ht)),i[1].Q(Math.round(100*n._u)),i[2].Q(Math.round(100*n.Dq)),0!=n.Dq&&(this.MH.x=255*n._u),this.MH.y=255*(1-n.Dq),this.ZV.y=255*(1-n.ht);var r=this._m.getImageData(0,0,256,256);this.tcB(r.data,256,256,n.ht),this._m.putImageData(r,0,0),this._m.strokeStyle="#000000",this._m.beginPath(),this._m.arc(this.MH.x+1,this.MH.y+1,5,0,2*Math.PI),this._m.stroke(),this._m.strokeStyle="#ffffff",this._m.beginPath(),this._m.arc(this.MH.x,this.MH.y,5,0,2*Math.PI),this._m.stroke();r=this.Mh.getImageData(0,0,20,256);this.tcZ(r.data,20,256),this.Mh.putImageData(r,0,0),this.Mh.strokeStyle="#ffffff",this.Mh.beginPath(),this.Mh.moveTo(0,this.ZV.y),this.Mh.lineTo(20,this.ZV.y),this.Mh.lineWidth=2,this.Mh.stroke(),this.Ga&&(this.aj(this.DD(this.oE)),this.ZR=!0)},ge.prototype.tcB=function(t,e,i,n){for(var r=0;r<i;r++)for(var s=0;s<e;s++){var h=a.pq(n,s/e,(i-r-1)/i),o=r*e+s<<2;t[o+0]=~~(255*h.T),t[o+1]=~~(255*h.q),t[o+2]=~~(255*h.H),t[o+3]=255}},ge.prototype.tcZ=function(t,e,i){for(var n=0;n<i;n++)for(var r=a.pq(1-n/i,1,1),s=0;s<e;s++){var h=4*(n*e+s);t[h+0]=255*r.T,t[h+1]=255*r.q,t[h+2]=255*r.H,t[h+3]=255}},ge.prototype._o=function(t){return Math.max(0,Math.min(255,t))},ge.prototype.Lt=function(t){return Math.max(0,Math.min(1,t))},me.prototype=new ce,me.prototype.w=function(){ce.prototype.w.call(this),this.if.w()},me.prototype.zz=function(t){this.Px.Crv.v=this.uW.v(),this.response(this.Px),this.ZW()},me.prototype.ua=function(t){this.response(this.Wx)},me.prototype.aK=function(t,e){this.Wx=JSON.parse(JSON.stringify(e.C)),this.Px=e.C,this.response=e.response,this.uW.Q(this.Px.Crv.v),this.ZW()},me.prototype.ZW=function(){var t=this.uW.BI();if(this.coords.setAttribute("class",-1==t?"disabled":""),-1!=t){var e=this.Px.Crv.v[t].v;this.ap.Q(Math.round(e.Hrzn.v*(100/255))),this.al.Q(Math.round(e.Vrtc.v*(100/255))),this.if.Q(e.Cnty.v)}},me.prototype.Zq=function(t){var e=this.uW.BI(),i=this.Px.Crv.v[e];i.v.Hrzn.v=2.55*parseFloat(this.ap.v()),i.v.Vrtc.v=2.55*parseFloat(this.al.v()),i.v.Cnty.v=this.if.v(),this.Px.Crv.v.sort((function(t,e){return t.v.Hrzn.v-e.v.Hrzn.v})),this.uW.Q(this.Px.Crv.v,this.Px.Crv.v.indexOf(i)),this.ZW(),this.response(this.Px)},we.prototype=new ce,we.prototype.mv=function(t,e){return null!=t},we.prototype.tcN=function(){var t=[this.iu.J,this.gN.J];this.AA.removeChild(t[this.gf]),this.gf=this.ge.v(),this.AA.appendChild(t[this.gf])},we.prototype.w=function(){ce.prototype.w.call(this),this.JB.w(),this.ge.w(),this.iu.w(),this.gN.w()},we.prototype.create=function(t){var e=this.JB.v(),i=e.x,n=e.y,r=new xt(bt.E.W,!0);r.c=j.Wz,r.data={X:"canvsize",vg:i,vF:n,vm:this.JB.zi()},0==this.gf?r.data.iP=this.iu.v():r.data.M=this.gN.tHv(),r.MI=!0,this.N(r),this.close()},we.prototype.aK=function(t,e){this.JB.Q(new f(t.$,t.z),t.go)},be.prototype=new ce,be.prototype.w=function(){ce.prototype.w.call(this),this.Aw.w(),this.A_.w()},be.prototype.zw=function(t){this.Aw.v()==this.ZM.length?this.A_.qQ():this.A_.uI()},be.prototype.aK=function(t,e,i){this.b=t.HK(),this.tx=t,this.ZM=i,this.A_.Q(0==this.b.length?"Layer":this.b[this.b.length-1].getName());for(var n=[],r=0;r<i.length;r++)n.push(i[r].name);n.push([11,7]),this.Aw.ea(n),this.Aw.Q(i.indexOf(t)),this.zw(null)},be.prototype._O=function(t){var e=this.Aw.v();if(e==this.ZM.length){var i=new at(this.A_.v()+".psd");i.$=this.tx.$,i.z=this.tx.z,i.buffer=a.I(i.$*i.z*4);var n,r=i.Zs();r.Vp("Background"),i.rM([r]),(n=new xt(bt.E.Y,!0)).data={X:bt.m.pL,Ti:i},this.N(n)}(n=new xt(bt.E.W,!0)).data={X:nt.HS,b:this.b,Ts:this.tx,dN:this.ZM[e]},n.c=j.uh,n.MI=!0,this.N(n),this.close()},xe.prototype=new ce,xe.prototype.Zp=function(t){this.Al=null},xe.prototype.w=function(){ce.prototype.w.call(this),this.aR.w(),this.at.w(),this.gO.w()},xe.prototype.aK=function(t,e,i){for(var n=[],r=0;r<t.b.length;r++){var s=t.b[r].getName();s.startsWith("-e")&&n.push(s)}var a="- - - "+n.length+" exportable layers";this.iK.textContent=a,this.Al=t},xe.prototype.qB=function(t,e){this.Sn=t},xe.prototype.DG=function(t){for(var e=this.Al,i=this.aR.v(),n=[],r=0;r<i.length;r++)i[r]&&n.push(["PNG","JPG","SVG"][r]);var s=this.at.v(),a={};for(r=0;r<e.b.length;r++){var h=e.b[r],o=h.getName();if(o.startsWith("-e")){var l=h.op();h.cE(!0);for(var u=0;u<s.length;u++)if(s[u])for(var f=u+1,c=j.UP.pJ(e,n,f,this.Sn,r),p=0;p<n.length;p++){var v=n[p];a[o.slice(3)+(1==f?"":"-"+f+"x")+"."+v.toLowerCase()]=new Uint8Array(c[p])}h.cE(l)}}var d=UZIP.encode(a),y=new xt(bt.E.Y,!0);y.data={X:bt.m.IA,data:d,name:"assets.zip"},this.N(y)},Me.prototype=new ce,Me.prototype.ZQ=function(){return!0},Me.prototype.fi=function(){return null!=this.uW&&this.uW.fi()},Me.prototype._S=function(){return this.uW.fi()?new f(0,0):ce.prototype._S()},Me.prototype.w=function(){ce.prototype.w.call(this),this.uW&&this.uW.w()},Me.prototype.qB=function(t,e){null==fe[this.qd]&&this.uW.qB(t,e)},Me.prototype.FJ=function(t,e,i,n){this.uW&&this.uW.FJ(n)},Me.prototype.Id=function(t){var e=this.uW.v();if(null==fe[this.qd]){var i=et.vI(this.qd);e=tt.nt(this.qd,e,i)}this.oe({X:"edit",Dq:e})},Me.prototype.aK=function(t,e){this.UQ=e.UQ;var i,n,r,s=t.add.lnk2?t.add.lnk2:[],a=new L(0,0,t.$,t.z),h=null;if(i=(r=t.b[t.g[0]]).buffer,n=r.rect,this.fi()&&(h=t.cn(t.g[0]-1)),ue[this.qd]){var o={};tt.jw(this.qd,o),this.uW.Q(tt.cV(o))}else fe[this.qd]&&this.uW.Q(et.vI(this.qd),i,n,a,h,s);if(e.UQ&&(r=t.b[this.UQ.i]).kl()){var l=r.hy(t);i=l.buffer,n=l.rect;var u=r.add.SoLd.filterFX.v.filterFXList.v;if(u[this.UQ.index]){var f=u[this.UQ.index].v.Fltr.v;fe[this.qd]?this.uW.Q(f,i,n,a,h,s):this.uW.Q(tt.lK(this.qd,f))}}this.fi()||this.Id()},Me.prototype.eA=function(t){this.oe({X:"cancel"})},Me.prototype.wS=function(t){this.fi()&&this.Id(),this.oe({X:"confirm"}),this.close()},Me.prototype.oe=function(t){var e=new xt(bt.E.W,!0);t.filter=this.qd,t.UQ=this.UQ,e.data=t,e.c=j.Mb,e.MI=!0,this.N(e)},Me.prototype.Tc=function(t,e){e-=26,t-=26,this.uW.Tc(t,e)},Se.prototype=new ce,Se.prototype.eA=function(t){this.ZR&&this.aj(this.iT)},Se.prototype.w=function(){ce.prototype.w.call(this),this.SX.w(),this.Wg.w(),this.a$.w(),this.aH.w(),this.OO.w(),this.vJ.w(),this.ZI.w(),this.vC.w()},Se.prototype.qB=function(t,e){this.wR=t},Se.prototype.aK=function(t,e){this.oE=JSON.parse(JSON.stringify(e.e)),this.iT=JSON.parse(JSON.stringify(e.e)),this.To=this.g$=null,this.Uz(),this.xK(),this.aj=e.rI,this.ZR=!1,this.Ga=e.rc},Se.prototype._O=function(t){var e=this.oE;this.aj(e),this.close()},Se.prototype.jV=function(t){return t==W.nC},Se.prototype.FJ=function(t,e,i,n){n.l(W.nC)&&(this.g$&&this.zT(),this.To&&this.zP())},Se.prototype.zT=function(t){var e=this.oE.Trns.v;null!=this.g$&&2!=e.length&&(e.splice(e.indexOf(this.g$),1),this.g$=null,this.Uz(),this.xK())},Se.prototype.zP=function(t){var e=this.oE.Clrs.v;null!=this.To&&2!=e.length&&(e.splice(e.indexOf(this.To),1),this.To=null,this.Uz(),this.xK())},Se.prototype.Uz=function(){var t=this.rP,e=this._m,i=bt.h();t.width=Math.floor(410*i),t.height=Math.floor(90*i),bt.gx(t,t.width,t.height),this.VM=new L(0,0,Math.floor(380*i),Math.floor(32*i)),this.VM.x=Math.floor((this.rP.width-this.VM.$)/2),this.VM.y=Math.floor((this.rP.height-this.VM.z)/2);var n=this.VM,r=n.$,s=n.z,h=n.x,o=n.y,l=new L(0,0,r,s),u=e.getImageData(0,0,r,s),f=new Uint8Array(u.data.buffer);a.by(f,r,s,8,0,0);var c=a.I(r*s*4);a.e.AH(this.oE,c,l,[1/r,0,0,1/s],r/2,s/2,!1,0,this.wR.AF,this.wR.ze),a.a.MR("norm",c,n,f,n,n,1),e.clearRect(0,0,t.width,t.height),e.putImageData(u,h,o);for(var p=this.oE.Trns.v,v=this.oE.Clrs.v,d=a.e.zp(v,this.wR.AF,this.wR.ze),y=Math.round(6*bt.h()),g=Math.round(14*bt.h()),m=this.g$?this.g$.v:null,w=this.To?this.To.v:null,b=0;b<p.length;b++){var x=p[b].v,M=Math.round(255-255*x.Opct.v.val/100);(x==m||p[b-1]&&p[b-1].v==m||b==this.BE)&&0!=b&&(e.fillStyle="#000000",e.fillRect(h-3+r*(p[b-1].v.Lctn.v+(x.Lctn.v-p[b-1].v.Lctn.v)*x.Mdpn.v/100)/4096,o-6-2,6,6)),x==m&&(e.fillStyle="#ffffff",e.fillRect(h-y+r*(x.Lctn.v/4096)-2,o-2-g-2,2*y+4,g+4)),e.fillStyle="rgb("+M+","+M+","+M+")",e.fillRect(h-y+r*(x.Lctn.v/4096),o-2-g,2*y,g)}for(b=0;b<v.length;b++){var S=v[b].v,A=d[b];(S==w||v[b-1]&&v[b-1].v==w||b==this.uu)&&0!=b&&(e.fillStyle="#000000",e.fillRect(h-3+r*(v[b-1].v.Lctn.v+(S.Lctn.v-v[b-1].v.Lctn.v)*S.Mdpn.v/100)/4096,o+s+2,6,6)),S==w&&(e.fillStyle="#ffffff",e.fillRect(h-y+r*(S.Lctn.v/4096)-2,o+s+2-2,2*y+4,g+4)),e.fillStyle="rgb("+Math.round(A.T)+", "+Math.round(A.q)+","+Math.round(A.H)+")",e.fillRect(h-y+r*(S.Lctn.v/4096),o+s+2,2*y,g)}this.Ga&&(this.aj(this.oE),this.ZR=!0)},Se.prototype.xK=function(){this.oR.Q(Math.round(100*this.oE.Intr.v/4096));var t=this.oE.Trns.v,e=this.oE.Clrs.v,i=null!=this.g$,n=-1!=this.BE;if(this.OO.FX(i),this.vJ.FX(i||n),this.a$.FX(i),i){this.oT.setAttribute("style","");var r=this.g$.v;this.vJ.Q(Math.round(100*r.Lctn.v/4096)),this.OO.Q(r.Opct.v.val)}n&&this.vJ.Q(t[this.BE].v.Mdpn.v);i=null!=this.To,n=-1!=this.uu;if(this.ZI.FX(i),this.MB.FX(i),this.vC.FX(i||n),this.aH.FX(i),i){this.Va.setAttribute("style","");var s=this.To.v;this.vC.Q(Math.round(100*s.Lctn.v/4096));var a=s.Type.v.Clry;this.ZI.Q(["FrgC","BckC","UsrS"].indexOf(a)),"FrgC"==a&&this.MB.kI(this.wR.AF),"BckC"==a&&this.MB.kI(this.wR.ze),"UsrS"==a&&this.MB.Q(s.Clr.v)}n&&this.vC.Q(e[this.uu].v.Mdpn.v)},Se.prototype.MP=function(t){var e=Math.round(4096*this.oR.v()/100);this.oE.Intr.v=e;var i=this.oE.Trns.v,n=this.oE.Clrs.v;if(null!=this.g$){var r=this.g$.v;r.Lctn.v=Math.round(this.vJ.v()/100*4096),r.Opct.v.val=this.OO.v()}if(null!=this.To){var s=this.To.v;s.Lctn.v=Math.round(this.vC.v()/100*4096),t.target==this.MB&&this.ZI.Q(2);var a=this.ZI.v();s.Type.v.Clry=["FrgC","BckC","UsrS"][a],2==a?s.Clr={t:"Objc",v:this.MB.v()}:s.Clr&&delete s.Clr}-1!=this.BE&&(i[this.BE].v.Mdpn.v=this.vJ.v()),-1!=this.uu&&(n[this.uu].v.Mdpn.v=this.vC.v()),this.Uz()},Se.prototype.uB=function(t){var e=bt.qF(t,this.rP),i=(e.x*bt.h()-this.VM.x)/this.VM.$,n=(e.y*bt.h()-this.VM.y)/this.VM.z,r=this.oE.Trns.v,s=this.oE.Clrs.v,h=null,o=null,l=-1,u=-1;if(n<1)for(var f=0;f<r.length;f++){var c=r[f].v;Math.abs(c.Lctn.v/4096-i)<.02&&(h=r[f]),f>0&&Math.abs((r[f-1].v.Lctn.v+(c.Lctn.v-r[f-1].v.Lctn.v)*c.Mdpn.v/100)/4096-i)<.01&&(l=f)}if(n>0)for(f=0;f<s.length;f++){var p=s[f].v;Math.abs(p.Lctn.v/4096-i)<.02&&(o=s[f]),f>0&&Math.abs((s[f-1].v.Lctn.v+(p.Lctn.v-s[f-1].v.Lctn.v)*p.Mdpn.v/100)/4096-i)<.01&&(u=f)}if(null==o&&null==h&&-1==l&&-1==u){if(n<0)(c={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}}).v.Lctn.v=Math.round(4096*i),r.push(c),r.sort(this.Dv),h=c;if(n>1){s=this.oE.Clrs.v;var v=a.e.zp(s,this.wR.AF,this.wR.ze),d=a.e.rz(this.oE,v,i);(p={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:a.e.Ta({T:255&d,q:d>>8&255,H:d>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}}).v.Lctn.v=Math.round(4096*i),s.push(p),s.sort(this.Dv),o=p}}(null!=o||null!=h||l>-1||u>-1)&&(this.g$=h,this.To=o,this.BE=l,this.uu=u,this.xK(),this.Uz(),bt.ny(window,this.t_),bt.nL(window,this.Vt))},Se.prototype.Ll=function(t){var e=bt.qF(t,this.rP),i=bt.h()*(e.x-this.VM.x)/this.VM.$,n=bt.h()*(e.y-this.VM.y)/this.VM.z;i=Math.max(0,Math.min(1,i));var r=this.oE.Trns.v,s=this.oE.Clrs.v;if(null!=this.g$){var a;(a=this.g$.v).Lctn.v=Math.round(4096*i);var h=r.indexOf(this.g$);-1!=h&&n<-1&&r.length>2&&r.splice(h,1),-1==h&&n>-1&&r.push(this.g$),r.sort(this.Dv)}if(null!=this.To){var o;(o=this.To.v).Lctn.v=Math.round(4096*i);var l=s.indexOf(this.To);-1!=l&&n>1.5&&s.length>2&&s.splice(l,1),-1==l&&n<1.5&&s.push(this.To),s.sort(this.Dv)}this.BE>-1&&((a=r[this.BE].v).Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(4096*i-r[this.BE-1].v.Lctn.v)/(a.Lctn.v-r[this.BE-1].v.Lctn.v)))));this.uu>-1&&((o=s[this.uu].v).Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(4096*i-s[this.uu-1].v.Lctn.v)/(o.Lctn.v-s[this.uu-1].v.Lctn.v)))));(null!=this.g$||null!=this.To||this.BE>-1||this.uu>-1)&&(this.xK(),this.Uz())},Se.prototype.uZ=function(t){(bt.vD(window,this.t_),bt.cQ(window,this.Vt),Date.now()-this.qn<300)&&(-1!=this.uu||-1!=this.BE?((-1!=this.uu?this.oE.Clrs.v[this.uu]:this.oE.Trns.v[this.BE]).v.Mdpn.v=50,this.xK(),this.Uz()):null!=this.To&&this.MB.ttq());this.qn=Date.now()},Se.prototype.Dv=function(t,e){return t.v.Lctn.v-e.v.Lctn.v},Ae.prototype=new ce,Ae.prototype.mv=function(t,e){return null!=t},Ae.prototype.w=function(){ce.prototype.w.call(this),this.hu.w(),this.JB.w()},Ae.prototype.create=function(t){var e=this.JB.v(),i=e.x,n=e.y,r=new xt(bt.E.W,!0);r.c=j.Wz,r.data={X:"imgsize",vg:i,vF:n,vm:this.JB.zi(),Et:this.hu.v()},r.MI=!0,this.N(r),this.close()},Ae.prototype.aK=function(t,e){this.JB.Q(new f(t.$,t.z),t.go)},ke.prototype=new St,ke.prototype.tcF=function(){for(var t=0;t<this.UT.length;t++)bt.cd(this.UT[t],"selected"),this.oq[t]instanceof qt&&this.oq[t].Q(!1)},ke.prototype.tLr=function(t){for(var e=this.tLD.bind(this),i=0;i<this.oq.length;i++){var n=bt.B("div","listitem");if(this.UT.push(n),i>0&&(n.textContent=" "),n.appendChild(this.oq[i].J),-1!=ot.ju.indexOf(this.io)){var r=new Ot("+");r.PT(),r.J.style.float="right",n.appendChild(r.J);var s=new Ot("⬍");s.PT(),s.J.style.float="right",s.J.style["margin-right"]="2px",n.appendChild(s.J)}n.addEventListener("click",e,!1),t.appendChild(n)}},ke.MM=function(t,e){var i=e.getBoundingClientRect();return(t.clientY-i.top)/i.height},ke.prototype.tLD=function(t){var e=t.target.tagName.toLowerCase();if("input"!=e){if("button"==e){var i=new xt(bt.E.W,!0),n="+"==t.target.textContent,r=n?0:ke.MM(t,t.target)<.5?-1:1;return i.data=n?{X:"st_dupsingle",i:this.parent.data.i,pV:this.Au}:{X:"st_movsingle",i:this.parent.data.i,pV:this.Au,yA:r},i.c=j.rt,i.MI=!0,this.N(i),(i=new xt("redrawall",!0)).data={yA:r},void this.N(i)}t.preventDefault(),t.stopPropagation(),this.Zi(),this.oY=this.UT.indexOf(t.currentTarget),this.N(new xt("showme"))}},ke.prototype.Zi=function(){this.Ju.enab&&0==this.Ju.enab.v()&&this.oe({aO:"enab",R:!0})},ke.prototype.tLL=function(){var t=this.UT[this.oY];return t&&bt.wj(t,"selected"),this.UA[this.oY]},ke.prototype.tLk=function(t){for(var e={},i=0;i<t.length;i++){var n=t[i],r=null;"----"==n&&(r={J:bt.B("hr","")}),"blOptions"==n&&(r=new Kt([14,10])),"brst"==n&&(r=new MultiCheck([12,72],["R","G","B"])),"knko"==n&&(r=new Xt("Knockout",[[13,1,0],"Shallow","Deep"])),"enab"==n&&(r=new qt(ot.names[ot.order.indexOf(this.io)])),"lrMd"!=n&&"Md"!=n||(r=new Xt([12,19],it.ln,!1,it.XL)),"Opct"==n&&(r=new jt([12,0],0,100,"%")),"iOpa"==n&&(r=new jt([12,26],0,100,"%")),"ShdN"==n&&(r=new jt([12,68],0,100,"%")),"lagl"!=n&&"Angl"!=n||(r=new Ut([12,15])),"uglg"==n&&(r=new qt([12,27])),"Dstn"==n&&(r=new jt([12,28],0,200,"px")),"Ckmt"==n&&(r=new jt([12,29],0,100,"%")),"blur"==n&&(r=new jt([12,14],0,200,"px")),"TrnS"!=n&&"MpgS"!=n||(r=new Nt([12,21])),"Nose"==n&&(r=new jt([12,30],0,100,"%")),"layerConceals"==n&&(r=new qt([12,31])),"AntA"!=n&&"antialiasGloss"!=n||(r=new qt("Anti-alias")),"GlwT"==n&&(r=new Xt([12,32],ot.eV.names)),"glwS"==n&&(r=new Xt([12,70],ot.eV.tDH)),"Inpr"==n&&(r=new jt([12,12],1,100,"%")),"bvlS"==n&&(r=new Xt([12,22],ot.Dr.style)),"bvlT"==n&&(r=new Xt([12,32],ot.Dr.tDO)),"bvlD"==n&&(r=new Xt(null,ot.Dr.dir)),"srgR"==n&&(r=new jt([12,34],0,1e3,"%")),"Sftn"==n&&(r=new jt([12,35],0,20,"px")),"Lald"==n&&(r=e.lagl),"hglM"!=n&&"sdwM"!=n||(r=new Xt([12,36],it.ln,!1,it.XL)),"hglC"!=n&&"sdwC"!=n||(r=new Lt),"hglO"!=n&&"sdwO"!=n||(r=new jt([12,0],0,100,"%")),"Invr"!=n&&"InvT"!=n||(r=new qt([4,11])),"Sz"==n&&(r=new jt([12,14],1,200,"px")),"Styl"==n&&(r=new Xt([12,40],ot.stroke.names)),"PntT"==n&&(r=new Xt([12,66],ot.stroke.tDr)),"Clr"==n&&(r=new Lt(!0)),"Grad"==n&&(r=new Vt(!0,[12,37],!0)),"Rvrs"==n&&(r=new qt([12,23])),"Type"==n&&(r=new Xt([12,22],ot.e.names.slice(0,"FrFX"==this.io?6:5))),"Ptrn"==n&&(r=new Et([12,62])),"Scl"==n&&(r=new jt([12,38],10,500,"%",0,!0)),"Algn"==n&&(r=new qt([12,39])),"Ofst"==n&&(r=new Qt(!0)),"phase"==n&&(r=new Qt(!1)),"useShape"==n&&(r=new qt([12,21])),"useTexture"==n&&(r=new qt([12,67])),"textureDepth"==n&&(r=new jt("Depth",-300,300,"%")),null!=r&&(e[n]=r)}return e},ke.prototype.tCJ=function(t){for(var e=this.UA[this.oY],i=0;i<t.length;i++){var n=this.Ju[t[i]];n&&e.contains(n.J)&&e.removeChild(n.J)}},ke.prototype.tCH=function(t){for(var e=this.UA[this.oY],i=0;i<t.length;i++){var n=this.Ju[t[i]];n&&!e.contains(n.J)&&e.appendChild(n.J)}},ke.prototype.qB=function(t,e){if(null!=this.Ju){var i=e==Q.hP;this.Ju.Grad&&(this.Ju.Grad.zE(t.AF,t.ze),(i||e==Q.nc||e==Q.wB)&&this.Ju.Grad.aA(t.MS)),this.Ju.Ptrn&&(i||e==Q.Sd)&&this.Ju.Ptrn.aA(t.wg),this.Ju.TrnS&&(i||e==Q.J$)&&this.Ju.TrnS.aA(t.IH),this.Ju.MpgS&&(i||e==Q.J$)&&this.Ju.MpgS.aA(t.IH)}},ke.prototype.w=function(){for(var t=0;t<this.Ir.length;t++)this.Ir[t].w();for(var e in this.Ju)this.Ju[e]instanceof St&&this.Ju[e].w()},ke.prototype.sA=function(){for(var t in this.Ju){var e=this.Ju[t];if(e.parent=this,e instanceof St&&e.O(bt.E.p,this.tCK,this),0==this.UA.length||"useShape"==t||"useTexture"==t){var i=new Kt(e.BP()),n=bt.B("div","bordered padded");0==this.ov&&(n.appendChild(i.J),n.appendChild(bt.B("hr",""))),this.Ir.push(i),this.UA.push(n),this.oq.push(e)}else this.UA[this.UA.length-1].appendChild(e.J)}},ke.prototype.update=function(t,e){if(null!=this.Ju)for(var i in this.ov&&(this.aT=JSON.parse(JSON.stringify(e))),e){if(-1!="Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(i)&&this.Ju[i].Q(e[i].v.val),-1!="enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(i)&&this.Ju[i].Q(e[i].v,t),-1!=["Md","hglM","sdwM"].indexOf(i)&&this.Ju[i].Q(it.io.indexOf(e[i].v.BlnM)),"lrMd"==i){var n=(e.oP?["Pass Through"]:[]).concat(it.ln),r=(e.oP?[1]:[]).concat(it.XL);this.Ju[i].ea(n,r),this.Ju[i].Q(e[i].v)}if("lagl"==i){var s=e.uglg&&e.uglg.v?t.Ej():e.lagl.v.val;this.Ju[i].Q(s)}if("Lald"==i){s=e.uglg&&e.uglg.v?t.wO():e.Lald.v.val;this.Ju[i].Q(null,s)}if("Type"==i&&this.Ju[i].Q(ot.e.types.indexOf(e.Type.v.GrdT)),"Styl"==i&&this.Ju[i].Q(ot.stroke.types.indexOf(e.Styl.v.FStl)),"PntT"==i){var a=ot.stroke.YI.indexOf(e.PntT.v.FrFl);this.Ju[i].Q(a),this.ov||(this.tCJ(ot.IS.concat(ot.fT.concat(ot.fP))),this.tCH([ot.IS,ot.fT,ot.fP][a]))}"GlwT"==i&&this.Ju[i].Q(ot.eV.types.indexOf(e.GlwT.v.BETE)),"glwS"==i&&this.Ju[i].Q(ot.eV.KR.indexOf(e.glwS.v.IGSr)),"bvlS"==i&&this.Ju[i].Q(ot.Dr.types.indexOf(e.bvlS.v.BESl)),"bvlT"==i&&this.Ju[i].Q(ot.Dr.Kr.indexOf(e.bvlT.v.bvlT)),"bvlD"==i&&this.Ju[i].Q(["In","Out"].indexOf(e.bvlD.v.BESs))}},ke.prototype.tCK=function(t){for(var e in this.Ju)if(this.Ju[e]==t.target){var i=null,n=!1;if(-1!="Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(e)&&(i={type:"#Prc",val:t.target.v()}),-1!=["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(e)&&(i={type:"#Pxl",val:t.target.v()}),-1!=["Angl","lagl"].indexOf(e)&&(i={type:"#Ang",val:t.target.v().PQ}),-1!="enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(e)&&(i=t.target.v()),-1!=["Md","hglM","sdwM"].indexOf(e)&&(i={BlnM:it.io[t.target.v()]}),"uglg"==e&&(i=t.target.v(),n=!0),"PntT"==e&&(i={FrFl:ot.stroke.YI[t.target.v()]},n=!0),"Lald"==e&&(i={type:"#Ang",val:t.target.v().alt}),"Type"==e&&(i={GrdT:ot.e.types[t.target.v()]}),"Styl"==e&&(i={FStl:ot.stroke.types[t.target.v()]}),"GlwT"==e&&(i={BETE:ot.eV.types[t.target.v()]}),"glwS"==e&&(i={IGSr:ot.eV.KR[t.target.v()]}),"bvlS"==e&&(i={BESl:ot.Dr.types[t.target.v()]}),"bvlT"==e&&(i={bvlT:ot.Dr.Kr[t.target.v()]}),"bvlD"==e&&(i={BESs:["In","Out"][t.target.v()]}),this.oe({aO:e,R:i}),n)if(this.ov)this.update(null,this.aT);else{var r=this.parent.Ti.b[this.parent.data.i].add.lmfx[ot.vz[this.Au[0]]].v[this.Au[1]].v;this.update(this.parent.Ti,r)}}},ke.prototype.oe=function(t){if(this.ov)this.aT[t.aO].v=t.R,this.N(new xt(bt.E.p));else{t.X="changeprop",t.i=this.parent.data.i,t.U_=this.Au;var e=new xt(bt.E.W,!0);e.data=t,e.c=j.rt,e.MI=!0,this.N(e),this.N(new xt("afterchange",!0))}},ke.prototype.v=function(){return JSON.parse(JSON.stringify(this.aT))},ke.UT={bops:["blOptions","lrMd","Opct","iOpa"],DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose".split(" "),OrGl:"enab Md Clr Grad Opct Nose GlwT Ckmt blur TrnS AntA Inpr ShdN".split(" "),IrGl:"enab Md Clr Grad Opct Nose GlwT glwS Ckmt blur TrnS AntA Inpr ShdN".split(" "),ebbl:"enab bvlS bvlT bvlD srgR blur Sftn ---- lagl Lald uglg TrnS antialiasGloss hglM hglC hglO sdwM sdwC sdwO useShape MpgS AntA Inpr useTexture Ptrn Scl textureDepth InvT Algn phase".split(" "),SoFi:["enab","Md","Opct"].concat(ot.IS),GrFl:["enab","Md","Opct"].concat(ot.fT),patternFill:["enab","Md","Opct"].concat(ot.fP),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS AntA Invr".split(" "),FrFX:"enab Sz Styl Md Opct PntT".split(" ").concat(ot.IS.concat(ot.fT.concat(ot.fP)))},Ce.prototype=new ce,Ce.prototype.ZQ=function(){return!0},Ce.prototype.tCY=function(t){var e=this.Um.v();this.oe({X:"setstl",R:e.PH}),this.zM(null)},Ce.prototype.tCb=function(t){var e=this.Ti,i=this.data.i;null==i&&(i=e.g[0]);var n=this.Ti.b[i],r=lt.Kn(n),s=new xt(bt.E.Y,!0);s.data={X:bt.m.u_,fa:"add",gg:Q.fd,Tb:[JSON.parse(JSON.stringify(r))]},this.N(s)},Ce.prototype.tCB=function(t){this.data.index=t.currentTarget.Au,this.Zj(t.currentTarget.Au)},Ce.prototype.zM=function(t){this.aK(this.Ti,this.data)},Ce.prototype.Zj=function(t,e){bt.hk(this.Nc);for(var i=0;i<this.qI.length;i++)this.qI[i].tcF();var n=0==t?this.qI[0]:this.iz[t[0]][t[1]];this.Nc.appendChild(n.tLL()),e&&n.Zi();var r=this.Ti;if(r){var s=r.b[this.data.i];this.qI[0].update(r,K.cW.oW(r,s));var a=s.add.lmfx;if(null==a)return;for(i=0;i<ot.order.length;i++)for(var h=a[ot.vz[i]].v,o=0;o<h.length;o++)this.iz[i][o].update(r,h[o].v)}e&&n.Zi()},Ce.prototype.w=function(){ce.prototype.w.call(this),this.II.w(),this.Um.w();for(var t=0;t<this.qI.length;t++)this.qI[t].w()},Ce.prototype.aK=function(t,e){var i=null==e.i;this.data.i=e.i,this.data.index=e.index,e=this.data,this.Ti=t,i&&(e.i=0==t.g.length?t.b.length-1:t.g[0]),bt.hk(this.DI);var n=t.b[e.i].add.lmfx;this.ZK(),this.qI=[new ke("bops",!1,0)],this.iz=[];for(var r=0;r<ot.order.length;r++){this.iz.push([]);for(var s=null==n?[]:n[ot.vz[r]].v,a=0;a<s.length;a++){var h=new ke(ot.order[r],!1,[r,a]);this.qI.push(h),this.iz[r].push(h)}if(0==s.length){h=new ke(ot.order[r],!1,[r,0]);this.qI.push(h),this.iz[r].push(h)}}this.w(),this.qB(this.Sn,Q.hP);for(r=0;r<this.qI.length;r++)this.qI[r].parent=this,this.qI[r].tLr(this.DI),this.qI[r].O("showme",this.tCB,this);null==e.index?this.Zj(0):this.Zj(e.index,i),this.O("afterchange",this.ZK,this)},Ce.prototype.ZK=function(t){var e=this.Ti,i=this.data.i;null==i&&(i=e.g[0]);var n=this.Ti.b[i],r=lt.Kn(n);this.Um.Q(r,e.add.Patt?e.add.Patt:[],e.Ej(),e.wO())},Ce.prototype.qB=function(t,e){this.Sn=t;for(var i=0;i<this.qI.length;i++)this.qI[i].qB(t,e);e==Q.fd&&this.Um.aA([t.B_,t.wg]),Q.Sl},Ce.prototype.eA=function(t){this.oe({X:"cancel"})},Ce.prototype.wS=function(t){this.oe({X:"confirm"}),this.close()},Ce.prototype.oe=function(t){t.i=this.data.i;var e=new xt(bt.E.W,!0);e.data=t,e.c=j.rt,e.MI=!0,this.N(e),this.ZK()},Ce.zg=function(){for(var t=[{name:[14,10],wN:!0}],e=0;e<ot.names.length;e++)t.push({name:ot.names[e]});return t},Ce.za=function(){for(var t=[{U:bt.E.Y,k:{X:bt.m.gI,gL:"layerstyle"}}],e=0;e<ot.names.length;e++)t.push({U:bt.E.Y,k:{X:bt.m.gI,gL:"layerstyle",index:[e,0]}});return t},Ce.zv=function(t){var e=[];for(var i in t&&e.push({name:[6,48,0,0],W_:!0},{name:[6,48,0,1],W_:!0},{name:[6,48,0,2],W_:!0,wN:!0}),tt.ready)e.push({name:tt.names[i],wN:-1!=tt.nR.indexOf(i),W_:null!=ue[i]});return e},Ce.zW=function(t){var e=[];if(t)for(var i=0;i<3;i++)e.push({U:bt.E.W,c:j.uh,k:{X:nt.fL,aO:i,pZ:0}});for(var n in tt.ready)e.push({U:bt.E.W,c:j.uh,k:{X:nt.TG,qd:n}});return e},Te.prototype=new ce,Te.prototype.aK=function(t,e,i){this._L.value=Te.ZZ[0].DW},Te.prototype.tCz=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.yQ,link:"http://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2015.pdf"},this.N(e)},Te.prototype.tCZ=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.Bl,Wv:this._L.value},this.N(e)},Te.prototype.tCA=function(t){var e=this.Wa.indexOf(t.currentTarget);this._L.value=Te.ZZ[e].DW},Te.ZZ=[{AN:"Hello",DW:'\nalert("Hello Photopea!");\n'},{AN:"Process Layers",DW:'\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n\t//lays[i].visible = false;\n\t//lays[i].opacity = 50;\n\tlays[i].name = "My Layer "+i;\n}'},{AN:"Clone Layers",DW:"\nvar orig = app.activeDocument.activeLayer;\nvar cnt = 12;\nvar angle = Math.floor(360 / cnt);\n\nfor(var i=1; i<cnt; i++)\n{\n\tvar nlay = orig.duplicate();\n\t//nlay.translate(30*i, 20*i);\n\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n}"}],Ue.prototype=new ce,Ue.prototype._S=function(t,e){return new f(Math.max(0,Math.min(150,(t-690)/2)),t>e?Math.max(0,Math.min(150,(e-400)/2)):0)},Ue.prototype.Tc=function(t,e){var i=this.tyi;t>e?(bt.wj(this.kr,"flexrow"),i.setAttribute("style","margin-left:1em; width:"+Math.min(430,t-260)+"px"),this.kY.J.style.height=e>370?"":e-55+"px"):(bt.cd(this.kr,"flexrow"),i.setAttribute("style","margin-top:1em;"),this.kY.J.style.height=e-260+"px")},Ue.prototype.tCU=function(t){var e=this.kY.v(),i=Ue.Ae[this.o_.v()].fY[e],n=i[4];0==n&&(n=72);var r=i[1],s=i[2],a=["px","%","mm","in"].indexOf(i[3]),h=[1,1,25.4/n,1/n][a];r/=h,s/=h,this.JB.Q(new f(Math.round(r),Math.round(s)),n),this.JB.tru(a),this.kY.Du(e)},Ue.prototype.zq=function(t){for(var e=Ue.Ae[this.o_.v()].fY,i=[],n=[],r=Math.round(100*bt.h()),s=Math.round(100*bt.h()),a=0,h=0;h<e.length;h++)a=Math.max(a,e[h][1],e[h][2]);for(h=0;h<e.length;h++){var o=e[h],l=o[1]+" x "+o[2]+" "+o[3];"in"==o[3]&&(l=(25.4*o[1]).toFixed(0)+" x "+(25.4*o[2]).toFixed(0)+" mm"),"mm"==o[3]&&(l=(o[1]/25.4).toFixed(1)+" x "+(o[2]/25.4).toFixed(1)+" in"),o[4]&&(l=l+" @ "+o[4]+" ppi"),n.push(l),i.push(Ue.uU(o,r,s,a))}this.kY.mx(i,n,r,s)},Ue.uU=function(t,e,i,n){var r=bt.B("canvas",""),s=r.getContext("2d");r.width=e,r.height=i;var a=Math.round(e/8),h=Math.floor(11*bt.h()),o=t[1],l=t[2];s.fillStyle="#000000",s.font=Math.round(.9*h)+'px "Open Sans", Sans-Serif';var u=o+" x "+l+" "+t[3],f=s.measureText(u);if(s.fillText(u,Math.round((e-f.width)/2),i-Math.round(a/2)),null!=t[0]){s.font="bold "+h+'px "Open Sans", Sans-Serif';u=t[0],f=s.measureText(u);s.fillText(u,Math.round((e-f.width)/2),i-Math.round(a/2)-Math.round(1.3*h))}i-=Math.round(2.5*h);var c=Math.min((e-a)/o,(i-a)/l),p=(e-o*(c*=.5+Math.max(o,l)/n*.5))/2,v=(i-l*c)/2;return s.strokeRect(Math.round(p)+.5,Math.round(v)+.5,Math.round(o*c),Math.round(l*c)),r.toDataURL()},Ue.prototype.w=function(){ce.prototype.w.call(this),this.JB.w(),this.A_.w(),this.Iy.w(),this.gO.w(),this.A_.Q(n.get([11,7])),this.o_.w()},Ue.prototype.create=function(t){var e=this.JB.v(),i=e.x,n=e.y,s=new at(this.A_.v()+".psd");s.$=i,s.z=n,s.go=this.JB.zi();var h=s.Zs();h.Vp("Background"),s.rM([h]),0==this.Iy.v()&&(h.rect=new L(0,0,i,n),h.buffer=a.I(i*n*4),a.Mw(h.buffer,4294967295),h.add.lspf=4),s.buffer=a.I(i*n*4),this.close();var o=new xt(bt.E.Y,!0);o.data={X:bt.m.pL,Ti:s},this.N(o);var l=this.data.WE;this.data.WE&&r.KV((function(){var t=new XMLHttpRequest,e="https://www.googleapis.com/drive/v3/files?"+r.hz();t.open("POST",e,!0),t.setRequestHeader("Content-Type","application/json"),t.addEventListener("load",(function(t){var e=JSON.parse(t.target.response);s.tW={file:e,ID:"psd"},alert(s.name+" created in Google Drive")})),t.send(JSON.stringify({name:s.name,tLO:[l]}))}))},Ue.prototype.aK=function(t,e){if(null!=t&&null!=t.t){var i=new L(0,0,t.$,t.z).sj(t.t.rect);this.JB.Q(new f(i.$,i.z))}this.data=e,this.A_.yW()},Ue.Ae=[{name:"Social",fY:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[1,4],fY:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["A6",105,148,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],fY:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],fY:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],fY:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],['iPad Pro 9.7"',1536,2048,"px",0],['iPad Pro 10.5"',1668,2224,"px",0],['iPad Pro 12.9"',2048,2732,"px",0]]},{name:[12,88,3],fY:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]}],_e.prototype=new ce,_e.prototype.mv=function(t,e){if(null!=t)return null==t.t&&alert("No selection!"),null!=t.t},_e.prototype._O=function(t){var e=new xt(bt.E.W,!0);e.data={X:this.X,R:parseInt(this.A_.v())},e.c=j.sQ,e.MI=!0,this.N(e),this.close()},_e.prototype.w=function(){ce.prototype.w.call(this),this.A_&&this.A_.w()},_e.prototype.aK=function(t,e){},Fe.prototype=new ce,Fe.prototype._O=function(t){var e=new xt(bt.E.W,!0);e.data={X:this.Ae.gE,R:this.A_.v()},e.c=this.Ae.c,e.MI=!0,this.N(e),this.close()},Fe.prototype.w=function(){ce.prototype.w.call(this),this.A_&&this.A_.w()},Fe.prototype.aK=function(t,e){this.Ae=e,this.A_.Q(e.uY),this.A_.yW()},Oe.prototype=new ce,Oe.prototype.w=function(){ce.prototype.w.call(this),this.zd.w()},Oe.prototype.aK=function(t,e,i){this.IC.yW(),this.sN=null,t&&-1!=i.indexOf(t)&&(this.sN=i.indexOf(t))},Oe.prototype.tCk=function(t){var e=new xt(bt.E.Y,!0),i=this.IC.v();e.data={X:bt.m.UF,gg:{url:i,Go:!0,sN:1==this.zd.v()?this.sN:null}},this.N(e),this.close()},Le.prototype=new ce,Le.prototype.w=function(){ce.prototype.w.call(this);for(var t=0;t<this.UT.length;t++)this.UT[t].w()},Le.prototype.aK=function(t,e,i){},Le.prototype.qB=function(t,e){this.Sn=t,this.UT[0].Q(t.sS.UL),this.UT[1].Q(t.sS.TN),this.UT[2].Q(t.sS.Xa),this.UT[3].Q(t.sS.eJ)},Le.prototype.DG=function(t){var e=this.UT,i=JSON.parse(JSON.stringify(this.Sn.sS));i.UL=e[0].v(),i.TN=e[1].v(),i.Xa=e[2].v(),i.eJ=e[3].v();var n=new xt(bt.E.Y,!0);n.data={X:bt.m.u_,gg:Q.lz,UG:i},this.N(n)},De.prototype=new ce,De.prototype.mv=function(t,e){return null!=t},De.prototype.w=function(){for(var t in ce.prototype.w.call(this),this.JB.w(),this.vp.w(),this.vd)for(var e=0;e<this.vd[t].length;e++)this.vd[t][e].k$.w();this.IP.w()},De.prototype.save=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.IA,data:this.ow,name:this.Ti.name.split(".")[0]+"."+s.aL()[this.vp.v()].toLowerCase()},this.N(e),this.ez.yY(),this.close()},De.prototype.aK=function(t,e){null!=e.aP&&this.vp.Q(e.aP),this.Ti=t,this.JB.Q(new f(t.$,t.z)),this.TE()},De.prototype._S=function(t,e){return new f(Math.max(0,Math.min(150,(t-770)/2)),Math.max(0,Math.min(150,(e-590)/2)))},De.prototype.Tc=function(t,e){if(this.JX=t,this.ht=e,this.Su.x=Math.min(512,t-26-226),this.Su.y=Math.min(512,e-45),null!=this.Ti){var i=this.JB.v(),n=(t=i.x,e=i.y,s.aL()[this.vp.v()]),r=s[n],a=0,h='<span style="width:',o='display:inline-block; text-align:right;">';if(r.Ht){var l=t,u=e;"PDF"==n||r.cc?(l=this.Su.x,u=this.Su.y):(l=Math.min(t+20,this.Su.x),u=Math.min(e+20,this.Su.y)),this.Va.firstChild.setAttribute("style","display:block; width:"+l+"px; height:"+u+"px;")}else{var f=this.Wh[0].MD;l=f.$,u=f.z;this.ez.Tc(Math.max(50,Math.min(l/bt.h(),this.Su.x)),Math.max(50,Math.min(u/bt.h(),this.Su.y)))}for(var c=this.ow.byteLength;c>>>a+10!=0;)a+=10;var p=n+":"+h+"64px;"+o+(c/(1<<a)).toFixed(1)+" "+["B","KB","MB","GB"][Math.floor(a/10)]+"</span>";this.Su.x>200&&(p+=h+90+"px; opacity:0.5;"+o+c.toLocaleString()+" B</span>"),this._U.innerHTML=p}};De.prototype.TE=function(t){var e=this.JB.v(),i=e.x,n=e.y,r=s.aL()[this.vp.v()],a=this.vd[r],h="";if(null==a&&(a=[]),this.vp.v()!=this.WW){this.WW=this.vp.v(),bt.hk(this.oN);for(var o=0;o<a.length;o++)this.oN.appendChild(a[o].k$.J),this.oN.appendChild(bt.B("br"))}var l=[];for(o=0;o<a.length;o++)l.push(a[o].k$.v());this.ow=s.YL(this.Ti,r,i,n,l),bt.hk(this.Va),this.ez.yY();var u=s[r];if(u.cc)this.Va.innerHTML="<div></div>",h+="width:0px";else if(u.Ht){var f;f="PDF"==r?URL.createObjectURL(new Blob([this.ow],{type:"application/pdf"})):URL.createObjectURL(new Blob([this.ow],{type:"image/svg+xml"})),this.Va.innerHTML='<iframe src="'+f+'"></iframe>'}else{var c=this.Wh=u.cA(this.ow),p=c[0].MD;p.$,p.z;this.ez.Q(c),this.Va.appendChild(this.ez.J),h="background: rgba(0,0,0,0);"}this.Va.setAttribute("style","display:block; background-size:"+16/bt.h()+"px;"+h),this.Tc(this.JX,this.ht)},Ne.prototype=new ce,Ne.prototype.Lr=function(t){var e="",i=!0;for(var n in t)null!=t[n]?("---"==t[n]?(i||(e+="<br/>"),e+='<div style="font-weight:bold; border-bottom: 1px solid;">'+n+"</div>"):e+="<div>"+n+' <span style="float:right; font-weight:bold;">'+t[n]+"</span> </div>",i=!1):i=!1;return e},Ne.Uj={"Move Tool":"V","Rectangle Select":"M","Ellipse Select":"M","Lasso Select":"L","Polygonal Lasso Select":"L","Magnetic Lasso Select":"L","Quick Select":"W","Magic Wand":"W","Crop Tool":"C",Eyedropper:"I","Spot Healing Brush Tool":"J","Healing Brush Tool":"J","Patch Tool":"J","Brush Tool":"B","Clone Tool":"S","Eraser Tool":"E","Gradient Tool":"G","Paint Bucket Tool":"G","Blur Tool":null,"Sharpen Tool":null,"Smudge Tool":null,"Dodge Tool":"O","Burn Tool":"O","Sponge Tool":"O","Type Tool":"T",Pen:"P","Free Pen":"P","Path Select":"A","Direct Select":"A",Rectangle:"U",Ellipse:"U",Line:"U","Parametric Shape":"U","Custom Shape":"U","Hand Tool":"H","Zoom Tool":"Z"},Ie.prototype=new ce,Ie.prototype.mv=function(t,e){return null!=t},Ie.prototype.w=function(){ce.prototype.w.call(this),this.rL.w()},Ie.prototype.wS=function(t){if(this.Ho.FS()){var e=new xt(bt.E.W,!0),i=this.rL.v();if(4!=i)e.c=j.so,e.data={X:"fill",uV:i};else{if(null==this.Ho.t)return void alert("There is no selection.");e.c=j.Fj,e.data={X:"heal2"}}this.N(e),this.close()}},Ie.prototype.aK=function(t,e){this.Ho=t},Ie.prototype.qB=function(t,e){this.Sn=t},Ee.prototype=new ce,Ee.prototype.mv=function(t,e){return null!=t},Ee.prototype.w=function(){ce.prototype.w.call(this),this.ws.w()},Ee.prototype.wS=function(t){var e=new xt(bt.E.W,!0);e.c=j.so,e.data={X:"stroke",ttS:this.ws.v()},this.N(e),this.close()},Ee.prototype.aK=function(t,e){if(!this.pY){var i=ot.cz[ot.order.indexOf("FrFX")];i=JSON.parse(i),this.ws.update(t,i),this.pY=!0}i=this.ws.v();var n=this.Sn.AF;i.Clr.v=a.e.Ta({T:n>>16&255,q:n>>8&255,H:255&n}),this.ws.update(t,i)},Ee.prototype.qB=function(t,e){this.Sn=t},Pe.prototype=new ce,Pe.prototype.w=function(){ce.prototype.w.call(this),this.UT.w()},Pe.prototype.Id=function(t){var e=this.UT.v();this.ZA({X:"warp",UB:e})},Pe.prototype.ZA=function(t){var e=new xt(bt.E.W,!0);e.c=j.Jv,e.data=t,e.MI=!0,this.N(e)},Pe.prototype.eA=function(t){this.ZA({X:"warpCancel"})},Pe.prototype.wS=function(t){this.ZA({X:"warpConfirm"}),this.close()},Pe.prototype.aK=function(t,e){var i=t.b[t.g[0]];this.UT.Q(i.add.TySh.O$)},Je.prototype=new ce,Je.prototype.fi=function(){return!0},Je.prototype._S=function(){return new f(0,0)},Je.prototype.Tc=function(t,e){this.it=t-274,this.ou=e-32,this.Fx&&this.zo()},Je.prototype.w=function(){ce.prototype.w.call(this);for(var t=0;t<this.gD.length;t++)this.gD[t].w()},Je.prototype.create=function(t){var e=this.Fx,i=this.HO,n=a.I(e.width*e.height*4);a.Mw(n,4294967295),a.raw.PJ(i,n,e,this.tn());e={MD:new L(0,0,i.gW,i.gi),data:n.buffer};var r=Ki.Uc("Raw Photo",[e]),s=new xt(bt.E.Y,!0);s.data={X:bt.m.pL,Ti:r},this.N(s),this.VZ(),this.close()},Je.prototype.VZ=function(){this.Fx=null,this.HO=null,this.HY=null,this.oD=null},Je.prototype.aK=function(t,e,i,n){this.Fx=e.er,this.HO=a.raw.tJR(this.Fx);var r=this.HO;this.Xw.Q(r.gW+" x "+r.gi+", "+(r.gW*r.gi/1e6).toFixed(1)+" MPx");var s=a.raw.tHs(e.er);this.IG=o.Pp(s),this.gD[0].Q(this.IG.No),this.gD[1].Q(this.IG.Lv);for(var h=2;h<this.gD.length;h++)this.gD[h].Q(0);this.zo()},Je.prototype.zo=function(){for(var t=this.HO,e=t.gW,i=t.gi,n=1;e/n>this.it*bt.h()||i/n>this.ou*bt.h();)n++;var r=Math.floor(e/n),s=Math.floor(i/n);this.HY={nn:new Float32Array(r*s*3),gW:r,gi:s};var h=this.ql.getContext("2d");this.oD=h.createImageData(r,s),a.Mw(this.oD.data,4294967295);for(var o=1/(n*n),l=0;l<s;l++)for(var u=0;u<r;u++){for(var f=0,c=0,p=0,v=(u+1)*n,d=(l+1)*n,y=l*n;y<d;y++)for(var g=u*n;g<v;g++){var m=3*(y*e+g);f+=this.HO.nn[m],c+=this.HO.nn[m+1],p+=this.HO.nn[m+2]}var w=3*(l*r+u);this.HY.nn[w]=f*o,this.HY.nn[w+1]=c*o,this.HY.nn[w+2]=p*o}this.k_()},Je.prototype.k_=function(){var t=this.Fx,e=this.HY.gW,i=this.HY.gi,n=e*i,r=this.ql,s=r.getContext("2d");r.width=e,r.height=i,bt.gx(r,e,i),a.raw.PJ(this.HY,new Uint8Array(this.oD.data.buffer),t,this.tn()),s.putImageData(this.oD,0,0);for(var h=a.Yk(this.oD.data),o=(s=(r=this.XS).getContext("2d")).createImageData(r.width,r.height),l=4e3/n,u=0;u<256;u++)for(var f=h[1][u]*l,c=h[2][u]*l,p=h[3][u]*l,v=0;v<100;v++){var d=4*(256*v+u);99-v<f&&(o.data[d]=255,o.data[d+3]=255),99-v<c&&(o.data[d+1]=255,o.data[d+3]=255),99-v<p&&(o.data[d+2]=255,o.data[d+3]=255)}s.putImageData(o,0,0)},Je.prototype.tn=function(){for(var t=[],e=0;e<this.gD.length;e++)t.push(this.gD[e].v());return t},Be.prototype=new ce,Be.prototype.fi=function(){return!0},Be.prototype._S=function(){return new f(0,0)},Be.prototype.ZQ=function(){return!0},Be.prototype.Tc=function(t,e){e=e-26-30,t=Math.floor((t-28)/2),bt.UZ(this.lZ,t,e),this.ee.Tc(t,e)},Be.prototype.FJ=function(t,e,i,n){this.ee.FJ(n)},Be.prototype.w=function(){ce.prototype.w.call(this),this.XE.w(),this.Xi.w(),this.gO.w()},Be.prototype.aK=function(t,e){this.Al=t;var i=t.b[t.g[0]],n=a.Bm.PK(i.buffer.buffer,i.rect.$,i.rect.z).tTx/((i.rect.$-2)*(i.rect.z-2));this.Xi.Q(n<.75);var r=i.rect.clone();r.x=r.y=0,this.Ae={MD:r,data:i.buffer.buffer.slice(0)},this.ax=null,this.ee.Q([this.Ae]),this.XE.Q(20),this.Uz()},Be.prototype.Uz=function(){var t=this.Ae,e=this.Xi.v();if(e&&null==this.ax){var i=new Uint8Array(t.data.slice(0)),n=t.MD.$,r=t.MD.z,s=new a.wf(n*r);a.GQ(i,s);var h=new a.wf(n*r);a.HW.gr(s.T,s.o,h.T,n,r,15,a.HW.ug,[35]),a.HW.gr(s.q,s.o,h.q,n,r,15,a.HW.ug,[35]),a.HW.gr(s.H,s.o,h.H,n,r,15,a.HW.ug,[35]),a.sa(s.o,h.o);for(var o=35/255,u=0;u<n*r;u++)h.o[u]=o*h.o[u]+.8627450980392157*s.o[u];a.GL(h,i),this.ax={MD:t.MD.clone(),data:i.buffer}}e&&(t=this.ax);for(i=new Uint8Array(t.data),n=t.MD.$,r=t.MD.z,u=0;u<i.length;u+=4)i[u+3]<10&&(i[u]=i[u+1]=i[u+2]=i[u+3]=0);var f=a.Bm.tLZ(i,n,r,this.XE.v(),e?.1:2e-4),p=f.gB.slice(0);for(u=0;u<p.length;u++)p[u]++;var v=new Uint8Array((n+2)*(r+2));a.Jg(p,new L(1,1,n,r),v,new L(0,0,n+2,r+2));var d=Math.round((n+2)*(r+2)/1e4),y=l.ttR(v,n+2,r+2,Math.min(12,d)),g=l.ttr(y),m=new c(1,0,0,1,-1,-1);for(u=0;u<g.length;u++)a.K.UC(g[u].path.Z,m,g[u].path.Z);this.aM=g,this.Ig=f;for(u=0;u<g.length;u++)for(var w=g[u],b=u+1;b<g.length;b++){var x=g[b];if(!(f.$e[x.color-1].est.q[3]>.05||x.parent!=u)){var M=x.path.lX.slice(1);M.reverse(),M=["M"].concat(M);for(var S=[],A=(y=x.path.Z.length,0);A<y;A+=2)S[A]=x.path.Z[y-2-A],S[A+1]=x.path.Z[y-2-A+1];a.K.concat(w.path,{Z:S,lX:M})}}for(u=0;u<g.length;u++){w=g[u];f.$e[w.color-1].est.q[3]<=.05&&(g.splice(u,1),u--)}for(u=1;u<g.length;u++){var k=g[u-1];w=g[u];k.color!=w.color||(a.K.concat(k.path,w.path),g.splice(u,1),u--)}this.zn()},Be.prototype.zn=function(t){if(null!=this.aM){var e=this.Ae.MD.$,i=this.Ae.MD.z,n=this.aM,r=this.Ig.$e,s=this._m,a=this.ee.yi();s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,s.canvas.width,s.canvas.height),s.translate(s.canvas.width/2,s.canvas.height/2),s.scale(a.s,a.s),s.translate(a.M.x/a.s-e/2,a.M.y/a.s-i/2),s.scale(1/a.s,1/a.s),s.fillStyle=this.IE,s.fillRect(0,0,e*a.s,i*a.s),s.scale(a.s,a.s);for(var h=[],o=0;o<r.length;o++){var l=r[o].est.q;h.push({T:Math.round(255*l[0]),q:Math.round(255*l[1]),H:Math.round(255*l[2]),o:Math.round(255*l[3])})}for(o=0;o<n.length;o++){var u=n[o];0!=(l=h[u.color-1]).o&&(s.fillStyle="rgba("+l.T+","+l.q+","+l.H+","+l.o/255+")",s.beginPath(),Typr.U.pathToContext({crds:u.path.Z,cmds:u.path.lX},s),s.fill())}}},Be.prototype.create=function(t){var e=this.aM,i=1==e.length,n=this.Al,r=n.g[0],s=n.b[r],h=n.b.slice(0,r);i||h.push(n.sd());for(var o=0;o<e.length;o++){var l=e[o],u=this.Ig.$e[l.color-1].est.q;a.K.UC(l.path.Z,new c(1,0,0,1,s.rect.x,s.rect.y),l.path.Z),(f=n.Zs()).Vp("Path "+o),h.push(f),f.opacity=Math.round(255*u[3]),f._c|=16,f.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.e.Ta({T:255*u[0],q:255*u[1],H:255*u[2]})}},f.add.vmsk=new nt.hT,f.add.vstk=JSON.parse(JSON.stringify(ot.nO.default)),f.add.vmsk.L=[{type:6},{type:8,all:0}].concat(a.A.eX(Typr.U.pathToSVG({crds:l.path.Z,cmds:l.path.lX}))),f.add.vogk=[],f.Ls(),f.Sa(n)}var f,p=h[h.length-1];i||((f=n.Zs()).Vp(s.getName()),f.add.lsct=rt.Gp,f.kE="pass",f._c=24,h.push(f),p=f);var v=s.add.lmfx;v&&(p.add.lmfx=JSON.parse(JSON.stringify(v)));for(o=r+1;o<n.b.length;o++)h.push(n.b[o]);var d=new xt(bt.E.W,!0);d.MI=!0,d.c=j.uh,d.data={X:nt.uD,_b:h,_k:[r+e.length+(i?-1:1)],_F:"Vectorize Bitmap"},this.N(d),this.close()},Xe.prototype=new ce,Xe.prototype.mv=function(t,e){var i=null!=t&&!t.b[t.g[0]].rect.km();return i||alert("The layer is empty."),i},Xe.prototype.fi=function(){return!0},Xe.prototype._S=function(){return new f(0,0)},Xe.prototype.ZQ=function(){return!0},Xe.prototype.Tc=function(t,e){e=e-26-30,t=Math.floor((t-28)/2),this._z.Tc(t,e),this.XK.Tc(t,e)},Xe.prototype.w=function(){ce.prototype.w.call(this),this.gj.w(),this.ww.w(),this.gO.w(),this.IO.w(),this.tyQ.w()},Xe.prototype.qB=function(t,e){this.le=t,e==Q.Tz&&(this.gj.aA(t.lL),this.gj.Q(ut.wi(),t.lL.Fy,t.lL.nw))},Xe.prototype.FJ=function(t,e,i,n){this.XI=n;var r=j.mh.Og(this.gj.v(),n);if(null!=r)this.gj.Q(r),this.Hf();else if(n.l(W.sf)&&n.l(W.$f)){var s=this.BK,h=0;if(n.l(W.Yz)?this.AZ+1<s.length&&(h=1):this.AZ>0&&(h=-1),0!=h){this.AZ+=h;var o=this.AZ,l=this.Ae;1==h?a.Pg(s[o][2],s[o][0],l.cO,l.rect):a.Pg(s[o+1][1],s[o+1][0],l.cO,l.rect),l.IB=l.rect,this.Uz()}}else this._z.FJ(n)},Xe.prototype.c_=function(t){var e=this.Ae,i=this.BK,n=a.I(4*t.f());a.Pg(e.Oo,e.rect,n,t),e.Oo=null;var r=a.I(4*t.f());for(a.Pg(e.cO,e.rect,r,t),this.AZ++,i[this.AZ]=[t.clone(),n,r];i.length>this.AZ+1;)i.pop();for(;i.length>50;)i=i.slice(1),this.AZ--},Xe.prototype.Hf=function(){var t=this.le,e=ct.YF(this.gj.v(),t.lL.Fy,this._z.yi().s),i=bt.IX(e);this._z.yp(i)},Xe.prototype.nZ=function(t){var e=this.le,i=this.Ae,n=this.XI,r=this.gj.v(),s=this._z.cZ(),a=[16777215,8355711,0][this.IW.v()];this.Uu=new ct(r,e.lL.list[0].Fy,e.lL.list[0].nw,{OO:1,tf:!0},a,e.ze,i.rect),i.Oo=i.cO.slice(0),null!=n&&n.l(W.Yz)&&this.ud?(this.Uu.moveTo(this.ud.x,this.ud.y),this.Uu.lineTo(s.x,s.y)):this.Uu.moveTo(s.x,s.y),this.zl()},Xe.prototype.fI=function(t){this.Ae;var e=this._z.cZ();this.Uu.lineTo(e.x,e.y),this.zl()},Xe.prototype.Ub=function(t){this.ud=this._z.cZ(),this.c_(this.Uu.Yd()),this.Uz()},Xe.prototype.zl=function(){var t=this.Ae,e=this.Uu,i=e.YN();i.km()||(t.IB=i,a.a.MR("norm",e.GE(),e.AK(),t.cO,t.rect,i,1),this.zK())},Xe.prototype.aK=function(t,e){this.Al=t;var i=t.b[t.g[0]],n=i.rect.clone();this.ww.Q(3),this.IW.Q(null==t.t?0:1),this.Hf(),null==t.t?this.ww.uI():this.ww.qQ();var r=a.I(n.f()),s=a.I(n.f());t.t&&a.Jg(t.t.channel,t.t.rect,r,n),n.x=n.y=0;for(var h=n.$,o=n.z,l=0;l<o;l++)for(var u=0;u<h;u++){var f=l*h+u,c=r[f];(u>0&&r[f-1]!=c||u<h-1&&r[f+1]!=c||l>0&&r[f-h]!=c||l<o-1&&r[f+h]!=c)&&(s[f]=255)}var p=new Float32Array(n.f());a.style.td(s,p,h,o),this.Ae={rect:n,nn:i.buffer,Ud:r,Nf:p,Ca:a.I(4*n.f()),wa:a.I(4*n.f()),cO:a.I(4*n.f()),ox:null,IB:n},this.zf(),this.BK=[1],this.AZ=0},Xe.prototype.zf=function(){for(var t=this.Ae,e=t.rect.f(),i=this.ww.v(),n=t.Ud.slice(0),r=0;r<e;r++)t.Nf[r]<i&&(n[r]=128);a.Mw(t.cO,4294967295),a.kw(n,t.cO,0),a.kw(n,t.cO,1),a.kw(n,t.cO,2),this.Uz()},Xe.prototype.Uz=function(){var t,e,i,n=this.Ae,r=0,s=0,h=0;this.zK(),t=n.rect;var o=a.I(t.f());t.v$(n.rect)?(a.rY(n.cO,o,0),e=n.nn):(e=a.I(4*t.f()),a.Pg(n.cO,n.rect,e,t),a.rY(e,o,0),a.Pg(n.nn,n.rect,e,t));for(var l=0;l<o.length;l++){var u=o[l];0==u?r++:255==u?s++:h++}r*s*h!=0?i=a.H_.H_(t,e,o):(i=e.slice(0),a.kw(o,i,3)),t.v$(n.rect)?n.ox=i:a.Pg(i,t,n.ox,n.rect),this.zY()},Xe.prototype.zK=function(t){var e=this.Ae,i=e.IB;a.Pg(e.nn,e.rect,e.Ca,e.rect,i,!0),a.a.MR("norm",e.cO,e.rect,e.Ca,e.rect,i,.3),this._z.Q([{MD:e.rect,data:e.Ca.buffer}])},Xe.prototype.zY=function(t){var e=this.Ae;a.Mw(e.wa,[0,4294967295,4278190080][this.Ip.v()]),a.a.MR("norm",e.ox,e.rect,e.wa,e.rect,e.rect,1),this.XK.Q([{MD:e.rect,data:e.wa.buffer}])},Xe.prototype.create=function(t){var e=this.Al,i=this.Ae,n=this.IO.v(),r=e.b[e.g[0]],s=new xt(bt.E.W,!0);s.MI=!0;var h=r.rect.clone();if((0==n&&r.op()||0!=n&&!r.op())&&(s.c=j.uh,s.data={X:nt.Eh,i:e.g[0]},this.N(s)),null!=e.t&&(s.c=j.sQ,s.data={X:"deselect"},this.N(s)),0==n){var o=e.b.slice(0),l=e.Zs();l.Vp(r.getName()),o.splice(e.g[0]+1,0,l),l.rect=h,l.buffer=i.ox,l.r(),s.c=j.uh,s.data={X:nt.uD,_b:o,_k:[e.g[0]+1],_F:[7,11]},this.N(s)}if(1==n){var u=r.Ab();s.c=j.uh,s.data={X:nt.nK,t$Y:!0},this.N(s);var f=r.Ab();if(f.channel=a.I(h.f()),f.rect=h,f.color=0,f.rb=!0,a.rY(i.ox,f.channel,3),u){var c=f.NE(u);f.rect=c.rect,f.channel=c.channel,f.color=c.color}f.hJ(),r.Sa()}if(2==n){var p={rect:h,channel:a.I(h.f())};a.rY(i.ox,p.channel,3),s.c=j.sQ,s.data={X:"setsel",t:p,_F:this.pN},this.N(s)}this.close()},ze.prototype=new St,ze.prototype.DQ=function(){return new f(0,0)},ze.prototype.w=function(){var t=this.name,e="string"==typeof t?t:n.get(t);this.TB.textContent=e.length>22?e.slice(0,20)+"..":e;var i=e.split(" "),r=2==i.length?i[0].substring(0,2)+i[1][0]:e.substring(0,3);null==this.na?this.vu.$v(r,e):this.vu.$v('<img src="'+this.na+'" alt="'+this.name+'" height="20" />',e)},ze.prototype.enable=function(){this.hD.setAttribute("class","pbody")},ze.prototype.disable=function(){this.hD.setAttribute("class","pbody disabled")},ze.prototype.qB=function(t,e){},ze.prototype.aK=function(t,e,i){},ze.prototype.Tc=function(t,e){},ze.prototype.tCe=function(t){this.name=t,this.w()},ze.prototype.ZU=function(){},ze.prototype.tCN=function(t){this.N(new xt("select",!1))},ze.prototype.Zp=function(t){this.zB()&&this.N(new xt(bt.E.pH,!1))},ze.prototype.zB=function(t){return!0},ze.prototype.cL=function(t,e,i,n,r){},ze.prototype.XY=function(t,e,i,n,r){},ze.prototype.Nu=function(t,e,i,n,r){},$e.prototype=new ze(""),$e.prototype.w=function(){ze.prototype.w.call(this),this.Iz.w();for(var t=1;t<this.vi.length;t++)this.vi[t].w();for(t=0;t<this.qI.length;t++)this.qI[t].w()},$e.prototype.tTy=function(t){var e=this.qI.indexOf(t.currentTarget),i=JSON.parse(JSON.stringify(this.qI[e].HF)),n=new xt(bt.E.Y,!0);n.data={X:bt.m.u_,gg:Q.kT,HF:i},this.N(n)},$e.prototype.tTP=function(t){this.zA(this.vi.indexOf(t.currentTarget),t.currentTarget.Tv())},$e.prototype.tTa=function(t){var e=this.UT.indexOf(t.currentTarget);"input"!=t.target.tagName.toLowerCase()&&(this.vi[e]&&!this.vi[e].Tv()&&(this.vi[e].PT(),this.zA(e,!0)),this.setItem(e))},$e.prototype.zA=function(t,e){this.qI[t].Dl(e)},$e.prototype.setItem=function(t){for(var e=0;e<this.qI.length;e++)this.UT[e].setAttribute("class","listitem");this.Nc.firstChild&&this.Nc.removeChild(this.Nc.firstChild),this.UT[t].setAttribute("class","listitem selected"),this.Nc.appendChild(this.qI[t].J)},$e.prototype.qB=function(t,e){if(this.AF=t.AF,this.ze=t.ze,e==Q.Tz){this.TM=t.lL;for(var i=0;i<this.qI.length;i++)this.qI[i].aA(this.TM)}e==Q.kT&&(this.HF=t.lL.CU,this.Uz()),e==Q.nc&&this.Uz()},$e.prototype.Uz=function(){if(this.HF){this.enable();for(var t=0;t<this.qI.length;t++)this.qI[t].Q(this.HF),this.vi[t]&&this.vi[t].Q(this.qI[t].Tv());var e=JSON.parse(JSON.stringify(this.HF));e.Brsh.v.Dmtr.v.val=Math.min(e.Brsh.v.Dmtr.v.val,50);var i=new L(0,0,this.rP.width,this.rP.height),n=new ct(e,this.TM?this.TM.Fy:null,this.TM?this.TM.nw:null,{OO:1},this.AF,this.ze,i),r=40*bt.h(),s=300*bt.h();n.moveTo(r,r);for(t=0;t<=s;t+=10)n.lineTo(r+t,r+20*Math.sin(2*Math.PI*t/s));n.finish();var h=this._m.createImageData(i.$,i.z);a.Pg(n.GE(),n.AK(),h.data,i),this._m.putImageData(h,0,0)}else this.disable()},$e._Q=function(t){St.call(this),this.Es=t,this.J=bt.B("div",""),this.HF=null},$e._Q.prototype=new St,$e._Q.prototype.aA=function(t){},$e._Q.prototype.Q=function(t){this.HF=JSON.parse(JSON.stringify(t)),this.J.setAttribute("class",this.Tv()?"":"disabled"),this.Uz()},$e._Q.prototype.Dl=function(t){},$e._Q.prototype.Tv=function(){return!1},$e._Q.prototype.w=function(){},$e._Q.prototype.Uz=function(){},$e._Q.prototype.bD=function(){this.N(new xt("brushchange"))},$e.GD=function(){$e._Q.call(this,[15,0]),this.TM=null,this.fx=null,this.Xb=new Ct(!0),this.J.appendChild(this.Xb.J),this.Xb.O(bt.E.p,this.tTq,this),this.Xb.J.style.height="10.7em",this.XN=new re([12,14],1,1e3," px",0,!0),this.XN.O(bt.E.p,this.tTl,this),this.QD=new re([12,15],0,359," °"),this.QD.O(bt.E.p,this.tTe,this),this.QT=new re([12,16],0,100," %"),this.QT.O(bt.E.p,this.tTN,this),this.QG=new re([12,17],0,100," %"),this.QG.O(bt.E.p,this.tTm,this),this.Qq=new re([12,18],1,300," %"),this.Qq.O(bt.E.p,this.tP$,this),this.UT=[this.XN,this.QD,this.QT,this.QG,this.Qq]},$e.GD.prototype=new $e._Q,$e.GD.prototype.w=function(){this.XN.w(),this.QD.w(),this.QT.w(),this.QG.w(),this.Qq.w()},$e.GD.prototype.Tv=function(){return!0},$e.GD.prototype.aA=function(t){this.TM=t;for(var e=[],i=Math.floor(30*bt.h()),n=Math.floor(40*bt.h()),r=0;r<t.list.length;r++){var s=t.list[r].v,a=ct.uU(s,t.Fy,t.nw,i,n);e.push(a)}this.Xb.mx(e,null,i,n)},$e.GD.prototype.Uz=function(){var t=this.HF.Brsh.v,e=t.classID!=this.fx;if(this.fx=t.classID,e)for(var i=0;i<this.UT.length;i++)this.J.contains(this.UT[i].J)&&this.J.removeChild(this.UT[i].J);this.XN.Q(t.Dmtr.v.val),e&&this.J.appendChild(this.XN.J),this.QD.Q(t.Angl.v.val),e&&this.J.appendChild(this.QD.J),"computedBrush"!=t.classID&&"sampledBrush"!=t.classID||(this.QT.Q(t.Rndn.v.val),e&&this.J.appendChild(this.QT.J)),"computedBrush"==t.classID&&(this.QG.Q(t.Hrdn.v.val),e&&this.J.appendChild(this.QG.J)),this.Qq.Q(t.Spcn.v.val),e&&this.J.appendChild(this.Qq.J)},$e.GD.prototype.tTq=function(t){this.HF=this.TM.list[this.Xb.v()].v,this.bD()},$e.GD.prototype.tTl=function(t){this.HF.Brsh.v.Dmtr.v.val=t.target.v(),this.bD()},$e.GD.prototype.tTe=function(t){this.HF.Brsh.v.Angl.v.val=t.target.v(),this.bD()},$e.GD.prototype.tTN=function(t){this.HF.Brsh.v.Rndn.v.val=t.target.v(),this.bD()},$e.GD.prototype.tTm=function(t){this.HF.Brsh.v.Hrdn.v.val=t.target.v(),this.bD()},$e.GD.prototype.tP$=function(t){this.HF.Brsh.v.Spcn.v.val=t.target.v(),this.bD()},$e.eU=function(){$e._Q.call(this,[15,1]),this.aa=new re([15,4,0],0,100," %"),this.aa.O(bt.E.p,this.tPH,this),this.J.appendChild(this.aa.J),this.av=new re([15,4,1],0,100," %"),this.av.O(bt.E.p,this.tPP,this),this.J.appendChild(this.av.J),this.aq=new re([15,4,2],0,100," %"),this.aq.O(bt.E.p,this.tPa,this),this.J.appendChild(this.aq.J),this.an=new re([15,4,3],0,100," %"),this.an.O(bt.E.p,this.tPS,this),this.J.appendChild(this.an.J),this.aY=new re([15,4,4],0,100," %"),this.aY.O(bt.E.p,this.tPE,this),this.J.appendChild(this.aY.J)},$e.eU.prototype=new $e._Q,$e.eU.prototype.w=function(){this.aa.w(),this.av.w(),this.aq.w(),this.an.w(),this.aY.w()},$e.eU.prototype.Tv=function(){return this.HF.useTipDynamics.v},$e.eU.prototype.Dl=function(t){this.HF.useTipDynamics.v=t,ut._o.YQ(this.HF),this.bD()},$e.eU.prototype.Uz=function(){var t=this.HF;0!=t.useTipDynamics.v&&(this.aa.Q(t.szVr.v.jitter.v.val),this.av.Q(t.minimumDiameter.v.val),this.aq.Q(t.angleDynamics.v.jitter.v.val),this.an.Q(t.roundnessDynamics.v.jitter.v.val),this.aY.Q(t.minimumRoundness.v.val))},$e.eU.prototype.tPH=function(t){this.HF.szVr.v.jitter.v.val=t.target.v(),this.bD()},$e.eU.prototype.tPP=function(t){this.HF.minimumDiameter.v.val=t.target.v(),this.bD()},$e.eU.prototype.tPa=function(t){this.HF.angleDynamics.v.jitter.v.val=t.target.v(),this.bD()},$e.eU.prototype.tPS=function(t){this.HF.roundnessDynamics.v.jitter.v.val=t.target.v(),this.bD()},$e.eU.prototype.tPE=function(t){this.HF.minimumRoundness.v.val=t.target.v(),this.bD()},$e._e=function(){$e._Q.call(this,[15,2]),this.aZ=new re([15,5,0],0,1e3," %"),this.aZ.O(bt.E.p,this.tPA,this),this.J.appendChild(this.aZ.J),this.ak=new re([15,5,1],1,20),this.ak.O(bt.E.p,this.tPk,this),this.J.appendChild(this.ak.J),this.aN=new re([15,5,2],0,100," %"),this.aN.O(bt.E.p,this.tPe,this),this.J.appendChild(this.aN.J)},$e._e.prototype=new $e._Q,$e._e.prototype.w=function(){this.aZ.w(),this.ak.w(),this.aN.w()},$e._e.prototype.Tv=function(){return this.HF.useScatter.v},$e._e.prototype.Dl=function(t){this.HF.useScatter.v=t,ut._o.YQ(this.HF),this.bD()},$e._e.prototype.Uz=function(){var t=this.HF;0!=t.useScatter.v&&(this.aZ.Q(t.scatterDynamics.v.jitter.v.val),this.ak.Q(t.Cnt.v),this.aN.Q(t.countDynamics.v.jitter.v.val))},$e._e.prototype.tPA=function(t){this.HF.scatterDynamics.v.jitter.v.val=t.target.v(),this.bD()},$e._e.prototype.tPk=function(t){this.HF.Cnt.v=t.target.v(),this.bD()},$e._e.prototype.tPe=function(t){this.HF.countDynamics.v.jitter.v.val=t.target.v(),this.bD()},$e.um=function(){$e._Q.call(this,[15,3]),this.aF=new re([15,6,0],0,100," %"),this.aF.O(bt.E.p,this.tPN,this),this.J.appendChild(this.aF.J),this.PW=new re([15,6,1],0,100," %"),this.PW.O(bt.E.p,this.tdR,this),this.J.appendChild(this.PW.J),this.a_=new re([15,6,2],0,100," %"),this.a_.O(bt.E.p,this.tdJ,this),this.J.appendChild(this.a_.J),this.SR=new re([15,6,3],0,100," %"),this.SR.O(bt.E.p,this.tdw,this),this.J.appendChild(this.SR.J)},$e.um.prototype=new $e._Q,$e.um.prototype.w=function(){this.aF.w(),this.PW.w(),this.a_.w(),this.SR.w()},$e.um.prototype.Tv=function(){return this.HF.useColorDynamics.v},$e.um.prototype.Dl=function(t){this.HF.useColorDynamics.v=t,ut._o.YQ(this.HF),this.bD()},$e.um.prototype.Uz=function(){var t=this.HF;0!=t.useColorDynamics.v&&(this.aF.Q(t.clVr.v.jitter.v.val),this.PW.Q(t.H.v.val),this.a_.Q(t.Strt.v.val),this.SR.Q(t.Brgh.v.val))},$e.um.prototype.tPN=function(t){this.HF.clVr.v.jitter.v.val=t.target.v(),this.bD()},$e.um.prototype.tdR=function(t){this.HF.H.v.val=t.target.v(),this.bD()},$e.um.prototype.tdJ=function(t){this.HF.Strt.v.val=t.target.v(),this.bD()},$e.um.prototype.tdw=function(t){this.HF.Brgh.v.val=t.target.v(),this.bD()},Ve.prototype=new ze(""),Ve.prototype.aK=function(t){if(bt.hk(this.lT),null!=t){for(var e=0,i=0;i<t.history.length;i++)i<=t.ei&&!t.history[i].JG&&(e=i);for(i=0;i<t.history.length;i++){var n=t.history[i];if(!n.JG){var r=new Re(n,i,e);r.parent=this,this.lT.appendChild(r.J),this.IU.push(r)}}t.ei==t.history.length-1&&(this.lT.scrollTop=this.lT.scrollHeight)}},Ve.prototype.w=function(){ze.prototype.w.call(this);for(var t=0;t<this.IU.length;t++)this.IU[t].w()},Re.prototype=new St,Re.prototype.w=function(){var t="string"==typeof this.Do?this.Do:n.get(this.Do);this.J.textContent=t},Re.prototype.cL=function(t){this.index!=this.parent.tyO&&this.oe({X:"h_itemchange",index:this.index})},Re.prototype.oe=function(t){var e=new xt(bt.E.W,!0);e.data=t,e.c=j.ni,this.N(e)},qe.prototype=new ze(""),qe.prototype.zU=function(t){var e;if(t.target==this.TV)e=this.TV.v();else{var i=this.og.v();e=Math.round(i.T)<<16|Math.round(i.q)<<8|Math.round(i.H)}var n=new xt(bt.E.Y,!0);n.data={X:bt.m.u_,gg:Q.nc,gE:0,R:e},this.N(n)},qe.prototype.qB=function(t,e){var i=t.AF;if(this.TV.Q(i),this.og.Q({T:i>>>16&255,q:i>>>8&255,H:i>>>0&255}),e==Q.Jr){var n=t.bs;this.og.aA(n)}},He.prototype=new ze(""),He.prototype.w=function(){ze.prototype.w.call(this),this.Ty.w()},He.prototype.qB=function(t,e){e!=Q.hP&&e!=Q.vw&&e!=Q.IL&&e!=Q.tb||this.Ty.zc(t)},je.prototype=new ze(""),je.prototype.aK=function(t){if(null!=t&&0!=t.g.length){var e=t.b[t.g[0]],i=mt.bL(e);0!=i.length?this._L.value=i.join(";\n")+";":this._L.value=""}},Ge.prototype=new ze(""),Ge.prototype.XY=function(t,e,i,n,r){var s=t.n.kp(r.x,r.y),h=new f(Math.floor(s.x),Math.floor(s.y));this.ap.Q("X: "+a.VU.ZS(h.x,t.go,i)),this.al.Q("Y: "+a.VU.ZS(h.y,t.go,i)),this.zm(t,i)},Ge.prototype.zm=function(t,e){var i=0,r=0;t.n._E?(i=t.n._E.$,r=t.n._E.z):t.t&&(i=t.t.rect.$,r=t.t.rect.z),this.fQ.Q(n.get([12,41]).charAt(0)+": "+a.VU.ZS(Math.abs(i),t.go,e)),this.ET.Q(n.get([12,42]).charAt(0)+": "+a.VU.ZS(Math.abs(r),t.go,e))},Ge.prototype.aK=function(t,e,i){t&&this.zm(t,i)},Ye.prototype=new ze(""),Ye.prototype.DQ=function(){return new f(250,0)},Ye.prototype.aQ=function(t){var e,i=t.target.pa(),n=i[0];if(t.target==this.Nc&&(e=this.SG),t.target==this.Im&&(e=this.tDW),t.target==this.Sw&&(e=this.tDq),t.target==this.SD&&(e=this.tDj),t.target==this.Is&&(e=this.tDi),t.target==this.Qs&&(e=this.tDK),t.target==this.SC&&(e=this.tDe),null!=e[n]){if(null!=e[n].U){var r=e[n];return(a=new xt(r.U,!0)).c=r.c,a.data=r.k,void t.target.N(a)}a=new xt(bt.E.W,!0);t.target==this.Qs?a.data=e[n]:a.data={X:e[n]},e[n]==nt.wt&&(a.data.t$B=i[1]),a.c=j.uh,t.target.N(a)}else if(0==n){var s=new xt(bt.E.Y,!0);s.data={X:bt.m.gI,gL:"layerstyle",i:this.Ti.g[0]},this.N(s)}else{var a;(a=new xt(bt.E.W,!0)).c=j.rt,a.data={X:["st_copy","st_paste","st_clear"][i[1]],i:this.Ti.g[0]},this.N(a)}},Ye.prototype.tdI=function(t){var e,i,n=this.Ti,r=t.data;-1==n.g.indexOf(r.i)&&(n.g=[r.i],n.kJ=!0),1==r.G?(e=this.Sw,i=this.zx):2==r.G?(e=this.SD,i=this.UW):3==r.G?(e=this.Is,i=this.ZL):r.tcy?(e=this.Im,i=this.zG):(e=this.Nc,i=this.fV),e.update(n,i),e.parent=this;var s=new xt(bt.E.Y,!0);s.data={X:bt.m.Fe,AB:e,x:r.ej.x+1,y:r.ej.y+1},this.N(s)},Ye.prototype.w=function(){ze.prototype.w.call(this),this.XV.w(),this.XM.w(),this.Qn.w(),this.Nc.w(),this.Sw.w(),this.SD.w(),this.Qs.w(),this.SC.w(),this.Ti&&this.aK(this.Ti);for(var t="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" "),e=0;e<this.S$.length;e++){this.S$[e].$v(bt.Ur(t[e]))}},Ye.prototype.aK=function(t,e){if(null==t?bt.wj(this.hD,"disabled"):bt.cd(this.hD,"disabled"),this.Ti=t,this.ZM=e,null!=this.oj&&(this.lT.removeChild(this.oj.lT),this.oj=null),null!=t)if(this.oj=new Ke(t.root,this,t,{nx:0}),this.lT.appendChild(this.oj.lT),0==t.g.length)bt.wj(this.Mt,"disabled");else{bt.cd(this.Mt,"disabled"),1==t.g.length&&t.EV&&this.oj.Zt(t.g);var i=t.b[t.g[0]];if(i.oP()){this.es.ea(["Pass Through"].concat(it.ln),[1].concat(it.XL));var n=it.Cj.indexOf(i.kE);this.es.Q(n+1)}else{this.es.ea(it.ln,it.XL);n=it.Cj.indexOf(i.kE);this.es.Q(n)}this.XV.Q(Math.round(100*i.opacity/255)),this.XM.Q([i.FT(1),i.FT(2),i.FT(31)]),this.Qn.Q(Math.round(100*(null!=i.add.iOpa?i.add.iOpa/255:1)))}},Ye.prototype.Tc=function(t,e){var i=e-(this.Mt.getBoundingClientRect().height+34);this.lT.style.height=i+"px"},Ye.prototype.tdf=function(t){this.oe({X:nt.HH,UG:this.es.v()})},Ye.prototype.tdY=function(t){this.oe({X:nt.CY,UG:Math.round(255*this.XV.v()/100)})},Ye.prototype.tdk=function(t){this.oe({X:nt.Hw,UG:[this.XM.v(),[1,2,31]]})},Ye.prototype.tdm=function(t){this.oe({X:nt.rx,UG:Math.round(255*this.Qn.v()/100)})},Ye.prototype.tGC=function(t){this.z_(t.currentTarget,this.Qs,this.Uq)},Ye.prototype.tGB=function(t){this.z_(t.currentTarget,this.SC,this.UN)},Ye.prototype.z_=function(t,e,i){var n=t.J.getBoundingClientRect();e.update(this.Ti,i),e.parent=this;var r=new xt(bt.E.Y,!0);r.data={X:bt.m.Fe,AB:e,x:n.left,y:n.top,tcc:!0},this.N(r)},Ye.prototype.txr=function(t){this.oe({X:nt.fk})},Ye.prototype.txW=function(t){this.oe({X:nt.KG})},Ye.prototype.txQ=function(t){this.oe({X:nt.Hl})},Ye.prototype.tRw=function(t){this.oe({X:nt.vN})},Ye.prototype.tRd=function(t){this.oe({X:nt.JA})},Ye.prototype.oe=function(t){var e=new xt(bt.E.W,!0);e.data=t,e.c=j.uh,this.N(e)},Ye.prototype.tRE=function(){for(var t=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],e=[this.tRd,this.tGB,this.tGC,this.txr,this.txW,this.txQ,this.tRw],i=0;i<t.length;i++){var n=new Ot("W",!1,t[i]);if(this.S$.push(n),n.O("click",e[i],this),this.QX.appendChild(n.J),i>=t.length-3){var r=n.J;r.addEventListener("drop",this.tRA.bind(this),!1),r.addEventListener("dragover",function(t){n.PT()}.bind(this),!1),r.addEventListener("dragenter",Ke.ua,!1),r.addEventListener("dragleave",function(t){n.vl()}.bind(this),!1)}}},Ye.prototype.tRA=function(t){for(var e=0,i=this.S$;i[e].J!=t.currentTarget;)e++;if(i[e].vl(),""!=(n=t.dataTransfer.getData("Text"))){var n;if("l"==(n=JSON.parse(n)).cF){var r={X:[nt.ri,nt.nJ,nt.vN][e-4]};-1==this.Ti.g.indexOf(n.pV)&&(r.i=n.pV),this.oe(r)}if(6==e){if("sm"==n.cF||"s"==n.cF){var s=new xt(bt.E.W,!0);s.c=j.rt,s.data={X:"sm"==n.cF?"st_clear":"st_delsingle",i:n.pV,pV:n.Hn},this.N(s)}"fm"!=n.cF&&"f"!=n.cF||this.oe({X:"fm"==n.cF?nt.wH:nt.fu,i:n.pV,pV:n.Hn})}}},Ke.prototype=new St,Ke.prototype.Zt=function(t){var e=this.sh.index;-1!=t.indexOf(e)&&this.J.scrollIntoView&&this.J.scrollIntoView({block:"nearest"});for(var i=0;i<this.Iu.length;i++)this.Iu[i].Zt(t)},Ke.ua=function(t){t.stopPropagation(),t.preventDefault()},Ke.tc$=function(t){t.stopPropagation()},Ke.MM=function(t,e){var i=e.getBoundingClientRect();return(t.clientY-i.top)/i.height},Ke.prototype.Zk=function(t){t.stopPropagation();var e=t.target==this.wv?"m":t.target==this.Xp?"vm":"l";t.dataTransfer.setData("Text",JSON.stringify({cF:e,pV:this.sh.index}))},Ke.prototype.Zu=function(t){Ke.ua(t),this.ph()},Ke.prototype.VV=function(t){Ke.ua(t),this.ph();var e=t.dataTransfer.getData("Text"),i=this.parent.Ti,n=Ke.MM(t,this.Mt),r=this.sh.index;if(n>.8){for(var s=!0,a=i.root.oo(r);null!=a.parent;){0!=a.parent.children.indexOf(a)&&(s=!1),a=a.parent}s&&(r=0,n=1)}if(""==e)bt.bg(t,this,this.parent.ZM.indexOf(i),r+(n>.5?0:1));else{var h=(e=JSON.parse(e)).cF;"l"==h?this.oe({X:nt.TS,source:e.pV,target:r,Ih:n}):"m"==h||"vm"==h?this.oe({X:"m"==h?nt.Jb:nt.Jk,src:e.pV,Tl:r,EF:t.altKey}):"s"!=h&&"sm"!=h||this.oe({X:nt.Hb,src:e.pV,Tl:r,Hn:e.Hn,EF:t.altKey})}},Ke.prototype.Z_=function(t){Ke.ua(t);var e=Ke.MM(t,this.Mt);this.ph();var i="border-"+(e>.5?"bottom":"top");this.sh.i.oP()&&.5<e&&e<.8&&(i="border"),this.Mt.style[i]="0.2em solid rgba(0,0,0,0.5)"},Ke.prototype.ph=function(t){this.Mt.style.border="none"},Ke.Z$=-1,Ke.AV=!1,Ke.ZJ=function(t){Ke.AV=!1,document.body.removeEventListener("mouseup",Ke.ZJ)},Ke.prototype.tRU=function(t){0==t.button&&("mousedown"==t.type&&(Ke.AV=!0,document.body.addEventListener("mouseup",Ke.ZJ,!1)),("mouseover"!=t.type||Ke.AV&&Ke.Z$!=this.sh.index)&&(t.stopPropagation(),t.preventDefault(),this.oe({X:nt.Eh,i:this.sh.index}),Ke.Z$=this.sh.index))},Ke.prototype.tRk=function(t){this.oe({X:nt.fN,i:this.sh.index})},Ke.prototype.ttH=function(t){this.oe({X:nt.rR,i:this.sh.index})},Ke.prototype.ttw=function(t){this.oe({X:nt.rC,i:this.sh.index})},Ke.prototype.ttD=function(t){if(1!=t.detail){var e=this.sh.i,i=bt.B("input","");i.setAttribute("type","text"),i.setAttribute("size","10"),i.setAttribute("value",e.getName()),bt.hk(this.UR),this.UR.appendChild(i),i.select(),i.focus(),this.Mt.setAttribute("draggable","false"),this.UR.addEventListener("keyup",this.cw,!1),document.body.addEventListener("mousedown",this.NI,!1)}},Ke.prototype.tta=function(t){var e=t.target;e.tagName&&"input"==e.tagName.toLowerCase()||this.Zr(!0)},Ke.prototype.A$=function(t){var e=W.Kd;(e(t.code,W._f)||e(t.code,W.BV))&&this.Zr(e(t.code,W.BV))},Ke.prototype.Zr=function(t){this.UR.removeEventListener("keyup",this.cw),document.body.removeEventListener("mousedown",this.NI),t?this.oe({X:nt.HU,i:this.sh.index,name:this.UR.firstChild.value}):this.UR.innerHTML=this.sh.i.getName()},Ke.prototype.ttW=function(t){this.oe({X:nt.fF,i:this.sh.index})},Ke.prototype.ttX=function(t){if(!this.ZT(t,t.target,this.G(t))&&2==t.button){var e=new xt("rclick",!0);e.data={i:this.sh.index,G:this.G(t),ej:bt.qF(t,document.body),tcy:t.currentTarget==this.mR},this.N(e)}},Ke.prototype.G=function(t){var e=t.target;return e.parentNode==this.Xp?2:e.parentNode==this.wv?1:e.parentNode==this.SS?0:e.parentNode==this.Xf?3:-1},Ke.prototype.ZH=function(t){var e=t.target;if(!(e==this.yV||e==this.Sf||e==this.SE||e==this.Sq||e.tagName&&"input"==e.tagName.toLowerCase())){var i=this.G(t),n=this.parent.Ti;if(0!=t.button||2!=t.detail){if(!this.ZT(t,e,i)&&0==t.button){var r=n.n.uQ,s={X:nt.rE,i:this.sh.index,rg:i};if(this.oe(s),t.altKey){a=new xt(bt.E.W,!0);return 1==i||3==i?(a.c=j.ML,a.data={X:"mskView",R:2==r?0:2}):(a.c=j.uh,a.data={X:nt.Ei,i:this.sh.index}),void this.N(a)}}}else{if(e==this.UR)return;var a,h=this.sh.index,o=n.b[h],l=new xt(bt.E.Y,!0);0==i&&(tt.get(o.add)||o.add.SoCo||o.add.GdFl||o.add.PtFl)||0!=i&&-1!=i?l.data={X:bt.m.yP,gL:"properties"}:0==i&&o.add.SoLd?l.data={X:bt.m.bh}:0==i&&o.add.TySh?l.data={X:bt.m.mG,c:j.Jv}:l.data={X:bt.m.gI,gL:"layerstyle",i:h},this.N(l),0==i&&o.add.TySh&&((a=new xt(bt.E.W,!0)).c=j.Jv,a.data={X:"editCurr",oM:h},this.N(a))}}},Ke.prototype.ZT=function(t,e,i){if((t.ctrlKey||t.metaKey)&&(0==i||1==i)){var n=new xt(bt.E.W,!0);return n.c=j.sQ,n.data={X:"fromlayer",i:this.sh.index,tVy:i,tVC:t.shiftKey},this.N(n),!0}return!1},Ke.prototype.oe=function(t){var e=new xt(bt.E.W,!0);e.data=t,e.c=j.uh,this.N(e)},Ye.Eb=function(t,e,i,n,r,s,a){St.call(this),this.mt=e,this.SK=i,this.index=s,this.J=bt.B("div","styleitem"),this.Mt=bt.B("div","head"),this.cs=bt.B("div","eye gsicon"),this.UR=bt.B("div","label"),this.J.appendChild(this.Mt),this.Mt.appendChild(this.cs),a&&(this.wv=a,this.Mt.appendChild(this.wv),this.Mt.setAttribute("style","height: "+(a.firstChild.height/bt.h()+10)+"px")),this.Mt.appendChild(this.UR),this.UR.innerHTML=t,this.J.setAttribute("style","margin-left: "+(24+16*n+22*r)+"px"),this.cs.addEventListener("click",this.ttf.bind(this),!1);var h=this.J;h.setAttribute("draggable","true"),h.addEventListener("dragstart",this.Zk.bind(this),!1),h.addEventListener("drop",this.VV.bind(this),!1),h.addEventListener("dragover",this.Z_.bind(this),!1),h.addEventListener("dragenter",Ke.ua,!1),h.addEventListener("dragleave",this.Zu.bind(this),!1),this.J.addEventListener("click",this.Nu.bind(this),!1)},Ye.Eb.prototype=new St,Ye.Eb.prototype.Zk=function(t){t.stopPropagation(),t.dataTransfer.setData("Text",JSON.stringify({cF:this.mt,pV:this.parent.sh.index,Hn:this.index}))},Ye.Eb.prototype.Zu=function(t){Ke.ua(t),this.ph()},Ye.Eb.prototype.VV=function(t){var e;(Ke.ua(t),this.ph(),""!=(e=t.dataTransfer.getData("Text")))&&("f"==(e=JSON.parse(e)).cF&&e.pV==this.parent.sh.index&&this.parent.oe({X:nt.Kx,i:e.pV,src:e.Hn,Tl:this.index+(Ke.MM(t,this.Mt)>.5?0:1)}),"s"!=e.cF&&"sm"!=e.cF||this.parent.oe({X:nt.Hb,src:e.pV,Tl:this.parent.sh.index,Hn:e.Hn,EF:t.altKey}))},Ye.Eb.prototype.Z_=function(t){Ke.ua(t);var e=Ke.MM(t,this.Mt)>.5;this.ph();var i="border-"+(e?"bottom":"top");this.Mt.style[i]="0.2em solid rgba(0,0,0,0.5)"},Ye.Eb.prototype.ph=function(t){this.Mt.style.border="none"},Ye.Eb.prototype.cE=function(t){var e=15;1<bt.h()&&bt.h()<1.5&&(e/=bt.h()),this.cs.setAttribute("style","background-size: "+e+"px "+e+"px;"),this.cs.style.opacity=t?1:.2},Ye.Eb.prototype.Nu=function(t){if(t.target!=this.cs&&1!=t.detail&&null!=this.SK){var e=new xt(bt.E.Y,!0);0==this.SK.indexOf("filter")?e.data={X:bt.m.gI,gL:this.SK,UQ:{i:this.parent.sh.index,index:this.index}}:e.data={X:bt.m.gI,gL:this.SK,i:this.parent.sh.index,index:this.index},this.N(e)}},Ye.Eb.prototype.ttf=function(t){var e={fm:nt.wJ,f:nt.wr,sm:nt.HD,s:nt.Hd}[this.mt];this.parent.oe({X:e,i:this.parent.sh.index,index:this.index})},Qe.prototype=new ze(""),Qe.prototype.w=function(){ze.prototype.w.call(this),this.Ty.w()},Qe.prototype.qB=function(t,e){e!=Q.hP&&e!=Q.vw&&e!=Q.IL||this.Ty.zc(t)},We.prototype=new ze(""),We.prototype.ttF=function(t){var e=this.ko.indexOf(t.currentTarget);this.Db(e),this.ZP(1==e?this.Oa.OW:-1)},We.prototype.Db=function(t){for(var e=0;e<3;e++){this.ko[e].vl();var i=this.m$[e].J;i.parentNode==this.NW&&e!=t&&this.NW.removeChild(i),i.parentNode!=this.NW&&e==t&&this.NW.appendChild(i)}this.ko[t].PT()},We.prototype.ZP=function(t){var e=this.Al.g[0],i=this.Al.b[e],n=t+1;if(1!=t||!i.uv){var r=new xt(bt.E.W,!0);r.c=j.uh,1!=t&&i.uv&&(r.data={X:nt.rE,i:e,rg:2},this.N(r)),r.data={X:nt.rE,i:e,rg:n},this.N(r)}},We.prototype.w=function(){ze.prototype.w.call(this),this.aK(this.Al);for(var t=0;t<3;t++)this.ko[t].w(),this.m$[t].w()},We.prototype.aK=function(t){if(null==t||0==t.g.length)return bt.wj(this.hD,"disabled"),void(this.Al=null);bt.cd(this.hD,"disabled");var e=t.g[0],i=t.b[e],n=i.add.vogk,r=!1;if(n)for(var s=0;s<n.length;s++)null==n[s].v.keyShapeInvalidated&&(r=!0);t==this.Al&&this.mV==e||(this.Al=t,this.mV=e,r?this.Db(2):i.G<1&&!i.uv?this.Db(0):this.Db(1)),this.OJ.aK(t),this.Oa.aK(t),this.yr.aK(t),this.ko[1].FX(-1!=this.Oa.OW),this.ko[2].FX(r)},We.prototype.qB=function(t,e){this.OJ.qB(t,e)},We.ek=function(){St.call(this),this.J=bt.B("div","form"),this.mJ=new Kt("Hello"),this.J.appendChild(this.mJ.J),this.SY=null,this.mr=null,this.Al=null,this.mH=-1,this.mI=null,this.sb=new Lt(!0),this.sb.parent=this,this.sb.O(bt.E.p,this.ttm,this),this.lP=bt.B("div","marged hiline"),this.lP.appendChild(this.sb.J),this.uE=new ke("GrFl",!0),this.uE.parent=this,this.uE.O(bt.E.p,this.tVT,this),this.EM=bt.B("div","marged hiline");for(var t="Grad Type Algn Angl Rvrs Scl Ofst".split(" "),e=0;e<t.length;e++){var i=this.uE.Ju[t[e]].J;this.EM.appendChild(i)}this.uo=new ke("patternFill",!0),this.uo.parent=this,this.uo.O(bt.E.p,this.tVA,this),this.Eg=bt.B("div","marged hiline");for(t=["Ptrn","Scl","Algn","phase"],e=0;e<t.length;e++){i=this.uo.Ju[t[e]].J;this.Eg.appendChild(i)}for(var n in this.LI={},tt.names)null!=ue[n]&&(this.LI[n]=new ue[n],this.LI[n].O(bt.E.p,this.tVN,this),this.LI[n].parent=this)},We.ek.prototype=new St,We.ek.prototype.w=function(){for(var t in this.LI)this.LI[t].w();this.uE.w(),this.uo.w()},We.ek.prototype.ttm=function(t){var e=this.Al,i=e.g[0],n=JSON.parse(JSON.stringify(e.b[i].add.SoCo));n.Clr.v=this.sb.v(),this.Ar({uV:1,uL:n})},We.ek.prototype.tVT=function(t){this.Ar({uV:2,uL:this.uE.v()})},We.ek.prototype.tVA=function(t){this.Ar({uV:3,uL:this.uo.v()})},We.ek.prototype.Ar=function(t){this.Zd(j.uh,{X:nt.wL,kV:[this.Al.g[0]],ra:!0,R:t})},We.ek.prototype.tVN=function(t){this.Zd(j.nP,{X:"edit_layer",R:this.mr.v()})},We.ek.prototype.Zd=function(t,e){var i=new xt(bt.E.W,!0);i.c=t,i.data=e,this.N(i)},We.ek.prototype.aK=function(t){var e=n.get([0,3]),i=null;if(this.Al=t,t&&t.b.length>0){var r=t.b[t.g[0]],s=tt.get(r.add);if(null!=s&&null!=this.LI[s]){if(i=this.LI[s].J,this.mr=this.LI[s],this.LI[s].Q(tt.cV(r.add)),t.g[0]!=this.mH){var h=t.cn(t.g[0]-1);this.mI=a.Yk(h)}this.LI[s].yb(this.mI),e=n.get(tt.names[s])}r.add.SoCo&&(i=this.lP,this.sb.Q(r.add.SoCo.Clr.v),e=n.get([6,48,0,0])),r.add.GdFl&&(i=this.EM,this.uE.update(t,r.add.GdFl),e=n.get([6,48,0,1])),r.add.PtFl&&(i=this.Eg,this.uo.update(t,r.add.PtFl),e=n.get([6,48,0,2])),this.mH=t.g[0]}i!=this.SY&&(this.SY&&this.J.removeChild(this.SY),null!=i&&this.J.appendChild(i),this.SY=i),this.mJ.Q(e)},We.ek.prototype.qB=function(t,e){for(var i in this.uE.qB(t,e),this.uo.qB(t,e),this.LI)this.LI[i].qB(t,e)},We.pO=function(){St.call(this),this.J=bt.B("div","form"),this.Al=null,this.OW=0;var t=bt.B("span","fitem");this.J.appendChild(t),this.ko=[new Ot([6,2]),new Ot([6,3]),new Ot([6,50])];for(var e=0;e<this.ko.length;e++){var i=this.ko[e];i.O("click",this.tVF,this),t.appendChild(i.J)}this.XD=new re([12,74],0,255),this.XD.O(bt.E.p,this.lN,this),this.J.appendChild(this.XD.J),this.Qe=new re([7,6],0,500,"px",2,!0),this.Qe.O(bt.E.p,this.lN,this),this.J.appendChild(this.Qe.J)},We.pO.prototype=new St,We.pO.prototype.lN=function(t){var e=this.XD.v(),i=this.Qe.v(),n=new xt(bt.E.W,!0);n.c=j.uh,n.data={X:nt.rF,$_:this.Al.g[0],ew:{hA:this.OW,XD:e,Qe:i}},this.N(n)},We.pO.prototype.w=function(){for(var t=0;t<this.ko.length;t++)this.ko[t].w();this.XD.w(),this.Qe.w()},We.pO.prototype.aK=function(t){this.Al=t,this.TE()},We.pO.prototype.tVF=function(t){this.TE(this.ko.indexOf(t.currentTarget)),this.parent.ZP(this.OW)},We.pO.prototype.TE=function(t){for(var e=this.Al,i=this.ko,n=0;n<3;n++){var r=i[n];r.vl(),r.uI()}if(null!=e&&0!=e.b.length){var s=-1,a=e.b[e.g[0]];if(a.kl()&&null!=a.hy(e).d&&(i[2].qQ(),s=2),a.add.vmsk&&(i[1].qQ(),s=1),a.Ab()&&(i[0].qQ(),s=0),null!=t?s=t:a.uv?s=1:3==a.G?s=2:1==a.G&&(s=0),this.OW=s,-1==s)return this.XD.uI(),void this.Qe.uI();var h=a.fz(s);this.XD.qQ(),this.Qe.qQ(),this.XD.Q(h.XD),this.Qe.Q(h.Qe),i[s].PT()}},We.kQ=function(){St.call(this),this.J=bt.B("div","form"),this.J.setAttribute("style","width:14em"),this.yH=1,this.SA=bt.B("div"),this.gj=this.ZG(["W","H","X","Y"],[12,51],this.SA),this.Se=bt.B("div");this.OX=this.ZG(["┏","┓","┗","┛"],[12,91,2],this.Se)},We.kQ.prototype=new St,We.kQ.prototype.w=function(){this.gj[0].$v(n.get([12,41]).charAt(0)+":"),this.gj[1].$v(n.get([12,42]).charAt(0)+":");for(var t=2;t<5;t++)this.gj[t].w();this.OX[4].w()},We.kQ.prototype.ZG=function(t,e,i){var n=bt.B("div","numlist");i.appendChild(n);for(var r=[],s=0;s<4;s++){var a=new Wt(t[s],0,0,null,1,!1,!0);a.O(bt.E.p,this.t$$,this),n.appendChild(a.J),r.push(a)}return r[4]=new qt(e),r[4].Q(!0),i.appendChild(r[4].J),r},We.kQ.prototype.Uk=function(t,e){for(var i=0;i<4;i++)t[i].Q(e[i])},We.kQ.prototype.Zg=function(t){for(var e=[],i=0;i<4;i++)e[i]=t[i].v();return e},We.kQ.prototype.t$$=function(t){var e=this.gj.indexOf(t.currentTarget),i=this.OX.indexOf(t.currentTarget),n=[null,null,null,null],r=[null,null,null,null];if(-1!=e){var s=this.Zg(this.gj),a=this.gj[4].v();s[0]=Math.max(1,s[0]),s[1]=Math.max(1,s[1]),a&&0==e&&(s[1]=s[0]/this.yH),a&&1==e&&(s[0]=s[1]*this.yH),n[0]=s[2],n[1]=s[3],n[2]=n[0]+s[0],n[3]=n[1]+s[1]}if(-1!=i){s=this.Zg(this.OX);if(r[i]=Math.max(0,s[i]),this.OX[4].v())for(var h=0;h<4;h++)r[h]=r[i];var o=r[3];r[3]=r[2],r[2]=o}var l=new xt(bt.E.W,!0);l.c=j.uh,l.data={X:nt.rd,SZ:n,t$v:r},this.N(l)},We.kQ.prototype.aK=function(t){var e=null!=this.SA.parentNode,i=null!=this.Se.parentNode,n=a.FU.tn(t),r=n[0],s=n[1];if(r?(e||this.J.appendChild(this.SA),this.yH=(r[2]-r[0])/(r[3]-r[1]),this.Uk(this.gj,[r[2]-r[0],r[3]-r[1],r[0],r[1]])):e&&this.J.removeChild(this.SA),s){i||this.J.appendChild(this.Se);var h=s[2];s[2]=s[3],s[3]=h,this.Uk(this.OX,s)}else i&&this.J.removeChild(this.Se)},Ze.prototype=new ze(""),Ze.prototype.zB=function(){return!this.Ti.KF()||window.confirm("There is unsaved work in "+this.Ti.name+". Do you really want to close it?")},Ze.prototype.qX=function(t){t.preventDefault()},Ze.prototype.nZ=function(t){if(null==t.button||0==t.button){this.sl=!0;var e=new xt("mouse",!0);e.action="down",this.Lw(t,e),this.N(e),bt.vD(this.hD,this.nY),bt.ny(window,this.nY),bt.nL(window,this.my)}},Ze.prototype.fI=function(t){var e=new xt("mouse",!0);e.action="move",this.Lw(t,e),this.N(e)},Ze.prototype.Ub=function(t){this.sl=!1;var e=new xt("mouse",!0);e.action="up",this.Lw(t,e),this.N(e),bt.vD(window,this.nY),bt.cQ(window,this.my),bt.ny(this.hD,this.nY)},Ze.prototype.Dg=function(t){if(this.qX(t),!(0==t.deltaX&&0==t.deltaY||Date.now()-this.qr<50)){this.qr=Date.now();var e=new xt("mouse",!0);e.action="scroll",this.Lw(t,e),this.N(e)}},Ze.prototype.t$H=function(t){t.stopPropagation(),t.preventDefault();var e=new xt("mouse",!0);e.action="ctx",this.Lw(t,e),this.N(e)},Ze.prototype.Lw=function(t,e){if("up"!=e.action){var i=bt.h(),n=bt.qF(t,this.hD);this.Lk=e.qR={x:i*n.x,y:i*n.y,Vv:this.sl};var r=bt.qF(t,document.body);e.qR.ttk=r.x,e.qR.tVr=r.y}else this.Lk=e.qR={x:this.Lk.x,y:this.Lk.y,Vv:this.sl};e.qR.Gl=1,null!=t.pressure&&0!=t.pressure&&(e.qR.Gl=2*t.pressure),null!=t.deltaX&&(e.or=new f(.5*t.deltaX,.5*t.deltaY))},Ze.prototype.qB=function(t,e){this.le=t},Ze.prototype.aK=function(t){this.ZU(),this.tCe(t.name+(t.KF()?" *":"")),this.k_()},Ze.prototype.Tc=function(t,e){var i=this.Ti,n=bt.h();i.n.C.$=Math.floor(t*n),i.n.C.z=Math.floor(e*n),bt.UZ(this.lZ,t,e),bt.UZ(this.OQ,t,e),bt.UZ(u.en(),t,e),0==i.n.s&&(i.n.s=j.He.Xz(i.$,i.z,t*n,e*n)),this.SN=!0,this.k_()},Ze.prototype.ZU=function(){var t=this.hD.firstChild;(!u.Yv&&t==u.en()||u.Yv&&t==this.lZ)&&this.hD.removeChild(t),this.hD.appendChild(u.Yv?u.en():this.lZ)},Ze.prototype.k_=function(){if(u.Yv!=this.PL&&(this._g=0,this.SN=!0),this.PL=u.Yv,null!=this.le){u.Yv?this.t$P():this.t$d();var t=this.Ti;this._g=t.n.s,this.SN=!1}},Ze.prototype.t$P=function(){u.Yv&&null==Ze.mD&&(Ze.mD=new Ze.VS(!1)),u.Yv&&null==Ze.mc&&(Ze.mc=new Ze.VS(!0));var t,e=this.Ti;if(null!=e.ec){var i=e.n,n=i.C.$,r=i.C.z,s=u.Ia;this.C.clearRect(0,0,i.C.$,i.C.z);var a=this.ZE(e);null==i.ah&&(i.ah=new u.wf(i.C.$,i.C.z)),a?i.ah.set(this.lZ):(u.jl(i.ah),u.sk(0));var h=new L(0,0,e.$*i.s,e.z*i.s);h.x=Math.round((n-e.$*i.s)/2+i.M.x),h.y=Math.round((r-e.z*i.s)/2+i.M.y);var o=[0,0,0,0],l=[];if(e.add.artd){o=Ze.Zv(e);var f=e.$,c=e.z;t=Ze.mc;for(var p=0;p<e.b.length;p++){var v=e.b[p];if(null!=v.add.artb&&v.op()){var d=v.As();l.push(d.x/f,d.y/c,d.$/f,d.z/c)}}for(l.length>128&&(l=l.slice(0,128));l.length<128;)l.push(0,0,0,0)}else t=Ze.mD;u.PA(n,r),u.sk(0),u.PA(n,r),t.QN(),t.ON(i.ah.La,e.ec.La,new Float32Array([h.x/n,h.y/r,h.$/n,h.z/r]),new Float32Array([8/n,8/r]),e.$,e.z,1/e.n.s,n,r,new Float32Array(l),new Float32Array(o)),s.drawArrays(s.TRIANGLES,0,6)}},Ze.Zv=function(t){var e=t.add.artd;if(null==e.canvasColor)return[0,0,0,0];for(var i=e.canvasColor.v,n=[i.Rd.v/255,i.Grn.v/255,i.Bl.v/255,1],r=0;r<4;r++)n[r]=Math.min(1,n[r]);return n},Ze.prototype.t$d=function(){var t=this.Ti;if(null!=t.buffer){var e=t.n;e.C.$,e.C.z;if(this.nT.clearRect(0,0,e.C.$,e.C.z),null==t.add.artd)this.C.clearRect(0,0,e.C.$,e.C.z);else{var i=Ze.Zv(t);this.C.fillStyle="#"+a.fM(255*i[0]<<16|255*i[1]<<8|255*i[2]),this.C.fillRect(0,0,e.C.$,e.C.z)}var n=e.Pi(),r=e.C.sj(n);if(this.C.save(),this.C.translate(n.x,n.y),null==t.add.artd)this.C.fillStyle=this.IE,this.C.fillRect(0,0,n.$,n.z);else{this.C.fillStyle="#ffffff",this.C.scale(e.s,e.s);for(var s=0;s<t.b.length;s++){var h=t.b[s];if(null!=h.add.artb&&h.op()){var o=h.As();this.C.fillRect(o.x,o.y,o.$,o.z)}}}this.C.restore();var l=t.$!=e.Jl.$||t.z!=e.Jl.z;if(l&&e.Jl.kR(0,0,t.$,t.z),e.s<=1){if(e.s!=this._g||t.jj)if((e.s!=this._g||null==e.Ot||l)&&(e.Ot=this.C.createImageData(Math.max(1,n.$),Math.max(1,n.z))),e.s<1)a.Yp(t.buffer,new L(0,0,t.$,t.z),e.s,new Uint8Array(e.Ot.data.buffer));else a.sa(t.buffer,e.Ot.data);this.nT.putImageData(e.Ot,n.x,n.y),this.C.drawImage(this.OQ,r.x,r.y,r.$,r.z,r.x,r.y,r.$,r.z)}else{var u=e.Yr(),f=new L(0,0,u.$*e.s,u.z*e.s);f.x=u.x*e.s+n.x,f.y=u.y*e.s+n.y,(e.s!=this._g||this.SN)&&(e.wY=a.I(4*u.f()),e.Ot=this.C.createImageData(f.$,f.z)),a.set(e.wY,0),a.Pg(this.Ti.buffer,new L(0,0,t.$,t.z),e.wY,u),a.scale.ke(e.wY,u.$,u.z,e.Ot.data,f.$,f.z,e.s),this.nT.putImageData(e.Ot,f.x,f.y),this.C.drawImage(this.OQ,0,0)}this.ZE(t)}},Ze.prototype.ZE=function(t){var e=t.n,i=!1,n=t.b[t.g[0]];if(null!=n&&0!=e.uQ&&(1==n.G||3==n.G)){var r=1==n.G?n.Ab():n.hy(t).d;this.Zo(r.Lu(),r.AK(),e,e.uQ,r.NG()),i=!0}return i=this.t$G(t,this.C,e)||i,t.t&&(this.Zo(t.t.channel,t.t.rect,e,0,0),i=!0),i},Ze.prototype.Zo=function(t,e,i,n,r){var s,h,o,l=i.Pi();if(i.s<=1){if((s=e.clone()).x=Math.round(s.x*i.s),s.y=Math.round(s.y*i.s),s.$=Math.floor(s.$*i.s),s.z=Math.floor(s.z*i.s),h=t,i.s<1){var f=a.I(4*e.f());a.kw(t,f,3);var c=a.Yp(f,e,i.s);s.$=c.rect.$,s.z=c.rect.z,(null==i.nV||i.nV.length<s.f())&&(i.nV=a.I(s.f())),h=i.nV,a.rY(c.nn,h,3)}null==i.nD||i.nD.width!=s.$||i.nD.height!=s.z?i.nD=this.C.createImageData(Math.max(1,s.$),Math.max(1,s.z)):a.Mw(i.nD.data,0);var p=i.C.clone();p.offset(-l.x,-l.y),o=s.sj(p)}else{var v=i.Yr();s=new L(v.x*i.s,v.y*i.s,v.$*i.s,v.z*i.s),i.s==this._g&&null!=i.nD&&i.nD.width==s.$&&i.nD.height==s.z||(i.nV=a.I(s.f()),i.nD=this.C.createImageData(s.$,s.z));var d=a.I(v.f());a.set(d,r),a.Jg(t,e,d,v),a.scale.in(d,v.$,v.z,i.nV,s.$,s.z,i.s),a.Mw(i.nD.data,0),h=i.nV}var y=u.Yv?65535:16777215;if(0==n)a.t.tGb(h,i.nD.data,s,y,o);else{if(o=s.sj(new L(0,0,l.$,l.z)),i.s<=1){var g=r<<16|r<<8|r;u.Yv&&(g&=16776960),this.C.fillStyle=2==n?"#"+a.fM(g):"rgba(255,0,0,"+.5*(1-r/255)+")",this.C.fillRect(l.x,l.y,l.$,l.z),this.C.clearRect(o.x+l.x,o.y+l.y,o.$,o.z)}a.t.txj(h,i.nD.data,s,y,o,n)}i.s<=1&&this.nT.clearRect(0,0,i.C.$,i.C.z),this.nT.putImageData(i.nD,l.x+s.x,l.y+s.y),this.C.drawImage(this.OQ,0,0)},Ze.prototype.t$G=function(t,e,i){var n=t.S.WA||t.S.rX||t.S.iG,r=this.le,s=r.sS,h=i.Pi(),o=new c(i.s,0,0,i.s,h.x+.5,h.y+.5),l=Mt.Us[r.gp];if(e.fillStyle="#333300",e.font=12*bt.h()+"px sans-serif",t.add.artd)for(var p=0;p<t.b.length;p++){if(null!=(g=t.b[p]).add.artb&&g.op()){var v=g.As(),d=new f(v.x,v.y);d=o.Sk(d),e.fillText(g.getName(),Math.round(d.x),Math.round(d.y-6)),n=!0}}if(e.fillStyle=u.Yv?"rgba(0,0,255,1)":"rgba(0,0,0,0.4)",e.strokeStyle=u.Yv?"#0000ff":"#000000",r.kk&&s.XB)for(var y=0;y<t.g.length;y++){var g;if((g=t.b[t.g[y]]).add.vmsk&&(g.uv||g.TT())){var m=g.add.vmsk,w=m.L;e.lineWidth=.5,e.beginPath();var b=a.K.Cp(w);if(a.K.UC(b.Z,o,b.Z),Typr.U.pathToContext({cmds:b.lX,crds:b.Z},e),e.stroke(),n=!0,1==t.g.length){var x=-1,M=Math.round(3*bt.h());for(p=0;p<w.length;p++)if(!(w[p].type>5))if(0!=w[p].type&&3!=w[p].type){if(-1!=m.g.indexOf(x)){var S=h.x+w[p].P.x*i.s,A=h.y+w[p].P.y*i.s;e.fillRect(Math.round(S-M+.5),Math.round(A-M+.5),2*M-1,2*M-1)}if(-1!=m.Pv.indexOf(p)){var k=[w[p].P];e.beginPath(),e.moveTo(h.x+w[p].kM.x*i.s,h.y+w[p].kM.y*i.s),e.lineTo(h.x+w[p].P.x*i.s,h.y+w[p].P.y*i.s),e.lineTo(h.x+w[p].kq.x*i.s,h.y+w[p].kq.y*i.s),e.stroke(),w[p].P.v$(w[p].kM)||k.push(w[p].kM),w[p].P.v$(w[p].kq)||k.push(w[p].kq);for(var C=0;C<k.length;C++){var T=k[C];S=h.x+T.x*i.s,A=h.y+T.y*i.s;0!=C||2!=w[p].type&&5!=w[p].type?(e.beginPath(),e.arc(S,A,1.2*M,0,2*Math.PI),e.fill()):e.fillRect(Math.round(S-1.2*M),Math.round(A-1.2*M),Math.round(2.4*M),Math.round(2.4*M))}}n=!0}else-1!=w[p].AY&&x++}}}if(e.lineWidth=1,t.S.WA){e.beginPath();b=a.K.clone(t.S.WA);a.K.UC(b.Z,o,b.Z),Typr.U.pathToContext({cmds:b.lX,crds:b.Z},e),e.fill()}if(t.S.rX){e.beginPath();b=a.K.clone(t.S.rX);a.K.UC(b.Z,o,b.Z),Typr.U.pathToContext({cmds:b.lX,crds:b.Z},e),e.stroke()}e.beginPath();M=4*bt.h();var U=t.S.Lg;for(p=0;p<U.length;p+=2){n=!0;S=h.x+U[p]*i.s,A=h.y+U[p+1]*i.s;e.rect(S-M+.5,A-M+.5,2*M-1,2*M-1)}e.stroke(),e.beginPath();for(M=4*bt.h(),U=t.S.tJe,p=0;p<U.length;p+=2){n=!0;S=h.x+U[p]*i.s,A=h.y+U[p+1]*i.s;e.moveTo(S+M-.5,A),e.arc(S,A,M-.5,0,2*Math.PI)}if(e.fill(),t.S.Nf){n=!0;var _=t.S.Nf,F=_.$H;for(b={lX:[],Z:[]},p=0;p<_.$t.length;p++)a.K.concat(b,a.K.DK(_.$t[p]));b.Z=b.Z.concat(F);for(p=0;p<F.length;p+=4)b.lX.push("M","L");e.beginPath(),e.strokeStyle=u.Yv?"#dd3300":"#dd3333",a.K.UC(b.Z,o,b.Z),Typr.U.pathToContext({cmds:b.lX,crds:b.Z},e),e.stroke();var O=bt.h();e.font=Math.round(12*O)+"px sans-serif";for(p=0;p<F.length;p+=4){S=F[p],A=F[p+1];var L=F[p+2],D=F[p+3],N=Math.sqrt((D-A)*(D-A)+(L-S)*(L-S))+"",I=new f((S+L)/2,(A+D)/2);I=o.Sk(I),e.fillStyle=u.Yv?"#dd3300":"#dd3333";var E=e.measureText(N).width;e.fillRect(I.x-E/2-2.5*O,I.y-7.5*O,E+5*O,15*O),e.fillStyle=u.Yv?"#ffff00":"#ffffff",e.fillText(N,I.x-E/2,I.y+4*O)}}if(r.kk&&(e.lineWidth=1,s.TN&&(this.Y$(t,h,e,s.Xa,"#808000"),n=!0),s.Qx&&t.n.s>7&&(this.Y$(t,h,e,1,"rgba(128,128,0,0.5)"),n=!0),s.UL)){e.beginPath(),e.strokeStyle=u.Yv?"#00ff00":"#00ffff";for(p=0;p<t.UL[0].length;p++){var P=Math.round(t.n.PM(t.UL[0][p],0).x)+.5;e.moveTo(P,0),e.lineTo(P,t.n.C.z)}for(p=0;p<t.UL[1].length;p++){var J=Math.round(t.n.PM(0,t.UL[1][p]).y)+.5;e.moveTo(0,J),e.lineTo(t.n.C.$,J)}e.closePath(),e.stroke()}if(e.strokeStyle=u.Yv?"#ff0000":"#ff00ff",t.S.iG){e.beginPath();b=a.K.clone(t.S.iG);a.K.UC(b.Z,o,b.Z),Typr.U.pathToContext({cmds:b.lX,crds:b.Z},e),e.stroke()}if(r.Td){window.getComputedStyle(document.body);null!=t.n.gS&&t.n.gS.width==t.n.C.$&&t.n.Tn.height==t.n.C.z||(t.n.gS=e.createImageData(t.n.C.$,a.VU.oK),t.n.Tn=e.createImageData(a.VU.oK,t.n.C.z));l=Mt.Us[r.gp];var B=(i=t.n).s*t.$/2,X=i.s*t.z/2,z=[1,t.go,t.go/2.54,t.go/25.4][s.eJ],$=i.s,V=i.M.clone();i.s*=z,i.M.x+=B*z-B,i.M.y+=X*z-X,a.VU.tyr(i,l["--text-color"],l["--bg-input"]),i.s=$,i.M=V,u.Yv&&(a.Mw(t.n.Tn.data,0,4278255615),a.Mw(t.n.gS.data,0,4278255615)),e.putImageData(t.n.Tn,0,0),e.putImageData(t.n.gS,0,0),e.fillStyle="#000000"}return n||r.Td||t.UL[0].length+t.UL[1].length>0},Ze.prototype.Y$=function(t,e,i,n,r){for(;n*t.n.s<4;)n*=2;var s=e.x,a=s+e.$,h=e.y,o=h+e.z;i.beginPath(),i.strokeStyle=r;for(var l=0;l<=t.$;l+=n){var u=Math.round(t.n.PM(l,0).x)+.5;i.moveTo(u,h),i.lineTo(u,o)}for(var f=0;f<=t.z;f+=n){var c=Math.round(t.n.PM(0,f).y)+.5;i.moveTo(s,c),i.lineTo(a,c)}i.closePath(),i.stroke()},Ze.VS=function(t){u.YB.call(this),this.tcp=t;var e="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform vec4 bgClr; \t\t\t"+(t?"uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+u._G.Pu+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord); "+(t?"\t\t\t\t\tbool inr = false; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tinr = inr || ( ar.z!=0.0 && in01(nsc/ar.zw) );\t\t\t\t\t}\t\t\t\t\tvec4 BG = inr ? vec4(1.0,1.0,1.0,1.0) : bgClr; \t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b != 0.0) outc = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\tgl_FragColor = simpleBlend((1.0-src.b)*src.rgga,outc); \t\t\t\t\t\t\t}";this.sA(e,"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}")},Ze.VS.prototype=new u.YB,Ze.VS.prototype.ON=function(t,e,i,n,r,s,a,h,o,l,f){this.SW("srct gsize source target imgSizeZoom cnvSize ars bgClr".split(" "));var c=u.Ia,p=this.Hr;c.uniform4fv(p.srct,i),c.uniform2fv(p.gsize,n),c.uniform3f(p.imgSizeZoom,r,s,a),c.uniform2f(p.cnvSize,h,o),c.uniform4fv(p.bgClr,f),this.tcp&&c.uniform4fv(p.ars,l),c.uniform1i(p.source,0),c.uniform1i(p.target,1),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,t),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,e),c.activeTexture(c.TEXTURE0)},ti.prototype=new ze(""),ti.prototype.oe=function(t){var e=new xt(bt.E.W,!0);e.data=t,e.c=j.mq,this.N(e)},ti.prototype.t$x=function(t){var e=this.$G.indexOf(t.currentTarget);1!=e&&-1==this.nz||(this.oe({X:["updLC","addLC","delLC"][e],U_:this.nz}),2==e&&(this.nz=-1))},ti.prototype.aK=function(t){if(null==t?bt.wj(this.hD,"disabled"):bt.cd(this.hD,"disabled"),this.Al=t,bt.hk(this.lT),null!=t){var e=t.qO.lastAppliedComp?t.qO.lastAppliedComp.v:0,i=t.qO.list.v.slice(0);i.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var n=0;n<i.length;n++){var r=i[n].v,s=new ei(r.Nm.v,r.compID.v,r.capturedInfo.v,e,this.nz);s.O("activate",this.AI,this),s.parent=this,this.lT.appendChild(s.J),this.tcn.push(s)}}},ti.prototype.AI=function(t){this.nz=t.currentTarget.U_,this.aK(this.Al)},ei.prototype=new St,ei.prototype.AI=function(t){if(t.target==this.TB||t.target==this.J)if(1==t.detail)this.N(new xt("activate",!1));else{var e=bt.B("input","");e.setAttribute("type","text"),e.setAttribute("size","10"),e.setAttribute("value",this.TB.textContent),this.J.removeChild(this.TB),this.J.appendChild(e),e.select(),e.focus(),e.addEventListener("keyup",this.A$.bind(this),!1)}},ei.prototype.t$E=function(t){var e=this.$G.indexOf(t.currentTarget);this.oe({X:"editLC",yN:e,U_:this.U_})},ei.prototype.A$=function(t){W.Kd(t.code,W._f)&&this.N(new xt("activate",!1)),W.Kd(t.code,W.BV)&&this.oe({X:"editLC",hE:t.target.value,U_:this.U_})},ei.prototype.ti=function(t){this.oe({X:"setLC",U_:this.U_})},ei.prototype.oe=function(t){var e=new xt(bt.E.W,!0);e.data=t,e.c=j.mq,this.N(e)},ii.prototype=new ze(""),ni.prototype=new St,ni.prototype.t$n=function(t,e){this.c=t,this.Xg=e,this.yw.innerHTML='<img src="'+PIMG[e]+'" class="toolicon gsicon" />'},ni.prototype.qB=function(t,e){},ni.prototype._R=function(t){},ni.prototype.w=function(){this.yw.innerHTML=bt.Ur(this.Xg,null,"toolicon"),this.eK()},ni.prototype.eK=function(){},ri.prototype=new ni,ri.prototype.AD=function(){var t=new xt(bt.E.Y,!0);t.data={X:bt.m.gI,gL:"redge"},this.N(t)},ri.prototype.eK=function(){for(var t in this.Dw)this.Dw[t].w()},ri.prototype._R=function(t){for(var e in t.SV){var i=t.SV[e];"qsmode"!=e&&(i*=100),this.Dw[e]&&this.Dw[e].Q(i)}},ri.prototype.qB=function(t,e){var i=this.Dw.brush;null!=i&&(e==Q.Tz&&i.aA(t.lL),e==Q.kT&&i.Q(t.lL.CU,t.lL.Fy,t.lL.nw))},ri.prototype.t$e=function(){var t=new xt(bt.E.Y,!0);t.data={X:bt.m.u_,gg:Q.kT,HF:this.Dw.brush.v()},this.N(t)},ri.prototype.Mc=function(){var t=new xt(bt.E.Y,!0);for(var e in t.data={X:bt.m.q$,c:this.c},this.Dw)"brush"!=e&&"redge"!=e&&(t.data[e]=this.Dw[e].v(),-1!=["opacity","flow","smth","strn","expo"].indexOf(e)&&(t.data[e]/=100),"bmode"==e&&(t.data[e]=it.Cj[t.data[e]]));this.N(t)},si.prototype=new ni,si.prototype._R=function(t){this.ne.Q(t.uy)},si.prototype.eK=function(){this.QM.w(),this.ne.w(),this.yI.w()},si.prototype.AD=function(){var t=new xt(bt.E.Y,!0);t.data={X:bt.m.gI,gL:"redge"},this.N(t)},si.prototype.cp=function(){var t=new xt(bt.E.Y,!0);this.data.c=this.c,this.data.uy=this.ne.v(),this.data.jQ=this.QM.v(),t.data=this.data,this.N(t)},ai.prototype=new ri,hi.prototype=new ri,oi.prototype=new ri,li.prototype=new ri,ui.prototype=new ri,fi.prototype=new ni,fi.prototype.eK=function(){this.tE.w();for(var t=0;t<this.ko.length;t++)this.ko[t].w();this.lQ.w()},fi.prototype._R=function(t){var e=this.tE.J;t.VJ?this.body.appendChild(e):this.body.contains(e)&&this.body.removeChild(e)},fi.prototype.ki=function(t){var e={X:bt.m.q$,c:this.c,Lc:this.tE.v()?"commit":"cancel"},i=new xt(bt.E.Y,!0);i.data=e,this.N(i)},fi.prototype.t$s=function(t){t.target.J.blur();var e={X:bt.m.q$,c:this.c,Lc:"cropby",ttM:this.ko.indexOf(t.target)},i=new xt(bt.E.Y,!0);i.data=e,this.N(i)},fi.prototype.tJw=function(t){var e={X:bt.m.q$,c:this.c,Lc:"config",vr:{CF:this.lQ.v()}},i=new xt(bt.E.Y,!0);i.data=e,this.N(i)},ci.prototype=new ri,pi.prototype=new ri,vi.prototype=new si,vi.prototype.Ac=function(t){this.data.lQ=this.lQ.v(),this.cp()},vi.prototype.eK=function(){si.prototype.eK.call(this),this.lQ.w()},di.prototype=new ni,di.prototype.Mc=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.q$,c:this.c,Cs:[1,3,5,11,31][this.SF.v()]},this.N(e)},di.prototype.eK=function(){this.SF.$v(n.get([12,20])+": ")},yi.prototype=new ni,yi.prototype.eK=function(){this.vH.w(),this.vL.w(),this.SX.w(),this.vG.w()},yi.prototype.qB=function(t,e){var i=e==Q.nc;this.NV.zE(t.AF,t.ze),(i||e==Q.wB)&&this.NV.aA(t.MS)},yi.prototype.lN=function(){var t=new xt(bt.E.Y,!0);t.data={X:bt.m.q$,c:this.c},t.data.gg={e:this.NV.v(),style:ot.e.types[this.vH.v()],reverse:this.vG.Tv(),Vg:it.Cj[this.vL.v()],opacity:this.SX.v()/100},this.N(t)},gi.prototype=new ni,mi.prototype=new ri,wi.prototype=new ni,wi.prototype.eK=function(){this.tE.w(),this.Ty.w(),this.wE.w()},wi.prototype.tJa=function(t){var e={X:bt.m.q$,c:this.c,Lc:"showwarp"},i=new xt(bt.E.Y,!0);i.data=e,this.N(i)},wi.prototype._R=function(t){"showactive"==t.Lc&&this.body.appendChild(this.tE.J),"hideactive"==t.Lc&&this.body.removeChild(this.tE.J)},wi.prototype.qB=function(t,e){e!=Q.hP&&e!=Q.vw&&e!=Q.IL&&e!=Q.tb||this.Ty.zc(t)},wi.prototype.ki=function(t){var e={X:bt.m.q$,c:this.c,Lc:this.tE.v()?"commit":"cancel"},i=new xt(bt.E.Y,!0);i.data=e,this.N(i)},bi.prototype=new si,xi.prototype=new ni,xi.prototype._R=function(t){var e=t.ex,i=t.ttv;if(this.nu.Q(e.EP),this.lR.Q(e.MT),this.lH.Q(e.Nf),i){bt.hk(this.body);for(var n=0;n<i.length;n++)1==i[n]&&this.mm[n]&&this.body.appendChild(this.mm[n])}},xi.prototype.Ah=function(t){var e,i=this.$G.indexOf(t.target);e=-1==i?{X:bt.m.q$,c:this.c,gE:t.target==this.vx?"getPNG":"getSVG",$r:this.mA.v()+1}:{X:bt.m.q$,c:this.c,gE:"algn",R:i};var n=new xt(bt.E.Y,!0);n.data=e,this.N(n)},xi.prototype.Mc=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.q$,c:this.c,gE:"prms",EP:this.nu.Tv(),MT:this.lR.Tv(),Nf:this.lH.Tv()},this.N(e)},xi.prototype.eK=function(){this.nu.w(),this.lR.w(),this.lH.w();for(var t="h0 h1 h2 hG v0 v1 v2 vG".split(" "),e=0;e<8;e++)this.$G[e].$v(bt.Ur("align/"+t[e],null,"autoscale"))},Mi.prototype=new si,Mi.prototype.tJE=function(t){this.data.$V=this.Wu.v(),this.cp()},Mi.prototype.eK=function(){si.prototype.eK.call(this),this.Wu.w()},Si.prototype=new ri,Ai.prototype=new ri,ki.prototype=new si,Ci.prototype=new si,Ti.prototype=new si,Ti.prototype.Ac=function(t){this.data.lQ=this.lQ.v(),this.cp()},Ti.prototype.eK=function(){si.prototype.eK.call(this),this.lQ.w()},Ui.prototype=new ni,Ui.prototype.tJi=function(t){if(0!=this.vM){var e=new xt(bt.E.W,!0);e.c=j._y,e.data={X:"rot",_F:[2,5],R:-this.vM},this.N(e)}},Ui.prototype._R=function(t){var e=t.tVP,i=t.tVG,n=i.x-e.x,r=i.y-e.y,s=this.Ph;this.vM=-Math.atan2(r,n),s[0].Q(e.x),s[1].Q(e.y),s[2].Q(n),s[3].Q(r),s[4].Q((180*this.vM/Math.PI).toFixed(2)),s[5].Q(Math.sqrt(n*n+r*r).toFixed(2))},Ui.prototype.eK=function(){for(var t=0;t<this.Ph.length;t++)this.Ph[t].w()},_i.prototype=new ri,Fi.prototype=new ri,Fi.prototype.tJO=function(t){this.m_.indexOf(t.currentTarget);var e=new xt(bt.E.W,!0);e.c=j.Fj,e.data={X:"heal2"},this.N(e)},Oi.prototype=new ri,Li.prototype=new ri,Di.prototype=new ni,Di.prototype.eK=function(){this.vX.w(),this.yD.w()},Di.prototype.ZX=function(t){this.Nx.PT(),this.va.vl(),t&&this.Mc()},Di.prototype.ZO=function(t){this.va.PT(),this.Nx.vl(),t&&this.Mc()},Di.prototype.Mc=function(){var t={X:bt.m.q$,c:this.c,FL:this.Nx.Tv()},e=new xt(bt.E.Y,!0);e.data=t,this.N(e)},Di.prototype._R=function(t){this.UK!=t.UK&&(this.Nx.Tv()?this.ZO():this.ZX()),this.UK=t.UK},Di.prototype.Zn=function(t){var e={X:bt.m.q$,c:this.c,action:t.target==this.vX?"pixel":"fitscr"},i=new xt(bt.E.Y,!0);i.data=e,this.N(i)},Ni.prototype=new ni,Ni.prototype.Zl=function(t){return null},Ni.prototype.Zf=function(){if(null!=this.Dw.pshape){var t=this.Zl(this.Dw.pshape.v());if(null!=t){bt.hk(this.body);for(var e=0;e<t.length;e++){var i=t[e];this.body.appendChild(this.Dw[i].J)}}}},Ni.prototype.eK=function(){for(var t in this.Dw)this.Dw[t].w()},Ni.prototype.Mc=function(t){var e=new xt(bt.E.Y,!0);if(t.target==this.Dw.fstyle)return e.data={X:bt.m.u_,gg:Q.IZ,R:this.Dw.fstyle.v()},void this.N(e);if(t.target==this.Dw.sstyle)return e.data={X:bt.m.u_,gg:Q.JL,R:this.Dw.sstyle.v()},void this.N(e);for(var i in this.Dw.tmode&&this.Dw.binop&&(0==this.Dw.tmode.v()?this.Dw.binop.qQ():this.Dw.binop.uI()),e.data={X:bt.m.q$,c:this.c},this.Dw)"sstyle"!=i&&(e.data[i]=this.Dw[i].v());this.N(e),t.target==this.Dw.pshape&&this.Zf()},Ni.prototype.qB=function(t,e){var i=this.Dw.fstyle,n=this.Dw.sstyle;i&&i.qB(t,e),n&&n.qB(t,e),e!=Q.hP&&e!=Q.Sl||0!=t.aI.length&&this.Dw.shape&&(this.Dw.shape.Q(t.aI[0]),this.Dw.shape.aA(t.aI)),e!=Q.hP&&e!=Q.IZ||i&&i.Q(null,t.gq,t.sR),e!=Q.hP&&e!=Q.JL||n&&n.Q(null,t.ga,t.st)},Ii.prototype=new Ni,Ei.prototype=new Ni,Pi.prototype=new Ni,Pi.prototype._R=function(t){if("main"==t.Lc){var e=this.yG,i=t.HQ;if(i&&1==i.g.length){this.sV=i.clone(),this.s$=JSON.stringify(t.FU);var n=i.g[0],r=a.A.qh(i.L);this.IV.qQ(),n>0?this.Qo.qQ():this.Qo.uI(),n<r-1?this.lM.qQ():this.lM.uI();var s=a.A.T_(i.L,n),h=i.L[s];this.IV.$v("Path "+(n+1)),this.IV.Q([3,0,1,2][h.AY])}else for(var o=0;o<e.length;o++)e[o].uI()}},Pi.prototype.eK=function(){Ni.prototype.eK.call(this),this.IV.w()},Pi.prototype.pw=function(t){if(t.target==this.IV||t.target==this.Qo||t.target==this.lM){var e={},i=this.sV,n=i.L,r=JSON.parse(this.s$),s=i.g[0],h=n[a.A.T_(n,s)];if(t.target==this.IV)h.AY=[1,2,3,0][this.IV.v()];else{var o=t.target==this.Qo?-1:1,l=Math.min(s,s+o),u=Math.max(s,s+o),f=a.A.T_(n,l),c=a.A.T_(n,u);if(-1==f||-1==c)return;var p=c+a.A.Tu(n,u),v=r[l];r[l]=r[u],r[u]=v;var d=n.slice(0,f),y=n.slice(f,c),g=n.slice(c,p),m=n.slice(p);i.L=d.concat(g.concat(y.concat(m))),i.g[0]+=o}e.HQ=i,e.FU=r;var w=new xt(bt.E.Y,!0);w.data={X:bt.m.q$,c:this.c,oN:e},this.N(w)}},Ji.prototype=new Ni,Bi.prototype=new Ni,Xi.prototype=new Ni,zi.prototype=new Ni,zi.prototype.Zl=function(t){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.tLH[t])},$i.prototype=new Ni,Vi.prototype=new Ni,Ri.prototype=new ri,qi.prototype=new ni,qi.prototype._R=function(t){if(bt.hk(this.body),this.Vf=t,t.oO){var e=t.oO.lU,i=t.oO.Iw.clone(),n=Math.atan2(-i.H,i.o),r=new c;r.rotate(-n),i.concat(r);var s=this.oO;s.ap.Q(t.oO.dh.x),s.al.Q(t.oO.dh.y),s.fQ.Q(i.o*("%"==s.fQ.xx()?100:e.$)),s.ET.Q(i.KI*("%"==s.ET.xx()?100:e.z)),s.tLE.Q(180*-n/Math.PI),s.tLh.Q(0/Math.PI),s.tLW.Q(180*Math.atan(i.lA)/Math.PI),this.body.appendChild(this.sJ),this.wE.vl()}t.dE&&(this.Wu.Q(t.dE),this.body.appendChild(this.sr),this.wE.PT()),this.body.appendChild(this.hu.J),this.body.appendChild(this.tE.J),t.tVX&&this.body.appendChild(this.wE.J)},qi.prototype.AQ=function(t){var e=this.oO,i=this.Vf.oO.lU;if(t.target==e.gO&&e.gO.Q(!e.gO.v()),e.gO.Tv()){var n=e.ET,r=e.fQ,s=i.z,a=i.$;t.target==e.fQ&&(n=e.fQ,r=e.ET,s=i.$,a=i.z);var h=n.v()/("%"==n.xx()?100:s);h*="%"==r.xx()?100:a,r.Q(h)}var o=[];for(var l in e)if(e[l]!=e.gO){h=e[l].v();e[l]==e.fQ&&"px"==e[l].xx()&&(h/=i.$/100),e[l]==e.ET&&"px"==e[l].xx()&&(h/=i.z/100),o.push(h)}var u=new f(o[0],o[1]);if(t.target==e.ap||t.target==e.al)this.LT({Lc:"cen",dh:u});else{var p=this.Vf.oO.Iw.clone(),v=p.clone(),d=Math.atan2(-p.H,p.o);v.translate(-u.x,-u.y),v.rotate(-d);var y=new c(v.o,v.H,v.lA,v.KI,0,0);y.UK(),v.concat(y),v.concat(new c(o[2]/100,Math.tan(o[5]*Math.PI/180),Math.tan(o[6]*Math.PI/180),o[3]/100,0,0)),v.rotate(-o[4]*Math.PI/180),v.translate(u.x,u.y),this.Vf.oO.Iw=v,this.LT({Lc:"trn",oO:v,Et:this.hu.v()})}},qi.prototype.trT=function(t){this.LT({Lc:"wrp",dE:this.Wu.v()})},qi.prototype.trv=function(t){this.LT({Lc:"switchWarp"})},qi.prototype.ki=function(t){this.LT({Lc:this.tE.v()?"commit":"cancel"})},qi.prototype.LT=function(t){t.X=bt.m.q$,t.c=this.c;var e=new xt(bt.E.Y,!0);e.data=t,this.N(e)},qi.prototype.eK=function(){for(var t in this.oO)this.oO[t].w();this.tE.w(),this.Wu.w()},Hi.prototype=new qi,ji.prototype=new qi,Gi.prototype=new St,Gi.prototype.tcC=function(){this.J.appendChild(this.lp)},Gi.prototype.tLi=function(){this.J.removeChild(this.lp)},Gi.prototype.Tc=function(t,e){this.JX=t,this.ht=e,this.lp.setAttribute("style","left:"+(t-600)/2+"px; top:"+(e-300)/2+"px;")},St.prototype.yB=function(){var t=this.J;return t.offsetHeight+t.clientTop},Gi.prototype.trh=function(t){var e=bt.B("div","alertpanel");e.textContent="string"==typeof t?t:n.get(t),this.yM.appendChild(e),this.yx[JSON.stringify(t)]=e},Gi.prototype.tro=function(t){var e=this.yx[JSON.stringify(t)];this.yM.removeChild(e),delete this.yx[JSON.stringify(t)]},Gi.prototype.alert=function(t,e){var i=this.sH,n=bt.B("div","alertpanel tpanel");n.textContent=t,i.appendChild(n),null==e&&(e=1500);var r=e,s=Math.max(Date.now()+r,this.sw+r);setTimeout((function(){n.setAttribute("style","transform:scale(1); opacity:1;")}),10),setTimeout((function(){i.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")}),s-Date.now()-30),setTimeout((function(){i.removeChild(i.firstChild),i.setAttribute("style","transition: transform 0.7s;  margin-top: 0em;  transform: translateY(0em);")}),s-Date.now()),this.sw=s},Gi.prototype.tHJ=function(t){for(var e=this.NM,i=e.length-1;i>=0;i--)for(var n=e[i],r=t.target;null!=r;){if(r==n.J)return void this.DA(n);r=r.parentNode}this.DA()},Gi.prototype.DA=function(t){for(var e=this.NM,i=0;i<e.length;i++)if(!t||!t.txL(e[i])){var n=e[i].J;n.style.height="auto",bt.cd(n,"scrollable"),this.J.removeChild(n),e.splice(i,1),i--}},Gi.prototype.tHw=function(t){this.DA(t.AB);var e=t.AB,i=e.J;if(-1==this.NM.indexOf(e)){this.NM.push(e),this.J.appendChild(e.J);var n=this.JX,r=this.ht,s=t.x,a=t.y,h=this.J.getBoundingClientRect(),o=e instanceof At;if(o||t.tHS){var l=e.Bb(),u=e.yB();o&&(l=Math.min(l,200)),a+u<r?s=Math.min(s,n-l-5):s+l<n?a=Math.min(a,r-u-5):u<a?(a=a-u-2,s=Math.min(s,n-l-5)):(s-=l,a=Math.min(a,r-u-5)),t.tcc&&(a=Math.max(2,t.y-u-2))}a=Math.max(2,a);var f=Math.round(a-h.y+this.J.offsetTop);i.style.position="absolute",i.style["z-index"]=10,i.style.left=Math.round(s)+"px",i.style.top=f+"px",e.yB()>r-5&&(i.style.height=r-5+"px",bt.wj(i,"scrollable"))}},Gi.prototype.Zb=function(t){var e=t.AB,i=this.NM.indexOf(e);if(-1!=i){this.NM.splice(i,1);e.J;this.J.removeChild(e.J)}},Gi.prototype.i_=function(){var t=this.NM;return 0==t.length?null:t[t.length-1]},Gi.prototype.tHc=function(){this.Zb({AB:this.i_()})},Yi.prototype=new St,Yi.prototype.tHL=function(t){t.parent=this,bt.hk(this.J),this.J.appendChild(t.J)},Ki.prototype=new St,Ki.prototype.UV=function(t){null==t&&(t=[23,5]);var e=JSON.stringify(t),i=this.sy;if(null==i[e]&&(i[e]=0),0==i[e]){var n=new xt(bt.E.Y,!0);n.data={X:bt.m.bQ,iK:t},this.N(n)}i[e]++},Ki.prototype.Zz=function(t){null==t&&(t=[23,5]);var e=JSON.stringify(t),i=this.sy;if(null==i[e]&&(i[e]=0),i[e]--,0==i[e]){var n=new xt(bt.E.Y,!0);n.data={X:bt.m.bl,iK:t},this.N(n)}},Ki.prototype.tHi=function(t,e){var i=this.Np;e?i.setAttribute("accept",e):i.removeAttribute("accept");var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(n),null!=t&&(this.ya=t)},Ki.prototype.VD=function(t){this.sI.push(t),this.Zm()},Ki.prototype.Zm=function(){var t=this.sI;if(0!=t.length&&!this.yg){this.yg=!0;var e=t.shift();this.UV(),null==e.fa&&(e.fa={});var i=new XMLHttpRequest;i.vQ=e;var n=e.url;e.Go&&(n="mirror.php?url="+encodeURIComponent(n)),i.open("GET",n),i.responseType="arraybuffer",i.onload=this.Ay.bind(this),i.send()}},Ki.prototype.U$=function(t,e,i,n){for(var r=0;r<t.length;r++){this.UV();var s=t[r],a=new FileReader;a.vQ=s,a.vQ.sN=i,a.vQ.vB=n,a.tLQ=e,a.onload=this.Ay.bind(this),a.readAsArrayBuffer(s)}this.Np.value=null},Ki.prototype.tHO=function(t){var e=t.tW.ID,i=s.YL(t,e);r.KV((function(){var e=new XMLHttpRequest,n="https://www.googleapis.com/upload/drive/v3/files/"+t.tW.file.id+"?uploadType=media&"+r.hz();e.open("PATCH",n,!0),e.addEventListener("load",(function(t){var e=JSON.parse(t.target.response);alert(e.name+" updated")})),e.send(i),alert('Saving "'+t.tW.file.name+'" to Google Drive ...')}))},Ki.prototype.tHm=function(t,e){t.cn();var i=e[0],n=Ki.AR(t,i);window.parent!=window&&window.parent.postMessage(n,"*")},Ki.prototype.tH_=function(t){this.UV("Saving ..."),setTimeout(Ki.twR.bind({tx:t,caller:this}),50)},Ki.AR=function(t,e){var i=e.split(":"),n=i[0],r=null;return 2==i.length&&("jpg"!=n&&"webp"!=n||(r=[Math.round(100*parseFloat(i[1]))]),"psd"==n&&(r=[!0,!0])),s.YL(t,n.toUpperCase(),null,null,r)},Ki.twR=function(){var t=this.tx,e=this.caller,i=t.fa.lj,n=new Qi,r=0,s="",a=encodeURIComponent;s="p="+a('{ "source": '+JSON.stringify(t.JO)+', "versions": ['),O.np(n,r,s),r+=s.length;Date.now(),t.cn();for(var h=i.formats,o=0;o<h.length;o++){var l=Ki.AR(t,h[o]);s=a(' {"format": "'+h[o].split(":")[0]+'", "data": "'),O.np(n,r,s),r+=s.length;var u=new Uint8Array(Ki.twk(l)),f=u.length;n.VX(r,f);for(var c=0;c<f;c++){n.VX(r,3);var p=u[c];43==p?(n.data[r]=37,n.data[r+1]=50,n.data[r+2]=66,r+=3):47==p?(n.data[r]=37,n.data[r+1]=50,n.data[r+2]=70,r+=3):61==p?(n.data[r]=37,n.data[r+1]=51,n.data[r+2]=68,r+=3):(n.data[r]=p,r++)}s=a('" }'+(o+1<h.length?", ":"")),O.np(n,r,s),r+=s.length}s=a("] }"),O.np(n,r,s),r+=s.length;var v=new XMLHttpRequest;v.open("POST",i.url,!0),v.setRequestHeader("Content-type","application/x-www-form-urlencoded"),v.addEventListener("load",Ki.twU.bind(e)),v.send(n.data.buffer.slice(0,r))},Ki.twU=function(t){this.Zz("Saving ..."),alert("Saved. Response: "+t.target.response,1500)},Ki.At=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(t),n=i.length,r=n%3,s=n-r,a=[],h=0,o=0,l=0,u=0;u<s;u+=3)h=i[u],o=i[u+1],l=i[u+2],a.push(e[h>>2]+e[(3&h)<<4|o>>4]+e[(15&o)<<2|l>>6]+e[63&l]);return 1==r&&(h=i[s],a.push(e[h>>2]+e[(3&h)<<4]+"==")),2==r&&(h=i[s],o=i[s+1],a.push(e[h>>2]+e[(3&h)<<4|o>>4]+e[(15&o)<<2]+"=")),a.join("")},Ki.twk=function(t){for(var e=new Uint8Array(64),i=0,n=0,r=0,s=0,a=0;a<64;a++)e[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a);var h=new Uint8Array(t),o=h.length,l=o%3,u=o-l,f=[];for(f=new Uint8Array(4*Math.floor(o/3)+(0==l?0:4)),a=0;a<u;a+=3)i=h[a],n=h[a+1],r=h[a+2],f[s]=e[i>>2],f[s+1]=e[(3&i)<<4|n>>4],f[s+2]=e[(15&n)<<2|r>>6],f[s+3]=e[63&r],s+=4;return 1==l&&(i=h[u],f[s]=e[i>>2],f[s+1]=e[(3&i)<<4],f[s+2]=61,f[s+3]=61),2==l&&(i=h[u],n=h[u+1],f[s]=e[i>>2],f[s+1]=e[(3&i)<<4|n>>4],f[s+2]=e[(15&n)<<2],f[s+3]=61),f.buffer},Ki.prototype.Ay=function(t){var e,i=t.target.vQ;e=t.target instanceof XMLHttpRequest?t.target.response:t.target.result,Ki.Uy(i,e,this,t.target.tLQ),this.Zz(),t.target instanceof XMLHttpRequest&&(this.yg=!1,this.Zm())},Ki.Uy=function(t,e,i,n){var r;r=t.name?t.name.split(".")[0]:(r="data:"==t.url.substring(0,5)||-1!=t.url.indexOf("googleapis")?"image":t.url.substring(t.url.lastIndexOf("/")+1).split(".")[0]).slice(0,50);var a=new Uint8Array(e),h=s.Uw(e);if(null==h&&(h=O.sx(a,0,4)),"json"==h){for(var o="",l=0;l<a.length;l++)o+=String.fromCharCode(a[l]);return o=decodeURIComponent(escape(o)),alert("Unknown JSON file opened. See the content in the console.",5e3),void console.log(JSON.parse(o))}if("html"!=h)if(s.aD(h)){var u,f=s.aD(h);if(null!=t.sN&&-1!="jpg png gif pdf svg psd".split(" ").indexOf(h))return(g=new xt(bt.E.Y,!0)).data={X:bt.m.Bn,target:t.sN,oM:t.vB,Ti:e,Es:r},void i.N(g);if(f.Ht)u=new at(r+("psd"==h?"":"-"+h)+".psd"),f.cA(e,u);else{var c=f.cA(e);if(c[0].t33421)return(g=new xt(bt.E.Y,!0)).data={X:bt.m.bW,er:c[0]},void i.N(g);u=Ki.Uc(r,c)}u.fa=t.fa,u.JO=t.url,u.mT=t.mT,u.tW=t.tW,u.tW&&(u.tW.ID=h),n?n(u.b[0].buffer,u.b[0].rect):((g=new xt(bt.E.Y,!0)).data={X:null==t.sN?bt.m.pL:bt.m.Bn,target:t.sN,oM:t.vB,Ti:u},i.N(g))}else{if((g=new xt(bt.E.Y,!0)).data={X:bt.m.u_,fa:"add",gg:null,Tb:null},"asl"==h){var p=S.Fp(e);g.data.gg=Q.Sd,g.data.Tb=p.Gd,i.N(g),g.data.gg=Q.fd,g.data.Tb=p.tP,i.N(g)}else if("otf"==h){p=Typr.parse(e);g.data.gg=Q.IL;for(l=0;l<p.length;l++)g.data.Tb=p[l],i.N(g)}else{var v="";for(var d in Q.qC)Q.qC[d][0]==h&&(v=d);""!=v?(g.data.Tb=Q.qC[v][2].Fp(e),g.data.gg=v,i.N(g)):alert("Unknown file format: "+JSON.stringify(h))}}else{o=$.hI(a,0,a.length);for(var y=(new DOMParser).parseFromString(o,"text/html").getElementsByTagName("meta"),l=0;l<y.length;l++){var g,m=y[l],w=m.getAttribute("property"),b=m.getAttribute("content"),x=null;if("og:image"==w&&(x=b),null==w&&b&&b.startsWith("0;url=/imgres?"))for(var M=b.slice(14).split("&"),A=0;A<M.length;A++)M[A].startsWith("imgurl")&&(x=decodeURIComponent(M[A].slice(7)));if(null!=x)(g=new xt(bt.E.Y,!0)).data={X:bt.m.UF,gg:{url:x,Go:!0,sN:t.sN}},i.N(g)}}},Ki.prototype.twe=function(t){var e=new XMLHttpRequest;e.open("POST","https://api.imgur.com/3/image",!0),e.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.addEventListener("load",this.tIH),e.send("type=base64&image="+encodeURIComponent(Ki.At(t))),alert("Saving to Imgur ...",4e3)},Ki.prototype.tIH=function(t){var e=JSON.parse(t.target.response);e.success&&window.open(e.data.link,"Imgur")},Ki.Uc=function(t,e){var i,n=e[0].pA&&e[0].pA.startsWith("_a_"),r=new at(t+".psd"),s=new L(0,0,1,1);n&&((i=r.Zs()).add.lsct=rt.Gp,i.Vp(t),i.kE="pass",i._c=24,i.cE(!0),r.b.push(r.sd()));for(var h=0;h<e.length;h++){var o=e[h];s=s.Fv(o.MD);var l=r.Zs();l.cE(0==h),l.Vp("Layer "+h),o.go&&(r.go=o.go),o.pA&&l.Vp(o.pA),l.rect=o.MD.clone(),l.buffer=new Uint8Array(o.data),a.bt(l),r.b.push(l)}return n&&r.b.push(i),r.g=[n?r.b.length-1:0],r.$=s.$,r.z=s.z,r.buffer=a.I(4*s.f()),r.r(),r},Ki.save=function(t,e){var i=new Uint8Array(t),n=document.createElement("a");if("string"==typeof n.download){var r=new Blob([i]),s=window.URL.createObjectURL(r);n.href=s,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}else{var a="data:application/octet-stream;base64,"+Ki.At(t);window.open(a)}},Qi.prototype.VX=function(t,e){if(!(t+e<=this.size)){for(var i=this.size;t+e>this.size;)this.size*=2;for(var n=a.I(this.size),r=0;r<i;r++)n[r]=this.data[r];this.data=n}},Wi.prototype=new St,Wi.prototype.Uv=function(){return null},Wi.prototype.AL=function(){this.Uv()&&(this.fw=this.Uv(),this.lT.appendChild(this.fw))},Wi.prototype.tIL=function(){this.fw&&(this.lT.removeChild(this.fw),this.fw=null)},Wi.prototype.Uh=function(){for(var t=0;t<this.UT.length;t++)this.UT[t].vu.vl()},Wi.prototype.DQ=function(){for(var t=new f(0,0),e=0;e<this.UT.length;e++){var i=this.UT[e].DQ();t.x=Math.max(t.x,i.x),t.y=Math.max(t.y,i.y)}return t},Wi.prototype.Un=function(){return this.Os},Wi.prototype.tIP=function(){return this.sC},Wi.prototype.LX=function(){this.yS=!0,this.J.removeChild(this.vK),this.J.appendChild(this.Qb)},Wi.prototype.collapse=function(){this.yS=!1,this.J.appendChild(this.vK),this.J.removeChild(this.Qb)},Wi.prototype.tId=function(){return 26+this.lT.getBoundingClientRect().height},Wi.prototype.Tc=function(t,e){this.NB.setAttribute("style","max-width: "+t+"px");this.NB.getBoundingClientRect().height;-1!=this.Os&&this.UT[this.Os].Tc(t,e-26)},Wi.prototype.qB=function(t,e){this.UT[this.Os].qB(t,e)},Wi.prototype.aK=function(t){this.UT[this.Os].aK(t)},Wi.prototype.LQ=function(t){this.tIL(),-1==this.UT.indexOf(t)?(t.parent=this,this.UT.push(t),this.NB.appendChild(t.cN),t.cN.addEventListener("mouseover",this.tLB,!1),this.vK.appendChild(t.vu.J),t.vu.O("click",this.AP,this),t.O("select",this.AC,this),t.O(bt.E.pH,this.AT,this),this._v(this.UT.length-1)):this._v(this.UT.indexOf(t))},Wi.prototype.tIG=function(t){if(0!=t.buttons){for(var e=t.currentTarget,i=e,n=0;null!=(i=i.previousSibling);)n++;this.sL=n,e.addEventListener("mouseout",this.sD,!1),this.lF=setTimeout(this.tLU,700)}},Wi.prototype.tIx=function(t){for(var e=t.currentTarget,i=e;null!=(i=i.previousSibling);)0;e.removeEventListener("mouseout",this.sD),clearTimeout(this.lF)},Wi.prototype.tIM=function(t){this.N(new xt(bt.E.ba,!1))},Wi.prototype.tIg=function(t){return this.sL},Wi.prototype.Ds=function(t){this.sC=t,this.N(new xt(bt.E.pH,!1));var e=this.UT[t];this.UT.splice(t,1),this.NB.removeChild(e.cN),this.vK.removeChild(e.vu.J),e.cN.setAttribute("class",""),e.vu.removeEventListener("click",this.AP,this),e.vu.vl(),e.removeEventListener("activate",this.AC),e.removeEventListener(bt.E.pH,this.AT);var i=this.Os;(t<i||t==i&&t==this.UT.length)&&i--,this._v(i),0==this.UT.length&&this.AL()},Wi.prototype._v=function(t,e){null==e&&(e=!0);for(var i=0;i<this.UT.length;i++)this.UT[i].cN.setAttribute("class","");if(this.vZ&&this.lT.removeChild(this.vZ),this.vZ=null,this.Os=t,-1!=t){var n=this.UT[this.Os];this.vZ=n.hD,this.lT.appendChild(n.hD),n.cN.setAttribute("class","active"),n.ZU(),this.yS||(this.N(new xt("showFloat")),this.UT[t].vu.PT()),e&&this.N(new xt(bt.E.p,!1))}},Wi.prototype.AC=function(t){if(!this.vj||this.vj.UJ()){var e=this.UT.indexOf(t.currentTarget);this._v(e)}},Wi.prototype.AT=function(t){if(!this.vj||this.vj.UJ()){var e=this.UT.indexOf(t.currentTarget);this.Ds(e)}},Wi.prototype.AP=function(t){var e=this.UT.indexOf(t.currentTarget.parent);this.UT[e].vu.Tv()?this.N(new xt("hideFloat")):this._v(e)},Wi.prototype.tCP=function(t){this.N(t)},Zi.prototype=new Wi,Zi.prototype.Ad=function(t){var e,i=t.currentTarget;if(null!=i.yE){var r=n.Dm(i.yE);e=-1!=r?{X:bt.m.u_,gg:Q.fy,lang:r}:{X:bt.m.yQ,link:"https://www.photopea.com/translate?lang="+i.yE}}else e={X:bt.m.u_,gg:Q.Vz,gp:i.tCR};var s=new xt(bt.E.Y,!0);s.data=e,this.N(s)},Zi.prototype.yp=function(t,e){if(t="cursor:"+t+";",e)this.qo.push(t);else{var i=this.qo.length-1;if(this.qo[i]==t)return;this.qo[i]=t}this.lT.setAttribute("style",this.qo[this.qo.length-1]+" "+this.yX)},Zi.prototype.tIW=function(){this.qo.pop(),this.lT.setAttribute("style",this.qo[this.qo.length-1]+" "+this.yX)},Zi.prototype.tIZ=function(t){var e=this.$G.indexOf(t.target),i=new xt(bt.E.Y,!0);0==e&&(i.data={X:bt.m.gI,gL:"newproject"}),1==e&&(i.data={X:bt.m.pD}),e>1&&(i.data={X:bt.m.UF,gg:{url:["images/pea.psd","images/milk.sketch"][e-2]}}),this.N(i)},Zi.prototype.w=function(){for(var t=0;t<this.$G.length;t++)this.$G[t].w()},Zi.prototype.Uv=function(){return this.ve},Zi.ua=function(t){t.stopPropagation(),t.preventDefault()},Zi.prototype.tIm=function(t){Zi.ua(t);var e=t.currentTarget,i=this.Nk.indexOf(e);this.fh[i]++,bt.wj(e,"highlight")},Zi.prototype.tIu=function(t){Zi.ua(t);var e=t.currentTarget,i=this.Nk.indexOf(e);this.fh[i]--,0==this.fh[i]&&bt.cd(e,"highlight")},Zi.prototype.Tc=function(t,e){e--,Wi.prototype.Tc.call(this,t,e),this.yX="height:"+(e-(0==this.UT.length?3:25))+"px; width:"+t+"px; overflow:hidden;",this.lT.setAttribute("style",this.qo[this.qo.length-1]+" "+this.yX);var i=512,n=410,r=1,s="";(t<i||e<n)&&(r=t/i<e/n?t/i:e/n),s+="background-image:url("+PIMG.intro+"); background-size: "+i+"px "+n+"px;",s+="position:relative; top:"+Math.round((e-n)/2)+"px;  left: "+Math.round((t-i)/2)+"px; width:"+i+"px; height:"+n+"px;",1!=r&&(s+="transform: scale("+r+","+r+");"),this.ve&&this.ve.setAttribute("style",s)},Zi.prototype.Ue=function(t){-1==this.Nk.indexOf(t)&&(this.Nk.push(t),this.fh.push(0),t.addEventListener("dragenter",this.tLe,!1),t.addEventListener("dragleave",this.sP,!1),t.addEventListener("dragover",Zi.ua,!1),t.addEventListener("drop",this.VV,!1))},Zi.prototype.LO=function(t){this.sP(t);var e=null,i=t.currentTarget;if(i==this.lT&&-1!=this.Os)e=this.Os;else if(i==this.NB)e=null;else for(var n=0;n<this.UT.length;n++)this.UT[n].cN==i&&(e=n);if(""==t.dataTransfer.getData("Text"))bt.bg(t,this,e);else if(null!=e){var r=new xt(bt.E.Y,!0);r.data={X:bt.m.bK,tCV:e},this.N(r)}},Zi.prototype.LQ=function(t){Wi.prototype.LQ.call(this,t),this.Ue(t.cN),bt.nL(t.cN,this.tyR.bind(this))},Zi.prototype.Ds=function(t){var e=this.UT[t],i=this.Nk.indexOf(e.cN);this.Nk.splice(i,1),this.fh.splice(i,1),Wi.prototype.Ds.call(this,t)},Zi.prototype.tyR=function(t){var e=this.sT;if(this.sT=Date.now(),!(Date.now()-e>300)){var i=this.Nk.indexOf(t.currentTarget)-2,n=this.UT[i].Ti.name,r=new xt(bt.E.Y,!0);r.data={X:bt.m.gI,gL:"namewindow",uY:n.slice(0,n.length-4),c:j.uh,gE:nt.ro},this.N(r)}},tn.prototype=new St,tn.prototype.ct=function(){window.parent!=window&&window.parent.postMessage("done","*")},tn.prototype.ky=function(){return bt.ZN[bt.ci("vrt",2)]!=bt.ZN[bt.ci("xksn",5)]},tn.prototype.tyJ=function(){var t=i.jf();if(null!=t&&null!=t.globals&&this.AS(t.globals),this.ky()&&this.TX.jr){var e=bt.ci("SIIFs",-5)+bt.ci("qnQerwhwy",-3),n=bt.hd(bt.ZN[e]);n[bt.ci(bt.N_(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3)](bt.FM("vxik",-10),this.tyy.bind(this)),n[bt.ci("|~t~",13)](bt.ci("ML\\",6),bt.FM("o_me*^hej$_gb`",1)),n[bt.ci("wjtk",4)]()}else this.AE(),this.kD();this.trs=!0,this.ct();new xt(bt.E.Y)},tn.prototype.tyy=function(t){var e=JSON.parse(t.target[bt.FM("|n{wuswh",-10)]),i=bt.ZN[bt.FM("YcVg^U]b",11)][bt.FM("oaa_kj\\h",3)],n=bt.ZN[bt.ci("Lj~p",8)][bt.FM("ddk",10)]()/1e3,r=!1;for(var s in e)-1!=s.indexOf(".")&&-1!=i.indexOf(s)&&parseInt(e[s])>n&&(r=!0);r&&(this.TX.jr=!1),this.AE(),this.kD()},tn.prototype.kD=function(t){this.vA=!0,this.TX.ve?this.qy.AL():this.qy.ve=null,this.AX(Q.hP),this.w(),this._Z(),this.rV.aK(this.Ns(),this.tl,this.TX)},tn.prototype.AS=function(t){var e=this.TX;if(null!=t.fcolor&&(e.AF=t.fcolor),null!=t.bcolor&&(e.ze=t.bcolor),null!=t.rulers&&(e.Td=t.rulers),null!=t.extras&&(e.kk=t.extras),null!=t.favFam&&(e.xq=t.favFam),t.eparams){var i=t.eparams,r=e.sS;null!=i.guides&&(r.UL=i.guides),null!=i.grid&&(r.TN=i.grid),null!=i.gsize&&(r.Xa=i.gsize),null!=i.runits&&(r.eJ=i.runits),null!=i.paths&&(r.XB=i.paths),null!=i.pgrid&&(r.Qx=i.pgrid)}if(null!=t.lang&&n.tGY(t.lang),null!=t.theme&&(e.gp=t.theme),t.topt||e.yu){var s=t.topt?t.topt:{},a=e.yu?e.yu:{};for(var h in this.Uj.map)if(!(h>=100)){var o="t"+h;this.Uj.map[h].c.E_(s[o],a[o],this)}}},tn.prototype.AE=function(){if(!this.TX.tRm){this.TX.tRm=!0;var t=null,e=window.location.href,i=e.indexOf("="),s=e.indexOf("#");if(-1!=i&&(t=e.substring(e.indexOf("?")+1,i)),-1!=s&&(t="p",i=s),"p"==t||"state"==t){var a=e.substring(i+1,e.length);if(a=JSON.parse(decodeURI(a)),"p"==t){if(a.server&&(this.yO=a.server),a.resources)for(var h=0;h<a.resources.length;h++)this.vY.VD({url:a.resources[h]});if(a.files)for(h=0;h<a.files.length;h++)this.vY.VD({url:a.files[h],fa:{lj:a.server,tIX:a.script}});null==a.environment&&(a.environment={});var o=a.environment;if(null!=o.plugins&&this.rV.tco(o.plugins),null!=o.localsave&&(this.TX.fe=o.localsave),null!=o.vmode){var l=o.vmode;1==l&&(this.TX.compact=!0),2==l&&this.Uf()}if(null!=o.intro&&(this.TX.ve=o.intro),null!=o.menus&&(this.TX.tCE=o.menus),null!=o.tmnu&&(this.TX.yu=o.tmnu),null!=o.showpanels&&(this.TX.tCp=o.showpanels),null!=o.showtools&&(this.TX.tcM=o.showtools),null!=o.phrases&&n.tJv(o.phrases),null!=o.autosave&&window.setInterval(function(){var t=new xt(bt.E.Y);t.data={X:bt.m.G_},this.N(t)}.bind(this),1e3*o.autosave),null!=o.icons)for(var u in o.icons)PIMG[u]=o.icons[u],PIMG["__"+u]=!0;this.AS(o)}else if("state"==t){var f=this.vY;if("create"==a.action){var c=new xt(bt.E.Y);c.data={X:bt.m.gI,gL:"newproject",WE:a.folderId},this.N(c)}if("open"==a.action){for(h=0;h<a.ids.length;h++)r.KV(function(){var t="https://www.googleapis.com/drive/v3/files/"+this.tCX+"?"+r.hz(),e=new XMLHttpRequest;e.open("GET",t),e.send(),e.onload=function(e){var i=JSON.parse(e.target.response);f.VD({url:t+"&alt=media",name:i.name,tW:{file:i,ID:""}})}}.bind({tCX:a.ids[h]}));alert("Loading files from Google Drive ...")}}}}},tn.prototype.w=function(){for(var t in this.nB.w(),this.rV.w(),this.My.w(),this.tF.w(),this.qy.w(),this.Uj.map)this.Uj.map[t].wR&&this.Uj.map[t].wR.w()},tn.prototype.AW=function(){return-1!=bt.ZN[bt.ci("ptih|ryy",4)][bt.ci("q|pr",9)].indexOf("full")},tn.prototype.Tc=function(t,e){t=Math.floor(t),e=Math.floor(e);var n=document.getElementsByClassName("topfloat")[0],r=!this.vA||this.AW()||!this.TX.jr||null!=i.PS()&&1e3*i.PS().premium>Date.now()||t<500;if(r?window.hideCap&&this.vA&&window.hideCap():t-=135,t<900||!this.TX.jr||!this.vA?n.style.display="none":n.style.display="",r&&this.vk&&(this.J.removeChild(this.Lh),this.Lh.innerHTML="",this.vk=!1,n.style.right=0),!r&&!this.vk){var s=!1,a=bt.B("div");a.setAttribute("id","adsense"),a.setAttribute("style","width:500px; height:500px;"),document.body.appendChild(a),null==(a=document.getElementById("adsense"))?s=!0:(document.body.contains(a)?500!=a.getBoundingClientRect().width&&(s=!0):s=!0,document.body.removeChild(a)),console.log(s),this.Aq(s);var h=this.ky()&&Math.random()<.5;h?(this.J.appendChild(this.Lh),this.J.appendChild(this.fq)):(this.J.appendChild(this.fq),this.J.appendChild(this.Lh)),n.style.right=h?"0px":"135px",this.Lh.setAttribute("style","padding-top:2px;  overflow:hidden;"),this.Lh.style.paddingLeft=h?"0px":"15px",this.Lh.style.paddingRight=h?"15px":"0px",this.vk=!0}var o=e-(this.nB.yB()+1)-Math.max(this.lJ.yB()-1,0);this.Lh.style.height=e-3+"px",this.My.Tc(t,o),this.rV.Tc(t,o),this.qy.Tc(t-this.My.Bb()-this.rV.Bb(),o),this.pt.Tc(t,e),this.tF.Tc(t,e)},tn.prototype.Aq=function(t){var e=function(){var t=new xt(bt.E.Y);t.data={X:bt.m.gI,gL:"account"},this.N(t)}.bind(this);if(bt.hk(this.Lh),!t&&!this.ky()&&Math.random()<1.9){var i=bt.B("div");i.setAttribute("id","div-gpt-ad-1525797053614-0"),i.setAttribute("style","height:600px; width:120px;"),this.Lh.appendChild(i);var n=document.createElement("script");n.textContent="googletag.cmd.push(function() { googletag.display('div-gpt-ad-1525797053614-0'); });",i.appendChild(n);var r=bt.B("div");r.setAttribute("style","margin-top:7px"),r.textContent="Sponsor links open in a new window.",this.Lh.appendChild(r),this.tDd=setTimeout(this.tya.bind(this),8e3)}else{var s=bt.B("img");s.setAttribute("src","img/pp_tall.png"),s.setAttribute("style","cursor:pointer;"),s.addEventListener("click",e,!1),this.Lh.appendChild(s)}},tn.prototype.tya=function(){this.Aq(!1)},tn.prototype.tyW=function(t){for(var e=0;e<this.tl.length;e++)if(this.tl[e].KF())return"There is unsaved work in "+this.tl[e].name},tn.prototype._Z=function(t){var e=window.innerWidth,i=window.innerHeight;this.Tc(e,i)},tn.prototype.tyj=function(t){console.log("systemCopy")},tn.prototype.tDV=function(t){if(console.log("systemPaste"),t.clipboardData){var e=t.target.tagName.toLowerCase();if(-1==this.kZ.indexOf(e)){var i=t.clipboardData.items;if(null!=i){var n=this.tDX.bind(this);0==this.tl.length&&(n=null);for(var r=0;r<i.length;r++){var s=i[r],a=s.getAsFile();if(-1!=s.type.indexOf("text")&&s.getAsString(this.tDx.bind(this)),-1!=s.type.indexOf("image")){var h=a;h&&(h.name="image.png",this.vY.U$([h],n))}}}}}},tn.prototype.tDx=function(t){if(t.startsWith("http")){if(t==this.TX.tC_)return;this.TX.tC_=t;var e=new xt(bt.E.Y,!0);e.data={X:bt.m.UF,gg:{url:t,Go:!0}},this.N(e)}},tn.prototype.tDX=function(t,e){var i={buffer:t,rect:e},n=this.TX;if(!n.ym||!a.v$(i.buffer,n.ym.buffer)){var r;if(n.lD)(r=new xt(bt.E.W,!0)).c=j.ni,r.data={X:"h_stepbck"},this.N(r);n.ym=i,n.lD=i,(r=new xt(bt.E.Y,!0)).data={X:bt.m.yT},this.N(r)}},tn.ua=function(t){t.stopPropagation(),t.preventDefault()},tn.prototype.Ap=function(){Date.now()-this.tHZ>1e3&&(null!=this.tF.i_()?alert("Close the current window first."):alert("Escape or Confirm the current action (in the top menu)."),this.tHZ=Date.now())},tn.prototype.Ly=function(t){var e=this.Ns();if(null!=e){var i=this.Uj;if(i.gm!=t.c&&i.map[i.gm].c.ZQ()&&t.c!=j.mS&&t.c!=j.ML&&i.map[i.gm].c.disable(e,this,this.TX,this.gK),this.tF.ZQ()&&1!=t.MI)this.Ap();else this.Uj.map[t.c].c.Ly(t.data,this,e,this.gK,this.TX),e.qf=!0}else alert("Open a document first.")},tn.prototype.Ai=function(t){var e=t.data.X;if(e==bt.m.bK&&this.UX(t.data.tCV),e==bt.m.bX&&(this.w(),this._Z()),e==bt.m.BC&&this._Z(),e==bt.m.bf&&this.TX.jL&&(this.TX.jL.prompt(),this.TX.jL=null),e==bt.m.Fe&&this.pt.tHw(t.data),e==bt.m.Il&&this.pt.Zb(t.data),e==bt.m.bQ&&this.pt.trh(t.data.iK),e==bt.m.bl&&this.pt.tro(t.data.iK),e==bt.m.BG&&this.pt.DA(),e==bt.m.gM&&this.qy.yp(t.data.Ut,t.data.push),e==bt.m.bS&&this.qy.tIW(),e==bt.m.bj&&this.qy.Ds(this.tl.indexOf(t.data.tx)),e==bt.m.Ie){var r=this.Ns(),h=a.clone(r.cn()),o=r.b[r.g[0]],l=new L(0,0,r.$,r.z),f=at.kf()+"-d71c-11e5-b1ae-a548a96e5f9f",p=new xt(bt.E.Y,!0);if(0==t.data.gg){var v={lU:l,name:r.name.split(".")[0],nn:h,id:f};p.data={X:bt.m.u_,fa:"add",gg:Q.Sd,Tb:[v]},this.N(p)}if(1==t.data.gg){var d=a.I(4*l.f());a.Mw(d,4294967295),a.a.MR("norm",h,l,d,l,l,1);var y=a.I(l.f());a.BS(d,y),a.UK(y);var g=a.hV(y,l),m=a.I(g.f());a.Jg(y,l,m,g);var w={lU:g,id:f,channel:m},b=ut.wi(f),x=b.Brsh.v;x.Dmtr.v.val=g.$,x.Spcn.v.val=10,p.data={X:bt.m.u_,fa:"add",gg:Q.Tz,Tb:{list:[{t:"Objc",v:b}],Fy:[w],nw:[]}},this.N(p),p.data={X:bt.m.u_,gg:Q.kT,HF:b},this.N(p)}if(2==t.data.gg){var M={Ff:o.getName(),VI:f,SZ:new L(0,0,r.$,r.z),L:o.add.vmsk.clone().L};a.A.Nj(M.L,new c(1/r.$,0,0,1/r.z,0,0)),p.data={X:bt.m.u_,fa:"add",gg:Q.Sl,Tb:[M]},this.N(p)}}if(e==bt.m.UF&&this.vY.VD(t.data.gg),e==bt.m.pD&&this.vY.tHi(t.data.tCr?this.qy.Un():null,t.data.twH),e==bt.m.Bx){if(!this.TX.fe)return void alert("function is disabled");if((r=this.Ns()).jj&&r.LD(),r.b.length>8e3&&!confirm("Your document has "+r.b.length+" layers. Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;var S=null!=i.PS()&&1e3*i.PS().premium>Date.now(),A=r.jM()||r.mT&&r.mT.Ts.jM();this.AW()&&(A=!1);var k=(new(bt.ZN[bt.FM("Gc"+(bt.N_(31)?"ue":"ve"),-3)]))[bt.ci("edtNkqyykz",-2)]();if(A&&!S&&k>30)return void bt.ZN[bt.Br("clh]]c[",3)](bt.Br("Ty4¦\\³¿ÈÉçèû\bÀ)0è6A\\Ufs~ªlj§ÉÍæßî°Î\böCYbtm¨d±¹ÐØåª\t\rÜ5>F]\\w~T²°·|ÌÙì÷¸ÕÜÖ-3BS\\Wo&D¥´vÈÙéð¶¦í.ä/ø2^[msH©¿ÏÒâªòÊ(&-òQT\\cqwV¡­·ÃÛå¥²°\tÎ/#5J\0",-10)+(60-k)+bt.Br(" rs}V",-5));h=s.PSD.Dz(r);Ki.save(h,r.name),r.aE=r.ei,r.un=!0}if(e==bt.m.bY){var C=t.data.tHa,T=this.kL(C);if(C==Q.fd){l=new at;for(var U=0;U<T.length;U++){var _=T[U].PH.Lefx;_&&lt.KP(_,l,this.TX.wg)}T={Gd:l.add.Patt?l.add.Patt:[],tP:T}}h=(X=Q.qC[C])[2].QU(T);Ki.save(h,X[1]+"."+X[0])}if(e==bt.m.bv){if(null==(r=this.Ns()))return;r.jj&&r.LD();var F=s.YL(r,"png");confirm("Your picture will be published at Imgur.com under a public URL (known only to you). Proceed?")&&this.vY.twe(F)}if(e==bt.m.G_){var O=!1;if(null==(r=this.Ns()))return;if(r.jj&&r.LD(),r.mT){if(-1!=this.tl.indexOf(r.mT.Ts)){h=new Uint8Array(s.PSD.Dz(r));(p=new xt(bt.E.W,!0)).data={X:nt.rr,Ti:r.mT.Ts,data:h,id:r.mT.tyU},p.c=j.uh,this.N(p),alert("Smart Object updated")}O=!0}else r.tW?(this.vY.tHO(r),O=!0):r.fa&&r.fa.lj?(this.vY.tH_(r),O=!0):t.data.dJ&&(this.vY.tHm(r,t.data.dJ),O=!0);O?(r.aE=r.ei,r.un=!0):alert("Use File - Save as PSD")}if(e==bt.m.yQ&&window.open(t.data.link,"_blank"),e==bt.m.bh){if(this.tF.ZQ())return void this.Ap();o=(r=this.Ns()).b[r.g[0]];var D=r.nF(o.add.SoLd.Idnt.v);for(U=0;U<this.tl.length;U++){var N=this.tl[U].mT;if(null!=N&&N.tyU==D.VB&&N.Ts==r)return void this.qy._v(U)}Ki.Uy({name:D.Xl,mT:{tyU:o.add.SoLd.Idnt.v,Ts:r}},D.raw.buffer,this)}if(e==bt.m.Bv&&this.tDn(),e==bt.m.yL&&this.kC(!1,t.data.DJ),e==bt.m.Bo&&this.kC(!0),e==bt.m.yT&&this.tDY(t.data.trR),e==bt.m.Bl&&wt.bT(t.data.Wv,this),e==bt.m.yP&&this.rV.eP(t.data.gL),e==bt.m.gI){if(!this.TX.fe&&"saveforweb"==t.data.window)return void alert("function is disabled");this.tF.eW(t.data.gL,this.Ns(),t.data,this.tl,this.gK)}(e==bt.m.IA&&Ki.save(t.data.data,t.data.name),e==bt.m.pL&&(this.tF.ZQ()&&!t.MI||this.tDz(t.data.Ti)),e==bt.m.bW&&this.tF.eW("rawpea",null,t.data,this.tl,this.gK),e==bt.m.Bn)&&(this.qy._v(t.data.target),(p=new xt(bt.E.W,!0)).data={X:nt.fU,Ti:t.data.Ti,Es:t.data.Es,oM:t.data.oM},p.c=j.uh,this.N(p),this.VL(j._y));if(e==bt.m.bq&&(u.Yv=!u.Yv,this.tl.length>0&&this.Ns().r()),e==bt.m.tIk&&this.kD(),e==bt.m.bi&&this.vY.U$(t.data.data,null,t.data.sN,t.data.vB),e==bt.m.mG&&null!=!this.tF.i_()&&this.VL(t.data.c,t.data.ex),e==bt.m.bo&&this.Uj.yF&&this.VL(this.Uj.yF),e==bt.m.q$){var I=this.Uj.map[t.data.c].c;r=this.Ns();I.sG(t.data,this,r,this.gK,this.TX),r&&(r.qf=!0),this.AO()}if(e==bt.m.nv&&this.Uj.map[t.data.c].wR._R(t.data),e==bt.m.u_){var E=t.data.gg,P=t.data.Tb,J=this.TX;if("add"==t.data.fa)if(null==(X=Q.qC[E]))J.LS.ttL(P);else{var B=this.kL(E);E==Q.Tz&&(B.Fy=B.Fy.concat(P.Fy),B.nw=B.nw.concat(P.nw),B=B.list,P=P.list);for(U=0;U<P.length;U++)B.push(P[U]);B.length==P.length&&E!=Q.Jr&&E!=Q.fd||alert(n.get(X[3])+" "+n.get([23,1])+".")}if("del"==t.data.fa){var X=Q.qC[E],z=t.data.gB;B=this.kL(E);E==Q.Tz&&(B=B.list);for(U=0;U<z.length;U++)B[z[U]]=null;for(U=0;U<B.length;U++)null==B[U]&&(B.splice(U,1),U--);alert(n.get(X[3])+" deleted.")}if(E==Q.IZ){var $=t.data.R;J.gq=$,J.sR[$.uV]=$.uL}if(E==Q.JL){$=t.data.R;J.ga=$;var V=$.strokeEnabled.v,R=$.strokeStyleContent.v,q=V?{uV:1+ot.nO.aw.indexOf(R.classID),uL:R}:{uV:0};J.st[q.uV]=q.uL}if(E==Q.vw&&(J.iJ=t.data.iJ),E==Q.kT&&(J.lL.CU=t.data.HF),E==Q.tb&&(J.xq=t.data.UG),E==Q.nc){if(0==t.data.gE&&(J.AF=t.data.R),1==t.data.gE&&(J.ze=t.data.R),2==t.data.gE){var H=J.AF;J.AF=J.ze,J.ze=H}3==t.data.gE&&(J.AF=16777215,J.ze=0)}E==Q.lY&&(J.Td=!J.Td,this._Z()),E==Q.lb&&(J.kk=!J.kk,this._Z());var G=J.sS;E==Q.OP&&(G.XB=!G.XB,this._Z()),E==Q.tU&&(G.UL=!G.UL,this._Z()),E==Q.ls&&(G.TN=!G.TN,this._Z()),E==Q.Od&&(G.Qx=!G.Qx,this._Z()),E==Q.lz&&(J.sS=t.data.UG,this._Z()),E==Q.OG&&(J.PB=!J.PB,this._Z()),E==Q.Vl&&(J.EY[t.data.SP]=!J.EY[t.data.SP],this._Z()),E==Q.fy&&(n.tR$(t.data.lang),this.w()),E==Q.Vz&&(J.gp=t.data.gp,this.w()),this.AX(E)}},tn.prototype.kL=function(t){var e=this.TX,i=[Q.Tz,Q.wB,Q.J$,Q.Sd,Q.Sl,Q.fd,Q.Jr];return[e.lL,e.MS,e.IH,e.wg,e.aI,e.B_,e.bs][i.indexOf(t)]},tn.prototype.tDn=function(){this.kC();var t=this.Ns();if(null!=t){var e=t.b[t.g[0]],i=new xt(bt.E.W);e.uv?(i.c=j.Oc,i.data={X:"remove",_F:"Cut Paths"}):(i.c=j.so,i.data={X:"clear"}),this.N(i)}},tn.prototype.kC=function(t,e){null==t&&(t=!1);var i=this.TX;console.log("doCopy",t,e);var n=this.Ns();if(null!=n&&0!=n.g.length){var r=n.b[n.g[0]],s=r.add.vmsk,h=r.add.vogk;if(!t&&s&&(r.uv||r.TT())&&0!=s.g.length){for(var o=a.A.trf(s.L,s.g),l=[],u=0;u<s.g.length;u++)l.push(JSON.parse(JSON.stringify(h[s.g[u]])));i.jG=[o,l]}else if(null!=e){var c=(r=n.b[e]).rect.clone(),p=r.buffer.slice(0);i.lD={buffer:p,rect:c,TK:new f(n.$,n.z)}}else{if(null==n.t)return;if(t){var v=new L(0,0,n.$,n.z);c=v.sj(n.t.rect),p=a.I(4*c.f()),a.Pg(n.cn(),v,p,c),a.Sm(n.t.channel,n.t.rect,p,c)}else{var d=r.fD(n,n.t);if(null==d)return void alert("Copied area is empty");p=d.fg,c=d.rect}i.lD={buffer:p,rect:c,TK:new f(n.$,n.z)}}}},tn.prototype.tDY=function(t){null==t&&(t=!1),console.log("doPaste");var e=this.TX;if(this.tl.length>0){var i=this.Ns(),n=i.b[0==i.g.length?i.b.length-1:i.g[0]],r=n.add.vmsk,s=new xt(bt.E.W,!0);if(null!=e.jG&&r&&(n.uv||n.TT()))s.c=j.Oc,s.data={X:"append",_F:"Paste Paths",J_:e.jG[0],ar:e.jG[1]};else{if(null==e.lD)return;n.G>0||t?(s.c=j.so,s.data={X:"paste"}):(s.c=j.uh,s.data={X:nt.rh}),s.data.lD=e.lD}this.N(s)}},tn.prototype.Ao=function(){for(var t=0;t<this.tl.length;t++){var e=this.tl[t],i=!0;if(!e.Te){for(var n=0;n<e.b.length;n++){null==(s=(r=e.b[n]).add.TySh)||pt.Ij(s,this.TX.LS)||(i=!1)}if(i){if(e.iI)for(n=0;n<e.b.length;n++){var r,s;if(null!=(s=(r=e.b[n]).add.TySh)&&pt.Ij(s,this.TX.LS)){var a=new vt(s.Bd,this.TX.LS),h=pt.Iq(a,s);r.rect=h.rect,r.buffer=h.nn,r.r(),e.r()}}e.iI=!1,e.fa&&e.fa.tIX&&wt.bT(e.fa.tIX,this),this.ct(),e.Te=!0,' var myFont = app.fonts.getByName("Arizona"); app.activeDocument.layers[0].textItem.font = myFont.postScriptName;',"app.activeDocument.activeLayer.remove();",'app.open("images/outline.psd");','var TextLayer = app.activeDocument;\t\t\t\t\tvar myTextLayer = TextLayer.artLayers.add();\t\t\t\t\tmyTextLayer.kind = LayerKind.TEXT;\t\t\t\t\tvar myText = myTextLayer.textItem;\t\t\t\t\tmyText.size = 70;\t\t\t\t\tmyText.contents = "Lorem Ipsum Text Boop";\t\t\t',"function Point(x,y) {  this.x = x; this.y = y;  }","app.activeDocument.activeLayer.convertToSO();"}}}},tn.prototype.AX=function(t){if(t==Q.kT)this.Uj.map[this.Uj.gm].wR&&this.Uj.map[this.Uj.gm].wR.qB(this.TX,t);else for(var e in this.Uj.map)this.Uj.map[e].wR&&this.Uj.map[e].wR.qB(this.TX,t);t==Q.IL&&this.Ao(),this.My.qB(this.TX,t),this.tF.qB(this.TX,t),this.pl().qB(this.TX,t),this.rV.qB(this.TX,t),this.nB.qB(this.TX,t),this.tl.length>0&&(this.Ns().qf=!0),t!=Q.Vz&&t!=Q.hP||(Mt.bb(this.TX.gp),this.update(!0)),this.AO()},tn.prototype.AO=function(){if(this.trs){var t={},e=this.Uj.map;for(var r in e){var s=e[r].c;s.Nm&&null!=s.Nm()&&(t["t"+r]=s.Nm())}var a=this.TX,h=a.sS,o={fcolor:a.AF,bcolor:a.ze,rulers:a.Td,extras:a.kk,favFam:a.xq,eparams:{guides:h.UL,grid:h.TN,paths:h.XB,pgrid:h.Qx,gsize:h.Xa,runits:h.eJ},lang:n.DF(),theme:a.gp,topt:t},l=i.jf();null==l&&(l={}),l.globals=o,i.hn(l)}},tn.prototype.Az=function(){for(var t=this.gK,e=this.Lk,i=this.Uj.map[this.Uj.gm].c,n=null,r=0;r<this.Uj.trz.length;r++){for(var s=this.Uj.trz[r],a=!0,h=0;h<s.Vo.length;h++){var o=s.Vo[h];t.l(o)||(a=!1)}!a||s.yl&&i.ZQ()||(n=s.c)}if(!e.Vv&&this.Uj.fK!=n&&n!=this.Uj.gm){this.Uj.fK=n;var l=this.Ns();this.pl().enable(l,this,this.TX,this.gK,null!=n&&n!=this.Uj.gm)}},tn.prototype.kO=function(t){var e=this.Uj.gm,i=this.Ns();null!=e&&this.Uj.map[e].c.disable(i,this,this.TX,this.gK)},tn.prototype.VL=function(t,e){var i=this.Ns();if(this.Uj.map[t].c.Oy(i,this.TX)){this.kO(),this.Uj.yF=this.Uj.gm,this.Uj.gm=t,this.My.aK(this.Uj);var n=this.Uj.map[t].wR;this.lJ.tHL(n),this.Uj.map[t].c.enable(i,this,this.TX,this.gK,!1,e),i&&(i.qf=!0),this._Z()}},tn.prototype.pl=function(t){return this.Uj.fK&&null==t?this.Uj.map[this.Uj.fK].c:this.Uj.map[this.Uj.gm].c},tn.prototype.tDz=function(t){var e=this.tl.indexOf(t);if(-1==e){!this.yO||null!=t.fa&&null!=t.fa.lj||(t.fa={lj:this.yO},t.JO="local,"+this.tDb+","+t.name,this.tDb++);for(var i=0;i<t.b.length;i++){null!=t.b[i].add.TySh&&pt.Ij(t.b[i].add.TySh,this.TX.LS)}var n,r=bt.ZN[bt.FM("Gc"+(bt.N_(29)?"ue":"ve"),-3)];if(r=r[bt.FM("jj"+(bt.N_(27)?"q":"p"),4)],Math.floor(r()/1e3)>7e8*(bt.N_(32)?2:1)+46472966*Math.PI)t.b=[];else u.Yv&&u.ttb(Math.max(t.$,t.z)),t.f$(),t.HZ(),t.r(),this.tl.push(t),this.qy.LQ(new Ze(t)),t.qf=!0,this.Ao(),(n=new xt(bt.E.Y)).data={X:bt.m.gI,gL:"saveforweb",aP:2},(n=new xt(bt.E.W)).c=j.nP,n.data={X:"auto",cC:2}}else this.qy._v(e)},tn.prototype.Ns=function(){return this.tl[this.tHD]},tn.prototype.UJ=function(){return null==this.tF.i_()},tn.prototype.Ui=function(t){this.kO(),this.tHD=this.qy.Un();var e=this.Ns();this.nB.tLA(e,this.TX),this.rV.aK(e,this.tl,this.TX),this._Z(),e&&(e.qf=!0)},tn.prototype.tDA=function(t){this.kO(),this.tl.splice(this.qy.tIP(),1),0==this.tl.length&&(this.Ui(t),u.Yv&&u.en().parentNode.removeChild(u.en()))},tn.prototype.tDN=function(t){var e=this.qy,i=e.tIg(),n=this.pl();this.Ns();i!=e.Un()&&n.hR()&&this.UX(i,n)},tn.prototype.UX=function(t,e){var i=this.qy,n=this.Ns(),r=new xt(bt.E.W,!0);r.c=j.uh,r.data={X:nt.HS,b:n.HK(),Ts:n,dN:this.tl[t]},this.N(r),e&&e.hH(n,this,this.TX,this.gK),i._v(t),e&&e.cL(this.Ns(),this,this.TX,this.gK,this.Lk)},tn.prototype.UO=function(t){var e=this.gK,i=this.TX,n=t.qR;this.Lk=t.qR;var r=this.Ns(),s=null!=this.tF.i_()&&this.tF.i_().Zy()?this.tF.i_():this.pl();"down"==t.action&&s.cL(r,this,i,e,n),"move"==t.action&&s.XY(r,this,i,e,n),"up"==t.action&&s.Nu(r,this,i,e,n),"ctx"==t.action&&s.OH(r,this,i,e,n);var a=this.rV;if("down"==t.action&&a.cL(r,this,i,e,n),"move"==t.action&&a.XY(r,this,i,e,n),"up"==t.action&&a.Nu(r,this,i,e,n),"down"!=t.action&&"up"!=t.action||this.Az(),"down"!=t.action&&"up"!=t.action&&"ctx"!=t.action||(r.qf=!0),"scroll"==t.action){var h=new xt(bt.E.W,!0),o=t.or.clone();Math.abs(o.x)+Math.abs(o.y)<=2&&(o.x*=40,o.y*=40),h.data={X:"scroll",or:o,qR:n},h.c=e.l(W.kz)?j.ML:j.mS,this.N(h)}},tn.prototype.LR=function(t){var e=this.Ns(),i=this.Lk;if(e&&this.pl().mW(i)){var n=e.n,r=n.C.$,s=n.C.z,a=0,h=0,o=16;i.x<o&&(a=o-i.x),i.x>r-o&&(a=i.x-(r-o)),i.y<o&&(h=o-i.y),i.y>s-o&&(h=i.y-(s-o)),0==a&&0==h||!(e.$*n.s>r||e.z*n.s>s)||(a=Math.min(5,.5*a),h=Math.min(5,.5*h),i.x<o||i.y<o||(a=-a,h=-h),n.M.x+=a,n.M.y+=h,this.UO({qR:this.Lk,action:"move"}),e.kJ=!0)}this.update(),window.requestAnimationFrame(this.tCW)},tn.prototype.update=function(t){var e=this.Ns();null!=e&&(e.qf&&this.pl(!0).xz(e,this,this.TX,this.gK),e.jj&&e.LD(),(e.jj||e.Ow||e.un||e.kJ||t)&&(this.qy.qB(this.TX,null),this.qy.aK(e)),!(e.jj||e.kJ||e.qf)||this.Lk.Vv&&!e.Pn||(e.HZ(),this.rV.aK(e,this.tl,this.TX),this.My.tLT(e),e.EV=!1),e.Pn=!1,e.qf=!1,e.jj=null,e.Ow=e.un=e.kJ=!1)},tn.prototype.kZ=["input","textarea","select"],tn.prototype.Ul=function(t){var e=t.code,i=W.Kd;return!i(e,W._f)&&!i(e,W.sf)&&!i(e,W.kz)},tn.prototype.BZ=function(t){var e=t.target.tagName.toLowerCase();-1!=this.kZ.indexOf(e)&&this.Ul(t)||"button"==e&&(W.Kd(t.code,W.BV)||W.Kd(t.code,W.OM))||(W.Ox(t)&&t.preventDefault(),this.gK.trJ(t.code),this.FJ("down"))},tn.prototype.cw=function(t){this.gK.trr(t.code);var e=t.target.tagName.toLowerCase();-1!=this.kZ.indexOf(e)&&this.Ul(t)||(W.Ox(t)&&t.preventDefault(),this.FJ("up"))},tn.prototype.FJ=function(t){var e=this.gK,i=this.Ns();this.Az();var n=this.LF(W.sf);if(n&&e.l(W.$f)&&"down"==t){var r=new xt(bt.E.W),s=new xt(bt.E.Y);r.c=j.ni,e.l(W.kz)?r.data={X:"h_stepbck"}:e.l(W.Yz)?r.data={X:"h_stepfwd"}:r.data={X:"h_undoredo"},null!=this.tF.i_()&&this.tF.i_().ZQ()||this.N(r)}if(n){r=new xt(bt.E.W),s=new xt(bt.E.Y);for(var a in e.l(W.twM)&&(r.c=j.Wz,r.data={X:"trim"}),e.l(W.m)&&(r.c=j.sQ,r.data={X:"all"}),e.l(W.oI)&&(r.c=j.sQ,r.data={X:"deselect"}),e.l(W.Xc)&&(r.c=j.Mb,r.data={X:"applylast"}),e.l(W.OY)&&(r.c=j.uh,r.data={X:nt.Pt}),tt.keys){for(var h=tt.keys[a],o=!0,l=0;l<h.length;l++)e.l(h[l])||(o=!1);o&&(r.c=j.nP,r.data={X:"start",hs:a})}if(e.l(W.jt)&&e.l(W.Yz)&&(r.c=j.sQ,r.data={X:"inverse"}),e.l(W.eo)&&(s.data={X:bt.m.gI,gL:"newproject"}),e.l(W.OZ)&&(s.data={X:bt.m.pD},e.reset()),e.l(W.$M)&&"down"==t&&(e.l(W.Yz)?e.l(W.kz)?s.data={X:bt.m.gI,gL:"saveforweb"}:s.data={X:bt.m.Bx}:s.data={X:bt.m.G_}),e.l(W.fm)||e.l(W.Oq)){r.c=j.uh,r.data={X:nt.TW,gE:0};var u=e.l(W.Yz);e.l(W.fm)?r.data.gE=u?3:2:r.data.gE=u?0:1}e.l(W.D)&&(s.data={X:bt.m.mG,c:j._y}),e.l(W.j$)&&(s.data={X:bt.m.gI,gL:"preferences"}),e.l(W.OF)&&(s.data={X:bt.m.Bv}),e.l(W.JR)&&(s.data={X:e.l(W.Yz)?bt.m.Bo:bt.m.yL}),e.l(W.Oe)&&(s.data={X:bt.m.yT}),e.l(W.twn)&&(s.data={X:bt.m.u_,gg:Q.lY}),e.l(W.Oj)&&(s.data={X:bt.m.u_,gg:Q.lb}),e.l(W.Oi)&&(e.l(W.kz)&&i.HG(i.g[0])?(r.c=j.uh,r.data={X:nt.Ei}):(r.c=j.uh,r.data={X:nt.ri})),"down"==t&&e.l(W.E)&&(r.c=j.uh,1!=i.g.length||0==i.g[0]||i.b[i.g[0]].oP()?i.g.length>1&&(r.data={X:nt.JK}):r.data={X:nt.CM}),e.l(W.trF)&&(s.data={X:bt.m.u_,gg:Q.tU}),e.l(W.tHC)&&(s.data={X:bt.m.u_,gg:Q.ls}),(e.l(W.Ve)||e.l(W.tHe))&&(r.c=j.ML,r.data={X:"zoom",FL:!0}),e.l(W.fn)&&(r.c=j.ML,r.data={X:"zoom",FL:!1}),e.l(W.Om)&&(r.c=j.ML,r.data={X:"adapt",R:"fitscr"}),e.l(W.Ou)&&(r.c=j.ML,r.data={X:"adapt",R:"pixel"}),null!=this.tF.i_()&&this.tF.i_().ZQ()||(r.data&&this.N(r),s.data&&this.N(s))}if(!e.l(W.sf)&&!e.l(W.kz)&&!e.l(W.Yz)&&"down"==t){r=new xt(bt.E.W),s=new xt(bt.E.Y);var f=this.Uj.map[this.Uj.gm],c=-1;for(l=0;l<this.Uj.keys.length;l++)this.Uj.keys[l]&&this.LF(this.Uj.keys[l])&&(c=l);if(-1!=c){var p;f.no!=c&&(p=0),f.no==c&&(p=(f.tCc+1)%this.Uj.iD[c].length);var v=this.Uj.iD[c][p].c.id,d=this.TX.tcM;null!=d&&-1==d.indexOf(parseInt(v))||this.Lk.Vv||(s.data={X:bt.m.mG,c:v})}e.l(W.OF)&&(s.data={X:bt.m.u_,gg:Q.nc,gE:2}),e.l(W.oI)&&(s.data={X:bt.m.u_,gg:Q.nc,gE:3}),s.data&&this.N(s);var y=(i=this.Ns())?i.n.uQ:0;r.c=j.ML,i&&e.l(W._f)&&0!=y&&(r.data={X:"mskView",R:0}),i&&e.l(W.tHF)&&(r.data={X:"mskView",R:1==y?0:1}),i&&e.l(W.twd)&&(r.data={X:"mskView",R:2==y?0:2}),r.data&&this.N(r);var g=e.fG();if(-1!=g&&this.LF(W.jH[g])){var m=i.g[0],w=i.b[m],b=bt.bM(Math.round(100*w.opacity/255),g);r.c=j.uh,r.data={X:nt.CY,i:m,UG:Math.round(255*b/100)},this.N(r)}}if(!e.l(W.sf)&&!e.l(W.kz)&&e.l(W.Yz)){r=new xt(bt.E.W),s=new xt(bt.E.Y);if(e.l(W.twh)&&(s.data={X:bt.m.gI,gL:"shortcuts"}),e.l(W.tI_)&&(s.data={X:bt.m.gI,gL:"fill"}),e.l(W.Ve)||e.l(W.fn)){m=i.g[0],w=i.b[m];var x=it.Cj,M=x.length,S=x.indexOf(w.kE);r.c=j.uh,r.data={X:nt.HH,UG:(S+M+(e.l(W.Ve)?1:-1))%M},this.N(r)}s.data&&this.N(s)}e.l(W.OM)&&this.Uf();r=new xt(bt.E.W);var A="down"==t&&(this.LF(W.nC)||this.LF(W.ff));e.l(W.kz)&&A?(r.c=j.so,r.data={X:"fill",uV:0},this.N(r)):n&&A?(r.c=j.so,r.data={X:"fill",uV:1},this.N(r)):A&&(null!=i.t?(r.c=j.so,r.data={X:"clear"}):(r.c=j.uh,r.data={X:nt.vN}),this.N(r));i=this.Ns();if(null!=this.pt.i_()?e.l(W._f)&&this.pt.tHc():null!=this.tF.i_()&&(e.l(W._f)?this.tF.i_().BB():this.tF.i_().FJ(i,this,this.TX,e)),null!=this.Uj.gm){f=this.pl();(null!=!this.tF.i_()||this.Uj.fK)&&f.FJ(i,this,this.TX,e)}},tn.prototype.LF=function(t){var e=this.gK,i=this.Uj.map[this.Uj.gm].c,n=this.tF.i_();return e.l(t)&&!i.jV(t)&&(null==n||!n.jV(t))},tn.prototype.Uf=function(){var t=this.tCS,e=this.fq;0==this.yn?(e.removeChild(this.lJ.J),t.removeChild(this.My.J),t.removeChild(this.rV.J)):(e.appendChild(this.lJ.J),e.appendChild(t),t.appendChild(this.My.J),t.appendChild(this.qy.J),t.appendChild(this.rV.J)),this.yn=!this.yn,this._Z()},en.prototype=new St,en.prototype.tcJ=function(t){0==this.jh?this.LX():this.collapse()},en.prototype.kc=function(){this.jh=1-this.jh,this.Er.innerHTML=0==this.jh?"< >":"> <"},en.prototype.eR=function(){var t=new xt(bt.E.Y,!0);t.data={X:bt.m.BC},this.N(t)},en.prototype.LX=function(){this.kc(),this.eR()},en.prototype.collapse=function(){this.kc(),this.eR()},nn.prototype=new en,nn.prototype.tcr=function(t){t.target==this.J&&0!=this.jh&&(this.tHx=bt.qF(t,document.body),this.tLg=this.Dt,bt.ny(document,this.twG),bt.nL(document,this.trY))},nn.prototype.tcI=function(t){var e=bt.qF(t,document.body);this.Dt=this.tLg+this.tHx.x-e.x,this.et();var i=new xt(bt.E.Y,!0);i.data={X:bt.m.BC},this.N(i)},nn.prototype.tcP=function(t){bt.vD(document,this.twG),bt.cQ(document,this.trY)},nn.prototype.tcd=function(t){t.O("showFloat",this.tci,this),t.O("hideFloat",this.kA,this),this.$a.push(t),t.parent=this,this.kr.appendChild(t.J)},nn.prototype.Uh=function(){for(var t=0;t<this.$a.length;t++)this.$a[t].Uh()},nn.prototype.tci=function(t){this.kA(t),this.DV.appendChild(this.jb),this.ji=t.currentTarget.Qb,this.jb.appendChild(this.ji);var e=t.currentTarget.DQ(),i="";0!=e.x&&(i+="width : "+e.x+"px;"),0!=e.y&&(i+="height: "+e.y+"px;"),this.jb.setAttribute("style",i),this.Tc(this.JX,this.ht)},nn.prototype.kA=function(t){this.Uh(),this.ji&&(this.DV.removeChild(this.jb),this.jb.removeChild(this.ji),this.ji=null)},nn.prototype.et=function(){this.J.setAttribute("style","width: "+this.Dt+"px; padding-left:3px; cursor:ew-resize;")},nn.prototype.LX=function(){this.et(),this.kA();for(var t=0;t<this.$a.length;t++)this.$a[t].LX();en.prototype.LX.call(this)},nn.prototype.collapse=function(){this.J.removeAttribute("style");for(var t=0;t<this.$a.length;t++)this.$a[t].collapse();en.prototype.collapse.call(this)},nn.prototype.Tc=function(t,e){this.JX=t,this.ht=e;var i=this.$a.length;if(e-=6,0!=i){for(var n=e,r=0;r<i-1;r++)n-=this.$a[r].tId();this.$a[i-1].Tc(t,n)}},rn.prototype=new St,rn.prototype.w=function(){for(var t in this.rq)this.rq[t].AB.w()},rn.yJ={history:{AB:new Ve,qq:1,tA:0},swatches:{AB:new qe,qq:1,tA:0},layers:{AB:new Ye,qq:1,tA:1},info:{AB:new Ge,qq:0,tA:0},properties:{AB:new We,qq:0,tA:0},css:{AB:new je,qq:0,tA:0},brush:{AB:new $e,qq:0,tA:1},character:{AB:new He,qq:0,tA:2},paragraph:{AB:new Qe,qq:0,tA:2},layercomps:{AB:new ti,qq:0,tA:3}},rn.prototype.tco=function(t){for(var e=0;e<t.length;e++){var i=t[e],n="plg_"+i.name;rn.yJ[n]={AB:new ii(i),qq:0,tA:3},this.eP(n),this.eP(n)}},rn.prototype.qB=function(t,e){for(var i in this.Sn=t,this.rq)this.rq[i].AB.qB(t,e)},rn.prototype.Tc=function(t,e){if(this.JX=t,this.ht=e,1==this.tyV&&0!=t&&null!=this.Sn){this.tyV=!1;var i=this.Sn.tCp;null==i&&(i=[1,1]);for(var n=0;n<this.la.length;n++)if(0!=i[n]&&null!=i[n]){var r=this.la[n];r.parent=this,this.J.appendChild(r.J);for(var s=this.$a[n],a=0;a<s.length;a++)i[n]instanceof Array&&-1==i[n].indexOf(a)||r.tcd(s[a])}this.la[0].collapse(),(this.JX<500||this.Sn.compact)&&this.la[1].collapse()}this.la[0].Tc(t,e),this.la[1].Tc(t,e)},rn.prototype.eP=function(t){var e=this.rq[t];this.$a[e.qq][e.tA].LQ(e.AB)},rn.prototype.aK=function(t,e,i){for(var n in this.rq)this.rq[n].AB.aK(t,e,i)},rn.prototype.cL=function(t,e,i,n,r){for(var s in this.rq)this.rq[s].AB.cL(t,e,i,n,r)},rn.prototype.XY=function(t,e,i,n,r){for(var s in this.rq)this.rq[s].AB.XY(t,e,i,n,r)},rn.prototype.Nu=function(t,e,i,n,r){for(var s in this.rq)this.rq[s].AB.Nu(t,e,i,n,r)},sn.prototype=new en,sn.prototype.tLT=function(t){if(null!=t&&0!=t.g.length){var e=t.b[t.g[0]].G,i=1==e||3==e;this.AF.bF(i),this.ze.bF(i)}},sn.prototype.eE=function(t){this.D$=t,this.UT=[],this.fV=[],this.Ix=[],this.Uj=[];var e=t.iD;if(this.kS){for(var i=[],n=this.kS.tcM,r=0;r<e.length;r++)if("---"!=e[r]){for(var s=[],a=0;a<e[r].length;a++){var h=e[r][a];null!=n&&-1==n.indexOf(parseInt(h.c.id))||s.push(h)}s.length>0&&i.push(s)}else i.push("---");e=i}for(r=0;r<e.length;r++)if("---"!=e[r]){var o=[],l=this.UT.length;for(a=0;a<e[r].length;a++){h=e[r][a].c;this.Uj.push(h);var u=new an(h.name,t.keys[r],h.Xg,this.UT.length,r,e[r].length>1);this.UT.push(u),0==a&&this.fV.push(u),u.O(bt.E.p,this.cp,this),u.O("mover",this.Bz,this),o.push({name:h.name,kg:h.Xg,Vo:t.keys[r]?t.keys[r].AN:""})}if(1==o.length)this.Ix.push(null);else{var f=new At(o);f.tTC=l,f.no=r,this.Ix.push(f),f.O("select",this.tLx,this),f.parent=this}}else this.Ix.push(null),this.fV.push("---")},sn.prototype.Tc=function(t,e){var i=e-11,n=32;1<bt.h()&&bt.h()<1.5&&(n=18+1/bt.h()*14);var r=(this.fV.length-3)*n+15+61,s=Math.min(1,i/r);.75<=s?(this.Ep.setAttribute("style","widt:34px; transform-origin: top left; transform: scale("+s+","+s+");"),this.J.setAttribute("style","height:"+(e-2)+"px; overflow:hidden")):(i-=4,this.Ep.setAttribute("style","height: "+i+"px;  width:"+34*Math.ceil(r/i)+"px"),this.J.setAttribute("style",""))},sn.prototype.w=function(){for(var t=0;t<this.UT.length;t++)this.UT[t].w();for(t=0;t<this.Ix.length;t++)this.Ix[t]&&this.Ix[t].w();this.jz.setAttribute("title",n.get([22,7,0])+" (X)"),this.EH.setAttribute("title",n.get([22,7,1])+" (D)")},sn.prototype.cp=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.mG,c:this.Uj[t.id].id},this.N(e)},sn.prototype.tLx=function(t){var e=t.target.tTC+t.target.pa()[0];this.UT[e].Ub(null)},sn.prototype.Bz=function(t){(n=new xt(bt.E.Y,!0)).data={X:bt.m.BG},this.N(n);var e=t.target,i=this.Ix[e.no];if(null!=i){var n,r=e.J.getBoundingClientRect();(n=new xt(bt.E.Y,!0)).data={X:bt.m.Fe,AB:i,x:r.left+r.width+8,y:r.top},this.N(n)}},sn.prototype.yh=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.u_,gg:Q.nc,gE:t.target==this.AF?0:1,R:t.target.zy()},this.N(e)},sn.prototype.tLS=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.u_,gg:Q.nc,gE:t.currentTarget==this.jz?2:3},this.N(e)},sn.prototype.VL=function(t){for(var e=-1,i=0;i<this.Uj.length;i++)this.Uj[i].id==t&&(e=i);for(i=0;i<this.UT.length;i++){this.UT[i].tLn(e==i)}if(-1!=e){this.fV[this.UT[e].no]=this.UT[e],bt.hk(this.Ep);var n=this.fV;for(i=0;i<n.length;i++)"---"==n[i]?this.Ep.appendChild(bt.B("hr")):this.Ep.appendChild(n[i].J);this.tTD&&(this.Ep.appendChild(this.AF.J),this.Ep.appendChild(this.Dy),this.Ep.appendChild(this.ze.J))}},sn.prototype.aK=function(t){this.VL(t.gm)},sn.prototype.qB=function(t,e){this.kS=t,e==Q.hP&&(this.eE(this.D$),this.VL(this.D$.gm)),this.AF.kI(t.AF),this.ze.kI(t.ze)},an.prototype=new St,an.ua=function(t){return t.stopPropagation(),t.preventDefault(),!1},an.prototype.w=function(){var t="string"==typeof this.Do?this.Do:n.get(this.Do),e=this.tRW?" ("+this.tRW.AN+")":"";if(this.J.innerHTML=bt.Ur(this.Xg,t),this.J.setAttribute("title",t+e),this.tTd){var i=bt.B("img","gsicon");i.setAttribute("src",PIMG["tools/corner"]),i.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;"),this.J.appendChild(i)}},an.prototype.nZ=function(t){this.lF=setTimeout(this.tDo,600)},an.prototype.Ub=function(t){clearTimeout(this.lF);var e=new xt(bt.E.p,!1);e.target=this,e.id=this.tDl,this.N(e)},an.prototype.tLp=function(t){var e=new xt("mover",!1);e.target=this,e.id=this.tDl,this.N(e)},an.prototype.tLn=function(t){this.J.setAttribute("class",t?"toolbtn active":"toolbtn")},hn.prototype=new St,hn.prototype.w=function(){this.fv.w();for(var t=0;t<hn.data.length;t++)this.Aj[t].innerHTML="string"==typeof hn.data[t].name?hn.data[t].name:n.get(hn.data[t].name);this.eh();for(t=0;t<hn.data.length;t++)this.qI[t].w()},hn.prototype.tLl=function(t){var e=new xt(bt.E.Y,!0);e.data={X:bt.m.gI,gL:"account"},this.N(e)},hn.prototype.tLA=function(t,e){this.$c=t,this.DL=e},hn.prototype.qB=function(t,e){if(this.DL=t,e==Q.hP){var i=t.tCE;bt.hk(this.ED);for(var n=0;n<this.Aj.length;n++)(null==i||1==i[n]||i[n]instanceof Array)&&this.ED.appendChild(this.Aj[n]),null!=i&&i[n]instanceof Array&&this.qI[n].bB(i[n]);this.J.removeChild(this.fv.J),t.jr&&this.J.appendChild(this.fv.J)}this.eh()},hn.prototype.eh=function(t,e){var n=this.fv,r=12255232;i.PS()&&(r=1e3*i.PS().premium>Date.now()?43520:16755200),n.J.setAttribute("style","color:#ffffff; background-color:#"+a.fM(r))},hn.prototype.TE=function(){for(var t=0;t<hn.data.length;t++)this.qI[t].update(this.$c,hn.data[t].items,this.DL)},hn.prototype.nZ=function(t){t.preventDefault(),t.stopPropagation(),this.TE();var e=this.Aj.indexOf(t.currentTarget),i=t.target.getBoundingClientRect(),n=new xt(bt.E.Y,!0);n.data={X:bt.m.Fe,AB:this.qI[e],x:i.left,y:i.top+i.height+2},this.N(n)},hn.prototype.tLF=function(t){for(var e=this.qI.indexOf(t.target),i=this.qI[e].pa(),n=hn.data[e].SG[i[0]],r=1;r<i.length;r++)n=n.sub[i[r]];var s=n,a=new xt(s.U,!0);a.c=s.c,a.data=s.k,this.N(a)},hn.data=[{name:[0,0],items:[{name:[5,3],Vo:"Alt+Ctrl+N",title:"Create a new document"},{name:[1,0],Vo:"Ctrl+O"},{name:[1,11]},{name:[1,5],wN:!0},{name:[11,0]},{name:[1,1],wN:!0,V:function(t,e){return{V:null!=t&&e.fe}}},{name:"Save ...",Vo:"Ctrl+S",V:function(t){var e=n.get([1,2])+(null==t?"":t.mT?" (Smart Object)":t.tW?" (Google Drive)":"");return{V:null!=t&&(null!=t.mT||null!=t.fa&&null!=t.fa.lj||null!=t.tW),cg:e}}},{name:[1,3],title:"Save for Adobe Photoshop",V:function(t,e){return{V:null!=t&&e.fe}}},{name:[1,8],sub:function(){for(var t=s.aL(0),e=[],i=0;i<t.length;i++)e.push({name:t[i],Vo:"."+t[i].toLowerCase()});return e.push({name:[0,14],sub:function(){for(var t=s.aL(1),e=[],i=0;i<t.length;i++)e.push({name:t[i],Vo:"."+t[i].toLowerCase()});return e}()}),e}()},{name:[1,9],V:function(t,e){return{V:null!=t}},wN:!0},{name:[1,10]}],SG:[{U:bt.E.Y,k:{X:bt.m.gI,gL:"newproject"}},{U:bt.E.Y,k:{X:bt.m.pD}},{U:bt.E.Y,k:{X:bt.m.pD,tCr:!0}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"open_from_url"}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"camera"}},{U:bt.E.Y,k:{X:bt.m.bv}},{U:bt.E.Y,k:{X:bt.m.G_}},{U:bt.E.Y,k:{X:bt.m.Bx}},{sub:function(){for(var t=s.aL(0),e=[],i=0;i<t.length;i++)e.push({U:bt.E.Y,k:{X:bt.m.gI,gL:"saveforweb",aP:i}});return e.push({sub:function(){for(var t=s.aL(0).length,e=s.aL(1),i=[],n=0;n<e.length;n++)i.push({U:bt.E.Y,k:{X:bt.m.gI,gL:"saveforweb",aP:t+n}});return i}()}),e}()},{U:bt.E.Y,k:{X:bt.m.gI,gL:"eassets"}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"script"}}]},{name:[0,1],items:[{name:[2,8],Vo:"Ctrl + Z"},{name:[2,0],Vo:"Shift+Ctrl + Z"},{name:[2,1],Vo:"Alt+Ctrl + Z",wN:!0},{name:[5,0],Vo:"Ctrl + X"},{name:[5,1],Vo:"Ctrl + C"},{name:[5,7],Vo:"Shift + Ctrl + C"},{name:[5,2],Vo:"Ctrl + V",V:function(t,e){return{V:null!=e.lD||null!=e.jG||null!=e.tC_}},wN:!0},{name:[2,2],Vo:"Delete"},{name:[2,3],V:function(t){return{V:null!=t}},W_:!0,Vo:"Shift + F5"},{name:[14,9],V:function(t){return{V:null!=t}},W_:!0,wN:!0},{name:[10,16],Vo:"Alt+Ctrl + T"},{name:[2,4],wN:!0,sub:[{name:[2,9],wN:!0},{name:"90° ↻",V:function(t){return{cg:n.get([2,5])+" 90° ↻"}}},{name:"90° ↺",V:function(t){return{cg:n.get([2,5])+" 90° ↺"}}},{name:"180° ",V:function(t){return{cg:n.get([2,5])+" 180°"}}},{name:[2,6]},{name:[2,7]}]},{name:[12,87],sub:[{name:[12,62],V:function(t){return{V:null!=t}}},{name:[9,3],V:function(t){return{V:null!=t}}},{name:[10,31],V:function(t){return{V:null!=t&&0!=t.g.length&&null!=t.b[t.g[0]].add.vmsk}}}]},{name:[12,79],W_:!0,Vo:"Ctrl + K"}],SG:[{U:bt.E.W,c:j.ni,k:{X:"h_undoredo"}},{U:bt.E.W,c:j.ni,k:{X:"h_stepfwd"}},{U:bt.E.W,c:j.ni,k:{X:"h_stepbck"}},{U:bt.E.Y,k:{X:bt.m.Bv}},{U:bt.E.Y,k:{X:bt.m.yL}},{U:bt.E.Y,k:{X:bt.m.Bo}},{U:bt.E.Y,k:{X:bt.m.yT}},{U:bt.E.W,c:j.so,k:{X:"clear"}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"fill"}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"stroke"}},{U:bt.E.Y,k:{X:bt.m.mG,c:j._y}},{sub:[{U:bt.E.Y,k:{X:bt.m.mG,c:j._y,ex:{eg:1}}},{U:bt.E.W,c:j._y,k:{X:"rot",_F:[2,5],R:-Math.PI/2}},{U:bt.E.W,c:j._y,k:{X:"rot",_F:[2,5],R:-3*Math.PI/2}},{U:bt.E.W,c:j._y,k:{X:"rot",_F:[2,5],R:Math.PI}},{U:bt.E.W,c:j._y,k:{X:"scl",_F:[2,6],R:new f(-1,1)}},{U:bt.E.W,c:j._y,k:{X:"scl",_F:[2,7],R:new f(1,-1)}}]},{sub:[{U:bt.E.Y,k:{X:bt.m.Ie,gg:0}},{U:bt.E.Y,k:{X:bt.m.Ie,gg:1}},{U:bt.E.Y,k:{X:bt.m.Ie,gg:2}}]},{U:bt.E.Y,k:{X:bt.m.gI,gL:"preferences"}}]},{name:[0,2],items:[{name:[3],sub:function(){var t=[];for(var e in tt.ready)t.push({name:tt.names[e],W_:null!=ue[e],Vo:W.trH(tt.keys[e]),wN:-1!=tt.nR.indexOf(e)});return t}()},{name:[4,16,0],V:function(t){return{V:null!=t&&t.FS(!1)}}},{name:[4,16,1],V:function(t){return{V:null!=t&&t.FS(!1)}}},{name:[4,16,2],V:function(t){return{V:null!=t&&t.FS(!1)}},wN:!0},{name:[11,11],V:function(t){return{V:null!=t&&t.FS(!1)}},wN:!0},{name:[11,3],W_:!0},{name:[11,10],W_:!0},{name:[2,4],sub:[{name:"90° ↻",V:function(t){return{cg:n.get([2,5])+" 90° ↻"}}},{name:"90° ↺",V:function(t){return{cg:n.get([2,5])+" 90° ↺"}}},{name:"180° ",V:function(t){return{cg:n.get([2,5])+" 180°"}}},{name:[2,6]},{name:[2,7]}]},{name:[11,12],W_:!0,V:function(t){return{V:null!=t&&t.FS(!1)}},Vo:"Ctrl + ."}],SG:[{sub:function(){var t=[];for(var e in tt.ready)t.push({U:bt.E.W,c:j.nP,k:{X:"start",hs:e}});return t}()},{U:bt.E.W,c:j.nP,k:{X:"auto",cC:0}},{U:bt.E.W,c:j.nP,k:{X:"auto",cC:1}},{U:bt.E.W,c:j.nP,k:{X:"auto",cC:2}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"vbitmap"}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"csize"}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"isize"}},{sub:[{U:bt.E.W,c:j.Wz,k:{X:"rot",_F:[2,5],R:-Math.PI/2}},{U:bt.E.W,c:j.Wz,k:{X:"rot",_F:[2,5],R:-3*Math.PI/2}},{U:bt.E.W,c:j.Wz,k:{X:"rot",_F:[2,5],R:Math.PI}},{U:bt.E.W,c:j.Wz,k:{X:"scl",_F:[2,6],R:new f(-1,1)}},{U:bt.E.W,c:j.Wz,k:{X:"scl",_F:[2,7],R:new f(1,-1)}}]},{U:bt.E.W,c:j.Wz,k:{X:"trim"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],Vo:"Ctrl + J"}]},{name:[6,0],Vo:"Ctrl + J"},{name:[11,4],V:function(t){return{V:null!=t}}},{name:[5,4],wN:!0},{name:[11,6],wN:!0,V:function(t){return{V:null!=t}},sub:Ce.zg()},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],wN:!0,sub:Ce.zv()},{name:[6,2],sub:[{name:[6,4],V:function(t){return{V:null!=t&&0!=t.g.length&&null==t.b[t.g[0]].Ab()}}},{name:[6,5],V:function(t){return{V:null!=t&&0!=t.g.length&&null==t.b[t.g[0]].Ab()}}},{name:[5,4],V:function(t){return{V:null!=t&&0!=t.g.length&&null!=t.b[t.g[0]].Ab()}}},{name:[5,8],V:function(t){return{V:null!=t&&0!=t.g.length&&null!=t.b[t.g[0]].Ab()&&t.FS(!1,!0)}}},{name:"Enable/Disable",V:function(t){return{cg:n.get([5,5])+"/"+n.get([5,6]),V:null!=t&&0!=t.g.length&&null!=t.b[t.g[0]].Ab()}}}]},{name:[6,3],sub:[{name:[6,4],V:function(t){return{V:null!=t&&0!=t.g.length&&null==t.b[t.g[0]].add.vmsk}}},{name:[6,5],V:function(t){return{V:null!=t&&0!=t.g.length&&null==t.b[t.g[0]].add.vmsk}}},{name:[5,4],V:function(t){return{V:null!=t&&0!=t.g.length&&null!=t.b[t.g[0]].add.vmsk}}},{name:"Enable/Disable",V:function(t){return{cg:n.get([5,5])+"/"+n.get([5,6]),V:null!=t&&0!=t.g.length&&null!=t.b[t.g[0]].add.vmsk}}}]},{name:[6,6],Vo:"Alt+Ctrl+G",wN:!0,V:function(t){return{cU:null!=t&&0!=t.g.length&&t.b[t.g[0]].fB,V:null!=t&&t.HG(t.g[0])}}},{name:[6,7]},{name:[6,8],V:function(t){if(null==t||0==t.g.length)return{V:!1};var e=t.b[t.g[0]];return e.add.TySh||e.add.SoLd||e.add.SoCo||e.add.GdFl||e.add.PtFl?{V:!0}:{V:!1}}},{name:[6,34],wN:!0,V:function(t){return null==t||0==t.g.length?{V:!1}:{V:null!=t.b[t.g[0]].add.lmfx}}},{name:[6,9],wN:!0,Vo:"Ctrl+G"},{name:[6,55],wN:!0,sub:[{name:[6,56,0],Vo:"Sift+Ctrl+]"},{name:[6,56,1],Vo:"Ctrl+]"},{name:[6,56,2],Vo:"Ctrl+["},{name:[6,56,3],Vo:"Shift+Ctrl+["}]},{name:[6,10],V:function(t){return{V:null!=t&&1==t.g.length&&0!=t.g[0]&&!t.b[t.g[0]].oP()}},Vo:"Ctrl+E"},{name:[6,11],V:function(t){return{V:null!=t&&0!=t.g.length&&(t.g.length>1||t.b[t.g[0]].oP())}}}],SG:[{sub:[{U:bt.E.W,c:j.uh,k:{X:nt.Hl}},{U:bt.E.W,c:j.uh,k:{X:nt.KG}},{U:bt.E.W,c:j.uh,k:{X:nt.Pt}}]},{U:bt.E.W,c:j.uh,k:{X:nt.nJ}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"duplinto"}},{U:bt.E.W,c:j.uh,k:{X:nt.vN}},{sub:Ce.za()},{sub:[{U:bt.E.W,c:j.uh,k:{X:nt.fL,aO:0,pZ:0}},{U:bt.E.W,c:j.uh,k:{X:nt.fL,aO:1,pZ:0}},{U:bt.E.W,c:j.uh,k:{X:nt.fL,aO:2,pZ:0}}]},{sub:Ce.zW()},{sub:[{U:bt.E.W,c:j.uh,k:{X:nt.nK,Lm:!1}},{U:bt.E.W,c:j.uh,k:{X:nt.nK,Lm:!0}},{U:bt.E.W,c:j.uh,k:{X:nt.rU}},{U:bt.E.W,c:j.uh,k:{X:nt.KT}},{U:bt.E.W,c:j.uh,k:{X:nt.v_}}]},{sub:[{U:bt.E.W,c:j.uh,k:{X:nt.Ea,Lm:!1}},{U:bt.E.W,c:j.uh,k:{X:nt.Ea,Lm:!0}},{U:bt.E.W,c:j.uh,k:{X:nt.HJ}},{U:bt.E.W,c:j.uh,k:{X:nt.CK}}]},{U:bt.E.W,c:j.uh,k:{X:nt.Ei}},{U:bt.E.W,c:j.uh,k:{X:nt.Jj}},{U:bt.E.W,c:j.uh,k:{X:nt.jF}},{U:bt.E.W,c:j.uh,k:{X:nt.KJ}},{U:bt.E.W,c:j.uh,k:{X:nt.ri}},{sub:[{U:bt.E.W,c:j.uh,k:{X:nt.TW,gE:0}},{U:bt.E.W,c:j.uh,k:{X:nt.TW,gE:1}},{U:bt.E.W,c:j.uh,k:{X:nt.TW,gE:2}},{U:bt.E.W,c:j.uh,k:{X:nt.TW,gE:3}}]},{U:bt.E.W,c:j.uh,k:{X:nt.CM}},{U:bt.E.W,c:j.uh,k:{X:nt.JK}}]},{name:[0,5],items:[{name:[7,0],Vo:"Ctrl+A"},{name:[7,1],Vo:"Ctrl+D",V:function(t){return{V:null!=t&&null!=t.t}}},{name:[7,2],Vo:"Shift+Ctrl+I",V:function(t){return{V:null!=t&&null!=t.t}},wN:!0},{name:[7,8],W_:!0},{name:[7,11],W_:!0,V:function(t){return{V:null!=t&&0!=t.g.length&&!t.b[t.g[0]].rect.km()}}},{name:[7,3],wN:!0,sub:[{name:[7,9],W_:!0,V:function(t){return{V:null!=t&&null!=t.t}}},{name:[7,4],W_:!0,V:function(t){return{V:null!=t&&null!=t.t}}},{name:[7,5],W_:!0,V:function(t){return{V:null!=t&&null!=t.t}}},{name:[7,6],W_:!0,V:function(t){return{V:null!=t&&null!=t.t}}}]},{name:[7,10],V:function(t){return{V:null!=t&&null!=t.t}}}],SG:[{U:bt.E.W,c:j.sQ,k:{X:"all"}},{U:bt.E.W,c:j.sQ,k:{X:"deselect"}},{U:bt.E.W,c:j.sQ,k:{X:"inverse"}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"crange"}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"redge"}},{sub:[{U:bt.E.Y,k:{X:bt.m.gI,gL:"sel_border"}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"sel_expand"}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"sel_contract"}},{U:bt.E.Y,k:{X:bt.m.gI,gL:"sel_feather"}}]},{U:bt.E.Y,k:{X:bt.m.mG,c:j.mE}}]},function(){for(var t={name:[0,6],items:[{name:[24,18,4],Vo:"Ctrl + F",wN:!0}],SG:[{U:bt.E.W,c:j.Mb,k:{X:"applylast"}}]},e=0;e<et.BX.length;e++){var i=et.BX[e];if(null==i.uL){var n={name:i.qm,sub:[]};t.items.push(n);var r={sub:[]};t.SG.push(r);for(var s=0;s<i.nE.length;s++){var a={name:et.names[i.nE[s]],W_:null!=et.vI(i.nE[s])};n.sub.push(a);var h={U:bt.E.W,c:j.Mb,k:{X:"start",filter:i.nE[s]}};r.sub.push(h)}}else t.items.push({name:et.names[i.uL],W_:!0}),t.SG.push({U:bt.E.W,c:j.Mb,k:{X:"start",filter:i.uL}})}return t}(),{name:[0,7],items:[{name:[8,0],Vo:"Ctrl + +"},{name:[8,1],Vo:"Ctrl + -"},{name:[20,3],Vo:"Ctrl + 0"},{name:[20,2],Vo:"Ctrl + 1",wN:!0},{name:"Extras",Vo:"Ctrl + H",V:function(t,e){return{cU:e.kk}}},{name:[8,9],V:function(t,e){return{V:e.kk,cU:e.sS.XB}}},{name:[8,2],V:function(t,e){return{V:e.kk,cU:e.sS.UL}}},{name:[8,4],V:function(t,e){return{V:e.kk,cU:e.sS.TN}}},{name:[8,8],V:function(t,e){return{V:e.kk,cU:e.sS.Qx}},wN:!0},{name:[8,3],V:function(t,e){return{cU:e.Td}},Vo:"Ctrl + R",wN:!0},{name:[8,5],V:function(t,e){return{cU:e.PB}}},{name:[8,6],sub:[{name:[8,2],V:function(t,e){return{cU:e.EY[0]}}},{name:[8,4],V:function(t,e){return{cU:e.EY[1]}}},{name:[8,7],V:function(t,e){return{cU:e.EY[4]}}}]}],SG:[{U:bt.E.W,c:j.ML,k:{X:"zoom",FL:!0}},{U:bt.E.W,c:j.ML,k:{X:"zoom",FL:!1}},{U:bt.E.W,c:j.ML,k:{X:"adapt",R:"fitscr"}},{U:bt.E.W,c:j.ML,k:{X:"adapt",R:"pixel"}},{U:bt.E.Y,k:{X:bt.m.u_,gg:Q.lb}},{U:bt.E.Y,k:{X:bt.m.u_,gg:Q.OP}},{U:bt.E.Y,k:{X:bt.m.u_,gg:Q.tU}},{U:bt.E.Y,k:{X:bt.m.u_,gg:Q.ls}},{U:bt.E.Y,k:{X:bt.m.u_,gg:Q.Od}},{U:bt.E.Y,k:{X:bt.m.u_,gg:Q.lY}},{U:bt.E.Y,k:{X:bt.m.u_,gg:Q.OG}},{sub:[{U:bt.E.Y,k:{X:bt.m.u_,gg:Q.Vl,SP:0}},{U:bt.E.Y,k:{X:bt.m.u_,gg:Q.Vl,SP:1}},{U:bt.E.Y,k:{X:bt.m.u_,gg:Q.Vl,SP:4}}]}]},function(){var t={name:[0,8],items:[],SG:[]};for(var e in rn.yJ){var i=rn.yJ[e];t.items.push({name:i.AB.name}),t.SG.push({U:bt.E.Y,k:{X:bt.m.yP,gL:e}})}return t}(),function(){var t={name:[0,14],items:[],SG:[]},e={name:[0,9],sub:[]};t.items.push(e);var i={sub:[]};t.SG.push(i);for(var r=n.DN(),s=0;s<r.length;s++)e.sub.push({name:r[s].name,Vo:r[s].code,V:function(t,e){return{cU:this.Vo==n.DF()}}}),i.sub.push({U:bt.E.Y,k:{X:bt.m.u_,gg:Q.fy,lang:s}});e.sub.push({name:[0,12]}),i.sub.push({U:bt.E.Y,k:{X:bt.m.yQ,link:"https://www.photopea.com/translate/"}});e={name:[0,15],sub:[]};t.items.push(e);i={sub:[]};t.SG.push(i);for(s=0;s<Mt.Us.length;s++)e.sub.push({name:Mt.Us[s].name,V:function(t,e){return{cU:this.name==Mt.Us[e.gp].name}}}),i.sub.push({U:bt.E.Y,k:{X:bt.m.u_,gg:Q.Vz,gp:s}});return t.items.push({name:"Install Photopea",V:function(t,e){return{V:null!=e.jL}}}),t.SG.push({U:bt.E.Y,k:{X:bt.m.bf}}),t.items.push({name:[11,13]}),t.SG.push({U:bt.E.Y,k:{X:bt.m.gI,gL:"shortcuts"}}),t.items.push({name:[0,16],V:function(t){return{cU:u.Yv,V:u.PZ}}}),t.SG.push({U:bt.E.Y,k:{X:bt.m.bq}}),t}()],on.prototype=new St,on.prototype.Tc=function(t,e){this.DC=t,this.DT=e;for(var i=0;i<this.yv.length;i++)this.eq(this.yv[i])},on.prototype.w=function(){for(var t=0;t<this.yv.length;t++)this.yv[t].w()},on.prototype.i_=function(){return 0==this.LW.length?null:this.LW[this.LW.length-1]},on.prototype.ZQ=function(){for(var t=0;t<this.LW.length;t++)if(this.LW[t].ZQ())return!0;return!1},on.prototype.eW=function(t,e,i,n,r){for(var s=null,a=0;a<this.yv.length;a++)this.yv[a].id==t&&(s=this.yv[a]);if(s.mv(e)&&(this.eq(s),-1==this.LW.indexOf(s))){var h=this.LW.length-1;h>=0&&bt.wj(this.LW[h].J,"wdisabled"),this.J.appendChild(s.J),this.LW.push(s),s.aK(e,i,n,r)}},on.prototype.eq=function(t){var e=this.DC,i=this.DT,n=t._S(e,i);t.J.style.left=n.x+"px",t.J.style.top=this.J.offsetTop+n.y+"px",t.Tc(this.DC-2*n.x,this.DT-2*n.y-34)},on.prototype.qB=function(t,e){for(var i=0;i<this.yv.length;i++)this.yv[i].qB(t,e)},on.prototype.tCD=function(t){var e=this.LW.pop();this.J.removeChild(e.J);var i=this.LW.length-1;i>=0&&bt.cd(this.LW[i].J,"wdisabled"),this.tA.parentNode==this.J&&this.J.removeChild(this.tA)},window.onload=function(){var t=new tn;document.body.appendChild(t.J)}}();
