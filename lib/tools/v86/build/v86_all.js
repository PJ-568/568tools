"use strict";var p,ba="function"==typeof Object.defineProperties?Object.defineProperty:function(t,i,s){return t==Array.prototype||t==Object.prototype||(t[i]=s.value),t};function ca(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var i=0;i<t.length;++i){var s=t[i];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")}var db,rb,sb,tb,ub,vb,wb,da=ca(this);function ea(t,i){if(i)t:{var s=da;t=t.split(".");for(var e=0;e<t.length-1;e++){var h=t[e];if(!(h in s))break t;s=s[h]}(i=i(e=s[t=t[t.length-1]]))!=e&&null!=i&&ba(s,t,{configurable:!0,writable:!0,value:i})}}function fa(t,i,s){this.h=t,this.v=s,this.B=[104,111,115,116,57,112],this.F=this.B.length,this.D="9P2000.L",this.j=this.o=8192,this.i=new Uint8Array(2*this.j),this.C=0,this.g=[],this.ab=new ka(i,{name:"virtio-9p",Ia:48,He:4169,Rg:9,Fe:{Vc:43008,Xa:[{Kc:32,me:0}],features:[0,32,29,28],zk:()=>{}},notification:{Vc:43264,Kj:!1,Oh:[t=>{if(0===t){for(;la(this.l);){la(t=this.l);var i=t.s.Oa(t.h+4+2*t.j);i=new ma(t,i),t.j=t.j+1&t.o,na(this,i)}i=(t=this.l).s.Oa(t.h+2)+0&65535,t.s.Ae(t.g+4+8*t.size,i)}}]},hc:{Vc:42752},Vf:{Vc:42496,td:[{bytes:2,name:"mount tag length",read:()=>this.F,write:()=>{}}].concat(Array.from(Array(254).keys()).map((t=>({bytes:1,name:"mount tag name "+t,read:()=>this.B[t]||0,write:()=>{}}))))}}),this.l=this.ab.Xa[0]}function u(t,i,s,e){v(["w","b","h"],[e+7,i+1,s],t.i,0),t.C=e+7}function qa(t,i,s){u(t,6,i,s=v(["w"],[s],t.i,7))}function D(t,i){for(var s=t.i.subarray(0,t.C),e=0,h=s.length;h&&i.Nf!==i.Of.length;){var n=i.Of[i.Nf];const t=n.ef+i.Be;(n=n.Ne-i.Be)>h?(n=h,i.Be+=h):(i.Nf++,i.Be=0),ra(i.s,s.subarray(e,e+n),t),e+=n,h-=n}i.qf+=e,e=(s=t.l).s.Oa(s.g+2)+s.i&s.o,h=i.qf,s.s.Lc(s.g+4+8*e,i.Ph),s.s.Lc(s.g+8+8*e,h),s.i++,0!==(t=t.l).i&&(i=t.s.Oa(t.g+2)+t.i&65535,t.s.Ae(t.g+2,i),t.i=0,0<(536870912&t.ab.h[0])?(t.s.Oa(t.h+4+2*t.size),t.ab.Aa(1)):1&~t.s.Oa(t.h)&&t.ab.Aa(1))}async function na(t,i){var s=new Uint8Array(i.pf);ua(i,s);var e={offset:0},h=E(["w","b","h"],s,e),n=h[0],a=h[1],r=h[2];switch(a){case 8:n=va(t.h);var o=wa(t.h);(h=[16914839])[1]=t.o,h[2]=Math.floor(o/h[1]),h[3]=h[2]-Math.floor(n/h[1]),h[4]=h[2]-Math.floor(n/h[1]),h[5]=xa(t.h),h[6]=za(t.h),h[7]=0,h[8]=256,n=v("wwddddddw".split(""),h,t.i,7),u(t,a,r,n),D(t,i);break;case 112:case 12:n=(h=E(["w","w"],s,e))[0],e=h[1],s=t.g[n].Z;var c=H(t.h,s);o=Aa(t.h,s,e),Ba(t.h,t.g[n].Z,function(){var t=[];t[0]=c.za,t[1]=this.j-24,v(["Q","w"],t,this.i,7),u(this,a,r,17),D(this,i)}.bind(t));break;case 70:if(s=(h=E(["w","w","s"],s,e))[0],n=h[1],o=h[2],0>(o=Ca(t.h,t.g[s].Z,t.g[n].Z,o))){qa(t,r,-o),D(t,i);break}u(t,a,r,0),D(t,i);break;case 16:n=(h=E(["w","s","s","w"],s,e))[0],o=h[1];var f=h[3];s=Da(t.h,o,t.g[n].Z,h[2]),(c=H(t.h,s)).uid=t.g[n].uid,c.Ga=f,v(["Q"],[c.za],t.i,7),u(t,a,r,13),D(t,i);break;case 18:n=(h=E("wswwww".split(""),s,e))[0],o=h[1],e=h[2],s=h[3];var d=h[4];f=h[5],s=Ea(t.h,o,t.g[n].Z,s,d),(c=H(t.h,s)).mode=e,c.uid=t.g[n].uid,c.Ga=f,v(["Q"],[c.za],t.i,7),u(t,a,r,13),D(t,i);break;case 22:n=(h=E(["w"],s,e))[0],n=v(["s"],[(c=H(t.h,t.g[n].Z)).te],t.i,7),u(t,a,r,n),D(t,i);break;case 72:n=(h=E(["w","s","w","w"],s,e))[0],o=h[1],e=h[2],f=h[3],s=Fa(t.h,o,t.g[n].Z),(c=H(t.h,s)).mode=e|Ga,c.uid=t.g[n].uid,c.Ga=f,v(["Q"],[c.za],t.i,7),u(t,a,r,13),D(t,i);break;case 14:n=(h=E(["w","s","w","w","w"],s,e))[0],o=h[1],s=h[2],e=h[3],f=h[4],t.v.send("9p-create",[o,t.g[n].Z]),s=Ha(t.h,o,t.g[n].Z),t.g[n].Z=s,t.g[n].type=1,t.g[n].$b=o,(c=H(t.h,s)).uid=t.g[n].uid,c.Ga=f,c.mode=e,v(["Q","w"],[c.za,t.j-24],t.i,7),u(t,a,r,17),D(t,i);break;case 52:n=(h=E("wbwddws".split(""),s,e))[0],s=h[2],o=0===h[4]?1/0:h[4],h=Ia(h[1],h[3],o,h[5],h[6]),v(["b"],[o=Ja(t.h,t.g[n].Z,h,s)],t.i,7),u(t,a,r,1),D(t,i);break;case 54:n=(h=E("wbddws".split(""),s,e))[0],o=0===h[3]?1/0:h[3],h=Ia(h[1],h[2],o,h[4],h[5]),(o=Ka(t.h,t.g[n].Z,h))||((o=h).type=2),n=v(["b","d","d","w","s"],[o.type,o.start,1/0===o.length?0:o.length,o.h,o.g],t.i,7),u(t,a,r,n),D(t,i);break;case 24:if(n=(h=E(["w","d"],s,e))[0],!(c=H(t.h,t.g[n].Z))||c.status===La){qa(t,r,2),D(t,i);break}h[0]|=4096,h[0]=h[1],h[1]=c.za,h[2]=c.mode,h[3]=c.uid,h[4]=c.Ga,h[5]=c.Ua,h[6]=c.Oe<<8|c.Pe,h[7]=c.size,h[8]=t.o,h[9]=Math.floor(c.size/512+1),h[10]=c.Oc,h[11]=0,h[12]=c.ic,h[13]=0,h[14]=c.Ed,h[15]=0,h[16]=0,h[17]=0,h[18]=0,h[19]=0,v("dQwwwddddddddddddddd".split(""),h,t.i,7),u(t,a,r,153),D(t,i);break;case 26:n=(h=E("wwwwwddddd".split(""),s,e))[0],c=H(t.h,t.g[n].Z),1&h[1]&&(c.mode=h[2]),2&h[1]&&(c.uid=h[3]),4&h[1]&&(c.Ga=h[4]),16&h[1]&&(c.Oc=Math.floor((new Date).getTime()/1e3)),32&h[1]&&(c.ic=Math.floor((new Date).getTime()/1e3)),64&h[1]&&(c.Ed=Math.floor((new Date).getTime()/1e3)),128&h[1]&&(c.Oc=h[6]),256&h[1]&&(c.ic=h[8]),8&h[1]&&await Ma(t.h,t.g[n].Z,h[5]),u(t,a,r,0),D(t,i);break;case 50:n=(h=E(["w","d"],s,e))[0],u(t,a,r,0),D(t,i);break;case 40:case 116:if(n=(h=E(["w","d","w"],s,e))[0],o=h[1],f=h[2],!(c=H(t.h,t.g[n].Z))||c.status===La){qa(t,r,2),D(t,i);break}if(2==t.g[n].type){for((void 0).length<o+f&&(f=(void 0).length-o),h=0;h<f;h++)t.i[11+h]=(void 0)[o+h];v(["w"],[f],t.i,7),u(t,a,r,4+f)}else Aa(t.h,t.g[n].Z,void 0),h=t.g[n].Z,f=Math.min(f,t.i.length-11),c.size<o+f?f=c.size-o:40==a&&(f=Na(t.h,h,o+f)-o),o>c.size&&(f=0),t.v.send("9p-read-start",[t.g[n].$b]),h=await Oa(t.h,h,o,f),t.v.send("9p-read-end",[t.g[n].$b,f]),h&&t.i.set(h,11),v(["w"],[f],t.i,7),u(t,a,r,4+f);D(t,i);break;case 118:if(n=(h=E(["w","d","w"],s,e))[0],o=h[1],f=h[2],h=t.g[n].$b,2===t.g[n].type){qa(t,r,95),D(t,i);break}await Pa(t.h,t.g[n].Z,o,f,s.subarray(e.offset)),t.v.send("9p-write-end",[h,f]),v(["w"],[f],t.i,7),u(t,a,r,4),D(t,i);break;case 74:if(h=E(["w","s","w","s"],s,e),0>(o=await Ra(t.h,t.g[h[0]].Z,h[1],t.g[h[2]].Z,h[3]))){qa(t,r,-o),D(t,i);break}u(t,a,r,0),D(t,i);break;case 76:if(e=(h=E(["w","s","w"],s,e))[0],o=h[1],s=h[2],-1==(n=Sa(t.h,t.g[e].Z,o))){qa(t,r,2),D(t,i);break}if(0>(o=Ta(t.h,t.g[e].Z,o))){qa(t,r,-o),D(t,i);break}u(t,a,r,0),D(t,i);break;case 100:n=E(["w","s"],s,e),t.j=n[0],n=v(["w","s"],[t.j,t.D],t.i,7),u(t,a,r,n),D(t,i);break;case 104:n=(h=E(["w","w","s","s","w"],s,e))[0],t.g[n]={Z:0,type:1,uid:h[4],$b:""},v(["Q"],[(c=H(t.h,t.g[n].Z)).za],t.i,7),u(t,a,r,13),D(t,i),t.v.send("9p-attach");break;case 108:h=E(["h"],s,e),u(t,a,r,0),D(t,i);break;case 110:if(n=(h=E(["w","w","h"],s,e))[0],f=h[1],0==(d=h[2])){t.g[f]={Z:t.g[n].Z,type:1,uid:t.g[n].uid,$b:t.g[n].$b},v(["h"],[0],t.i,7),u(t,a,r,2),D(t,i);break}for(o=[],h=0;h<d;h++)o.push("s");e=E(o,s,e),s=t.g[n].Z,o=9;var l=0;for(h=0;h<d&&-1!=(s=Sa(t.h,s,e[h]));h++)o+=v(["Q"],[H(t.h,s).za],t.i,o),l++,t.g[f]={Z:s,type:1,uid:t.g[n].uid,$b:e[h]};v(["h"],[l],t.i,7),u(t,a,r,o-7),D(t,i);break;case 120:h=E(["w"],s,e),t.g[h[0]]&&0<=t.g[h[0]].Z&&(await Ua(t.h,t.g[h[0]].Z),t.g[h[0]].Z=-1,t.g[h[0]].type=-1),u(t,a,r,0),D(t,i);break;case 32:n=(h=E(["w","s","d","w"],s,e))[0],o=h[1],s=h[3],t.g[n].type=2,u(t,a,r,0),D(t,i);break;case 30:n=(h=E(["w","w","s"],s,e))[0],o=h[2],qa(t,r,95),D(t,i)}}function Va(t,i){function s(t){return t=t.toString(16),"#"+"0".repeat(6-t.length)+t}function e(t,i,s,e){t.style.width="",t.style.height="",e&&(t.style.transform="");var h=t.getBoundingClientRect();e?t.style.transform=(1===i?"":" scaleX("+i+")")+(1===s?"":" scaleY("+s+")"):(0==i%1&&0==s%1?(u.style.imageRendering="crisp-edges",u.style.imageRendering="pixelated",u.style["-ms-interpolation-mode"]="nearest-neighbor"):(u.style.uk="",u.style["-ms-interpolation-mode"]=""),0!=(e=window.devicePixelRatio||1)%1&&(i/=e,s/=e)),1!==i&&(t.style.width=h.width*i+"px"),1!==s&&(t.style.height=h.height*s+"px")}console.assert(t,"1st argument must be a DOM container");var h,n,a,r,o,c,u=t.getElementsByTagName("canvas")[0],f=u.getContext("2d",{alpha:!1}),d=t.getElementsByTagName("div")[0],l=document.createElement("div"),b=1,g=1,p=1,y=!1,m=!1,w=this;t=new Uint16Array([199,252,233,226,228,224,229,231,234,235,232,239,238,236,196,197,201,230,198,244,246,242,251,249,255,214,220,162,163,165,8359,402,225,237,243,250,241,209,170,186,191,8976,172,189,188,161,171,187,9617,9618,9619,9474,9508,9569,9570,9558,9557,9571,9553,9559,9565,9564,9563,9488,9492,9524,9516,9500,9472,9532,9566,9567,9562,9556,9577,9574,9568,9552,9580,9575,9576,9572,9573,9561,9560,9554,9555,9579,9578,9496,9484,9608,9604,9612,9616,9600,945,223,915,960,931,963,181,964,934,920,937,948,8734,966,949,8745,8801,177,8805,8804,8992,8993,247,8776,176,8729,183,8730,8319,178,9632,160]);for(var v,_=new Uint16Array([32,9786,9787,9829,9830,9827,9824,8226,9688,9675,9689,9794,9792,9834,9835,9788,9658,9668,8597,8252,182,167,9644,8616,8593,8595,8594,8592,8735,8596,9650,9660]),A=[],k=0;256>k;k++)v=127<k?t[k-128]:32>k?_[k]:k,A[k]=String.fromCharCode(v);f.imageSmoothingEnabled=!1,l.style.position="absolute",l.style.backgroundColor="#ccc",l.style.width="7px",l.style.display="inline-block",d.style.display="block",u.style.display="none",this.v=i,i.register("screen-set-mode",(function(t){this.Df(t)}),this),i.register("screen-fill-buffer-end",(function(t){this.Kf(t)}),this),i.register("screen-put-char",(function(t){this.xf(t[0],t[1],t[2],t[3],t[4])}),this),i.register("screen-update-cursor",(function(t){this.wd(t[0],t[1])}),this),i.register("screen-update-cursor-scanline",(function(t){this.xd(t[0],t[1])}),this),i.register("screen-clear",(function(){this.Sf()}),this),i.register("screen-set-size-text",(function(t){this.rd(t[0],t[1])}),this),i.register("screen-set-size-graphical",(function(t){this.qd(t[0],t[1],t[2],t[3])}),this),this.hb=function(){this.rd(80,25),this.sb()},this.Xh=function(){const t=new Image;if(y)t.src=u.toDataURL("image/png");else{const i=[9,16],e=document.createElement("canvas");e.width=o*i[0],e.height=c*i[1];const a=e.getContext("2d");a.imageSmoothingEnabled=!1,a.font=window.getComputedStyle(d).font,a.textBaseline="top";for(let t=0;t<o;t++)for(let e=0;e<c;e++){const h=3*(e*o+t);a.fillStyle=s(r[h+1]),a.fillRect(t*i[0],e*i[1],i[0],i[1]),a.fillStyle=s(r[h+2]),a.fillText(A[r[h]],t*i[0],e*i[1])}"none"!==l.style.display&&(a.fillStyle=l.style.backgroundColor,a.fillRect(n*i[0],h*i[1]+parseInt(l.style.marginTop,10)-1,parseInt(l.style.width,10),parseInt(l.style.height,10))),t.src=e.toDataURL("image/png")}try{window.open("").document.write(t.outerHTML)}catch(t){}},this.xf=function(t,i,s,e,h){t<c&&i<o&&(r[i=3*(t*o+i)]=s,r[i+1]=e,r[i+2]=h,a[t]=1)},this.sb=function(){m||requestAnimationFrame(y?E:L)};var L=function(){for(var t=0;t<c;t++)a[t]&&(w.g(t),a[t]=0);this.sb()}.bind(this),E=function(){this.v.send("screen-fill-buffer"),this.sb()}.bind(this);this.va=function(){m=!0},this.Df=function(t){(y=t)?(d.style.display="none",u.style.display="block"):(d.style.display="block",u.style.display="none")},this.Sf=function(){f.fillStyle="#000",f.fillRect(0,0,u.width,u.height)},this.rd=function(t,i){if(t!==o||i!==c){for(a=new Int8Array(i),r=new Int32Array(t*i*3),o=t,c=i;d.childNodes.length>i;)d.removeChild(d.firstChild);for(;d.childNodes.length<i;)d.appendChild(document.createElement("div"));for(t=0;t<i;t++)this.g(t);e(d,b,g,!0)}},this.qd=function(t,i){u.style.display="block",u.width=t,u.height=i,p=640>=t&&2*t<window.innerWidth&&2*t<window.innerHeight?2:1,e(u,b*p,g*p,!1)},this.Ef=function(t,i){e(d,b=t,g=i,!0),e(u,b*p,g*p,!1)},this.Ef(b,g),this.xd=function(t,i){32&t?l.style.display="none":(l.style.display="inline",l.style.height=Math.min(15,i-t)+"px",l.style.marginTop=Math.min(15,t)+"px")},this.wd=function(t,i){t===h&&i===n||(a[t]=1,a[h]=1,h=t,n=i)},this.g=function(t){for(var i,e=3*t*o,a=d.childNodes[t],c=document.createElement("div"),u=0;u<o;){var f=document.createElement("span"),b=r[e+1],g=r[e+2];for(f.style.backgroundColor=s(b),f.style.color=s(g),i="";u<o&&r[e+1]===b&&r[e+2]===g;)if(i+=A[r[e]],u++,e+=3,t===h){if(u===n)break;if(u===n+1){c.appendChild(l);break}}f.textContent=i,c.appendChild(f)}a.parentNode.replaceChild(c,a)},this.Kf=function(t){t.forEach((t=>{f.putImageData(t.Fb,t.Bf-t.De,t.Cf-t.Ee,t.De,t.Ee,t.gf,t.ff)}))},this.hb()}function eb(t){this.ports=[],this.s=t;for(var i=0;65536>i;i++)this.ports[i]=gb(this);var s=t.H[0];for(i=0;i<<17<s;i++)t.i[i]=t.l[i]=void 0,t.pa[i]=t.j[i]=void 0;hb(this,s,4294967296-s,(function(){return 255}),(function(){}),(function(){return-1}),(function(){}))}function gb(t){return{od:t.Eh,Oa:t.Ch,qe:t.Dh,df:t.kf,Ae:t.kf,Lc:t.kf,oa:void 0}}function K(t,i,s,e,h,n){e&&(t.ports[i].od=e),h&&(t.ports[i].Oa=h),n&&(t.ports[i].qe=n),t.ports[i].oa=s}function L(t,i,s,e,h,n){e&&(t.ports[i].df=e),h&&(t.ports[i].Ae=h),n&&(t.ports[i].Lc=n),t.ports[i].oa=s}function hb(t,i,s,e,h,n,a){for(n||(n=t.Zh.bind(t)),a||(a=t.$h.bind(t)),i>>>=17;0<s;i++)t.s.i[i]=e,t.s.l[i]=h,t.s.pa[i]=n,t.s.j[i]=a,s-=131072}function ib(t,i){this.i=this.g=!1,this.j=0,this.h=null,this.s=new jb(t,i,(()=>{this.C&&kb(this,0)})),this.v=t,t.register("cpu-init",this.hb,this),t.register("cpu-run",this.Ze,this),t.register("cpu-stop",this.stop,this),t.register("cpu-restart",this.zf,this),this.l()}function lb(t){if(t.i||!t.g)t.i=t.g=!1,t.v.send("emulator-stopped");else{t.C=!1;t:{var i=t.s;if(i.h[0]){var s=mb(i);if(i.h[0]){i=s;break t}}let e=s=nb();for(;1>e-s;){i.Tj(),e=nb();const t=ob(i,e);if(pb(i),i.h[0]){i=t;break t}}i=0}kb(t,i)}}function kb(t,i){const s=++t.j;t.C=!0,t.B(i,s)}if(ea("globalThis",(function(t){return t||da})),ea("Object.fromEntries",(function(t){return t||function(t){var i={};if(!(Symbol.iterator in t))throw new TypeError(t+" is not iterable");for(var s=(t=t[Symbol.iterator].call(t)).next();!s.done;s=t.next()){if(s=s.value,Object(s)!==s)throw new TypeError("iterable for fromEntries should yield objects");i[s[0]]=s[1]}return i}})),Object.freeze(["shared","exclusive","unlock"]),fa.prototype.$=function(){var t=[];return t[0]=this.B,t[1]=this.F,t[2]=this.ab,t[3]=this.D,t[4]=this.o,t[5]=this.j,t[6]=this.i,t[7]=this.C,t[8]=this.g.map((function(t){return[t.Z,t.type,t.uid,t.$b]})),t[9]=this.h,t},fa.prototype.G=function(t){this.B=t[0],this.F=t[1],this.ab.G(t[2]),this.l=this.ab.Xa[0],this.D=t[3],this.o=t[4],this.j=t[5],this.i=t[6],this.C=t[7],this.g=t[8].map((function(t){return{Z:t[0],type:t[1],uid:t[2],$b:t[3]}})),this.h.G(t[9])},function(){function t(t){document.title=t+" - Virtual x86";const i=document.querySelector("meta[name=description]");i&&(i.content="Running "+t)}function i(t){return document.getElementById(t)}function s(){function s(s){i("boot_options").style.display="none",t(s.name),o.filesystem=s.filesystem,s.state&&(i("reset").style.display="none",o.Wc=s.state),o.ma=s.ma,o.fa=s.fa,o.N=s.N,o.ed=s.ed,o.vb=s.vb,o.Xc=s.Xc,o.Pc=s.Pc,o.hf=s.hf,o.Gb=s.Gb,o.Dd=s.Dd,o.ya=s.state||void 0===o.ya?s.ya:o.ya,o.H=!s.state&&o.H?o.H:s.H,o.ha=!s.state&&o.ha?o.ha:s.ha,o.id=s.id,void 0!==s.oc&&(o.oc=s.oc);var n=parseInt(c.chunk_size,10);0<=n&&(n?(n=Math.min(4194304,Math.max(512,n)),n=1<<Math.ceil(Math.log2(n))):n=void 0,o.N&&(o.N.J=n),o.fa&&(o.fa.J=n)),s.ga&&(i("description").style.display="block",(n=document.createElement("a")).href=s.ga,n.textContent=s.name,n.target="_blank",i("description").appendChild(document.createTextNode("Running ")),i("description").appendChild(n)),e(o,h)}function h(t){c.c&&setTimeout((function(){Wa(t,c.c+"\n")}),25)}if(window.WebAssembly){var n=document.createElement("script");n.src="build/xterm.js",n.async=!0,document.body.appendChild(n);var o={};i("start_emulation").onclick=function(){i("boot_options").style.display="none",a("custom");var s=i("floppy_image").files[0];if(s){var h=s;o.ma={buffer:s}}(s=i("cd_image").files[0])&&(h=s,o.fa={buffer:s}),(s=i("hda_image").files[0])&&(h=s,o.N={buffer:s}),(s=i("hdb_image")&&i("hdb_image").files[0])&&(h=s,o.Ke={buffer:s}),i("multiboot_image")&&(s=i("multiboot_image").files[0])&&(h=s,o.ed={buffer:s}),h&&t(h.name),e(o)};var c=function(){for(var t=location.search.substr(1).split("&"),i={},s=0;s<t.length;s++){var e=t[s].split("=");i[e[0]]=decodeURIComponent(e.slice(1).join("="))}return i}();n=[{id:"archlinux",name:"Arch Linux",H:536870912,ha:8388608,state:{url:(n=c.cdn||(r?"images/":"//k.copy.sh/"))+"arch_state.bin.zst"},filesystem:{Ce:n+"arch/"}},{id:"archlinux-boot",name:"Arch Linux",H:536870912,ha:8388608,filesystem:{Ce:n+"arch/",ih:{url:n+"fs.json"}},Pc:"rw apm=off vga=0x344 video=vesafb:ypan,vremap:8 root=host9p rootfstype=9p rootflags=trans=virtio,cache=loose mitigations=off audit=0 init_on_free=on tsc=reliable random.trust_cpu=on nowatchdog init=/usr/bin/init-openrc net.ifnames=0 biosdevname=0",hf:!0},{id:"copy/skiffos",name:"SkiffOS",fa:{url:n+"skiffos.iso",size:124672e3,async:!0,J:1048576,ca:!r},H:536870912},{id:"serenity",name:"SerenityOS",N:{url:n+"serenity-v3/.img.zst",size:734003200,async:!0,J:1048576,ca:!0},H:536870912,state:{url:n+"serenity_state-v4.bin.zst"},ga:"https://serenityos.org/",Gb:!0},{id:"serenity-boot",name:"SerenityOS",N:{url:n+"serenity-v3/.img.zst",size:734003200,async:!0,J:1048576,ca:!0},H:536870912,ga:"https://serenityos.org/"},{id:"redox",name:"Redox",N:{url:n+"redox_demo_i686_2022-11-26_643_harddrive.img",size:536870912,async:!0,J:1048576,ca:!r},H:536870912,state:{url:n+"redox_state.bin.zst"},ga:"https://www.redox-os.org/",ya:!0},{id:"redox-boot",name:"Redox",N:{url:n+"redox_demo_i686_2022-11-26_643_harddrive.img",size:536870912,async:!0,J:1048576,ca:!r},H:536870912,ga:"https://www.redox-os.org/",ya:!0},{id:"helenos",H:268435456,fa:{url:n+"HelenOS-0.11.2-ia32.iso",size:25765888,async:!1},name:"HelenOS",ga:"http://www.helenos.org/"},{id:"fiwix",H:268435456,N:{url:n+"fiwixos-doom-3.2-i386.img",size:1073741824,async:!0,J:1048576,ca:!r},name:"FiwixOS",ga:"https://www.fiwix.org/"},{id:"haiku",H:536870912,N:{url:n+"haiku-v3.img",size:1073741824,async:!0,J:1048576,ca:!r},state:{url:n+"haiku_state-v3.bin.zst"},name:"Haiku",ga:"https://www.haiku-os.org/"},{id:"haiku-boot",H:536870912,N:{url:n+"haiku-v3.img",size:1073741824,async:!0,J:1048576,ca:!r},name:"Haiku",ga:"https://www.haiku-os.org/"},{id:"msdos",N:{url:n+"msdos.img",size:8388608,async:!1},oc:306,name:"MS-DOS"},{id:"freedos",ma:{url:n+"freedos722.img",size:737280,async:!1},name:"FreeDOS"},{id:"psychdos",N:{url:n+"psychdos.img",size:549453824,async:!0,J:262144,ca:!r},name:"PsychDOS",ga:"https://psychoslinux.gitlab.io/DOS/INDEX.HTM"},{id:"oberon",N:{url:n+"oberon.img",size:25165824,async:!1},name:"Oberon"},{id:"windows1",ma:{url:n+"windows101.img",size:1474560,async:!1},name:"Windows"},{id:"linux26",fa:{url:n+"linux.iso",size:6547456,async:!1},name:"Linux"},{id:"linux3",fa:{url:n+"linux3.iso",size:8624128,async:!1},name:"Linux"},{id:"linux4",fa:{url:n+"linux4.iso",size:7731200,async:!1},name:"Linux",filesystem:{}},{id:"buildroot",vb:{url:n+"buildroot-bzimage.bin",size:5166352,async:!1},name:"Buildroot Linux",filesystem:{},Pc:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"nodeos",vb:{url:n+"nodeos-kernel.bin",size:14452e3,async:!1},name:"NodeOS",Pc:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"dsl",H:268435456,fa:{url:n+"dsl-4.11.rc2.iso",size:52824064,async:!1},name:"Damn Small Linux",ga:"http://www.damnsmalllinux.org/"},{id:"minix",name:"Minix",H:268435456,fa:{url:n+"minix-3.3.0.iso",size:605581312,async:!0,J:1048576,ca:!r},ga:"https://www.minix3.org/"},{id:"kolibrios",ma:{url:r?n+"kolibri.img":"//builds.kolibrios.org/eng/data/data/kolibri.img",size:1474560,async:!1},name:"KolibriOS",ga:"https://kolibrios.org/en/"},{id:"kolibrios-fallback",ma:{url:n+"kolibri.img",size:1474560,async:!1},name:"KolibriOS"},{id:"openbsd",N:{url:n+"openbsd.img",size:1073741824,async:!0,J:1048576,ca:!r},state:{url:n+"openbsd_state.bin.zst"},H:268435456,name:"OpenBSD"},{id:"openbsd-boot",N:{url:n+"openbsd.img",size:1073741824,async:!0,J:1048576,ca:!r},H:268435456,name:"OpenBSD"},{id:"netbsd",N:{url:n+"netbsd.img",size:511000064,async:!0,J:1048576,ca:!r},H:268435456,name:"NetBSD"},{id:"solos",ma:{url:n+"os8.img",async:!1,size:1474560},name:"Sol OS",ga:"http://oby.ro/os/"},{id:"bootchess",ma:{url:n+"bootchess.img",async:!1,size:1474560},name:"BootChess",ga:"http://www.pouet.net/prod.php?which=64962"},{id:"bootbasic",ma:{url:n+"bootbasic.img",async:!1,size:1474560},name:"bootBASIC",ga:"https://github.com/nanochess/bootBASIC"},{id:"sectorlisp",ma:{url:n+"sectorlisp-friendly.bin",async:!1,size:512},name:"SectorLISP",ga:"https://justine.lol/sectorlisp2/"},{id:"sectorforth",ma:{url:n+"sectorforth.img",async:!1,size:512},name:"sectorforth",ga:"https://github.com/cesarblum/sectorforth"},{id:"floppybird",ma:{url:n+"floppybird.img",async:!1,size:1474560},name:"Floppy Bird",ga:"http://mihail.co/floppybird"},{id:"windows2000",H:536870912,N:{url:n+"windows2k.img",size:2147483648,async:!0,J:262144,ca:!r},name:"Windows 2000",state:{url:n+"windows2k_state-v2.bin.zst"},Gb:!0},{id:"windows2000-boot",H:536870912,N:{url:n+"windows2k.img",size:2147483648,async:!0,J:262144,ca:!r},oc:306,name:"Windows 2000"},{id:"windowsnt4",H:536870912,N:{url:n+"winnt4_noacpi.img",size:523837440,async:!0,J:262144,ca:!r},name:"Windows NT 4.0",Dd:2},{id:"windowsnt3",H:268435456,N:{url:n+"winnt31.img",size:91226112,async:!0,J:262144,ca:!r},name:"Windows NT 3.1"},{id:"windows98",H:134217728,N:{url:n+"windows98.img",size:314572800,async:!0,J:262144,ca:!r},name:"Windows 98",state:{url:n+"windows98_state.bin.zst"},Gb:!0},{id:"windows98-boot",H:134217728,N:{url:n+"windows98.img",size:314572800,async:!0,J:262144,ca:!r},name:"Windows 98"},{id:"windows95",H:33554432,N:{url:n+"w95.img",size:242049024,async:!0,J:262144,ca:!r},name:"Windows 95",state:{url:n+"windows95_state.bin.zst"}},{id:"windows95-boot",H:33554432,N:{url:n+"w95.img",size:242049024,async:!0,J:262144,ca:!r},name:"Windows 95"},{id:"windows30",H:67108864,fa:{url:n+"Win30.iso",async:!1},name:"Windows 3.0"},{id:"windows31",H:67108864,N:{url:n+"win31.img",async:!1,size:34463744},name:"Windows 3.1"},{id:"freebsd",H:268435456,N:{url:n+"freebsd.img",size:2147483648,async:!0,J:1048576,ca:!r},state:{url:n+"freebsd_state.bin.zst"},name:"FreeBSD"},{id:"freebsd-boot",H:268435456,N:{url:n+"freebsd.img",size:2147483648,async:!0,J:1048576,ca:!r},name:"FreeBSD"},{id:"reactos-livecd",H:268435456,N:{url:n+"reactos-livecd-0.4.15-dev-73-g03c09c9-x86-gcc-lin-dbg.iso",size:250609664,async:!0,J:1048576,ca:!r},name:"ReactOS",ga:"https://reactos.org/"},{id:"reactos",H:536870912,N:{url:n+"reactos.img",size:524288e3,async:!0,J:1048576,ca:!r},state:{url:n+"reactos_state.bin.zst"},Gb:!0,name:"ReactOS",ga:"https://reactos.org/"},{id:"reactos-boot",H:536870912,N:{url:n+"reactos.img",size:524288e3,async:!0,J:1048576,ca:!r},name:"ReactOS",ga:"https://reactos.org/"},{id:"skift",fa:{url:n+"skift-20200910.iso",size:64452608,async:!1},name:"Skift",ga:"https://skiftos.org/"},{id:"snowdrop",ma:{url:n+"snowdrop.img",size:1474560,async:!1},name:"Snowdrop",ga:"http://www.sebastianmihai.com/snowdrop/"},{id:"openwrt",N:{url:n+"openwrt-18.06.1-x86-legacy-combined-squashfs.img",size:19846474,async:!1},name:"OpenWrt"},{id:"qnx",ma:{url:n+"qnx-demo-network-4.05.img",size:1474560,async:!1},name:"QNX 4.05"},{id:"9front",H:134217728,N:{url:n+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386.iso",size:477452288,async:!0,J:1048576,ca:!r},state:{url:n+"9front_state-v2.bin.zst"},ya:!0,name:"9front",ga:"https://9front.org/"},{id:"9front-boot",H:134217728,N:{url:n+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386.iso",size:477452288,async:!0,J:1048576,ca:!r},ya:!0,name:"9front",ga:"https://9front.org/"},{id:"mobius",ma:{url:n+"mobius-fd-release5.img",size:1474560,async:!1},name:"Mobius"},{id:"android",H:536870912,fa:{url:n+"android-x86-1.6-r2.iso",size:54661120,async:!0,J:1048576,ca:!r},name:"Android"},{id:"android4",H:536870912,fa:{url:n+"android_x86_nonsse3_4.4r1_20140904.iso",size:247463936,async:!0,J:1048576,ca:!r},name:"Android"},{id:"tinycore",H:268435456,N:{url:n+"TinyCore-11.0.iso",async:!1},name:"Tinycore",ga:"http://www.tinycorelinux.net/"},{id:"freenos",H:268435456,fa:{url:n+"FreeNOS-1.0.3.iso",async:!1,size:11014144},name:"FreeNOS",ya:!0,ga:"http://www.freenos.org/"}];var u=c.profile;if(!u){var f=document.createElement("link");f.rel="prefetch",f.href="build/v86.wasm",document.head.appendChild(f)}for(c.use_bochs_bios&&(o.Oj=!0),0<(f=parseInt(c.m,10))&&(o.H=1048576*Math.max(16,f)),0<(f=parseInt(c.vram,10))&&(o.ha=1048576*f),o.mg=c.networking_proxy,o.audio="0"!==c.audio,o.ya=c.acpi,f=0;f<n.length;f++){var d=n[f];if(u===d.id)return void s(d);var l=i("start_"+d.id);l&&(l.onclick=function(t,i,e){e.preventDefault(),a(t.id),i.blur(),s(t)}.bind(this,d,l))}if("custom"===u)c["hda.url"]&&(o.N={size:parseInt(c["hda.size"],10)||void 0,url:c["hda.url"],async:!0}),c["cdrom.url"]&&(o.fa={size:parseInt(c["cdrom.size"],10)||void 0,url:c["cdrom.url"],async:!0}),c["fda.url"]&&(o.ma={size:parseInt(c["fda.size"],10)||void 0,url:c["fda.url"],async:!1}),(o.ma||o.fa||o.N)&&(i("boot_options").style.display="none",e(o,h));else if(/^[a-zA-Z0-9\-_]+\/[a-zA-Z0-9\-_]+$/g.test(u)){const t="https://v86-user-images.b-cdn.net/"+u;fetch(t+"/profile.json").then((t=>t.json())).then((i=>{function e(i){return i&&{url:t+"/"+i.url,async:i.async,size:i.size}}s({id:i.id,name:i.name,H:i.memory_size,ha:i.vga_memory_size,ya:i.acpi,oc:i.boot_order,N:e(i.hda),fa:e(i.cdrom),ma:e(i.fda),ed:e(i.multiboot),vb:e(i.bzimage),Xc:e(i.initrd)})})).catch((()=>alert("Profile not found: "+u)))}}else alert("Your browser is not supported because it doesn't support WebAssembly")}function e(t,s){var e=t.H;e||((e=1048576*parseInt(i("memory_size").value,10))||(alert("Invalid memory size - reset to 128MB"),e=134217728));var n=t.ha;if(n||((n=1048576*parseInt(i("video_memory_size").value,10))||(alert("Invalid video memory size - reset to 8MB"),n=8388608)),!t.ma){var a=i("floppy_image").files[0];a&&(t.ma={buffer:a})}!t.vb&&(a=i("bzimage").files[0])&&(t.vb={buffer:a}),!t.Xc&&(a=i("initrd").files[0])&&(t.Xc={buffer:a}),a=void 0===t.mg?i("networking_proxy").value:t.mg;const c=void 0===t.audio?i("disable_audio").checked:!t.audio,u=void 0===t.ya?i("enable_acpi").checked:t.ya;if(t.Oj)var f="bochs-bios.bin",d="bochs-vgabios.bin";else f="seabios.bin",d="vgabios.bin";if(!t.Wc)var l={url:"bios/"+f},b={url:"bios/"+d};var g=new Xa({memory_size:e,vga_memory_size:n,screen_container:i("screen_container"),serial_container_xtermjs:i("terminal"),boot_order:t.oc||parseInt(i("boot_order").value,16)||0,network_relay_url:r?"ws://localhost:8080/":a,bios:l,vga_bios:b,fda:t.ma,hda:t.N,hdb:t.Ke,cdrom:t.fa,multiboot:t.ed,bzimage:t.vb,initrd:t.Xc,cmdline:t.Pc,bzimage_initrd_from_filesystem:t.hf,acpi:u,initial_state:t.Wc,filesystem:t.filesystem||{},disable_speaker:c,mac_address_translation:t.Gb,cpuid_level:t.Dd,autostart:!0});J(g,"emulator-ready",(function(){if(g.g.s.xa.exports.profiler_is_enabled()){var e=document.createElement("pre");document.body.appendChild(e),setInterval((function(){if(g.Zc()){var t=Ya.Lj(g.g.s);e.textContent=t}}),1e3)}"dsl"===t.id||"helenos"===t.id?setTimeout((()=>{Wa(g,"\n")}),3e3):("android"===t.id||"android4"===t.id)&&setTimeout((()=>{Za(g,[57424,57552]),Wa(g,"\n")}),3e3),function(t,s){function e(){var t=Date.now(),e=s.g?s.g.s.Th[0]>>>0:0;e<u&&(u-=4294967296);var h=e-u;u=e,l+=h,(e=t-o)&&(c+=e,o=t,i("speed").textContent=(h/1e3/e).toFixed(1),i("avg_speed").textContent=(l/1e3/c).toFixed(1),t=i("running_time"),h=c/1e3|0,t.textContent=60>h?h+"s":3600>h?(h/60|0)+"m "+$a(h%60,2)+"s":(h/3600|0)+"h "+$a((h/60|0)%60,2)+"m "+$a(h%60,2)+"s")}function n(e,h){var n=i("get_"+h+"_image");!e||104857600<e.size?n.style.display="none":n.onclick=function(){var i=s.ac[h];let e=i.file&&i.file.name||t.id+("cdrom"===h?".iso":".img");i.fg?ab(i=i.fg(e),e):i.pb((function(t){t?bb(t,e):alert("The file could not be loaded. Maybe it's too big?")})),n.blur()}}function a(t){t.ctrlKey?window.onbeforeunload=function(){return window.onbeforeunload=null,"CTRL-W cannot be sent to the emulator."}:window.onbeforeunload=null}i("boot_options").style.display="none",i("loading").style.display="none",i("runtime_options").style.display="block",i("runtime_infos").style.display="block",i("screen_container").style.display="block",t.filesystem?h(s):J(s,"9p-attach",(function(){h(s)})),i("run").onclick=function(){s.Zc()?(i("run").value="Run",s.stop()):(i("run").value="Pause",s.Ze()),i("run").blur()},i("exit").onclick=function(){s.stop(),location.href=location.pathname},i("lock_mouse").onclick=function(){r||i("toggle_mouse").onclick(),cb(),i("lock_mouse").blur()};var r=!0;i("toggle_mouse").onclick=function(){r=!r,s.l&&(s.l.Ie=r),i("toggle_mouse").value=(r?"Dis":"En")+"able mouse",i("toggle_mouse").blur()};var o=0,c=0,u=0,f=null,d=!1,l=0;J(s,"emulator-started",(function(){o=Date.now(),f=setInterval(e,1e3)})),J(s,"emulator-stopped",(function(){e(),null!==f&&clearInterval(f)}));var b=0,g=0,p=[];J(s,"9p-read-start",(function(t){t=t[0],p.push(t),i("info_filesystem").style.display="block",i("info_filesystem_status").textContent="Loading ...",i("info_filesystem_last_file").textContent=t})),J(s,"9p-read-end",(function(t){b+=t[1],i("info_filesystem_bytes_read").textContent=b;const s=t[0];(p=p.filter((t=>t!==s)))[0]?i("info_filesystem_last_file").textContent=p[0]:i("info_filesystem_status").textContent="Idle"})),J(s,"9p-write-end",(function(t){g+=t[1],i("info_filesystem_bytes_written").textContent=g,p[0]||(i("info_filesystem_last_file").textContent=t[0])}));var y=0,m=0,w=0,v=0;J(s,"ide-read-start",(function(){i("info_storage").style.display="block",i("info_storage_status").textContent="Loading ..."})),J(s,"ide-read-end",(function(t){y+=t[1],m+=t[2],i("info_storage_status").textContent="Idle",i("info_storage_bytes_read").textContent=y,i("info_storage_sectors_read").textContent=m})),J(s,"ide-write-end",(function(t){w+=t[1],v+=t[2],i("info_storage_bytes_written").textContent=w,i("info_storage_sectors_written").textContent=v}));var _=0,A=0;J(s,"eth-receive-end",(function(t){A+=t[0],i("info_network").style.display="block",i("info_network_bytes_received").textContent=A})),J(s,"eth-transmit-end",(function(t){_+=t[0],i("info_network").style.display="block",i("info_network_bytes_transmitted").textContent=_})),J(s,"mouse-enable",(function(t){d=t,i("info_mouse_enabled").textContent=t?"Yes":"No"})),J(s,"screen-set-mode",(function(t){t?i("info_vga_mode").textContent="Graphical":(i("info_vga_mode").textContent="Text",i("info_res").textContent="-",i("info_bpp").textContent="-")})),J(s,"screen-set-size-graphical",(function(t){i("info_res").textContent=t[0]+"x"+t[1],i("info_bpp").textContent=t[4]})),i("reset").onclick=function(){s.zf(),i("reset").blur()},n(t.N,"hda"),n(t.Ke,"hdb"),n(t.ma,"fda"),n(t.Zf,"fdb"),n(t.fa,"cdrom"),i("memory_dump").onclick=function(){const t=s.g.s.Na;bb(new Uint8Array(t.buffer,t.byteOffset,t.length),"v86memory.bin"),i("memory_dump").blur()},i("capture_network_traffic").onclick=function(){function t(t,s){var h=e,n=h.push,a=performance.now()/1e3;const r=[];let o=0;for(;o+15<s.length;o+=16){for(var c=$a(o.toString(16).toUpperCase(),5)+"   ",u=0;16>u;u++)c+=$a(s[o+u].toString(16).toUpperCase(),2)+" ";for(c+="  ",u=0;16>u;u++){var f=s[o+u];c+=33<=f&&34!==f&&92!==f&&126>=f?String.fromCharCode(f):"."}r.push(c)}for(c=$a(o.toString(16).toUpperCase(),5)+"   ";o<s.length;o++)c+=$a(s[o].toString(16).toUpperCase(),2)+" ";for(c+="   ".repeat(16-(u=15&o)),c+="  ",f=0;f<u;f++){const t=s[o+f];c+=33<=t&&34!==t&&92!==t&&126>=t?String.fromCharCode(t):"."}r.push(c),n.call(h,{direction:t,time:a,Rh:"\n"+r.join("\n")+"\n"}),i("capture_network_traffic").value=e.length+" packets"}this.value="0 packets";let e=[];s.Gd.register("net0-receive",t.bind(this,"I")),J(s,"net0-send",t.bind(this,"O")),this.onclick=function(){bb(e.map((({direction:t,time:i,Rh:s})=>t+" "+i.toFixed(6)+s+"\n")).join(""),"traffic.hex"),e=[],this.value="0 packets"}},i("save_state").onclick=async function(){bb(await s.se(),"v86state.bin"),i("save_state").blur()},i("load_state").onclick=function(){i("load_state_input").click(),i("load_state").blur()},i("load_state_input").onchange=async function(){var t=this.files[0];if(t){var i=s.Zc();i&&await s.stop();var e=new FileReader;e.onload=async function(t){try{await s.Nd(t.target.result)}catch(t){throw alert("Something bad happened while restoring the state:\n"+t+"\n\nNote that the current configuration must be the same as the original"),t}i&&s.Ze()},e.readAsArrayBuffer(t),this.value=""}},i("ctrlaltdel").onclick=function(){Za(s,[29,56,83,157,184,211]),i("ctrlaltdel").blur()},i("alttab").onclick=function(){Za(s,[56,15]),setTimeout((function(){Za(s,[184,143])}),100),i("alttab").blur()},i("scale").onchange=function(){var t=parseFloat(this.value);(t||0<t)&&s.h&&s.h.Ef(t,t)},i("fullscreen").onclick=function(){if(s.h){var t=document.getElementById("screen_container");if(t){var i=t.requestFullScreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullScreen;i&&(i.call(t),(t=document.getElementsByClassName("phone_keyboard")[0])&&t.focus());try{navigator.keyboard.lock()}catch(t){}cb()}}},i("screen_container").onclick=function(){if(r&&d)cb(),i("lock_mouse").blur();else if(window.getSelection().isCollapsed){let t=document.getElementsByClassName("phone_keyboard")[0];t.style.top=document.body.scrollTop+100+"px",t.style.left=document.body.scrollLeft+100+"px",t.focus()}};const k=document.getElementsByClassName("phone_keyboard")[0];if(k.setAttribute("autocorrect","off"),k.setAttribute("autocapitalize","off"),k.setAttribute("spellcheck","false"),k.tabIndex=0,i("screen_container").addEventListener("mousedown",(()=>{k.focus()}),!1),i("take_screenshot").onclick=function(){s.h&&s.h.Xh(),i("take_screenshot").blur()},s.j){let t=!1;i("mute").onclick=function(){t?(s.j.Qe.af(1,void 0),t=!1,i("mute").value="Mute"):(s.j.Qe.af(0,void 0),t=!0,i("mute").value="Unmute"),i("mute").blur()}}else i("mute").remove();window.addEventListener("keydown",a,!1),window.addEventListener("keyup",a,!1),window.addEventListener("blur",a,!1)}(t,g),s&&s(g)})),J(g,"download-progress",(function(t){var s=i("loading");if(s.style.display="block",t.he.endsWith(".wasm")){var e=t.he.split("/");s.textContent="Fetching "+e[e.length-1]+" ..."}else if(t.ge===t.fe-1&&t.loaded>=t.total-2048)s.textContent="Done downloading. Starting now ...";else{if(e="Downloading images ","number"==typeof t.ge&&t.fe&&(e+="["+(t.ge+1)+"/"+t.fe+"] "),t.total&&"number"==typeof t.loaded){t=Math.floor(t.loaded/t.total*100),t=Math.min(100,Math.max(0,t));var h=Math.floor(t/2);e=e+(t+"% [")+"#".repeat(h),e+=" ".repeat(50-h)+"]"}else e+=".".repeat(o++%50);s.textContent=e}})),J(g,"download-error",(function(t){var s=i("loading");s.style.display="block",s.textContent="Loading "+t.he+" failed. Check your connection and reload the page to try again."}))}function h(t){i("filesystem_panel").style.display="block",i("filesystem_send_file").onchange=function(){Array.prototype.forEach.call(this.files,(function(i){var s=new db(i);s.onload=function(){s.pb((async function(s){await t.qh("/"+i.name,new Uint8Array(s))}))},s.load()}),this),this.value="",this.blur()},i("filesystem_get_file").onkeypress=async function(i){if(13===i.which){this.disabled=!0;try{var s=await t.re(this.value)}catch(t){console.log(t)}this.disabled=!1,s?(bb(s,i=(i=this.value.replace(/\/$/,"").split("/"))[i.length-1]||"root"),this.value=""):alert("Can't read file")}}}function n(){location.reload()}function a(t){window.history.pushState&&window.history.pushState({profile:t},"","?profile="+t)}var r=!location.hostname.endsWith("copy.sh"),o=0;window.addEventListener("load",s,!1),window.addEventListener("load",(function(){setTimeout((function(){window.addEventListener("popstate",n)}),0)})),"complete"===document.readyState&&s()}(),(p=eb.prototype).Eh=function(){return 255},p.Ch=function(){return 65535},p.Dh=function(){return-1},p.kf=function(){},p.pd=function(t,i,s,e,h,n){function a(){return s.call(this)|e.call(this)<<8}h&&n?(K(this,t,i,s,a,(function(){return s.call(this)|e.call(this)<<8|h.call(this)<<16|n.call(this)<<24})),K(this,t+1,i,e),K(this,t+2,i,h,(function(){return h.call(this)|n.call(this)<<8})),K(this,t+3,i,n)):(K(this,t,i,s,a),K(this,t+1,i,e))},p.Lb=function(t,i,s,e,h,n){function a(t){s.call(this,255&t),e.call(this,t>>8&255)}h&&n?(L(this,t,i,s,a,(function(t){s.call(this,255&t),e.call(this,t>>8&255),h.call(this,t>>16&255),n.call(this,t>>>24)})),L(this,t+1,i,e),L(this,t+2,i,h,(function(t){h.call(this,255&t),n.call(this,t>>8&255)})),L(this,t+3,i,n)):(L(this,t,i,s,a),L(this,t+1,i,e))},p.Zh=function(t){var i=this.s.i[t>>>17];return i(t)|i(t+1)<<8|i(t+2)<<16|i(t+3)<<24},p.$h=function(t,i){var s=this.s.l[t>>>17];s(t,255&i),s(t+1,i>>8&255),s(t+2,i>>16&255),s(t+3,i>>>24)},(p=ib.prototype).Ze=function(){this.i=!1,this.g||(this.g=!0,this.v.send("emulator-started")),kb(this,0)},p.stop=function(){this.g&&(this.i=!0)},p.va=function(){this.o()},p.zf=function(){this.s.Ra(),qb(this.s)},p.hb=function(t){this.s.hb(t,this.v),this.v.send("emulator-ready")},"undefined"!=typeof process)ib.prototype.B=function(t,i){1>t?global.setImmediate((t=>{t===this.j&&lb(this)}),i):setTimeout((t=>{t===this.j&&lb(this)}),t,i)},ib.prototype.l=function(){},ib.prototype.o=function(){};else if("undefined"!=typeof Worker){function t(){globalThis.onmessage=function(t){const i=t.data.t;1>i?postMessage(t.data.Sg):setTimeout((()=>postMessage(t.data.Sg)),i)}}ib.prototype.l=function(){const i=URL.createObjectURL(new Blob(["("+t.toString()+")()"],{type:"text/javascript"}));this.h=new Worker(i),this.h.onmessage=t=>{t.data===this.j&&lb(this)},URL.revokeObjectURL(i)},ib.prototype.B=function(t,i){this.h.postMessage({t:t,Sg:i})},ib.prototype.o=function(){this.h.terminate(),this.h=null}}else ib.prototype.B=function(t){setTimeout((()=>{lb(this)}),t)},ib.prototype.l=function(){},ib.prototype.o=function(){};if(ib.prototype.se=function(){return this.s.se()},ib.prototype.Nd=function(t){return this.s.Nd(t)},"object"==typeof performance&&performance.now)var nb=performance.now.bind(performance);else if("function"==typeof require){const{performance:i}=require("perf_hooks");nb=i.now.bind(i)}else nb="object"==typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:Date.now;function xb(t,i){return(t||0===t?t+"":"").padEnd(i," ")}function $a(t,i){return(t||0===t?t+"":"").padStart(i,"0")}function Q(t,i,s,e){return new Proxy({},{get:function(h,n){return"function"==typeof(n=(h=new t(i.buffer,s,e))[n])?n.bind(h):n},set:function(h,n,a){return new t(i.buffer,s,e)[n]=a,!0}})}function yb(t,i){return"0x"+$a((t?t.toString(16):"").toUpperCase(),i||1)}if("undefined"!=typeof crypto&&crypto.getRandomValues){let s=new Int32Array(1);var zb=function(){return crypto.getRandomValues(s),s[0]}}else if("undefined"!=typeof require){const e=require("crypto");zb=function(){return e.Ck(4).readInt32LE(0)}}function Ab(t){var i,s,e=new Uint8Array(t);this.length=0,this.push=function(i){this.length!==t&&this.length++,e[s]=i,s=s+1&t-1},this.shift=function(){if(this.length){var s=e[i];return i=i+1&t-1,this.length--,s}return-1},this.clear=function(){this.length=s=i=0},this.clear()}function Bb(){this.size=65536,this.data=new Float32Array(65536),this.length=this.end=this.start=0}function Cb(t,i){var s=new Float32Array(i);i>t.length&&(i=t.length);var e=t.start+i,h=t.data.subarray(t.start,e);return s.set(h),e>=t.size&&(e-=t.size,s.set(t.data.subarray(0,e),h.length)),t.start=e,t.length-=i,s}function bb(t,i){t instanceof Array||(t=[t]),ab(new Blob(t),i)}function ab(t,i){var s=document.createElement("a");s.download=i,s.href=window.URL.createObjectURL(t),s.dataset.downloadurl=["application/octet-stream",s.download,s.href].join(":"),document.createEvent?((t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(t)):s.click(),window.URL.revokeObjectURL(s.href)}function Db(t){"number"==typeof t?this.view=new Uint8Array(t+7>>3):t instanceof ArrayBuffer&&(this.view=new Uint8Array(t))}!function(){if("function"==typeof Math.clz32)rb=function(t){return 31-Math.clz32(t)},sb=function(t){return 31-Math.clz32(t)};else{for(var t=new Int8Array(256),i=0,s=-2;256>i;i++)i&i-1||s++,t[i]=s;rb=function(i){return t[i]},sb=function(i){var s=(i>>>=0)>>>16;if(s){var e=s>>>8;return e?24+t[e]:16+t[s]}return(e=i>>>8)?8+t[e]:t[i]}}}(),Bb.prototype.push=function(t){this.length===this.size?this.start=this.start+1&this.size-1:this.length++,this.data[this.end]=t,this.end=this.end+1&this.size-1},Bb.prototype.shift=function(){if(this.length){var t=this.data[this.start];return this.start=this.start+1&this.size-1,this.length--,t}},Bb.prototype.clear=function(){this.length=this.end=this.start=0},Db.prototype.set=function(t,i){const s=t>>3;t=1<<(7&t),this.view[s]=i?this.view[s]|t:this.view[s]&~t},Db.prototype.get=function(t){return this.view[t>>3]>>(7&t)&1},Db.prototype.pb=function(){return this.view.buffer};var Gb="undefined"==typeof XMLHttpRequest?Eb:Fb;function Fb(t,i,s){function e(){const e=s||0;setTimeout((()=>{Fb(t,i,e+1)}),1e3*([1,1,2,3,5,8,13,21][e]||34))}var h=new XMLHttpRequest;if(h.open(i.method||"get",t,!0),h.responseType=i.zd?"json":"arraybuffer",i.headers)for(var n=Object.keys(i.headers),a=0;a<n.length;a++){var r=n[a];h.setRequestHeader(r,i.headers[r])}i.Ld&&(n=i.Ld.start,h.setRequestHeader("Range","bytes="+n+"-"+(n+i.Ld.length-1)),h.onreadystatechange=function(){200===h.status&&h.abort()}),h.onload=function(){4===h.readyState&&(200!==h.status&&206!==h.status?(console.error("Loading the image "+t+" failed (status %d)",h.status),500<=h.status&&600>h.status&&e()):h.response&&i.done&&i.done(h.response,h))},h.onerror=function(i){console.error("Loading the image "+t+" failed",i),e()},i.progress&&(h.onprogress=function(t){i.progress(t)}),h.send(null)}function Eb(t,i){let s=require("fs");i.Ld?s.open(t,"r",((t,e)=>{if(t)throw t;t=i.Ld.length;var h=Buffer.allocUnsafe(t);s.read(e,h,0,t,i.Ld.start,(t=>{if(t)throw t;i.done&&i.done(new Uint8Array(h)),s.close(e,(t=>{if(t)throw t}))}))})):s.readFile(t,{encoding:i.zd?"utf-8":null},(function(s,e){s?console.log("Could not read file:",t,s):(s=e,s=i.zd?JSON.parse(s):new Uint8Array(s).buffer,i.done(s))}))}function Hb(t,i,s,e,h,n){this.ka=new Ib(this,t,i,e,h,n),this.la=new Ib(this,t,s,!1,h,n),this.ta=this.ka,this.s=t,0===h?(this.g=496,this.ba=14,this.Ia=240):1===h&&(this.g=368,this.ba=15,this.Ia=248),this.i=516|this.g,this.h=46080,this.K=[134,128,16,112,5,0,160,2,0,128,1,1,0,0,0,0,255&this.g|1,this.g>>8,0,0,255&this.i|1,this.i>>8,0,0,0,0,0,0,0,0,0,0,255&this.h|1,this.h>>8,0,0,0,0,0,0,0,0,0,0,67,16,212,130,0,0,0,0,0,0,0,0,0,0,0,0,this.ba,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.ib=[{size:8},{size:4},void 0,void 0,{size:16}],this.name="ide"+h,this.l=2,K(t.A,7|this.g,this,(function(){return Jb(this.s,this.ba),this.Lg()})),K(t.A,2|this.i,this,this.Lg),L(t.A,2|this.i,this,this.Uj),K(t.A,0|this.g,this,(function(){return Kb(this.ta,1)}),(function(){return Kb(this.ta,2)}),(function(){return Kb(this.ta,4)})),K(t.A,1|this.g,this,(function(){return 255&this.ta.error})),K(t.A,2|this.g,this,(function(){return 255&this.ta.da})),K(t.A,3|this.g,this,(function(){return 255&this.ta.wa})),K(t.A,4|this.g,this,(function(){return 255&this.ta.na})),K(t.A,5|this.g,this,(function(){return 255&this.ta.qa})),K(t.A,6|this.g,this,(function(){return 255&this.ta.rc})),L(t.A,0|this.g,this,(function(t){Lb(this.ta,t,1)}),(function(t){Lb(this.ta,t,2)}),(function(t){Lb(this.ta,t,4)})),L(t.A,1|this.g,this,(function(t){this.ka.ad=65535&(this.ka.ad<<8|t),this.la.ad=65535&(this.la.ad<<8|t)})),L(t.A,2|this.g,this,(function(t){this.ka.da=65535&(this.ka.da<<8|t),this.la.da=65535&(this.la.da<<8|t)})),L(t.A,3|this.g,this,(function(t){this.ka.wa=65535&(this.ka.wa<<8|t),this.la.wa=65535&(this.la.wa<<8|t)})),L(t.A,4|this.g,this,(function(t){this.ka.na=65535&(this.ka.na<<8|t),this.la.na=65535&(this.la.na<<8|t)})),L(t.A,5|this.g,this,(function(t){this.ka.qa=65535&(this.ka.qa<<8|t),this.la.qa=65535&(this.la.qa<<8|t)})),L(t.A,6|this.g,this,(function(t){this.ta=16&t?this.la:this.ka,this.ka.rc=t,this.la.rc=t,this.ka.Hd=this.la.Hd=t>>6&1,this.ka.head=this.la.head=15&t})),this.j=this.ra=this.nd=0,L(t.A,7|this.g,this,(function(t){Jb(this.s,this.ba);var i=this.ta;if(i.buffer)switch(i.o=t,i.error=0,t){case 8:i.i=0,i.g=0,i.h=0,Mb(i),i.S();break;case 16:i.status=80,i.na=0,i.S();break;case 248:i.status=80;var s=i.j-1;i.wa=255&s,i.na=s>>8&255,i.qa=s>>16&255,i.rc=240&i.rc|s>>24&15,i.S();break;case 39:i.status=80,s=i.j-1,i.wa=255&s,i.na=s>>8&255,i.qa=s>>16&255,i.wa|=s>>24<<8&65280,i.S();break;case 32:case 36:case 41:case 196:Nb(i,t);break;case 48:case 52:case 57:case 197:var e=52===t||57===t;s=Ob(i,e),e=Pb(i,e),t=48===t||52===t,s*=i.l,(e*=i.l)+s>i.buffer.byteLength?(i.status=255,i.S()):(i.status=88,Qb(i,s),i.g=t?512:Math.min(s,512*i.L),i.X=e);break;case 144:i.S(),i.error=257,i.status=80;break;case 145:case 64:case 224:case 225:case 231:case 234:case 239:case 222:case 245:i.status=80,i.S();break;case 160:i.I&&(i.status=88,Rb(i,12),i.g=12,i.da=1,i.S());break;case 161:i.I?(Sb(i),i.status=88,i.na=20,i.qa=235):i.status=65,i.S();break;case 198:i.L=255&i.da,i.status=80,i.S();break;case 37:case 200:e=Ob(i,s=37===t),Pb(i,s)*i.l+e*i.l>i.buffer.byteLength?(i.status=255,i.S()):(i.status=88,i.oa.ra|=1);break;case 53:case 202:e=Ob(i,s=53===t),Pb(i,s)*i.l+e*i.l>i.buffer.byteLength?(i.status=255,i.S()):(i.status=88,i.oa.ra|=1);break;case 218:i.status=65,i.error=4,i.S();break;case 236:if(i.I){i.status=65,i.error=4,i.S();break}Sb(i),i.status=88,i.S();break;default:i.status=65,i.error=4}else i.error=4,i.status=65,i.S()})),K(t.A,4|this.h,this,void 0,void 0,this.vh),L(t.A,4|this.h,this,void 0,void 0,this.zh),K(t.A,this.h,this,this.xh,void 0,this.wh),L(t.A,this.h,this,this.Wf,void 0,this.Ah),K(t.A,2|this.h,this,this.yh),L(t.A,2|this.h,this,this.Xf),K(t.A,8|this.h,this,(function(){return 0})),K(t.A,10|this.h,this,(function(){return 0})),Tb(t.u.Ha,this)}function Ib(t,i,s,e,h,n){this.oa=t,this.v=n,this.Y=h,this.s=i,this.buffer=s,this.l=e?2048:512,this.I=e,this.F=this.C=this.D=this.j=0,this.buffer&&(this.j=this.buffer.byteLength/this.l,this.j!==(0|this.j)&&(this.j=Math.ceil(this.j)),e?(this.D=1,this.C=0):(this.D=16,this.C=63),this.F=this.j/this.D/this.C,this.F!==(0|this.F)&&(this.F=Math.floor(this.F)),(t=i.u.Ic).W[57]|=1<<4*this.Y,t.W[18]=15&t.W[18]|240,t.W[27]=255&this.F,t.W[28]=this.F>>8&255,t.W[29]=255&this.D,t.W[30]=255,t.W[31]=255,t.W[32]=200,t.W[33]=255&this.F,t.W[34]=this.F>>8&255,t.W[35]=255&this.C),this.B={Ng:0,Og:0,Qf:0,Rf:0,jg:!1},this.buffer=s,this.rc=this.head=this.qa=this.na=this.ad=this.wa=this.da=this.Hd=0,this.status=80,this.L=128,this.i=this.error=0,this.data=new Uint8Array(65536),this.V=new Uint16Array(this.data.buffer),this.O=new Int32Array(this.data.buffer),this.g=this.h=0,this.T=this.o=-1,this.pa=this.X=0,this.P=new Set,this.aa=new Set,Object.seal(this)}function Mb(t){t.I?(t.status=0,t.da=1,t.error=1,t.wa=1,t.na=20,t.qa=235):(t.status=81,t.da=1,t.error=1,t.wa=1,t.na=0,t.qa=0);for(const i of t.P)t.aa.add(i);t.P.clear()}function Zb(t,i){var s=(i[7]<<8|i[8])*t.l;i=(i[2]<<24|i[3]<<16|i[4]<<8|i[5])*t.l,t.h=0;var e=t.qa<<8&65280|255&t.na;t.na=t.qa=0,65535===e&&e--,e>s&&(e=s),i>=t.buffer.byteLength?(t.status=255,t.S()):0===s?(t.status=80,t.i=0):(s=Math.min(s,t.buffer.byteLength-i),t.status=208,$b(t),t.ea(i,s,(i=>{ac(t,i),t.status=88,t.da=-8&t.da|2,t.S(),e&=-4,t.g=e,t.g>t.h&&(t.g=t.h),t.na=255&t.g,t.qa=t.g>>8&255,bc(t,s)})))}function cc(t,i){var s=(i[7]<<8|i[8])*t.l;(i=(i[2]<<24|i[3]<<16|i[4]<<8|i[5])*t.l)>=t.buffer.byteLength?(t.status=255,t.S()):(t.status=208,$b(t),t.ea(i,s,(i=>{bc(t,s),t.status=88,t.da=-8&t.da|2,ac(t,i),Wb(t)})))}function Wb(t){if(0!=(1&t.oa.ra)&&0!=(8&t.status)){var i=t.oa.nd,s=0,e=t.data;do{var h=t.s.g(i),n=t.s.Oa(i+4),a=128&t.s.od(i+7);if(n||(n=65536),ra(t.s,e.subarray(s,Math.min(s+n,t.h)),h),i+=8,(s+=n)>=t.h&&!a)break}while(!a);t.status=80,t.oa.ra&=-2,t.da=-8&t.da|3,t.S()}}function Kb(t,i){if(t.i<t.g){var s=1===i?t.data[t.i]:2===i?t.V[t.i>>>1]:t.O[t.i>>>2];return t.i+=i,t.i>=t.g&&(160===t.o?t.g===t.h?(t.status=80,t.da=-8&t.da|3,t.S()):(t.status=88,t.da=-8&t.da|2,t.S(),i=t.qa<<8&65280|255&t.na,t.g+i>t.h?(t.na=t.h-t.g&255,t.qa=t.h-t.g>>8&255,t.g=t.h):t.g+=i):(t.error=0,t.i>=t.h?t.status=80:(i=196===t.o||41===t.o?Math.min(t.L,(t.h-t.g)/512):1,Xb(t,t.o,i),t.g+=512*i,t.status=88),t.S())),s}return t.i+=i,0}function Lb(t,i,s){if(!(t.i>=t.g)&&(1===s?t.data[t.i++]=i:2===s?(t.V[t.i>>>1]=i,t.i+=2):(t.O[t.i>>>2]=i,t.i+=4),t.i===t.g))if(160===t.o){switch(t.i=0,t.T=t.data[0],t.T){case 0:case 30:case 81:case 190:Rb(t,0),t.g=t.h,t.status=80;break;case 3:Rb(t,t.data[4]),t.g=t.h,t.status=88,t.data[0]=240,t.data[2]=5,t.data[7]=8;break;case 18:i=t.data[4],t.status=88,t.data.set([5,128,1,49,31,0,0,0,83,79,78,89,32,32,32,32,67,68,45,82,79,77,32,67,68,85,45,49,48,48,48,32,49,46,49,97]),t.g=t.h=Math.min(36,i);break;case 26:Rb(t,t.data[4]),t.g=t.h,t.status=88;break;case 37:i=t.j-1,ac(t,new Uint8Array([i>>24&255,i>>16&255,i>>8&255,255&i,0,0,t.l>>8&255,255&t.l])),t.g=t.h,t.status=88;break;case 40:1&t.ad?cc(t,t.data):Zb(t,t.data);break;case 66:i=t.data[8],Rb(t,Math.min(8,i)),t.g=t.h,t.status=88;break;case 67:i=t.data[8]|t.data[7]<<8,s=t.data[9]>>6,Rb(t,i),t.g=t.h,0===s?(i=t.j,t.data.set(new Uint8Array([0,18,1,1,0,20,1,0,0,0,0,0,0,22,170,0,i>>24,i>>16&255,i>>8&255,255&i]))):1===s&&t.data.set(new Uint8Array([0,10,1,1,0,0,0,0,0,0,0,0])),t.status=88;break;case 70:i=t.data[8]|t.data[7]<<8,Rb(t,i=Math.min(i,32)),t.g=t.h,t.data[0]=i-4>>24&255,t.data[1]=i-4>>16&255,t.data[2]=i-4>>8&255,t.data[3]=i-4&255,t.data[6]=8,t.data[10]=3,t.status=88;break;case 82:case 74:default:t.status=81,t.h=0,t.error=80;break;case 90:i=t.data[8]|t.data[7]<<8,42===t.data[2]&&Rb(t,Math.min(30,i)),t.g=t.h,t.status=88;break;case 189:Rb(t,t.data[9]|t.data[8]<<8),t.g=t.h,t.data[5]=1,t.status=88}t.da=-8&t.da|2,0==(128&t.status)&&t.S(),0==(128&t.status)&&0===t.h&&(t.da|=1,t.status&=-9)}else t.i>=t.h?t.be():(t.status=88,t.g+=512,t.S())}function Xb(t,i,s){t.da-=s,36===i||41===i||52===i||57===i||37===i||53===i?(i=s+dc(t),t.wa=255&i|i>>16&65280,t.na=i>>8&255,t.qa=i>>16&255):t.Hd?(i=s+ec(t),t.wa=255&i,t.na=i>>8&255,t.qa=i>>16&255,t.head=-16&t.head|15&i):(s=(i=s+gc(t))/(t.D*t.C)|0,t.na=255&s,t.qa=s>>8&255,t.head=(i/t.C|0)%t.D&15,t.wa=i%t.C+1&255,gc(t))}function Nb(t,i){var s=36===i||41===i,e=Ob(t,s);s=Pb(t,s);var h=32===i||36===i,n=e*t.l;(s*=t.l)+n>t.buffer.byteLength?(t.status=255,t.S()):(t.status=192,$b(t),t.ea(s,n,(s=>{ac(t,s),t.status=88,t.g=h?512:Math.min(n,512*t.L),Xb(t,i,h?1:Math.min(e,t.C)),t.S(),bc(t,n)})))}function Ub(t){var i=37===t.o,s=Ob(t,i);i=Pb(t,i);var e=s*t.l;i*=t.l,$b(t),t.ea(i,e,(i=>{var h=t.oa.nd,n=0;do{var a=t.s.g(h),r=t.s.Oa(h+4),o=128&t.s.od(h+7);r||(r=65536),ra(t.s,i.subarray(n,n+r),a),n+=r,h+=8}while(!o);Xb(t,t.o,s),t.status=80,t.oa.ra&=-2,t.o=-1,t.S(),bc(t,e)}))}function Vb(t){var i=53===t.o,s=Ob(t,i),e=Pb(t,i);i=s*t.l,e*=t.l;var h=t.oa.nd,n=0;const a=new Uint8Array(i);do{var r=t.s.g(h),o=t.s.Oa(h+4),c=128&t.s.od(h+7);o||(o=65536),a.set(t.s.Na.subarray(r,r+o),n),n+=o,h+=8}while(!c);t.buffer.set(e,a,(()=>{Xb(t,t.o,s),t.status=80,t.S(),t.oa.ra&=-2,t.o=-1})),Yb(t,i)}function gc(t){return((255&t.na|t.qa<<8&65280)*t.D+t.head)*t.C+(255&t.wa)-1}function ec(t){return 255&t.wa|t.na<<8&65280|t.qa<<16&16711680|(15&t.head)<<24}function dc(t){return(255&t.wa|t.na<<8&65280|t.qa<<16&16711680|t.wa>>8<<24&4278190080)>>>0}function Pb(t,i){return i?dc(t):t.Hd?ec(t):gc(t)}function Ob(t,i){return i?0===(t=t.da)&&(t=65536):0===(t=255&t.da)&&(t=256),t}function Sb(t){if(16&t.rc)Rb(t,0);else{for(var i=0;512>i;i++)t.data[i]=0;i=Math.min(16383,t.F),ac(t,[64,t.I?133:0,i,i>>8,0,0,t.D,t.D>>8,t.C/512,t.C/512>>8,0,2,t.C,t.C>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,2,4,0,0,0,0,0,0,0,0,0,56,118,32,54,68,72,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,128,0,1,0,0,2,0,0,0,2,0,2,7,0,i,i>>8,t.D,t.D>>8,t.C,0,255&t.j,t.j>>8&255,t.j>>16&255,t.j>>24&255,0,0,255&t.j,t.j>>8&255,t.j>>16&255,t.j>>24&255,0,0,160===t.o?0:7,160===t.o?0:4,0,0,30,0,30,0,30,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,126,0,0,0,0,0,0,116,0,64,0,64,0,116,0,64,0,0,0,0,0,0,0,0,0,0,1,96,0,0,0,0,0,0,0,0,0,0,0,0,255&t.j,t.j>>8&255,t.j>>16&255,t.j>>24&255]),t.h=512,t.g=512}}function Rb(t,i){Qb(t,i);for(var s=0;s<i+3>>2;s++)t.O[s]=0}function Qb(t,i){t.data.length<i&&(t.data=new Uint8Array(i+3&-4),t.V=new Uint16Array(t.data.buffer),t.O=new Int32Array(t.data.buffer)),t.h=i,t.i=0}function ac(t,i){Qb(t,i.length),t.data.set(i)}function $b(t){t.B.jg=!0,t.v.send("ide-read-start")}function bc(t,i){t.B.jg=!1;var s=i/t.l|0;t.B.Ng+=s,t.B.Qf+=i,t.v.send("ide-read-end",[t.Y,i,s])}function Yb(t,i){var s=i/t.l|0;t.B.Og+=s,t.B.Rf+=i,t.v.send("ide-write-end",[t.Y,i,s])}function hc(t){this.qb=new Uint8Array(4),this.g=new Uint8Array(4),this.hd=new Uint8Array(4),this.jd=new Uint8Array(4),this.gd=new Int32Array(this.qb.buffer),new Int32Array(this.g.buffer),this.rg=new Int32Array(this.hd.buffer),this.tg=new Int32Array(this.jd.buffer),this.yb=[],this.u=[],this.s=t;for(var i=0;256>i;i++)this.yb[i]=void 0,this.u[i]=void 0;this.A=t.A,L(t.A,3324,this,(function(t){ic(this,this.gd[0],t)}),(function(t){jc(this,this.gd[0],t)}),(function(t){var i=this.gd[0],s=i>>8&65535,e=255&i;if(i=this.yb[s],s=this.u[s],i)if(16<=e&&40>e)if(s=s.ib[e-16>>2]){var h=1&i[e>>=2];-1==(3|t|s.size-1)?(t=~(s.size-1)|h,0===h&&(i[e]=t)):0===h&&(i[e]=s.og),1===h&&(kc(this,s,65534&i[e],65534&t),i[e]=1|t)}else i[e>>2]=0;else 48===e?i[e>>2]=s.sg?-1==(2047|t)?0|-s.sg:0|s.ci:0:4!==e&&(i[e>>>2]=t)})),L(t.A,3325,this,(function(t){ic(this,this.gd[0]+1|0,t)})),L(t.A,3326,this,(function(t){ic(this,this.gd[0]+2|0,t)}),(function(t){jc(this,this.gd[0]+2|0,t)})),L(t.A,3327,this,(function(t){ic(this,this.gd[0]+3|0,t)})),t.A.pd(3324,this,(function(){return this.hd[0]}),(function(){return this.hd[1]}),(function(){return this.hd[2]}),(function(){return this.hd[3]})),t.A.pd(3320,this,(function(){return this.jd[0]}),(function(){return this.jd[1]}),(function(){return this.jd[2]}),(function(){return this.jd[3]})),t.A.Lb(3320,this,(function(t){this.qb[0]=252&t}),(function(i){2==(6&this.qb[1])&&6==(6&i)?lc(t):this.qb[1]=i}),(function(t){this.qb[2]=t}),(function(t){this.qb[3]=t,t=252&this.qb[0];var i=this.yb[this.qb[2]<<8|this.qb[1]];void 0!==i?(this.tg[0]=-2147483648,this.rg[0]=t<i.byteLength?i[t>>2]:0):(this.rg[0]=-1,this.tg[0]=0)})),Tb(this,{Ia:0,K:[134,128,55,18,0,0,0,0,2,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0],ib:[],name:"82441FX PMC"}),this.i={Ia:8,K:[134,128,0,112,7,0,0,2,0,0,1,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ib:[],name:"82371SB PIIX3 ISA"},this.j=Tb(this,this.i),this.h=new Uint8Array(this.j.buffer)}function ic(t,i,s){var e=255&i;new Uint8Array(t.yb[i>>8&65535].buffer)[e]=s}function jc(t,i,s){var e=255&i;!(t=new Uint16Array(t.yb[i>>8&65535].buffer))||16<=e&&44>e||(t[e>>>1]=s)}function Tb(t,i){var s=i.Ia,e=new Int32Array(64);e.set(new Int32Array(new Uint8Array(i.K).buffer)),t.yb[s]=e,t.u[s]=i,s=e.slice(4,10);for(var h=0;h<i.ib.length;h++){var n=i.ib[h];if(n){var a=s[h],r=1&a;if(n.og=a,n.entries=[],0!==r)for(a&=-2,r=0;r<n.size;r++)n.entries[r]=t.A.ports[a+r]}}return e}function kc(t,i,s,e){for(var h=i.size,n=t.A.ports,a=0;a<h;a++){4096<=s+a&&(n[s+a]=gb(t.A));var r=i.entries[a];4096<=e+a&&(n[e+a]=r)}}function mc(t,i){Jb(t.s,t.h[96+((t.yb[i][15]>>8&255)+(i>>3&255)-2&3)])}function nc(t,i){if(this.A=t.A,this.s=t,this.eb=t.u.eb,this.h=0,this.L=new Uint8Array(10),this.O=0,this.j=null,this.g=new Uint8Array(10),this.l=this.i=0,this.F=i,this.I=this.C=this.V=this.aa=this.Y=this.X=0,this.P=1,this.o=0,i){var s={163840:{type:1,kb:40,jb:8,gb:1},184320:{type:1,kb:40,jb:9,gb:1},204800:{type:1,kb:40,jb:10,gb:1},327680:{type:1,kb:40,jb:8,gb:2},368640:{type:1,kb:40,jb:9,gb:2},409600:{type:1,kb:40,jb:10,gb:2},737280:{type:3,kb:80,jb:9,gb:2},1228800:{type:2,kb:80,jb:15,gb:2},1474560:{type:4,kb:80,jb:18,gb:2},1763328:{type:5,kb:82,jb:21,gb:2},2949120:{type:5,kb:80,jb:36,gb:2},512:{type:1,kb:1,jb:1,gb:1}},e=i.byteLength;(e=s[e])||(e=s[e=1474560<i.byteLength?2949120:1474560]),t.u.Ic.W[16]=e.type<<4,t=e.jb,i=e.gb,e=e.kb,this.B=t,this.D=i,this.T=e}else t.u.Ic.W[16]=64,this.T=this.D=this.B=0;K(this.A,1008,this,this.kj),K(this.A,1010,this,this.lj),K(this.A,1012,this,this.nj),K(this.A,1013,this,this.oj),K(this.A,1015,this,this.qj),L(this.A,1010,this,this.mj),L(this.A,1013,this,this.pj)}function oc(t,i,s){var e=s[2],h=s[1],n=s[3],a=128<<s[4],r=s[5]-s[3]+1,o=((e+t.D*h)*t.B+n-1)*a;t.F&&(i?t.eb.be(t.F,o,r*a,2,t.done.bind(t,s,h,e,n)):pc(t.eb,t.F,o,t.done.bind(t,s,h,e,n)))}function ra(t,i,s){i.length&&(t.Me(s),t.Me(s+i.length-1),t.Uh(s,s+i.length),t.Na.set(i,s))}function qc(t){this.s=t,this.o=new Uint8Array(8),this.B=new Uint8Array(8),this.g=new Uint16Array(8),this.j=new Uint16Array(8),this.h=new Uint16Array(8),this.l=new Uint16Array(8),this.Yb=new Uint8Array(8),this.C=new Uint8Array(8),this.cf=[],this.i=0,L(t=t.A,0,this,this.Dc.bind(this,0)),L(t,2,this,this.Dc.bind(this,1)),L(t,4,this,this.Dc.bind(this,2)),L(t,6,this,this.Dc.bind(this,3)),L(t,1,this,this.Fc.bind(this,0)),L(t,3,this,this.Fc.bind(this,1)),L(t,5,this,this.Fc.bind(this,2)),L(t,7,this,this.Fc.bind(this,3)),K(t,0,this,this.Cc.bind(this,0)),K(t,2,this,this.Cc.bind(this,1)),K(t,4,this,this.Cc.bind(this,2)),K(t,6,this,this.Cc.bind(this,3)),K(t,1,this,this.Ec.bind(this,0)),K(t,3,this,this.Ec.bind(this,1)),K(t,5,this,this.Ec.bind(this,2)),K(t,7,this,this.Ec.bind(this,3)),L(t,192,this,this.Dc.bind(this,4)),L(t,196,this,this.Dc.bind(this,5)),L(t,200,this,this.Dc.bind(this,6)),L(t,204,this,this.Dc.bind(this,7)),L(t,194,this,this.Fc.bind(this,4)),L(t,198,this,this.Fc.bind(this,5)),L(t,202,this,this.Fc.bind(this,6)),L(t,206,this,this.Fc.bind(this,7)),K(t,192,this,this.Cc.bind(this,4)),K(t,196,this,this.Cc.bind(this,5)),K(t,200,this,this.Cc.bind(this,6)),K(t,204,this,this.Cc.bind(this,7)),K(t,194,this,this.Ec.bind(this,4)),K(t,198,this,this.Ec.bind(this,5)),K(t,202,this,this.Ec.bind(this,6)),K(t,206,this,this.Ec.bind(this,7)),L(t,135,this,this.Hc.bind(this,0)),L(t,131,this,this.Hc.bind(this,1)),L(t,129,this,this.Hc.bind(this,2)),L(t,130,this,this.Hc.bind(this,3)),L(t,143,this,this.Hc.bind(this,4)),L(t,139,this,this.Hc.bind(this,5)),L(t,137,this,this.Hc.bind(this,6)),L(t,138,this,this.Hc.bind(this,7)),K(t,135,this,this.Gc.bind(this,0)),K(t,131,this,this.Gc.bind(this,1)),K(t,129,this,this.Gc.bind(this,2)),K(t,130,this,this.Gc.bind(this,3)),K(t,143,this,this.Gc.bind(this,4)),K(t,139,this,this.Gc.bind(this,5)),K(t,137,this,this.Gc.bind(this,6)),K(t,138,this,this.Gc.bind(this,7)),L(t,1159,this,this.md.bind(this,0)),L(t,1155,this,this.md.bind(this,1)),L(t,1153,this,this.md.bind(this,2)),L(t,1154,this,this.md.bind(this,3)),L(t,1163,this,this.md.bind(this,5)),L(t,1161,this,this.md.bind(this,6)),L(t,1162,this,this.md.bind(this,7)),K(t,1159,this,this.ld.bind(this,0)),K(t,1155,this,this.ld.bind(this,1)),K(t,1153,this,this.ld.bind(this,2)),K(t,1154,this,this.ld.bind(this,3)),K(t,1163,this,this.ld.bind(this,5)),K(t,1161,this,this.ld.bind(this,6)),K(t,1162,this,this.ld.bind(this,7)),L(t,10,this,this.Ig.bind(this,0)),L(t,212,this,this.Ig.bind(this,4)),L(t,15,this,this.Hg.bind(this,0)),L(t,222,this,this.Hg.bind(this,4)),K(t,15,this,this.Gg.bind(this,0)),K(t,222,this,this.Gg.bind(this,4)),L(t,11,this,this.Fg.bind(this,0)),L(t,214,this,this.Fg.bind(this,4)),L(t,12,this,this.Eg),L(t,216,this,this.Eg)}function tc(t,i,s){if(t.Yb[i]!==s&&(t.Yb[i]=s,!s))for(s=0;s<t.cf.length;s++)t.cf[s].Je.call(t.cf[s].Gf,i)}function pc(t,i,s,e){var h=t.h[2]+1,n=uc(t,2);if(s+h>i.byteLength)e(!0);else{var a=t.s;t.g[2]+=h,i.get(s,h,(function(t){ra(a,t,n),e(!1)}))}}function uc(t,i){var s=t.g[i];return 5<=i&&(s<<=1),(s=65535&s|t.o[i]<<16)|t.B[i]<<24}function rc(t,i,s,e){return e||(t.i^=1),t.i?-256&i|s:-65281&i|s<<8}function sc(t,i){return t.i^=1,t.i?255&i:i>>8&255}function vc(t,i){this.s=t,this.v=i,this.i=new Float64Array(3),this.j=new Uint16Array(3),this.g=new Uint8Array(4),this.h=new Uint8Array(4),this.Sc=new Uint8Array(4),this.B=new Uint8Array(4),this.l=new Uint8Array(4),this.o=new Uint16Array(3),this.mb=new Uint16Array(3),K(t.A,97,this,(function(){var t=nb();return(66.66666666666667*t&1)<<4|(t=wc(this,2,t))<<5})),L(t.A,97,this,(function(t){1&t?this.v.send("pcspeaker-enable"):this.v.send("pcspeaker-disable")})),K(t.A,64,this,(function(){return xc(this,0)})),K(t.A,65,this,(function(){return xc(this,1)})),K(t.A,66,this,(function(){return xc(this,2)})),L(t.A,64,this,(function(t){yc(this,0,t)})),L(t.A,65,this,(function(t){yc(this,1,t)})),L(t.A,66,this,(function(t){yc(this,2,t),this.v.send("pcspeaker-update",[this.Sc[2],this.mb[2]])})),L(t.A,67,this,this.C)}function zc(t,i,s){return t.h[i]?((s=t.j[i]-Math.floor(1193.1816666*(s-t.i[i])))>=(t=t.mb[i])?s%=t:0>s&&(s=s%t+t),s):0}function wc(t,i,s){return 0>(s-=t.i[i])||t.j[i]<Math.floor(1193.1816666*s)}function xc(t,i){var s=t.l[i];return s?(t.l[i]--,2===s?255&t.o[i]:t.o[i]>>8):(s=t.g[i],3===t.Sc[i]&&(t.g[i]^=1),t=zc(t,i,nb()),s?255&t:t>>8)}function yc(t,i,s){t.mb[i]=t.g[i]?-256&t.mb[i]|s:255&t.mb[i]|s<<8,3===t.B[i]&&t.g[i]||(t.mb[i]||(t.mb[i]=65535),t.j[i]=t.mb[i],t.h[i]=!0,t.i[i]=nb()),3===t.B[i]&&(t.g[i]^=1)}!function(){function t(t){this.buffer=t,this.byteLength=t.byteLength,this.onload=void 0}function i(t,i,s){this.filename=t,this.byteLength=i,this.g=new Map,this.i=new Set,this.J=s,this.B=!!s,this.onload=void 0}function s(t,i,s,e,h){const n=t.match(/\.[^\.]+(\.zst)?$/);this.j=n?n[0]:"",this.h=t.substring(0,t.length-this.j.length),this.D=this.j.endsWith(".zst"),this.h.endsWith("/")||(this.h+="-"),this.g=new Map,this.i=new Set,this.byteLength=i,this.J=s,this.F=!!e,this.C=h,this.B=!!s,this.onload=void 0}function e(t){this.file=t,this.byteLength=t.size,1073741824<t.size&&console.warn("SyncFileBuffer: Allocating buffer of "+(t.size>>20)+" MB ..."),this.buffer=new ArrayBuffer(t.size),this.onload=void 0}function h(t){this.file=t,this.byteLength=t.size,this.g=new Map,this.i=new Set,this.onload=void 0}tb=t,ub=i,vb=s,wb=h,db=e,t.prototype.load=function(){this.onload&&this.onload({buffer:this.buffer})},t.prototype.get=function(t,i,s){s(new Uint8Array(this.buffer,t,i))},t.prototype.set=function(t,i,s){new Uint8Array(this.buffer,t,i.byteLength).set(i),s()},t.prototype.pb=function(t){t(this.buffer)},t.prototype.$=function(){const t=[];return t[0]=this.byteLength,t[1]=new Uint8Array(this.buffer),t},t.prototype.G=function(t){this.byteLength=t[0],this.buffer=t[1].slice().buffer},i.prototype.load=function(){void 0!==this.byteLength?this.onload&&this.onload(Object.create(null)):n(this.filename,((t,i)=>{if(t)throw Error("Cannot use: "+this.filename+". "+t);this.byteLength=i,this.onload&&this.onload(Object.create(null))}))},i.prototype.h=function(t,i){var s=i/256;t/=256;for(var e=0;e<s;e++)if(!this.g.get(t+e))return;if(1===s)return this.g.get(t);for(i=new Uint8Array(i),e=0;e<s;e++)i.set(this.g.get(t+e),256*e);return i},i.prototype.get=function(t,i,s){var e=this.h(t,i);if(e)s(e);else{var h=t,n=i;this.J&&(h=t-t%this.J,n=Math.ceil((t-h+i)/this.J)*this.J),Gb(this.filename,{done:function(e){e=new Uint8Array(e),this.j(h,n,e),s(h===t&&n===i?e:e.subarray(t-h,t-h+i))}.bind(this),Ld:{start:h,length:n}})}},i.prototype.set=function(t,i,s){t/=256;for(var e=i.length/256,h=0;h<e;h++){var n=this.g.get(t+h);void 0===n?this.g.set(t+h,i.slice(256*h,256*(h+1))):n.set(i.subarray(256*h,256*(h+1))),this.i.add(t+h)}s()},i.prototype.j=function(t,i,s){t/=256,i/=256;for(var e=0;e<i;e++){const i=this.g.get(t+e);i?s.set(i,256*e):this.B&&this.g.set(t+e,s.slice(256*e,256*(e+1)))}},i.prototype.pb=function(t){t()},i.prototype.$=function(){const t=[],i=[];for(let[t,s]of this.g)this.i.has(t)&&i.push([t,s]);return t[0]=i,t},i.prototype.G=function(t){t=t[0],this.g.clear(),this.i.clear();for(let[i,s]of t)this.g.set(i,s),this.i.add(i)},s.prototype.load=function(){this.onload&&this.onload(Object.create(null))},s.prototype.get=function(t,i,s){var e=this.l(t,i);if(e)s(e);else if(this.J){const n=Math.floor(t/this.J),a=t-n*this.J,r=Math.ceil((a+i)/this.J),o=new Uint8Array(r*this.J);let c=0;for(let t=0;t<r;t++){var h=(n+t)*this.J;e=this.F?this.h+(n+t+"").padStart(8,"0")+this.j:this.h+h+"-"+(h+this.J)+this.j,(h=this.l(h,this.J))?(o.set(h,t*this.J),c++,c===r&&s(o.subarray(a,a+i))):Gb(e,{done:async function(e){e=new Uint8Array(e),this.D&&(e=await this.C(this.J,e),e=new Uint8Array(e)),o.set(e,t*this.J),this.o((n+t)*this.J,0|this.J,e),c++,c===r&&s(o.subarray(a,a+i))}.bind(this)})}}else Gb(this.h+t+"-"+(t+i)+this.j,{done:function(e){e=new Uint8Array(e),this.o(t,i,e),s(e)}.bind(this)})},s.prototype.l=i.prototype.h,s.prototype.set=i.prototype.set,s.prototype.o=i.prototype.j,s.prototype.$=i.prototype.$,s.prototype.G=i.prototype.G,e.prototype.load=function(){this.g(0)},e.prototype.g=function(t){var i=new FileReader;i.onload=function(i){i=new Uint8Array(i.target.result),new Uint8Array(this.buffer,t).set(i),this.g(t+4194304)}.bind(this),t<this.byteLength?i.readAsArrayBuffer(this.file.slice(t,Math.min(t+4194304,this.byteLength))):(this.file=void 0,this.onload&&this.onload({buffer:this.buffer}))},e.prototype.get=t.prototype.get,e.prototype.set=t.prototype.set,e.prototype.pb=t.prototype.pb,e.prototype.$=t.prototype.$,e.prototype.G=t.prototype.G,h.prototype.load=function(){this.onload&&this.onload(Object.create(null))},h.prototype.get=function(t,i,s){var e=this.h(t,i);e?s(e):((e=new FileReader).onload=function(e){e=new Uint8Array(e.target.result),this.j(t,i,e),s(e)}.bind(this),e.readAsArrayBuffer(this.file.slice(t,t+i)))},h.prototype.h=i.prototype.h,h.prototype.set=i.prototype.set,h.prototype.j=i.prototype.j,h.prototype.$=i.prototype.$,h.prototype.G=i.prototype.G,h.prototype.pb=function(t){t()},h.prototype.fg=function(t){for(var i=[],s=Array.from(this.g.keys()).sort((function(t,i){return t-i})),e=0,h=0;h<s.length;h++){var n=s[h],a=this.g.get(n);(n*=256)!==e&&(i.push(this.file.slice(e,n)),e=n),i.push(a),e+=a.length}return e!==this.file.size&&i.push(this.file.slice(e)),new File(i,t)};var n="undefined"==typeof XMLHttpRequest?function(t,i){require("fs").stat(t,((t,s)=>{t?i(t):i(null,s.size)}))}:function(t,i){Gb(t,{done:(t,s)=>{t=s.getResponseHeader("Content-Range")||"",(s=t.match(/\/(\d+)\s*$/))?i(null,+s[1]):i("`Range: bytes=...` header not supported (Got `"+t+"`)")},headers:{Range:"bytes=0-0"}})}}(),(p=Hb.prototype).Lg=function(){return this.ta.buffer?this.ta.status:0},p.Uj=function(t){4&t&&(Jb(this.s,this.ba),Mb(this.ka),Mb(this.la)),this.l=t},p.vh=function(){return this.nd},p.zh=function(t){this.nd=t},p.yh=function(){return this.ra},p.Xf=function(t){this.ra&=~(6&t)},p.wh=function(){return this.j|this.ra<<16},p.xh=function(){return this.j},p.Ah=function(t){this.Wf(255&t),this.Xf(t>>16&255)},p.Wf=function(t){let i=this.j;if(this.j=9&t,(1&i)!=(1&t))if(0==(1&t))this.ra&=-2;else switch(this.ra|=1,this.ta.o){case 37:case 200:Ub(this.ta);break;case 202:case 53:Vb(this.ta);break;case 160:Wb(this.ta)}},p.S=function(){0==(2&this.l)&&(this.ra|=4,this.s.Ka(this.ba))},p.$=function(){var t=[];return t[0]=this.ka,t[1]=this.la,t[2]=this.g,t[3]=this.ba,t[4]=this.Ia,t[5]=this.i,t[6]=this.h,t[7]=this.name,t[8]=this.l,t[9]=this.nd,t[10]=this.ra,t[11]=this.ta===this.ka,t[12]=this.j,t},p.G=function(t){this.ka.G(t[0]),this.la.G(t[1]),this.g=t[2],this.ba=t[3],this.Ia=t[4],this.i=t[5],this.h=t[6],this.name=t[7],this.l=t[8],this.nd=t[9],this.ra=t[10],this.ta=t[11]?this.ka:this.la,this.j=t[12]},(p=Ib.prototype).S=function(){this.oa.S()},p.be=function(){this.status=80;var t=this.data.subarray(0,this.h);Xb(this,this.o,this.h/512),this.S(),this.buffer.set(this.X,t,(function(){})),Yb(this,this.h)},p.ea=function(t,i,s){const e=this.pa++;this.P.add(e),this.buffer.get(t,i,(t=>{this.aa.delete(e)?this.P.has(e):(this.P.delete(e),s(t))}))},p.$=function(){var t=[];return t[0]=this.da,t[1]=this.F,t[2]=this.qa,t[3]=this.na,t[4]=this.i,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=this.rc,t[10]=this.error,t[11]=this.head,t[12]=this.D,t[13]=this.I,t[14]=this.Hd,t[15]=this.ad,t[16]=this.data,t[17]=this.h,t[18]=this.wa,t[19]=this.j,t[20]=this.l,t[21]=this.L,t[22]=this.C,t[23]=this.status,t[24]=this.X,t[25]=this.o,t[26]=this.g,t[27]=this.T,t[28]=this.buffer,t},p.G=function(t){this.da=t[0],this.F=t[1],this.qa=t[2],this.na=t[3],this.i=t[4],this.rc=t[9],this.error=t[10],this.head=t[11],this.D=t[12],this.I=t[13],this.Hd=t[14],this.ad=t[15],this.data=t[16],this.h=t[17],this.wa=t[18],this.j=t[19],this.l=t[20],this.L=t[21],this.C=t[22],this.status=t[23],this.X=t[24],this.o=t[25],this.g=t[26],this.T=t[27],this.V=new Uint16Array(this.data.buffer),this.O=new Int32Array(this.data.buffer),this.buffer&&this.buffer.G(t[28])},hc.prototype.$=function(){for(var t=[],i=0;256>i;i++)t[i]=this.yb[i];return t[256]=this.qb,t[257]=this.g,t[258]=this.hd,t[259]=this.jd,t},hc.prototype.G=function(t){for(var i=0;256>i;i++){var s=this.u[i],e=t[i];if(s&&e){for(var h=0;h<s.ib.length;h++){var n=e[4+h];if(1&n){var a=s.ib[h];kc(this,a,65534&a.og,65534&n)}}this.yb[i].set(e)}}this.qb.set(t[256]),this.g.set(t[257]),this.hd.set(t[258]),this.jd.set(t[259])},hc.prototype.Aa=function(t){this.s.Ka(this.h[96+((this.yb[t][15]>>8&255)-1+((t>>3)-1&255)&3)])},(p=nc.prototype).$=function(){var t=[];return t[0]=this.h,t[1]=this.L,t[2]=this.O,t[4]=this.g,t[5]=this.i,t[6]=this.l,t[8]=this.X,t[9]=this.Y,t[10]=this.aa,t[11]=this.V,t[12]=this.C,t[13]=this.I,t[14]=this.P,t[15]=this.o,t[16]=this.B,t[17]=this.D,t[18]=this.T,t},p.G=function(t){this.h=t[0],this.L=t[1],this.O=t[2],this.j=t[3],this.g=t[4],this.i=t[5],this.l=t[6],this.X=t[8],this.Y=t[9],this.aa=t[10],this.V=t[11],this.C=t[12],this.I=t[13],this.P=t[14],this.o=t[15],this.B=t[16],this.D=t[17],this.T=t[18]},p.kj=function(){return 0},p.nj=function(){var t=128;return this.i<this.l&&(t|=80),0==(8&this.o)&&(t|=32),t},p.qj=function(){return 0},p.oj=function(){return this.i<this.l?(Jb(this.s,6),this.g[this.i++]):255},p.pj=function(t){if(this.F)if(0<this.h)this.L[this.O++]=t,this.h--,0===this.h&&this.j.call(this,this.L);else{switch(t){case 3:this.j=this.Ih,this.h=2;break;case 4:this.j=this.mh,this.h=1;break;case 5:case 69:case 197:this.j=function(t){oc(this,!0,t)},this.h=8;break;case 230:this.j=function(t){oc(this,!1,t)},this.h=8;break;case 7:this.j=this.lh,this.h=1;break;case 8:this.i=0,this.l=2,this.g[0]=32,this.g[1]=this.C;break;case 74:this.j=this.Ej,this.h=1;break;case 15:this.h=2,this.j=this.fh;break;case 14:this.g[0]=128,this.i=0,this.l=1,this.h=0}this.O=0}},p.lj=function(){return this.o},p.mj=function(t){4==(4&t)&&0==(4&this.o)&&this.s.Ka(6),this.o=t},p.mh=function(){this.i=0,this.l=1,this.g[0]=32},p.fh=function(t){this.C=t[1],this.I=t[0]>>2&1,this.Aa()},p.lh=function(){this.Aa()},p.done=function(t,i,s,e,h){h||(++e>this.B&&(e=1,++s>=this.D&&(s=0,i++)),this.C=i,this.I=s,this.P=e,this.i=0,this.l=7,this.g[0]=s<<2|32,this.g[1]=0,this.g[2]=0,this.g[3]=i,this.g[4]=s,this.g[5]=e,this.g[6]=t[4],this.Aa())},p.Ih=function(){},p.Ej=function(){this.i=0,this.l=7,this.g[0]=0,this.g[1]=0,this.g[2]=0,this.g[3]=0,this.g[4]=0,this.g[5]=0,this.g[6]=0,this.Aa()},p.Aa=function(){8&this.o&&this.s.Ka(6)},(p=qc.prototype).$=function(){return[this.o,this.B,this.g,this.j,this.h,this.l,this.Yb,this.C,this.i]},p.G=function(t){this.o=t[0],this.B=t[1],this.g=t[2],this.j=t[3],this.h=t[4],this.l=t[5],this.Yb=t[6],this.C=t[7],this.i=t[8]},p.Fc=function(t,i){this.h[t]=rc(this,this.h[t],i,!1),this.l[t]=rc(this,this.l[t],i,!0)},p.Ec=function(t){return sc(this,this.h[t])},p.Dc=function(t,i){this.g[t]=rc(this,this.g[t],i,!1),this.j[t]=rc(this,this.j[t],i,!0)},p.Cc=function(t){return sc(this,this.g[t])},p.md=function(t,i){this.B[t]=i},p.ld=function(t){return this.B[t]},p.Hc=function(t,i){this.o[t]=i},p.Gc=function(t){return this.o[t]},p.Ig=function(t,i){tc(this,(3&i)+t,4&i?1:0)},p.Hg=function(t,i){for(var s=0;4>s;s++)tc(this,t+s,i&1<<s)},p.Gg=function(t){var i=0|this.Yb[t+0];return i|=this.Yb[t+1]<<1,(i|=this.Yb[t+2]<<2)|this.Yb[t+3]<<3},p.Fg=function(t,i){this.C[(3&i)+t]=i},p.Eg=function(){this.i=0},p.be=function(t,i,s,e,h){var n=this.h[e]+1&65535,a=5<=e?2:1,r=n*a,o=uc(this,e),c=!1,u=!1,f=16&this.C[e];s<r?(n=Math.floor(s/a),r=n*a,c=!0):s>r&&(u=!0),i+r>t.byteLength?h(!0):(this.g[e]+=n,this.h[e]-=n,!c&&f&&(this.g[e]=this.j[e],this.h[e]=this.l[e]),t.set(i,this.s.Na.subarray(o,o+r),(()=>{u&&f?this.be(t,i+r,s-r,e,h):h(!1)})))},vc.prototype.$=function(){var t=[];return t[0]=this.g,t[1]=this.h,t[2]=this.Sc,t[3]=this.B,t[4]=this.l,t[5]=this.o,t[6]=this.mb,t[7]=this.i,t[8]=this.j,t},vc.prototype.G=function(t){this.g=t[0],this.h=t[1],this.Sc=t[2],this.B=t[3],this.l=t[4],this.o=t[5],this.mb=t[6],this.i=t[7],this.j=t[8]},vc.prototype.sb=function(t,i){var s=100;return i||(this.h[0]&&wc(this,0,t)?(this.j[0]=zc(this,0,t),this.i[0]=t,Jb(this.s,0),this.s.Ka(0),0===this.Sc[0]&&(this.h[0]=0)):Jb(this.s,0),this.h[0]&&(s=(this.j[0]-Math.floor(1193.1816666*(t-this.i[0])))/1193.1816666)),s},vc.prototype.C=function(t){var i=t>>1&7,s=t>>6&3;t=t>>4&3,3!==s&&(0===t?(this.l[s]=2,i=zc(this,s,nb()),this.o[s]=i?i-1:0):(6<=i&&(i&=-5),this.g[s]=1===t?0:1,0===s&&Jb(this.s,0),this.Sc[s]=i,this.B[s]=t,2===s&&this.v.send("pcspeaker-update",[this.Sc[2],this.mb[2]])))};var Ac=Uint32Array.from([655360,655360,720896,753664]),Bc=Uint32Array.from([131072,65536,32768,32768]);function Cc(t,i,s){this.s=t,this.v=i,this.ha=s,this.D=0,this.sc=14,this.qc=15,this.L=80,this.Tb=25,this.ze=this.Ea=this.Pd=this.mc=0,this.Id=[],this.Ac=this.Ba=0,this.cb=new Uint8Array(25),this.C=this.O=this.zc=this.P=this.g=this.i=this.Qb=this.Rb=this.Fa=0,this.uc=!0,this.Da=!1,setTimeout((()=>{i.send("screen-set-mode",this.Da)}),0),this.$a=new Int32Array(256),this.h=0,this.ke=45253,this.Za=this.Pa=0,this.La=!1,this.Mb=32,this.ud=this.Sa=0,this.K=[52,18,17,17,3,1,0,0,0,0,0,3,0,0,0,0,8,14680064,57344,224,0,0,0,0,0,0,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,190,254,0,0,0,0,0,0,0,0,0,0,0,0],this.Ia=144,this.ib=[{size:s}],this.sg=65536,this.ci=4272947200,this.name="vga",this.B={hg:!1,Fj:0,Gj:0,Pf:0},this.pa=this.tb=this.aa=this.F=0,this.X=255,this.Zb=new Uint8Array(16),this.l=-1,this.Ub=32,this.Rc=this.Sb=this.Cd=this.Ta=0,this.Wb=-1,this.Vb=15,this.bb=this.Xb=0,this.Pb=-1,this.Ra=this.kc=this.xc=0,this.vc=255,this.Y=this.V=this.T=this.Qa=this.wc=this.Ob=0,this.j=this.$c=255,L(s=t.A,960,this,this.Pi),K(s,960,this,this.Ag,this.Oi),K(s,961,this,this.Bg),L(s,962,this,this.Qi),s.Lb(964,this,this.Si,this.Ui),K(s,964,this,this.Ri),K(s,965,this,this.Ti),s.Lb(974,this,this.ej,this.gj),K(s,974,this,this.dj),K(s,975,this,this.fj),K(s,966,this,this.Vi),L(s,966,this,this.Wi),L(s,967,this,this.Yi),K(s,967,this,this.Xi),L(s,968,this,this.$i),K(s,968,this,this.Zi),L(s,969,this,this.bj),K(s,969,this,this.aj),K(s,972,this,this.cj),s.Lb(980,this,this.ij,this.jj),K(s,980,this,this.hj),K(s,981,this,this.Cg,(()=>this.Cg())),K(s,970,this,(function(){return 0})),K(s,986,this,this.Dg),K(s,954,this,this.Dg),this.ub=-1,this.I=0,L(s,462,this,void 0,this.ei),L(s,463,this,void 0,this.gi),K(s,463,this,void 0,this.fi),void 0===this.ha||262144>this.ha?this.ha=262144:65535&this.ha&&(this.ha|=65535,this.ha++);const e=t.ah(this.ha);this.Ff=Q(Uint8Array,t.Ja,e,this.ha),this.Zd=this.ha,this.Yd=0,this.ae=this.ha,this.$d=0,this.Fb=null,i.register("screen-fill-buffer",(function(){if(this.Da){if(0===this.Fb.data.byteLength){var t=new Uint8ClampedArray(this.s.Ja.buffer,this.jf,4*this.Ea*this.ze);this.Fb=new ImageData(t,this.Ea,this.ze),Dc(this)}if(this.La){t=0;var i=this.Za;if(8===this.Mb)for(var s=new Int32Array(this.s.Ja.buffer,this.jf,this.mc*this.Pd),e=new Uint8Array(this.s.Ja.buffer,this.Ff.byteOffset,this.ha),h=0;h<s.length;h++){var n=this.$a[e[h]];s[h]=65280&n|n<<16|n>>16|4278190080}else this.s.eh(this.Mb,this.ud),h=15===this.Mb?2:this.Mb/8,t=((this.s.dh[0]/h|0)-this.ud)/this.Pa|0,i=1+(((this.s.bh[0]/h|0)-this.ud)/this.Pa|0);t<i&&(t=Math.max(t,0),i=Math.min(i,this.Za),this.v.send("screen-fill-buffer-end",[{Fb:this.Fb,Bf:0,Cf:t,De:0,Ee:t,gf:this.Pa,ff:i-t}]))}else{for(t=Math.min(15|this.$d,524287),h=Ec(this),n=3&~this.Fa,i=96&this.kc,s=64&this.Ta,e=-16&this.ae;e<=t;){var a=e>>>h;if(n){var r=e/this.Ea|0,o=e-this.Ea*r;switch(n){case 1:a=(1&r)<<13,r>>>=1;break;case 2:a=(1&r)<<14,r>>>=1;break;case 3:a=(3&r)<<13,r>>>=2}a|=(r*this.Ea+o>>>h)+this.Ba}r=this.Ve[a],o=this.We[a];var c=this.Xe[a],u=this.Ye[a];switch(a=new Uint8Array(8),i){case 0:r<<=0,o<<=1,c<<=2,u<<=3;for(var f=7;0<=f;f--)a[7-f]=r>>f&1|o>>f&2|c>>f&4|u>>f&8;break;case 32:a[0]=r>>6&3|c>>4&12,a[1]=r>>4&3|c>>2&12,a[2]=r>>2&3|c>>0&12,a[3]=r>>0&3|c<<2&12,a[4]=o>>6&3|u>>4&12,a[5]=o>>4&3|u>>2&12,a[6]=o>>2&3|u>>0&12,a[7]=o>>0&3|u<<2&12;break;case 64:case 96:a[0]=r>>4&15,a[1]=r>>0&15,a[2]=o>>4&15,a[3]=o>>0&15,a[4]=c>>4&15,a[5]=c>>0&15,a[6]=u>>4&15,a[7]=u>>0&15}if(s)for(r=f=0;4>f;f++,e++,r+=2)this.Kd[e]=a[r]<<4|a[r+1];else for(f=0;8>f;f++,e++)this.Kd[e]=a[f]}if(s=this.Zd,t=Math.min(this.Yd,524287),i=new Int32Array(this.s.Ja.buffer,this.jf,this.Ea*this.ze),h=255,n=0,128&this.Ta&&(h&=207,n|=this.Rc<<4&48),64&this.Ta)for(;s<=t;s++)e=this.Kd[s]&h|n,e=this.$a[e],i[s]=65280&e|e<<16|e>>16|4278190080;else for(h&=63,n|=this.Rc<<4&192;s<=t;s++)e=this.Zb[this.Kd[s]&this.Cd]&h|n,e=this.$a[e],i[s]=65280&e|e<<16|e>>16|4278190080;this.v.send("screen-fill-buffer-end",this.Id)}this.Zd=this.ha,this.Yd=0,this.ae=this.ha,this.$d=0}Fc(this)}),this),this.o=new Uint8Array(262144),this.Ve=new Uint8Array(this.o.buffer,0,65536),this.We=new Uint8Array(this.o.buffer,65536,65536),this.Xe=new Uint8Array(this.o.buffer,131072,65536),this.Ye=new Uint8Array(this.o.buffer,196608,65536),this.Kd=new Uint8Array(524288);var h=this;hb(s,655360,131072,(function(t){return Gc(h,t)}),(function(t,i){if(h.La&&h.Da&&h.uc)h.s.df(3758096384+(t-655360|h.Sa)|0,i);else{var s=h.Qa>>2&3;if(!(0>(t-=Ac[s])||t>=Bc[s]))if(h.Da){var e=i;i=Hc(h.vc);var n=Ic(h.Ob);switch(s=Ic(h.wc),3&h.kc){case 0:var a=Hc(e=(e|e<<8)>>>(7&h.Ra)&255);e=Ic(h.Ob),a=i&(a=Jc(h,(a|s&e)&(~s|e),h.h))|~i&h.h;break;case 1:a=h.h;break;case 2:a=Ic(e),a=i&(a=Jc(h,a,h.h))|~i&h.h;break;case 3:a=(i&=Hc(e=(e|e<<8)>>>(7&h.Ra)&255))&n|~i&h.h}switch(i=15,12&h.Xb){case 0:i=5<<(1&t),t&=-2;break;case 8:case 12:i=1<<(3&t),t&=-4}1&(i&=h.Vb)&&(h.Ve[t]=a>>0&255),2&i&&(h.We[t]=a>>8&255),4&i&&(h.Xe[t]=a>>16&255),8&i&&(h.Ye[t]=a>>24&255),a=(i=Kc(h,t))+7,i<h.ae&&(h.ae=i),a>h.$d&&(h.$d=a),i<h.Zd&&(h.Zd=i),a>h.Yd&&(h.Yd=a)}else 3&h.Vb&&(t=(s=((a=t)>>1)-h.Ba)/h.L|0,s%=h.L,1&a?(n=i,e=h.o[-2&a]):(e=i,n=h.o[1|a]),h.v.send("screen-put-char",[t,s,e,h.$a[h.X&h.Zb[n>>4&15]],h.$a[h.X&h.Zb[15&n]]]),h.o[a]=i)}})),Tb(t.u.Ha,this)}function Gc(t,i){if(t.La&&t.uc)return t.s.od(3758096384+(i-655360|t.Sa)|0);var s=t.Qa>>2&3;return 0>(i-=Ac[s])||i>=Bc[s]?0:(t.h=t.Ve[i],t.h|=t.We[i]<<8,t.h|=t.Xe[i]<<16,t.h|=t.Ye[i]<<24,8&t.kc?(s=255,1&t.V&&(s&=t.Ve[i]^~(1&t.T?255:0)),2&t.V&&(s&=t.We[i]^~(2&t.T?255:0)),4&t.V&&(s&=t.Xe[i]^~(4&t.T?255:0)),8&t.V&&(s&=t.Ye[i]^~(8&t.T?255:0)),s):(s=t.xc,t.Da?8&t.Xb?(s=3&i,i&=-4):16&t.kc&&(s=1&i,i&=-2):s=0,t.o[s<<16|i]))}function Hc(t){return t|t<<8|t<<16|t<<24}function Ic(t){return(1&t?255:0)|(2&t?255:0)<<8|(4&t?255:0)<<16|(8&t?255:0)<<24}function Jc(t,i,s){switch(24&t.Ra){case 8:return i&s;case 16:return i|s;case 24:return i^s}return i}function Oc(t){for(var i,s,e=t.Ba<<1,h=0;h<t.Tb;h++)for(var n=0;n<t.L;n++)i=t.o[e],s=t.o[1|e],t.v.send("screen-put-char",[h,n,i,t.$a[t.X&t.Zb[s>>4&15]],t.$a[t.X&t.Zb[15&s]]]),e+=2}function Nc(t){t.Da?t.La?t.s.lg():(t.Zd=0,t.Yd=524288):Oc(t)}function Mc(t){t.Da&&!t.La&&(t.ae=0,t.$d=524288,Nc(t))}function Ec(t){var i=128+(~t.P&t.Fa&64);return i-=64&t.P,(i-=64&t.Ta)>>>6}function Kc(t,i){var s=Ec(t);if(3&~t.Fa){var e=i-t.Ba;e&=t.Fa<<13|-24577;var h=(e<<=s)/t.Ea|0;switch(e%=t.Ea,3&t.Fa){case 2:h=h<<1|i>>13&1;break;case 1:h=h<<1|i>>14&1;break;case 0:h=h<<2|i>>13&3}return h*t.Ea+e+(t.Ba<<s)}return i<<s}function Pc(t,i){return 128&t.Y&&(i>>>=1),i=Math.ceil(i/(1+(31&t.Y))),1&t.Fa||(i<<=1),2&t.Fa||(i<<=1),i}function Lc(t){if(!t.La){var i=Math.min(1+t.Rb,t.Qb),s=Math.min(1+t.i,t.g);if(i&&s)if(t.Da){i<<=3;var e=t.O<<4;64&t.Ta&&(i>>>=1,e>>>=1);var h=t.O<<2;64&t.P?h<<=1:64&t.Fa&&(h>>>=1),t.qd(i,Pc(t,s),8,e,Math.ceil(Bc[0]/h)),Fc(t),Dc(t)}else 128&t.Y&&(s>>>=1),s=s/(1+(31&t.Y))|0,i&&s&&t.rd(i,s)}}function Dc(t){if(t.Da||Oc(t),t.La)t.Id=[];else if(t.Ea&&t.mc)if(!t.Ub||32&t.bb)t.Id=[],t.v.send("screen-clear");else{var i=t.Ac,s=t.Sb;64&t.Ta&&(s>>>=1);var e=t.zc>>5&3,h=Kc(t,i+e);i=h/t.Ea|0;var n=h%t.Ea+s;h=Pc(t,1+t.C),h=Math.min(h,t.Pd);var a=t.Pd-h;t.Id=[],n=-n;for(var r=0;n<t.mc;n+=t.Ea,r++)t.Id.push({Fb:t.Fb,Bf:n,Cf:0,De:0,Ee:i+r,gf:t.Ea,ff:h});for(i=0,32&t.Ta||(i=Kc(t,e)+s),n=-i,r=0;n<t.mc;n+=t.Ea,r++)t.Id.push({Fb:t.Fb,Bf:n,Cf:h,De:0,Ee:r,gf:t.Ea,ff:a})}}function Fc(t){t.j|=8,t.Ac!==t.Ba&&(t.Ac=t.Ba,Dc(t))}function Qc(t,i){switch(i){case 0:return t.ke;case 1:return 2&t.I?2560:t.Pa;case 2:return 2&t.I?1600:t.Za;case 3:return 2&t.I?32:t.Mb;case 4:return t.I;case 5:return t.Sa>>>16;case 6:return t.mc?t.mc:1;case 8:return 0;case 10:return t.ha/65536|0}return 255}function Rc(t,i){this.s=t,this.v=i,this.yd=this.tc=!1,this.ie=!0,this.dd=this.Ib=this.Hb=0,this.pa=!0,this.P=this.O=this.F=this.L=this.T=this.I=this.ce=!1,this.ja=new Ab(1024),this.l=0,this.Jc=100,this.j=this.i=0,this.C=!1,this.Nb=0,this.Md=4,this.B=!1,this.g=new Ab(1024),this.D=this.o=!1,this.v.register("keyboard-code",(function(t){this.ce&&(this.ja.push(t),this.Aa())}),this),this.v.register("mouse-click",(function(t){this.ie&&this.yd&&(this.dd=t[0]|t[2]<<1|t[1]<<2,this.tc&&Sc(this,0,0))}),this),this.v.register("mouse-delta",(function(t){var i=t[1];if(this.ie&&this.yd){var s=this.Md*this.Jc/80;this.Hb+=t[0]*s,this.Ib+=i*s,this.tc&&(t=0|this.Hb,i=0|this.Ib,t||i)&&(this.Hb-=t,this.Ib-=i,Sc(this,t,i))}}),this),this.v.register("mouse-wheel",(function(t){this.Nb-=t[0],this.Nb-=2*t[1],this.Nb=Math.min(7,Math.max(-8,this.Nb)),Sc(this,0,0)}),this),this.h=5,this.aa=0,this.X=this.V=this.Y=!1,K(t.A,96,this,this.xj),K(t.A,100,this,this.zj),L(t.A,96,this,this.yj),L(t.A,100,this,this.Aj)}function Uc(t){t.o=!0,t.D=!0,2&t.h&&(Jb(t.s,12),t.s.Ka(12))}function Tc(t){t.o=!0,t.D=!1,1&t.h&&(Jb(t.s,1),t.s.Ka(1))}function Sc(t,i,s){t.g.push((0>s)<<5|(0>i)<<4|8|t.dd),t.g.push(i),t.g.push(s),4===t.j?(t.g.push(0|15&t.Nb),t.Nb=0):3===t.j&&(t.g.push(255&t.Nb),t.Nb=0),t.Aa()}function Vc(t,i){this.h=this.g=this.R=this.C=this.l=0,this.i=-1,this.ka=i,this.D=void 0===this.ka,this.la=void 0,this.name=this.D?"master":"slave ",this.F=!1,this.I=this.state=0,this.o=1,this.B=this.L=0,this.s=t,this.D?(this.la=new Vc(this.s,this),this.j=function(){if(0<=this.i)pb(this.s);else{var t=this.g&this.l;if(t){t&=-t;var i=this.L?this.l:-1;this.R&&(this.R&-this.R&i)<=t||(this.i=rb(t),pb(this.s))}}},this.Vd=function(){if(-1!==this.i)if(0===this.g)this.i=-1;else{var t=1<<this.i;0==(this.B&t)&&(this.g&=~t),this.o||(this.R|=t),2===this.i?this.la.Vd():this.s.C(this.C|this.i),this.i=-1,this.j()}}):(this.j=function(){if(0<=this.i)pb(this.s);else{var t=this.g&this.l;if(t){t&=-t;var i=this.L?this.l:-1;this.R&&(this.R&-this.R&i)<=t||(this.i=rb(t),this.ka.Rd(2))}}},this.Vd=function(){if(-1!==this.i)if(0===this.g)this.i=-1,this.ka.h&=-5,this.s.C(7|this.C);else{var t=1<<this.i;0==(this.B&t)&&(this.g&=~t),this.o||(this.R|=t),this.ka.h&=-5,this.s.C(this.C|this.i),this.i=-1,this.j()}}),this.D?(t=32,i=1232):(t=160,i=1233),L(this.s.A,t,this,this.ii),K(this.s.A,t,this,this.hi),L(this.s.A,1|t,this,this.ki),K(this.s.A,1|t,this,this.ji),L(this.s.A,i,this,this.wj),K(this.s.A,i,this,this.vj),this.D?(this.Rd=function(t){8<=t?this.la.Rd(t-8):(t=1<<t,0==(this.h&t)&&(this.g|=t,this.h|=t,this.j()))},this.Wd=function(t){8<=t?this.la.Wd(t-8):(t=1<<t,this.h&t&&(this.h&=~t,this.g&=~t,this.j()))}):(this.Rd=function(t){t=1<<t,0==(this.h&t)&&(this.g|=t,this.h|=t,this.j())},this.Wd=function(t){t=1<<t,this.h&t&&(this.h&=~t,this.g&=~t,this.j())})}function Wc(t){this.s=t,this.Qc=0,this.W=new Uint8Array(128),this.D=this.g=Date.now(),this.l=this.j=0,this.B=!1,this.C=.9765625,this.o=38,this.h=2,this.tf=this.i=0,L(t.A,112,this,(function(t){this.Qc=127&t,this.tf=t>>7})),L(t.A,113,this,this.ph),K(t.A,113,this,this.oh)}function Xc(t,i){if(4&t.h)t=i;else{t=i;for(var s,e=i=0;t;)e|=(s=t%10)<<4*i,i++,t=(t-s)/10;t=e}return t}function Yc(t,i){return 4&t.h?i:(15&i)+10*(i>>4&15)}function Zc(t,i,s){switch(this.v=s,this.s=t,this.g=4,this.Bc=this.nc=0,this.cd=96,this.ec=this.ee=0,this.fc=1,this.ba=this.$e=this.rf=this.Re=0,this.input=new Ab(4096),i){case 1016:default:this.h=0,this.ba=4;break;case 760:this.h=1,this.ba=3;break;case 1e3:this.h=2,this.ba=4;break;case 744:this.ba=this.h=3}this.v.register("serial"+this.h+"-input",(function(t){this.input.push(t),this.cd|=1,1&this.ee?$c(this,12):$c(this,4)}),this),L(t=t.A,i,this,(function(t){ad(this,t)}),(function(t){ad(this,255&t),ad(this,t>>8)})),L(t,1|i,this,(function(t){128&this.Bc?this.nc=255&this.nc|t<<8:(0==(2&this.ec)&&2&t&&$c(this,2),this.ec=15&t,bd(this))})),K(t,i,this,(function(){if(128&this.Bc)return 255&this.nc;var t=this.input.shift();return 0===this.input.length&&(this.cd&=-2,cd(this,12),cd(this,4)),t})),K(t,1|i,this,(function(){return 128&this.Bc?this.nc>>8:15&this.ec})),K(t,2|i,this,(function(){var t=15&this.fc;return 2==this.fc&&cd(this,2),1&this.ee&&(t|=192),t})),L(t,2|i,this,(function(t){this.ee=t})),K(t,3|i,this,(function(){return this.Bc})),L(t,3|i,this,(function(t){this.Bc=t})),K(t,4|i,this,(function(){return this.Re})),L(t,4|i,this,(function(t){this.Re=t})),K(t,5|i,this,(function(){return this.cd})),L(t,5|i,this,(function(){})),K(t,6|i,this,(function(){return this.rf})),L(t,6|i,this,(function(){})),K(t,7|i,this,(function(){return this.$e})),L(t,7|i,this,(function(t){this.$e=t}))}function bd(t){4096&t.g&&1&t.ec?(t.fc=12,t.s.Ka(t.ba)):16&t.g&&1&t.ec?(t.fc=4,t.s.Ka(t.ba)):4&t.g&&2&t.ec?(t.fc=2,t.s.Ka(t.ba)):1&t.g&&8&t.ec?(t.fc=0,t.s.Ka(t.ba)):(t.fc=1,Jb(t.s,t.ba))}function $c(t,i){t.g|=1<<i,bd(t)}function cd(t,i){t.g&=~(1<<i),bd(t)}function ad(t,i){128&t.Bc?t.nc=-256&t.nc|i:($c(t,2),255!==i&&t.v.send("serial"+t.h+"-output-char",String.fromCharCode(i)))}function dd(t){this.s=t;var i=t.A;Tb(t.u.Ha,{Ia:56,K:[134,128,19,113,7,0,128,2,8,0,128,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1,0,0],ib:[],name:"acpi"}),this.g=this.h=0,this.status=1,this.ne=this.kd=0,this.i=ed(this,nb()),this.Eb=new Uint8Array(4),K(i,45056,this,void 0,(function(){return this.kd})),L(i,45056,this,void 0,(function(t){this.kd&=~t})),K(i,45058,this,void 0,(function(){return this.ne})),L(i,45058,this,void 0,(function(t){this.ne=t})),K(i,45060,this,void 0,(function(){return this.status})),L(i,45060,this,void 0,(function(t){this.status=t})),K(i,45064,this,void 0,void 0,(function(){return 16777215&ed(this,nb())})),K(i,45024,this,(function(){return this.Eb[0]})),K(i,45025,this,(function(){return this.Eb[1]})),K(i,45026,this,(function(){return this.Eb[2]})),K(i,45027,this,(function(){return this.Eb[3]})),L(i,45024,this,(function(t){this.Eb[0]=t})),L(i,45025,this,(function(t){this.Eb[1]=t})),L(i,45026,this,(function(t){this.Eb[2]=t})),L(i,45027,this,(function(t){this.Eb[3]=t}))}function ed(t,i){return(i=Math.round(3579.545*i))===t.h?3579.545>t.g&&t.g++:t.h+t.g<=i&&(t.g=0,t.h=i),t.h+t.g}function fd(t){this.s=t,this.Y=this.pa=0,this.aa=1,this.g=this.l=0,this.j=nb(),this.L=this.P=this.O=this.T=this.h=65536,this.F=this.D=this.B=0,this.i=new Int32Array(8),this.R=new Int32Array(8),this.o=new Int32Array(8),this.X=254,this.C=-1,this.V=this.error=this.I=0,hb(t.A,4276092928,1048576,(t=>{var i=3&t;return this.qe(-4&t)>>8*i&255}),(()=>{}),(t=>this.qe(t)),((t,i)=>this.Lc(t,i)))}function kd(t,i,s,e){5===s||4===s||t.i[i>>5]>>(31&i)&1||(ld(t.i,i),e?ld(t.o,i):id(t.o,i),gd(t))}function gd(t){var i=hd(t.i);-1!==i&&(hd(t.R)>=i||(240&i)<=(240&t.B)||pb(t.s))}function ld(t,i){t[i>>5]|=1<<(31&i)}function id(t,i){t[i>>5]&=~(1<<(31&i))}function hd(t){for(var i=7;0<=i;i--){var s=t[i];if(s)return sb(s>>>0)|i<<5}return-1}function md(t){this.s=t,this.g=new Int32Array(24),this.o=new Int32Array(24);for(var i=0;i<this.g.length;i++)this.g[i]=65536;this.i=this.h=this.l=this.j=0,hb(t.A,4273995776,131072,(t=>16<=(t=t-4273995776|0)&&20>t?(t-=16,this.read(this.j)>>8*t&255):0),(()=>{}),(t=>0===(t=t-4273995776|0)?this.j:16===t?this.read(this.j):0),((t,i)=>{0===(t=t-4273995776|0)?this.j=i:16===t&&this.write(this.j,i)}))}function jd(t,i){var s=1<<i;if(0!=(t.h&s)){var e=t.g[i];if(0==(65536&e)){var h=e>>8&7;if(0==(32768&e))t.h&=~s;else if(t.g[i]|=16384,16384&e)return;0!==h&&1!==h||kd(t.s.u.Mc,255&e,h,32768==(32768&e)),t.g[i]&=-4097}}}function nd(t){this.message=t}(p=Cc.prototype).$=function(){var t=[];return t[0]=this.ha,t[1]=this.D,t[2]=this.sc,t[3]=this.qc,t[4]=this.L,t[5]=this.Tb,t[6]=this.o,t[7]=this.pa,t[8]=this.Ba,t[9]=this.Da,t[10]=this.$a,t[11]=this.h,t[12]=this.T,t[13]=this.V,t[14]=this.Qa,t[15]=this.Pa,t[16]=this.Za,t[17]=this.Fa,t[18]=this.La,t[19]=this.Mb,t[20]=this.Sa,t[21]=this.ud,t[22]=this.F,t[23]=this.aa,t[24]=this.tb,t[25]=this.Zb,t[26]=this.Wb,t[27]=this.Vb,t[28]=this.Xb,t[29]=this.Pb,t[30]=this.xc,t[31]=this.kc,t[32]=this.Ra,t[33]=this.vc,t[34]=this.Y,t[35]=this.$c,t[36]=this.j,t[37]=this.ub,t[38]=this.I,t[39]=this.Ff,t[40]=this.uc,t[41]=this.l,t[42]=this.O,t[43]=this.Ob,t[44]=this.wc,t[45]=this.Ac,t[46]=this.cb,t[47]=this.Rb,t[48]=this.Qb,t[49]=this.i,t[50]=this.g,t[51]=this.P,t[52]=this.zc,t[53]=this.O,t[54]=this.Ub,t[55]=this.Ta,t[56]=this.Cd,t[57]=this.Sb,t[58]=this.Rc,t[59]=this.bb,t[60]=this.C,t[61]=this.Kd,t[62]=this.X,t},p.G=function(t){this.ha=t[0],this.D=t[1],this.sc=t[2],this.qc=t[3],this.L=t[4],this.Tb=t[5],t[6]&&this.o.set(t[6]),this.pa=t[7],this.Ba=t[8],this.Da=t[9],this.$a=t[10],this.h=t[11],this.T=t[12],this.V=t[13],this.Qa=t[14],this.Pa=t[15],this.Za=t[16],this.Fa=t[17],this.La=t[18],this.Mb=t[19],this.Sa=t[20],this.ud=t[21],this.F=t[22],this.aa=t[23],this.tb=t[24],this.Zb=t[25],this.Wb=t[26],this.Vb=t[27],this.Xb=t[28],this.Pb=t[29],this.xc=t[30],this.kc=t[31],this.Ra=t[32],this.vc=t[33],this.Y=t[34],this.$c=t[35],this.j=t[36],this.ub=t[37],this.I=t[38],this.Ff.set(t[39]),this.uc=t[40],this.l=t[41],this.O=t[42],this.Ob=t[43],this.wc=t[44],this.Ac=t[45],this.cb.set(t[46]),this.Rb=t[47],this.Qb=t[48],this.i=t[49],this.g=t[50],this.P=t[51],this.zc=t[52],this.O=t[53],this.Ub=t[54],this.Ta=t[55],this.Cd=t[56],this.Sb=t[57],this.Rc=t[58],this.bb=t[59],this.C=t[60],t[61]&&this.Kd.set(t[61]),this.X=void 0===t[62]?255:t[62],this.v.send("screen-set-mode",this.Da),this.Da?(this.Pd=this.mc=0,this.La?(this.qd(this.Pa,this.Za,this.Mb,this.Pa,this.Za),Dc(this)):(Lc(this),Dc(this),Mc(this))):(this.rd(this.L,this.Tb),this.xd(),this.wd()),Nc(this)},p.wd=function(){var t=(this.D-this.Ba)/this.L|0,i=(this.D-this.Ba)%this.L;t=Math.min(this.Tb-1,t),this.v.send("screen-update-cursor",[t,i])},p.va=function(){},p.rd=function(t,i){this.L=t,this.Tb=i,this.v.send("screen-set-size-text",[t,i])},p.qd=function(t,i,s,e,h){if(!this.B.hg||this.B.Pf!==s||this.mc!==t||this.Pd!==i||this.Ea!==e||this.ze!==h){if(this.mc=t,this.Pd=i,this.Ea=e,this.ze=h,this.B.Pf=s,this.B.hg=!0,this.B.Fj=t,this.B.Gj=i,"undefined"!=typeof ImageData){const t=e*h,i=this.s.$g(t)>>>0;this.jf=i,this.Fb=new ImageData(new Uint8ClampedArray(this.s.Ja.buffer,i,4*t),e,h),this.s.lg()}this.v.send("screen-set-size-graphical",[t,i,e,h,s])}},p.xd=function(){this.v.send("screen-update-cursor-scanline",[this.sc,this.qc])},p.Pi=function(t){if(-1===this.l)this.l=31&t,this.Ub!==(32&t)&&(this.Ub=32&t,Dc(this));else{if(16>this.l)this.Zb[this.l]=t,64&this.Ta||Nc(this);else switch(this.l){case 16:if(this.Ta!==t){var i=this.Ta;this.Ta=t;var s=0<(1&t);this.La||this.Da===s||(this.Da=s,this.v.send("screen-set-mode",this.Da)),64&(i^t)&&Mc(this),Lc(this),Nc(this)}break;case 18:this.Cd!==t&&(this.Cd=t,Nc(this));break;case 19:this.Sb!==t&&(this.Sb=15&t,Dc(this));break;case 20:this.Rc!==t&&(this.Rc=t,Nc(this))}this.l=-1}},p.Ag=function(){return this.l|this.Ub},p.Oi=function(){return 255&this.Ag()|this.Bg()<<8&65280},p.Bg=function(){if(16>this.l)return 255&this.Zb[this.l];switch(this.l){case 16:return this.Ta;case 18:return this.Cd;case 19:return this.Sb;case 20:return this.Rc}return 255},p.Qi=function(t){this.$c=t},p.Si=function(t){this.Wb=t},p.Ri=function(){return this.Wb},p.Ui=function(t){switch(this.Wb){case 1:var i=this.bb;this.bb=t,32&(i^t)&&Dc(this);break;case 2:this.Vb=t;break;case 4:this.Xb=t}},p.Ti=function(){switch(this.Wb){case 1:return this.bb;case 2:return this.Vb;case 4:return this.Xb;case 6:return 18}return 0},p.Wi=function(t){this.X=t},p.Vi=function(){return this.X},p.Yi=function(t){this.tb=3*t,this.pa&=0},p.Xi=function(){return this.pa},p.$i=function(t){this.aa=3*t,this.pa|=3},p.Zi=function(){return this.aa/3&255},p.bj=function(t){var i=this.aa/3|0,s=this.aa%3,e=this.$a[i];if(0==(32&this.I)){const i=1&(t&=63);t=t<<2|i<<1|i}e=0===s?-16711681&e|t<<16:1===s?-65281&e|t<<8:-256&e|t,this.$a[i]!==e&&(this.$a[i]=e,Nc(this)),this.aa++},p.aj=function(){var t=this.$a[this.tb/3|0]>>8*(2-this.tb%3)&255;return this.tb++,32&this.I?t:t>>2},p.cj=function(){return this.$c},p.ej=function(t){this.Pb=t},p.dj=function(){return this.Pb},p.gj=function(t){switch(this.Pb){case 0:this.Ob=t;break;case 1:this.wc=t;break;case 2:this.T=t;break;case 3:this.Ra=t;break;case 4:this.xc=t;break;case 5:var i=this.kc;this.kc=t,96&(i^t)&&Mc(this);break;case 6:this.Qa!==t&&(this.Qa=t,Lc(this));break;case 7:this.V=t;break;case 8:this.vc=t}},p.fj=function(){switch(this.Pb){case 0:return this.Ob;case 1:return this.wc;case 2:return this.T;case 3:return this.Ra;case 4:return this.xc;case 5:return this.kc;case 6:return this.Qa;case 7:return this.V;case 8:return this.vc}return 0},p.ij=function(t){this.F=t},p.hj=function(){return this.F},p.jj=function(t){switch(this.F){case 1:this.Rb!==t&&(this.Rb=t,Lc(this));break;case 2:this.Qb!==t&&(this.Qb=t,Lc(this));break;case 7:var i=this.i;this.i&=255,this.i=this.i|t<<3&512|t<<7&256,i!=this.i&&Lc(this),this.C=767&this.C|t<<4&256,i=this.g,this.g=767&this.g|t<<5&256,i!==this.g&&Lc(this),Dc(this);break;case 8:this.zc=t,Dc(this);break;case 9:this.Y=t,this.C=511&this.C|t<<3&512,i=this.g,this.g=511&this.g|t<<4&512,i!==this.g&&Lc(this),Dc(this);break;case 10:this.sc=t,this.xd();break;case 11:this.qc=t,this.xd();break;case 12:(this.Ba>>8&255)!==t&&(this.Ba=255&this.Ba|t<<8,Dc(this),3&~this.Fa&&Mc(this));break;case 13:(255&this.Ba)!==t&&(this.Ba=65280&this.Ba|t,Dc(this),3&~this.Fa&&Mc(this));break;case 14:this.D=255&this.D|t<<8,this.wd();break;case 15:this.D=65280&this.D|t,this.wd();break;case 18:(255&this.i)!==t&&(this.i=768&this.i|t,Lc(this));break;case 19:this.O!==t&&(this.O=t,Lc(this),3&~this.Fa&&Mc(this));break;case 20:this.P!==t&&(i=this.P,this.P=t,Lc(this),64&(i^t)&&Mc(this));break;case 21:(255&this.g)!==t&&(this.g=768&this.g|t,Lc(this));break;case 23:this.Fa!==t&&(i=this.Fa,this.Fa=t,Lc(this),67&(i^t)&&Mc(this));break;case 24:this.C=768&this.C|t,Dc(this);break;default:this.F<this.cb.length&&(this.cb[this.F]=t)}},p.Cg=function(){switch(this.F){case 1:return this.Rb;case 2:return this.Qb;case 7:return this.i>>7&2|this.g>>5&8|this.C>>4&16|this.i>>3&64;case 8:return this.zc;case 9:return this.Y;case 10:return this.sc;case 11:return this.qc;case 12:return 255&this.Ba;case 13:return this.Ba>>8;case 14:return this.D>>8;case 15:return 255&this.D;case 18:return 255&this.i;case 19:return this.O;case 20:return this.P;case 21:return 255&this.g;case 23:return this.Fa;case 24:return 255&this.C}return this.F<this.cb.length?this.cb[this.F]:0},p.Dg=function(){var t=this.j;return this.Da?(this.j^=1,this.j&=1):(1&this.j&&(this.j^=8),this.j^=1),this.l=-1,t},p.ei=function(t){this.ub=t},p.gi=function(t){switch(this.ub){case 0:45248<=t&&45253>=t&&(this.ke=t);break;case 1:this.Pa=t,2560<this.Pa&&(this.Pa=2560);break;case 2:this.Za=t,1600<this.Za&&(this.Za=1600);break;case 3:this.Mb=t;break;case 4:this.La=1==(1&t),this.I=t;break;case 5:this.Sa=t<<16;break;case 9:t*=this.Pa,this.ud!==t&&(this.ud=t,Nc(this))}!this.La||this.Pa&&this.Za||(this.La=!1),this.La&&4===this.ub&&(this.qd(this.Pa,this.Za,this.Mb,this.Pa,this.Za),this.v.send("screen-set-mode",!0),this.uc=this.Da=!0),this.La||(this.Sa=0),Dc(this)},p.fi=function(){return Qc(this,this.ub)},(p=Rc.prototype).$=function(){var t=[];return t[0]=this.tc,t[1]=this.yd,t[2]=this.ie,t[3]=this.Hb,t[4]=this.Ib,t[5]=this.dd,t[6]=this.pa,t[7]=this.ce,t[8]=this.I,t[9]=this.T,t[10]=this.L,t[11]=this.F,t[12]=this.O,t[13]=this.P,t[15]=this.l,t[16]=this.Jc,t[17]=this.Md,t[18]=this.B,t[20]=this.h,t[21]=this.Y,t[22]=this.V,t[23]=this.aa,t[24]=this.X,t[25]=this.j,t[26]=this.i,t[27]=this.C,t},p.G=function(t){this.tc=t[0],this.yd=t[1],this.ie=t[2],this.Hb=t[3],this.Ib=t[4],this.dd=t[5],this.pa=t[6],this.ce=t[7],this.I=t[8],this.T=t[9],this.L=t[10],this.F=t[11],this.O=t[12],this.P=t[13],this.l=t[15],this.Jc=t[16],this.Md=t[17],this.B=t[18],this.h=t[20],this.Y=t[21],this.V=t[22],this.aa=t[23],this.X=t[24],this.j=t[25]||0,this.i=t[26]||0,this.C=t[27]||!1,this.D=this.o=!1,this.ja.clear(),this.g.clear(),this.v.send("mouse-enable",this.yd)},p.Aa=function(){this.o||(this.ja.length?Tc(this):this.g.length&&Uc(this))},p.xj=function(){return this.o=!1,this.ja.length||this.g.length?(this.D?(Jb(this.s,12),this.l=this.g.shift()):(Jb(this.s,1),this.l=this.ja.shift()),(this.ja.length||this.g.length)&&this.Aa(),this.l):this.l},p.zj=function(){var t=16;return this.o&&(t|=1),this.D&&(t|=32),t},p.yj=function(t){if(this.V)this.h=t,this.V=!1;else if(this.Y)this.Y=!1,this.g.clear(),this.g.push(t),Uc(this);else if(this.T){switch(this.T=!1,this.g.clear(),this.g.push(250),this.Jc=t,this.i){case-1:60===t?(this.C=!0,this.i=0):(this.C=!1,this.i=200===t?1:0);break;case 0:200===t&&(this.i=1);break;case 1:this.i=100===t?2:200===t?3:0;break;case 2:80===t&&(this.j=3),this.i=-1;break;case 3:80===t&&(this.j=4),this.i=-1}this.Jc||(this.Jc=100),Uc(this)}else if(this.P)this.P=!1,this.g.clear(),this.g.push(250),this.Md=3<t?4:1<<t,Uc(this);else if(this.L)this.L=!1,this.ja.push(250),Tc(this);else if(this.F)this.F=!1,this.ja.push(250),Tc(this),t||this.ja.push(2);else if(this.O)this.O=!1,this.ja.push(250),Tc(this);else if(this.I){if(this.I=!1,this.ie){switch(this.ja.clear(),this.g.clear(),this.g.push(250),t){case 230:this.B=!1;break;case 231:this.B=!0;break;case 232:this.P=!0;break;case 233:case 235:Sc(this,0,0);break;case 242:this.g.push(this.j),this.dd=this.Hb=this.Ib=0,this.Aa();break;case 243:this.T=!0;break;case 244:this.yd=this.tc=!0,this.v.send("mouse-enable",!0),this.dd=this.Hb=this.Ib=0;break;case 245:this.tc=!1;break;case 246:this.tc=!1,this.Jc=100,this.B=!1,this.Md=4;break;case 255:this.g.push(170),this.g.push(0),this.yd=!0,this.v.send("mouse-enable",!0),this.tc=!1,this.Jc=100,this.B=!1,this.Md=4,this.C||(this.j=0),this.dd=this.Hb=this.Ib=0}Uc(this)}}else if(this.X)this.X=!1,this.aa=t;else{switch(this.g.clear(),this.ja.clear(),this.ja.push(250),t){case 237:this.L=!0;break;case 240:this.F=!0;break;case 242:this.ja.push(171),this.ja.push(83);break;case 243:this.O=!0;break;case 244:this.ce=!0;break;case 245:this.ce=!1;break;case 255:this.ja.clear(),this.ja.push(250),this.ja.push(170),this.ja.push(0)}Tc(this)}},p.Aj=function(t){switch(t){case 32:this.ja.clear(),this.g.clear(),this.ja.push(this.h),Tc(this);break;case 96:this.V=!0;break;case 209:this.X=!0;break;case 211:this.Y=!0;break;case 212:this.I=!0;break;case 167:this.h|=32;break;case 168:this.h&=-33;break;case 169:case 171:this.ja.clear(),this.g.clear(),this.ja.push(0),Tc(this);break;case 170:this.ja.clear(),this.g.clear(),this.ja.push(85),Tc(this);break;case 173:this.h|=16;break;case 174:this.h&=-17;break;case 254:lc(this.s)}},(p=Vc.prototype).$=function(){var t=[];return t[0]=this.l,t[1]=this.C,t[2]=this.R,t[3]=this.g,t[4]=this.D,t[5]=this.la,t[6]=this.F,t[7]=this.state,t[8]=this.I,t[9]=this.o,t[10]=this.B,t},p.G=function(t){this.l=t[0],this.C=t[1],this.R=t[2],this.g=t[3],this.D=t[4],this.la&&this.la.G(t[5]),this.F=t[6],this.state=t[7],this.I=t[8],this.o=t[9],this.B=t[10]},p.ii=function(t){if(16&t)this.h=this.l=this.g=this.R=0,this.o=1,this.i=-1,this.F=1&t,this.state=1;else if(8&t)2&t&&(this.I=1&t),64&t&&(this.L=32==(32&t));else{var i=t>>5;1===i?this.R&=this.R-1:3===i?this.R&=~(1<<(7&t)):192!=(200&t)&&(this.R&=this.R-1),this.j()}},p.hi=function(){return this.I?this.R:this.g},p.ki=function(t){0===this.state?this.F?(this.F=!1,this.o=2&t):(this.l=~t,this.j()):1===this.state?(this.C=t,this.state++):2===this.state&&(this.state=0)},p.ji=function(){return 255&~this.l},p.vj=function(){return this.B},p.wj=function(t){this.B=t},(p=Wc.prototype).$=function(){var t=[];return t[0]=this.Qc,t[1]=this.W,t[2]=this.g,t[3]=this.D,t[4]=this.j,t[5]=this.l,t[6]=this.B,t[7]=this.C,t[8]=this.o,t[9]=this.h,t[10]=this.i,t[11]=this.tf,t},p.G=function(t){this.Qc=t[0],this.W=t[1],this.g=t[2],this.D=t[3],this.j=t[4],this.l=t[5],this.B=t[6],this.C=t[7],this.o=t[8],this.h=t[9],this.i=t[10],this.tf=t[11]},p.sb=function(t){t=Date.now(),this.g+=t-this.D,this.D=t,this.B&&this.j<t?(this.s.Ka(8),this.i|=192,this.j+=this.C*Math.ceil((t-this.j)/this.C)):this.l&&this.l<t&&(this.s.Ka(8),this.i|=160,this.l=0);let i=100;return this.B&&this.j&&(i=Math.min(i,Math.max(0,this.j-t))),this.l&&(i=Math.min(i,Math.max(0,this.l-t))),i},p.oh=function(){switch(this.Qc){case 0:return Xc(this,new Date(this.g).getUTCSeconds());case 2:return Xc(this,new Date(this.g).getUTCMinutes());case 4:return Xc(this,new Date(this.g).getUTCHours());case 7:return Xc(this,new Date(this.g).getUTCDate());case 8:return Xc(this,new Date(this.g).getUTCMonth()+1);case 9:return Xc(this,new Date(this.g).getUTCFullYear()%100);case 10:return 999<=nb()%1e3?128|this.o:this.o;case 11:return this.h;case 12:Jb(this.s,8);var t=this.i;return this.i&=-241,t;case 13:return 0;case 50:return Xc(this,new Date(this.g).getUTCFullYear()/100|0);default:return this.W[this.Qc]}},p.ph=function(t){switch(this.Qc){case 10:this.o=127&t,this.C=1e3/(32768>>(15&this.o)-1);break;case 11:if(this.h=t,64&this.h&&(this.j=Date.now()),32&this.h){t=new Date;const i=Yc(this,this.W[1]),s=Yc(this,this.W[3]),e=Yc(this,this.W[5]);this.l=+new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e,s,i))}break;case 1:case 3:case 5:this.W[this.Qc]=t}this.B=64==(64&this.h)&&0<(15&this.o)},Zc.prototype.$=function(){var t=[];return t[0]=this.g,t[1]=this.nc,t[2]=this.Bc,t[3]=this.cd,t[4]=this.ee,t[5]=this.ec,t[6]=this.fc,t[7]=this.Re,t[8]=this.rf,t[9]=this.$e,t[10]=this.ba,t},Zc.prototype.G=function(t){this.g=t[0],this.nc=t[1],this.Bc=t[2],this.cd=t[3],this.ee=t[4],this.ec=t[5],this.fc=t[6],this.Re=t[7],this.rf=t[8],this.$e=t[9],this.ba=t[10]},dd.prototype.sb=function(t){var i=0!=(8388608&((t=ed(this,t))^this.i));return 1&this.ne&&i?(this.kd|=1,this.s.Ka(9)):Jb(this.s,9),this.i=t,100},dd.prototype.$=function(){var t=[];return t[0]=this.status,t[1]=this.kd,t[2]=this.ne,t[3]=this.Eb,t},dd.prototype.G=function(t){this.status=t[0],this.kd=t[1],this.ne=t[2],this.Eb=t[3]},(p=fd.prototype).qe=function(t){switch(t=t-4276092928|0){case 32:return this.pa;case 48:return 327700;case 128:return this.B;case 208:return this.I;case 224:return this.C;case 240:return this.X;case 256:case 272:case 288:case 304:case 320:case 336:case 352:case 368:return this.R[t-256>>4];case 384:case 400:case 416:case 432:case 448:case 464:case 480:case 496:return this.o[t-384>>4];case 512:case 528:case 544:case 560:case 576:case 592:case 608:case 624:return this.i[t-512>>4];case 640:return this.V;case 768:return this.D;case 784:return this.F;case 800:return this.h;case 832:return this.T;case 848:return this.O;case 864:return this.P;case 880:return this.L;case 992:return this.Y;case 896:return this.l;case 912:return this.g;default:return 0}},p.Lc=function(t,i){switch(t-4276092928|0){case 128:this.B=255&i,gd(this);break;case 176:if(-1!==(i=hd(this.R))){if(id(this.R,i),this.o[i>>5]>>(31&i)&1){t=this.s.u.yc;for(var s=0;24>s;s++){var e=t.g[s];(255&e)===i&&16384&e&&(t.g[s]&=-16385,jd(t,s))}}gd(this)}break;case 208:this.I=4278190080&i;break;case 224:this.C=16777215|i;break;case 240:this.X=i;break;case 640:this.V=this.error,this.error=0;break;case 768:t=255&i,s=i>>8&7,e=i>>15&1;var h=i>>18&3;this.D=-4097&i,0===h?kd(this,t,s,e):1===h?kd(this,t,0,e):2===h&&kd(this,t,s,e);break;case 784:this.F=i;break;case 800:this.h=i;break;case 832:this.T=i;break;case 848:this.O=i;break;case 864:this.P=i;break;case 880:this.L=i;break;case 992:this.Y=i,i=3&i|(8&i)>>1,this.aa=7===i?0:i+1;break;case 896:this.l=i>>>0,this.g=i>>>0,this.j=nb()}},p.sb=function(t){if(0===this.g)return 100;const i=1e6/(1<<this.aa);return t=(t-this.j)*i>>>0,this.j+=t/i,this.g-=t,0>=this.g&&(131072===(t=393216&this.h)?(this.g%=this.l,0>=this.g&&(this.g+=this.l),0==(65536&this.h)&&kd(this,255&this.h,0,!1)):0===t&&(this.g=0,0==(65536&this.h)&&kd(this,255&this.h,0,!1))),Math.max(0,this.g/i)},p.Vd=function(){var t=hd(this.i);-1===t||hd(this.R)>=t||(240&t)<=(240&this.B)||(id(this.i,t),ld(this.R,t),this.s.C(t),gd(this))},p.$=function(){var t=[];return t[0]=this.pa,t[1]=this.Y,t[2]=this.aa,t[3]=this.l,t[4]=this.g,t[5]=this.j,t[6]=this.h,t[7]=this.T,t[8]=this.O,t[9]=this.P,t[10]=this.L,t[11]=this.B,t[12]=this.D,t[13]=this.F,t[14]=this.i,t[15]=this.R,t[16]=this.o,t[17]=this.X,t[18]=this.C,t[19]=this.I,t[20]=this.error,t[21]=this.V,t},p.G=function(t){this.pa=t[0],this.Y=t[1],this.aa=t[2],this.l=t[3],this.g=t[4],this.j=t[5],this.h=t[6],this.T=t[7],this.O=t[8],this.P=t[9],this.L=t[10],this.B=t[11],this.D=t[12],this.F=t[13],this.i=t[14],this.R=t[15],this.o=t[16],this.X=t[17],this.C=t[18],this.I=t[19],this.error=t[20],this.V=t[21]},(p=md.prototype).Rd=function(t){if(!(24<=t)){var i=1<<t;0==(this.i&i)&&(this.i|=i,65536!=(98304&this.g[t])&&(this.h|=i,jd(this,t)))}},p.Wd=function(t){if(!(24<=t)){var i=1<<t;(this.i&i)===i&&(this.i&=~i,32768&this.g[t]&&(this.h&=~i))}},p.read=function(t){if(0===t)return this.l<<24;if(1===t)return 1507345;if(2===t)return this.l<<24;if(16<=t&&64>t){var i=t-16>>1;return 1&t?this.o[i]:this.g[i]}return 0},p.write=function(t,i){if(0===t)this.l=i>>>24&15;else if(1!==t&&2!==t&&16<=t&&64>t){var s=t-16>>1;1&t?this.o[s]=4278190080&i:(this.g[s]=110591&i|-110592&this.g[s],jd(this,s))}},p.$=function(){var t=[];return t[0]=this.g,t[1]=this.o,t[2]=this.j,t[3]=this.l,t[4]=this.h,t[5]=this.i,t},p.G=function(t){this.g=t[0],this.o=t[1],this.j=t[2],this.l=t[3],this.h=t[4],this.i=t[5]},nd.prototype=Error();const od={Uint8Array:Uint8Array,Int8Array:Int8Array,Uint16Array:Uint16Array,Int16Array:Int16Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Float32Array:Float32Array,Float64Array:Float64Array};function pd(t,i){if("object"!=typeof t||null===t)return t;if(t instanceof Array)return t.map((t=>pd(t,i)));if(t.constructor===Object&&console.log(t),t.BYTES_PER_ELEMENT){var s=new Uint8Array(t.buffer,t.byteOffset,t.length*t.BYTES_PER_ELEMENT);return{__state_type__:t.constructor.name.replace("bound ",""),buffer_id:i.push(s)-1}}t=t.$(),s=[];for(var e=0;e<t.length;e++)s[e]=pd(t[e],i);return s}function qd(t,i){if("object"!=typeof t||null===t)return t;if(t instanceof Array){for(let s=0;s<t.length;s++)t[s]=qd(t[s],i);return t}return new od[t.__state_type__](i[t.buffer_id])}function rd(t,i,s){t[0]===i[0]&&t[1]===i[1]&&t[2]===i[2]&&t[3]===i[3]&&t[4]===i[4]&&t[5]===i[5]&&(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5]),t[6]===i[0]&&t[7]===i[1]&&t[8]===i[2]&&t[9]===i[3]&&t[10]===i[4]&&t[11]===i[5]&&(t[6]=s[0],t[7]=s[1],t[8]=s[2],t[9]=s[3],t[10]=s[4],t[11]=s[5]);var e=t[12]<<8|t[13];if(2048===e){if(4==(t=t.subarray(14))[0]>>4&&17===t[9]&&(e=(t=t.subarray(20))[2]<<8|t[3],67==(t[0]<<8|t[1])||67===e)){const h=t.subarray(8);if(1669485411==(h[236]<<24|h[237]<<16|h[238]<<8|h[239]))for(h[28]===i[0]&&h[29]===i[1]&&h[30]===i[2]&&h[31]===i[3]&&h[32]===i[4]&&h[33]===i[5]&&(h[28]=s[0],h[29]=s[1],h[30]=s[2],h[31]=s[3],h[32]=s[4],h[33]=s[5],t[6]=t[7]=0),e=240;e<h.length;){const n=h[e++];if(255===n)break;const a=h[e++];61===n&&1===h[e+0]&&h[e+1]===i[0]&&h[e+2]===i[1]&&h[e+3]===i[2]&&h[e+4]===i[3]&&h[e+5]===i[4]&&h[e+6]===i[5]&&(h[e+1]=s[0],h[e+2]=s[1],h[e+3]=s[2],h[e+4]=s[3],h[e+5]=s[4],h[e+6]=s[5],t[6]=t[7]=0),e+=a}}}else 2054===e&&((t=t.subarray(14))[8]===i[0]&&t[9]===i[1]&&t[10]===i[2]&&t[11]===i[3]&&t[12]===i[4]&&t[13]===i[5]&&(t[8]=s[0],t[9]=s[1],t[10]=s[2],t[11]=s[3],t[12]=s[4],t[13]=s[5]))}function sd(t,i,s,e){for(this.s=t,this.Ha=t.u.Ha,this.vf=s,this.Gb=e,this.v=i,this.v.register("net0-receive",(function(t){if(!(1&this.Ma)&&(this.v.send("eth-receive-end",[t.length]),16&this.Od||4&this.Od&&255===t[0]&&255===t[1]&&255===t[2]&&255===t[3]&&255===t[4]&&255===t[5]||!(8&this.Od&&1==(1&t[0])||t[0]!==this.sa[0]||t[1]!==this.sa[1]||t[2]!==this.sa[2]||t[3]!==this.sa[3]||t[4]!==this.sa[4]||t[5]!==this.sa[5]))){this.le&&rd(t=new Uint8Array(t),this.sa,this.le);var i=this.wb<<8,s=Math.max(60,t.length)+4,e=i+4,h=this.wb+1+(s>>8);if(!((this.pc>this.wb?this.pc-this.wb:this.Va-this.wb+this.pc-this.Kb)<1+(s>>8)&&0!==this.pc)){if(i+s>this.Va<<8){var n=(this.Va<<8)-e;this.memory.set(t.subarray(0,n),e),this.memory.set(t.subarray(n),this.Kb<<8)}else this.memory.set(t,e),60>t.length&&this.memory.fill(0,e+t.length,e+60);h>=this.Va&&(h+=this.Kb-this.Va),this.memory[i]=1,this.memory[i+1]=h,this.memory[i+2]=s,this.memory[i+3]=s>>8,this.wb=h,td(this,1)}}}),this),this.port=768,this.name="ne2k",this.K=[236,16,41,128,3,1,0,0,0,0,0,2,0,0,0,0,255&this.port|1,this.port>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,184,254,0,0,0,0,0,0,0,0,0,1,0,0],this.Ia=40,this.ib=[{size:32}],this.Le=this.R=0,this.Ma=1,this.bf=this.vd=this.rb=this.Xd=0,this.memory=new Uint8Array(32768),this.If=this.Od=0,this.Hf=1,this.sa=new Uint8Array([0,34,21,255*Math.random()|0,255*Math.random()|0,255*Math.random()|0]),this.le=null,i=0;6>i;i++)this.memory[i<<1]=this.memory[i<<1|1]=this.sa[i];this.memory[28]=this.memory[29]=87,this.memory[30]=this.memory[31]=87,this.ua=0,this.Kb=64,this.Va=128,this.pc=this.wb=76,K(i=t.A,0|this.port,this,(function(){return this.Ma})),L(i,0|this.port,this,(function(t){this.Ma=t,1&this.Ma||(24&t&&0===this.rb&&td(this,64),4&t&&(t=this.bf<<8,t=this.memory.subarray(t,t+this.vd),this.le&&rd(t=new Uint8Array(t),this.le,this.sa),this.v.send("net0-send",t),this.v.send("eth-transmit-end",[t.length]),this.Ma&=-5,td(this,2)))})),K(i,13|this.port,this,(function(){return 0})),K(i,14|this.port,this,(function(){return 0}),(function(){return 0})),K(i,15|this.port,this,(function(){return 0})),K(i,31|this.port,this,(function(){return td(this,128),0})),L(i,31|this.port,this,(function(){})),K(i,1|this.port,this,(function(){var t=S(this);return 0===t?this.Kb:1===t?this.sa[0]:2===t?this.Kb:0})),L(i,1|this.port,this,(function(t){var i=S(this);0===i?this.Kb=t:1===i&&(this.sa[0]=t)})),K(i,2|this.port,this,(function(){var t=S(this);return 0===t?this.Va:1===t?this.sa[1]:2===t?this.Va:0})),L(i,2|this.port,this,(function(t){var i=S(this);0===i?(t>this.memory.length>>8&&(t=this.memory.length>>8),this.Va=t):1===i&&(this.sa[1]=t)})),K(i,7|this.port,this,(function(){var t=S(this);return 0===t?this.R:1===t?this.wb:void 0})),L(i,7|this.port,this,(function(t){var i=S(this);0===i?(this.R&=~t,ud(this)):1===i&&(this.wb=t)})),L(i,13|this.port,this,(function(t){0===S(this)&&(this.If=t)})),L(i,14|this.port,this,(function(t){0===S(this)&&(this.Xd=t)})),K(i,10|this.port,this,(function(){return 0===S(this)?80:0})),L(i,10|this.port,this,(function(t){0===S(this)&&(this.rb=65280&this.rb|255&t)})),K(i,11|this.port,this,(function(){return 0===S(this)?67:0})),L(i,11|this.port,this,(function(t){0===S(this)&&(this.rb=255&this.rb|t<<8&65280)})),K(i,8|this.port,this,(function(){if(0===S(this))return 255&this.ua})),L(i,8|this.port,this,(function(t){0===S(this)&&(this.ua=65280&this.ua|255&t)})),K(i,9|this.port,this,(function(){if(0===S(this))return this.ua>>8&255})),L(i,9|this.port,this,(function(t){0===S(this)&&(this.ua=255&this.ua|t<<8&65280)})),L(i,15|this.port,this,(function(t){0===S(this)&&(this.Le=t,ud(this))})),K(i,3|this.port,this,(function(){var t=S(this);return 0===t?this.pc:1===t?this.sa[2]:0})),L(i,3|this.port,this,(function(t){var i=S(this);0===i?this.pc=t:1===i&&(this.sa[2]=t)})),K(i,4|this.port,this,(function(){var t=S(this);return 0===t?this.Hf:1===t?this.sa[3]:0})),L(i,4|this.port,this,(function(t){var i=S(this);0===i?this.bf=t:1===i&&(this.sa[3]=t)})),K(i,5|this.port,this,(function(){var t=S(this);return 0===t?0:1===t?this.sa[4]:0})),L(i,5|this.port,this,(function(t){var i=S(this);0===i?this.vd=-256&this.vd|t:1===i&&(this.sa[4]=t)})),K(i,6|this.port,this,(function(){var t=S(this);return 0===t?0:1===t?this.sa[5]:0})),L(i,6|this.port,this,(function(t){var i=S(this);0===i?this.vd=255&this.vd|t<<8:1===i&&(this.sa[5]=t)})),K(i,12|this.port,this,(function(){return 0===S(this)?9:0})),L(i,12|this.port,this,(function(t){0===S(this)&&(this.Od=t)})),K(i,16|this.port,this,this.sh,this.Tf,this.rh),L(i,16|this.port,this,this.Uf,this.Uf,this.th),Tb(t.u.Ha,this)}function td(t,i){t.R|=i,ud(t)}function ud(t){t.Le&t.R?t.Ha.Aa(t.Ia):mc(t.Ha,t.Ia)}function vd(t,i){(16>=t.ua||16384<=t.ua&&32768>t.ua)&&(t.memory[t.ua]=i),t.ua++,t.rb--,t.ua>=t.Va<<8&&(t.ua+=t.Kb-t.Va<<8),0===t.rb&&td(t,64)}function wd(t){let i=0;return 32768>t.ua&&(i=t.memory[t.ua]),t.ua++,t.rb--,t.ua>=t.Va<<8&&(t.ua+=t.Kb-t.Va<<8),0===t.rb&&td(t,64),i}function S(t){return t.Ma>>6&3}jb.prototype.se=function(){for(var t=[],i=pd(this,t),s=[],e=0,h=0;h<t.length;h++){var n=t[h].byteLength;s[h]={offset:e,length:n},e=(e+=n)+3&-4}h=JSON.stringify({buffer_infos:s,state:i}),n=(i=(i=16+(h=(new TextEncoder).encode(h)).length)+3&-4)+e,e=new ArrayBuffer(n);var a=new Int32Array(e,0,4);for(new Uint8Array(e,16,h.length).set(h),i=new Uint8Array(e,i),a[0]=-2039052682,a[1]=6,a[2]=n,a[3]=h.length,h=0;h<t.length;h++)i.set(t[h],s[h].offset);return e},jb.prototype.Nd=function(t){function i(t,i){const s=t.length;if(16>s)throw new nd("Invalid length: "+s);if(-2039052682!==(t=new Int32Array(t.buffer,t.byteOffset,4))[0])throw new nd("Invalid header: "+yb(t[0]>>>0));if(6!==t[1])throw new nd("Version mismatch: dump="+t[1]+" we=6");if(i&&t[2]!==s)throw new nd("Length doesn't match header: real="+s+" header="+t[2]);return t[3]}function s(t){return t=(new TextDecoder).decode(t),JSON.parse(t)}if(t=new Uint8Array(t),4247762216===new Uint32Array(t.buffer,0,1)[0]){var e=this.Tg(t.length);new Uint8Array(this.Ja.buffer,this.Vg(e),t.length).set(t);var h=this.Td(e,16),n=new Uint8Array(this.Ja.buffer,h,16),a=i(n,!1);this.Ud(h,16),h=this.Td(e,a),n=s(n=new Uint8Array(this.Ja.buffer,h,a)),this.Ud(h,a),h=n.state;var r=n.buffer_infos;for(var o of(n=[],a=16+a,r)){if(r=(a+3&-4)-a,1048576<o.length){var c=this.Td(e,r);this.Ud(c,r),c=new Uint8Array(o.length),n.push(c.buffer);for(var u=0;u<o.length;){const t=Math.min(o.length-u,1048576),i=this.Td(e,t);c.set(new Uint8Array(this.Ja.buffer,i,t),u),this.Ud(i,t),u+=t}}else u=(c=this.Td(e,r+o.length))+r,n.push(this.Ja.buffer.slice(u,u+o.length)),this.Ud(c,r+o.length);a+=r+o.length}h=qd(h,n),this.G(h),this.Ug(e)}else{if(0>(o=i(t,!0))||o+12>=t.length)throw new nd("Invalid info block length: "+o);e=(h=s(t.subarray(16,16+o))).state,h=h.buffer_infos;let n=16+o;n=n+3&-4,e=qd(e,o=h.map((i=>{const s=n+i.offset;return t.buffer.slice(s,s+i.length)}))),this.G(e)}},(p=sd.prototype).$=function(){var t=[];return t[0]=this.R,t[1]=this.Le,t[2]=this.Ma,t[3]=this.Xd,t[4]=this.rb,t[5]=this.vd,t[6]=this.bf,t[7]=this.ua,t[8]=this.Kb,t[9]=this.wb,t[10]=this.pc,t[11]=this.Va,t[12]=this.Od,t[13]=this.If,t[14]=this.Hf,t[15]=this.sa,t[16]=this.memory,t},p.G=function(t){this.R=t[0],this.Le=t[1],this.Ma=t[2],this.Xd=t[3],this.rb=t[4],this.vd=t[5],this.bf=t[6],this.ua=t[7],this.Kb=t[8],this.wb=t[9],this.pc=t[10],this.Va=t[11],this.Od=t[12],this.If=t[13],this.Hf=t[14],this.vf?(this.sa=t[15],this.memory=t[16]):this.Gb&&(this.le=t[15],this.memory=t[16])},p.Uf=function(t){vd(this,t),1&this.Xd&&vd(this,t>>8)},p.th=function(t){vd(this,t),vd(this,t>>8),vd(this,t>>16),vd(this,t>>24)},p.sh=function(){return 255&this.Tf()},p.Tf=function(){return 1&this.Xd?wd(this)|wd(this)<<8:wd(this)},p.rh=function(){return wd(this)|wd(this)<<8|wd(this)<<16|wd(this)<<24};var xd=new Uint8Array(256),yd=[],zd=[],Ad=[],Bd=new Uint8Array(256),Cd=[];function Dd(t,i){this.s=t,this.v=i,this.Ca=new Ab(64),this.ea=new Ab(64),this.i=this.o=this.lb=this.I=0,this.M=new Uint8Array(256),Ed(this),this.Fd=!1,this.ue=0,this.ob=this.nb=this.Uc=this.cc=!1,this.xb=[new Bb,new Bb],this.eb=t.u.eb,this.fb=this.bc=this.j=this.Ab=this.l=this.D=0,this.Bb=1,this.Tc=5,this.zb=!1,this.g=new ArrayBuffer(65536),this.Y=new Int8Array(this.g),this.C=new Uint8Array(this.g),this.X=new Int16Array(this.g),this.aa=new Uint16Array(this.g),this.Qa=new tb(this.g),this.Cb=this.B=!1,this.Ya=22050,i.send("dac-tell-sampling-rate",this.Ya),this.h=1,this.O=170,this.L=0,this.Nc=new Uint8Array(256),this.F=new Ab(64),this.T=this.P=this.Sa=0,this.Jh=!1,this.ba=5,this.Yc=new Uint8Array(16),t.A.pd(544,this,this.wg,this.yg,this.li,this.ni),t.A.pd(904,this,this.wg,this.yg),t.A.pd(548,this,this.pi,this.si),K(t.A,550,this,this.ui),K(t.A,551,this,this.wi),K(t.A,552,this,this.yi),K(t.A,553,this,this.Ai),K(t.A,554,this,this.Ci),K(t.A,555,this,this.Ei),K(t.A,556,this,this.Gi),K(t.A,557,this,this.Ii),t.A.pd(558,this,this.Ki,this.Mi),t.A.Lb(544,this,this.xg,this.zg,this.mi,this.oi),t.A.Lb(904,this,this.xg,this.zg),t.A.Lb(548,this,this.ri,this.ti),L(t.A,550,this,this.vi),L(t.A,551,this,this.xi),t.A.Lb(552,this,this.zi,this.Bi),L(t.A,554,this,this.Di),L(t.A,555,this,this.Fi),L(t.A,556,this,this.Hi),L(t.A,557,this,this.Ji),L(t.A,558,this,this.Li),L(t.A,559,this,this.Ni),t.A.pd(816,this,this.rj,this.tj),t.A.Lb(816,this,this.sj,this.uj),this.eb.cf.push({Je:this.pa,Gf:this}),i.register("dac-request-data",(function(){!this.Ab||this.Cb?Fd(this):Gd(this)}),this),i.register("speaker-has-initialized",(function(){Ed(this)}),this),i.send("speaker-confirm-initialized"),Hd(this)}function Hd(t){t.Ca.clear(),t.ea.clear(),t.lb=0,t.o=0,t.Fd=!1,t.ue=0,t.cc=!1,t.Uc=!1,t.nb=!1,t.ob=!1,t.xb[0].clear(),t.xb[1].clear(),t.D=0,t.l=0,t.Ab=0,t.j=0,t.bc=0,t.fb=0,t.zb=!1,t.C.fill(0),t.B=!1,t.Cb=!1,t.O=170,t.L=0,t.Ya=22050,t.h=1,Id(t,1),t.Yc.fill(0),t.Nc.fill(0),t.Nc[5]=1,t.Nc[9]=248}function T(t,i,s){s||(s=Dd.prototype.Yf);for(var e=0;e<t.length;e++)xd[t[e]]=i,yd[t[e]]=s}function Ld(t){for(var i=[],s=0;16>s;s++)i.push(t+s);return i}(p=Dd.prototype).$=function(){var t=[];return t[2]=this.I,t[3]=this.lb,t[4]=this.o,t[5]=this.i,t[6]=this.M,t[7]=this.Fd,t[8]=this.ue,t[9]=this.cc,t[10]=this.Uc,t[11]=this.nb,t[12]=this.ob,t[15]=this.D,t[16]=this.l,t[17]=this.Ab,t[18]=this.j,t[19]=this.bc,t[20]=this.fb,t[21]=this.Bb,t[22]=this.Tc,t[23]=this.zb,t[24]=this.C,t[25]=this.B,t[26]=this.Cb,t[27]=this.Ya,t[28]=this.h,t[29]=this.O,t[30]=this.L,t[31]=this.Nc,t[33]=this.cb,t[34]=this.ba,t[35]=this.Yc,t},p.G=function(t){this.I=t[2],this.lb=t[3],this.o=t[4],this.i=t[5],this.M=t[6],Jd(this),this.Fd=t[7],this.ue=t[8],this.cc=t[9],this.Uc=t[10],this.nb=t[11],this.ob=t[12],this.D=t[15],this.l=t[16],this.Ab=t[17],this.j=t[18],this.bc=t[19],this.fb=t[20],this.Bb=t[21],this.Tc=t[22],this.zb=t[23],this.C=t[24],this.B=t[25],this.Cb=t[26],this.Ya=t[27],this.h=t[28],this.O=t[29],this.L=t[30],this.Nc=t[31],this.cb=t[33],this.ba=t[34],this.Yc=t[35],this.g=this.C.buffer,this.Y=new Int8Array(this.g),this.X=new Int16Array(this.g),this.aa=new Uint16Array(this.g),this.Qa=new tb(this.g),this.Cb?this.v.send("dac-disable"):this.v.send("dac-enable")},p.wg=function(){return 255},p.yg=function(){return 255},p.li=function(){return 255},p.ni=function(){return 255},p.pi=function(){return this.i},p.si=function(){var t=this.i,i=zd[t];return i?i.call(this):this.M[t]},p.ui=function(){return 255},p.wi=function(){return 255},p.yi=function(){return 255},p.Ai=function(){return 255},p.Ci=function(){return this.ea.length&&(this.I=this.ea.shift()),this.I},p.Ei=function(){return 255},p.Gi=function(){return 127},p.Ii=function(){return 255},p.Ki=function(){return this.Yc[1]&&Id(this,1),(this.ea.length&&!this.cc)<<7|127},p.Mi=function(){return Id(this,2),0},p.xg=function(){this.P=0},p.zg=function(t){var i=Cd[this.P];i||(i=this.V),i.call(this,t,0,this.P)},p.mi=function(){this.T=0},p.oi=function(t){var i=Cd[this.T];i||(i=this.V),i.call(this,t,1,this.T)},p.ri=function(t){this.i=t},p.ti=function(t){Kd(this,this.i,t)},p.vi=function(t){this.cc?this.cc=!1:t&&Hd(this),this.ea.clear(),this.ea.push(170)},p.xi=function(){},p.zi=function(){},p.Bi=function(){},p.Di=function(){},p.Fi=function(){},p.Hi=function(t){0===this.lb?(this.lb=t,this.Ca.clear(),this.o=xd[t]):this.Ca.push(t),this.Ca.length>=this.o&&((t=yd[this.lb])||(t=this.Yf),t.call(this),this.o=this.lb=0,this.Ca.clear())},p.Ji=function(){},p.Li=function(){},p.Ni=function(){},p.rj=function(){return this.F.length&&(this.Sa=this.F.shift()),this.Sa},p.sj=function(){},p.tj=function(){return 0|128*!this.F.length},p.uj=function(t){255==t&&(this.F.clear(),this.F.push(254))},p.Yf=function(){},T([14],2,(function(){this.Nc[this.Ca.shift()]=this.Ca.shift()})),T([15],1,(function(){this.ea.clear(),this.ea.push(this.Nc[this.Ca.shift()])})),T([16],1,(function(){var t=this.Ca.shift();t=Md(t/127.5-1),this.xb[0].push(t),this.xb[1].push(t),this.v.send("dac-enable")})),T([20,21],2,(function(){this.bc=1,this.fb=this.Bb,this.cc=this.nb=this.ob=this.zb=!1,Nd(this),Od(this)})),T([22],2),T([23],2),T([28],0,(function(){this.bc=1,this.fb=this.Bb,this.zb=!0,this.cc=this.nb=this.ob=!1,Od(this)})),T([31],0),T([32],0,(function(){this.ea.clear(),this.ea.push(127)})),T([36],2),T([44],0),T([48],0),T([49],0),T([52],0),T([53],0),T([54],0),T([55],0),T([56],0),T([64],1,(function(){Pd(this,1e6/(256-this.Ca.shift())/(this.Uc?2:1))})),T([65,66],2,(function(){Pd(this,this.Ca.shift()<<8|this.Ca.shift())})),T([72],2,(function(){Nd(this)})),T([116],2),T([117],2),T([118],2),T([119],2),T([125],0),T([127],0),T([128],2),T([144],0,(function(){this.bc=1,this.fb=this.Bb,this.zb=!0,this.ob=!1,this.cc=!0,this.nb=!1,Od(this)})),T([145],0),T([152],0),T([153],0),T([160],0),T([168],0),T(Ld(176),3,(function(){if(!(8&this.lb)){var t=this.Ca.shift();this.bc=2,this.fb=this.Tc,this.zb=!!(4&this.lb),this.ob=!!(16&t),this.Uc=!!(32&t),this.nb=!0,Nd(this),Od(this)}})),T(Ld(192),3,(function(){if(!(8&this.lb)){var t=this.Ca.shift();this.bc=1,this.fb=this.Bb,this.zb=!!(4&this.lb),this.ob=!!(16&t),this.Uc=!!(32&t),this.nb=!1,Nd(this),Od(this)}})),T([208],0,(function(){this.Cb=!0,this.v.send("dac-disable")})),T([209],0,(function(){this.Fd=!0})),T([211],0,(function(){this.Fd=!1})),T([212],0,(function(){this.Cb=!1,this.v.send("dac-enable")})),T([213],0,(function(){this.Cb=!0,this.v.send("dac-disable")})),T([214],0,(function(){this.Cb=!1,this.v.send("dac-enable")})),T([216],0,(function(){this.ea.clear(),this.ea.push(255*this.Fd)})),T([217,218],0,(function(){this.zb=!1})),T([224],1,(function(){this.ea.clear(),this.ea.push(~this.Ca.shift())})),T([225],0,(function(){this.ea.clear(),this.ea.push(4),this.ea.push(5)})),T([226],1),T([227],0,(function(){this.ea.clear();for(var t=0;44>t;t++)this.ea.push("COPYRIGHT (C) CREATIVE TECHNOLOGY LTD, 1992.".charCodeAt(t));this.ea.push(0)})),T([228],1,(function(){this.ue=this.Ca.shift()})),T([232],0,(function(){this.ea.clear(),this.ea.push(this.ue)})),T([242,243],0,(function(){this.Aa()}));var Qd=new Uint8Array(256);function Kd(t,i,s){(i=Ad[i])&&i.call(t,s)}function Ed(t){t.M[4]=204,t.M[34]=204,t.M[38]=204,t.M[40]=0,t.M[46]=0,t.M[10]=0,t.M[48]=192,t.M[49]=192,t.M[50]=192,t.M[51]=192,t.M[52]=192,t.M[53]=192,t.M[54]=0,t.M[55]=0,t.M[56]=0,t.M[57]=0,t.M[59]=0,t.M[60]=31,t.M[61]=21,t.M[62]=11,t.M[63]=0,t.M[64]=0,t.M[65]=0,t.M[66]=0,t.M[67]=0,t.M[68]=128,t.M[69]=128,t.M[70]=128,t.M[71]=128,Jd(t)}function Jd(t){for(var i=1;i<t.M.length;i++)Bd[i]||Kd(t,i,t.M[i])}function Rd(t,i){i||(i=Dd.prototype.Ra),zd[t]=i}function Sd(t,i){i||(i=Dd.prototype.bb),Ad[t]=i}function Td(t,i,s){Bd[t]=1,zd[t]=function(){return 240&this.M[i]|this.M[s]>>>4},Ad[t]=function(e){this.M[t]=e;var h=e<<4&240|15&this.M[s];Kd(this,i,240&e|15&this.M[i]),Kd(this,s,h)}}function Ud(t,i,s){zd[t]=Dd.prototype.Ra,Ad[t]=function(e){this.M[t]=e,this.v.send("mixer-volume",[i,s,(e>>>2)-62])}}function Vd(t,i){i||(i=Dd.prototype.V);for(var s=0;s<t.length;s++)Cd[t[s]]=i}function Wd(t,i){for(var s=[];t<=i;t++)s.push(t);return s}Qd[14]=255,Qd[15]=7,Qd[55]=56,T([249],1,(function(){var t=this.Ca.shift();this.ea.clear(),this.ea.push(Qd[t])})),Dd.prototype.Ra=function(){return this.M[this.i]},Dd.prototype.bb=function(t){this.M[this.i]=t},Rd(0,(function(){return Ed(this),0})),Sd(0),Td(4,50,51),Td(34,48,49),Td(38,52,53),Td(40,54,55),Td(46,56,57),Ud(48,0,0),Ud(49,0,1),Ud(50,2,0),Ud(51,2,1),Rd(59),Sd(59,(function(t){this.M[59]=t,this.v.send("mixer-volume",[1,2,6*(t>>>6)-18])})),Rd(65),Sd(65,(function(t){this.M[65]=t,this.v.send("mixer-gain-left",6*(t>>>6))})),Rd(66),Sd(66,(function(t){this.M[66]=t,this.v.send("mixer-gain-right",6*(t>>>6))})),Rd(68),Sd(68,(function(t){this.M[68]=t,t>>>=3,this.v.send("mixer-treble-left",t-(16>t?14:16))})),Rd(69),Sd(69,(function(t){this.M[69]=t,t>>>=3,this.v.send("mixer-treble-right",t-(16>t?14:16))})),Rd(70),Sd(70,(function(t){this.M[70]=t,t>>>=3,this.v.send("mixer-bass-right",t-(16>t?14:16))})),Rd(71),Sd(71,(function(t){this.M[71]=t,t>>>=3,this.v.send("mixer-bass-right",t-(16>t?14:16))})),Rd(128,(function(){switch(this.ba){case 2:return 1;case 5:return 2;case 7:return 4;case 10:return 8;default:return 0}})),Sd(128,(function(t){1&t&&(this.ba=2),2&t&&(this.ba=5),4&t&&(this.ba=7),8&t&&(this.ba=10)})),Rd(129,(function(){var t=0;switch(this.Bb){case 0:t|=1;break;case 1:t|=2;break;case 3:t|=8}switch(this.Tc){case 5:t|=32;break;case 6:t|=64;break;case 7:t|=128}return t})),Sd(129,(function(t){1&t&&(this.Bb=0),2&t&&(this.Bb=1),8&t&&(this.Bb=3),32&t&&(this.Tc=5),64&t&&(this.Tc=6),128&t&&(this.Tc=7)})),Rd(130,(function(){for(var t=32,i=0;16>i;i++)t|=i*this.Yc[i];return t})),Dd.prototype.V=function(){};var U=new Uint8Array(32);function Pd(t,i){t.Ya=i,t.v.send("dac-tell-sampling-rate",i)}function Nd(t){t.D=1+(t.Ca.shift()<<0)+(t.Ca.shift()<<8)}function Od(t){t.h=1,t.nb&&(t.h*=2),t.l=t.D*t.h,t.j=1024*t.h,t.j=Math.min(Math.max(t.l>>2&-4,32),t.j),t.B=!0,t.eb.Yb[t.fb]||t.pa(t.fb)}function Gd(t){var i=Math.min(t.Ab,t.j),s=Math.floor(i/t.h);t.eb.be(t.Qa,0,i,t.fb,(e=>{if(!e){e=t.nb?32767.5:127.5;var h,n=t.ob?0:-1,a=t.Uc?1:2;h=t.nb?t.ob?t.X:t.aa:t.ob?t.Y:t.C;for(var r=0,o=0;o<s;o++)for(var c=Md(h[o]/e+n),u=0;u<a;u++)t.xb[r].push(c),r^=1;Fd(t),t.Ab-=i,t.Ab||(t.Aa(t.bc),t.zb&&(t.Ab=t.l))}}))}function Fd(t){if(t.xb[0].length){var i=Cb(t.xb[0],t.xb[0].length),s=Cb(t.xb[1],t.xb[1].length);t.v.send("dac-send-data",[i,s],[i.buffer,s.buffer])}}function Id(t,i){t.Yc[i]=0,Jb(t.s,t.ba)}function Md(t){return-1*(-1>t)+1*(1<t)+(-1<=t&&1>=t)*t}function ka(t,i){for(var s of(this.s=t,this.Ha=t.u.Ha,this.He=i.He,this.K=[244,26,255&i.He,i.He>>8,7,5,16,0,1,0,2,0,0,0,0,0,1,168,0,0,0,16,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,255&i.Rg,i.Rg>>8,0,0,0,0,64,0,0,0,0,0,0,0,0,1,0,0],this.K=this.K.concat(Array(256-this.K.length).fill(0)),this.Ia=i.Ia,this.ib=[],this.name=i.name,this.i=this.B=0,this.l=new Uint32Array(4),this.h=new Uint32Array(4),i.Fe.features))this.l[s>>>5]|=1<<(31&s),this.h[s>>>5]|=1<<(31&s);for(var e of(i.Fe.features.includes(32),this.C=!0,this.j=0,this.F=!1,this.D=0,this.Xa=[],i.Fe.Xa))this.Xa.push(new Xd(t,this,e));this.o=0,this.g=this.Xa[0],this.hc=0,(s=[]).push(Yd(this,i.Fe)),s.push(Zd(i.notification)),s.push($d(this,i.hc)),i.Vf&&(e=s.push,i={type:4,Ad:3,port:(i=i.Vf).Vc,ye:!1,offset:0,de:new Uint8Array(0),td:i.td},e.call(s,i)),ae(this,s),Tb(t.u.Ha,this),this.reset()}function Yd(t,i){return{type:1,Ad:0,port:i.Vc,ye:!1,offset:0,de:new Uint8Array(0),td:[{bytes:4,name:"device_feature_select",read:()=>t.B,write:i=>{t.B=i}},{bytes:4,name:"device_feature",read:()=>t.l[t.B]||0,write:()=>{}},{bytes:4,name:"driver_feature_select",read:()=>t.i,write:i=>{t.i=i}},{bytes:4,name:"driver_feature",read:()=>t.h[t.i]||0,write:i=>{const s=t.l[t.i];t.i<t.h.length&&(t.h[t.i]=i&s),t.C=t.C&&!(i&~s)}},{bytes:2,name:"msix_config",read:()=>65535,write:()=>{}},{bytes:2,name:"num_queues",read:()=>t.Xa.length,write:()=>{}},{bytes:1,name:"device_status",read:()=>t.j,write:i=>{0===i&&t.reset(),i&~t.j&4&&64&t.j&&(t.F=!0,4&t.j&&t.Aa(2)),t.C||(i&=-9),t.j=i}},{bytes:1,name:"config_generation",read:()=>t.D,write:()=>{}},{bytes:2,name:"queue_select",read:()=>t.o,write:i=>{t.o=i,t.o<t.Xa.length||(t.g=null)}},{bytes:2,name:"queue_size",read:()=>t.g?t.g.size:0,write:i=>{if(t.g){i&i-1&&(i=1<<sb(i-1)+1),i>t.g.Kc&&(i=t.g.Kc);var s=t.g;s.size=i,s.o=i-1}}},{bytes:2,name:"queue_msix_vector",read:()=>65535,write:()=>{}},{bytes:2,name:"queue_enable",read:()=>t.g?0|t.g.enabled:0,write:i=>{t.g&&1===i&&((i=t.g).l&&i.h&&i.g&&(t.g.enabled=!0))}},{bytes:2,name:"queue_notify_off",read:()=>t.g?t.g.me:0,write:()=>{}},{bytes:4,name:"queue_desc (low dword)",read:()=>t.g?t.g.l:0,write:i=>{t.g&&(t.g.l=i)}},{bytes:4,name:"queue_desc (high dword)",read:()=>0,write:()=>{}},{bytes:4,name:"queue_avail (low dword)",read:()=>t.g?t.g.h:0,write:i=>{t.g&&(t.g.h=i)}},{bytes:4,name:"queue_avail (high dword)",read:()=>0,write:()=>{}},{bytes:4,name:"queue_used (low dword)",read:()=>t.g?t.g.g:0,write:i=>{t.g&&(t.g.g=i)}},{bytes:4,name:"queue_used (high dword)",read:()=>0,write:()=>{}}]}}function Zd(t){const i=[];let s;s=t.Kj?0:2;for(const[s,e]of t.Oh.entries())i.push({bytes:2,name:"notify"+s,read:()=>65535,write:e||(()=>{})});return{type:2,Ad:1,port:t.Vc,ye:!1,offset:0,de:new Uint8Array([255&s,s>>8&255,s>>16&255,s>>24]),td:i}}function $d(t,i){return{type:3,Ad:2,port:i.Vc,ye:!1,offset:0,de:new Uint8Array(0),td:[{bytes:1,name:"isr_status",read:()=>{const i=t.hc;return t.hc=0,mc(t.Ha,t.Ia),i},write:()=>{}}]}}function ae(t,i){let s=t.K[52]=64;var e=s;for(const n of i){s=(e=s)+(i=16+n.de.length);var h=n.td.reduce(((t,i)=>t+i.bytes),0);h=16>(h+=n.offset)?16:1<<sb(h-1)+1,t.ib[n.Ad]={size:h},t.K[e]=9,t.K[e+1]=s,t.K[e+2]=i,t.K[e+3]=n.type,t.K[e+4]=n.Ad,t.K[e+5]=0,t.K[e+6]=0,t.K[e+7]=0,t.K[e+8]=255&n.offset,t.K[e+9]=n.offset>>>8&255,t.K[e+10]=n.offset>>>16&255,t.K[e+11]=n.offset>>>24,t.K[e+12]=255&h,t.K[e+13]=h>>>8&255,t.K[e+14]=h>>>16&255,t.K[e+15]=h>>>24;for(const[i,s]of n.de.entries())t.K[e+16+i]=s;e=16+4*n.Ad,t.K[e]=254&n.port|!n.ye,t.K[e+1]=n.port>>>8&255,t.K[e+2]=n.port>>>16&255,t.K[e+3]=n.port>>>24&255,e=n.port+n.offset;for(const s of n.td){let a=s.read;if(i=s.write,!n.ye){h=function(t){return a(-2&t)>>((1&t)<<3)&255};const n=function(t){return a(-4&t)>>((3&t)<<3)&255};switch(s.bytes){case 4:K(t.s.A,e,t,n,void 0,a),L(t.s.A,e,t,void 0,void 0,i);break;case 2:K(t.s.A,e,t,h,a),L(t.s.A,e,t,void 0,i);break;case 1:K(t.s.A,e,t,a),L(t.s.A,e,t,i)}}e+=s.bytes}}t.K[s]=9,t.K[s+1]=0,t.K[s+2]=20,t.K[s+3]=5,t.K[s+4]=0,t.K[s+5]=0,t.K[s+6]=0,t.K[s+7]=0,t.K[s+8]=0,t.K[s+9]=0,t.K[s+10]=0,t.K[s+11]=0,t.K[s+12]=0,t.K[s+13]=0,t.K[s+14]=0,t.K[s+15]=0,t.K[s+16]=0,t.K[s+17]=0,t.K[s+18]=0,t.K[s+19]=0}function Xd(t,i,s){this.s=t,this.ab=i,this.Kc=this.size=s.Kc,this.o=this.size-1,this.enabled=!1,this.me=s.me,this.i=this.g=this.j=this.h=this.l=0,this.reset()}function la(t){return(t.s.Oa(t.h+2)&t.o)!==t.j}function ma(t,i){this.s=t.s,this.ab=t.ab,this.Ph=i,this.i=[],this.pf=this.g=this.h=0,this.Of=[],this.qf=this.Be=this.Nf=0;let s=t.l;var e=i;i=0;let h=t.size,n=!1;const a=0<(268435456&this.ab.h[0]);for(;;){var r=t,o=s;if(r={ef:r.s.g(o+16*e),bk:r.s.g(o+16*e+4),Ne:r.s.g(o+16*e+8),flags:r.s.Oa(o+16*e+12),next:r.s.Oa(o+16*e+14)},a&&4&r.flags)s=r.ef,i=e=0,h=r.Ne/16;else{if(2&r.flags)n=!0,this.Of.push(r);else{if(n)break;this.i.push(r),this.pf+=r.Ne}if(++i>h)break;if(!(1&r.flags))break;e=r.next}}}function ua(t,i){let s=0,e=i.length;for(;e&&t.h!==t.i.length;){var h=t.i[t.h],n=h.ef+t.g;let c=h.Ne-t.g;c>e?(c=e,t.g+=e):(t.h++,t.g=0);var a=(h=i).set,r=t.s,o=c;o&&(r.Me(n),r.Me(n+o-1)),a.call(h,r.Na.subarray(n,n+o),s),s+=c,e-=c}}function be(){this.je={},this.g=void 0}function ce(){var t=new be,i=new be;return t.g=i,i.g=t,[t,i]}function de(){}function jb(t,i,s){for(var e of(this.Xg=s,this.xa=i,ee(this),(i=Object.create(null)).m=this.xa.exports.memory,Object.keys(this.xa.exports)))e.startsWith("_")||e.startsWith("zstd")||e.endsWith("_js")||(i[e]=this.xa.exports[e]);this.Wg=i,this.Ja=e=this.xa.exports.memory,this.H=Q(Uint32Array,e,812,1),this.Na=new Uint8Array(0),this.vc=new Int32Array(this.Na.buffer),this.Sa=Q(Uint8Array,e,724,8),this.cb=Q(Int32Array,e,736,8),this.bb=Q(Uint32Array,e,768,8),this.Qa=Q(Int32Array,e,800,1),this.Xb=Q(Int32Array,e,564,1),this.Wb=Q(Int32Array,e,568,1),this.Ob=Q(Int32Array,e,572,1),this.Ub=Q(Int32Array,e,576,1),this.Kg=Q(Int32Array,e,1128,1),this.wc=Q(Uint32Array,e,540,8),this.Ma=Q(Int32Array,e,580,8),this.Pb=Q(Uint8Array,e,612,1),this.aa=Q(Int32Array,e,804,1),this.ub=Q(Int32Array,e,808,1),this.h=Q(Uint8Array,e,616,1),this.uc=Q(Int32Array,e,620,1),this.Rb=Q(Int32Array,e,624,1),this.ng=Q(Int32Array,e,636,1),this.Jg=Q(Int32Array,e,640,1),this.pg=Q(Int32Array,e,644,1),this.xc=Q(Int32Array,e,648,1),this.flags=Q(Int32Array,e,120,1),this.Sb=Q(Int32Array,e,100,1),this.sc=Q(Int32Array,e,96,1),this.qc=Q(Int32Array,e,104,1),Q(Int32Array,e,112,1),this.Pj=Q(Uint32Array,e,960,2),this.u={},this.B=Q(Int32Array,e,556,1),this.zc=Q(Int32Array,e,560,1),Q(Uint8Array,e,548,1),this.F=Q(Uint8Array,e,552,1),this.i=[],this.l=[],this.pa=[],this.j=[],this.Bd={kg:null,Sd:null},this.Th=Q(Uint32Array,e,664,1),this.D=Q(Int32Array,e,64,8),this.Tb=Q(Int32Array,e,1152,32),this.X=Q(Uint8Array,e,816,1),this.X[0]=255,this.Y=Q(Uint8Array,e,1032,1),this.Y[0]=0,this.I=Q(Uint16Array,e,1036,1),this.I[0]=895,this.Vj=Q(Uint16Array,e,1040,1),this.Vj[0]=0,this.P=Q(Int32Array,e,1048,1),this.P[0]=0,this.T=Q(Int32Array,e,1052,1),this.T[0]=0,this.V=Q(Int32Array,e,1044,1),this.V[0]=0,this.L=Q(Int32Array,e,1056,1),this.L[0]=0,this.O=Q(Int32Array,e,1060,1),this.O[0]=0,this.$c=Q(Int32Array,e,832,32),Q(Int32Array,e,824,1),this.tb=Q(Uint16Array,e,668,8),this.Qb=Q(Int32Array,e,684,8),this.Ac=Q(Int32Array,e,968,8),this.dh=Q(Uint32Array,e,716,1),this.bh=Q(Uint32Array,e,720,1),this.Wa=[],this.mf=0,this.fd=[],this.A=void 0,this.v=t,this.ke(0,0),fe(this)}function ee(t){const i=i=>{const s=t.xa.exports[i];return console.assert(s,"Missing import: "+i),s};t.Ra=i("reset_cpu"),i("getiopl"),i("get_eflags"),t.o=i("get_eflags_no_arith"),t.C=i("pic_call_irq"),t.Tj=i("do_many_cycles_native"),i("cycle_internal"),t.od=i("read8"),t.Oa=i("read16"),t.g=i("read32s"),t.df=i("write8"),t.Ae=i("write16"),t.Lc=i("write32"),t.Me=i("in_mapped_range"),i("fpu_load_tag_word"),i("fpu_load_status_word"),i("fpu_get_sti_f64"),i("translate_address_system_read_js"),t.Vb=i("get_seg_cs"),i("get_real_eip"),i("clear_tlb"),t.Wj=i("full_clear_tlb"),t.Mg=i("update_state_flags"),t.ke=i("set_tsc"),t.Zg=i("store_current_tsc"),t.Yg=i("set_cpuid_level"),t.Xj=i("jit_clear_cache_js"),t.Uh=i("jit_dirty_cache"),t.Nj=i("codegen_finalize_finished"),t.Mj=i("allocate_memory"),t.hh=i("zero_memory"),t.ah=i("svga_allocate_memory"),t.$g=i("svga_allocate_dest_buffer"),t.eh=i("svga_fill_pixel_buffer"),t.lg=i("svga_mark_dirty"),t.Tg=i("zstd_create_ctx"),t.Vg=i("zstd_get_src_ptr"),t.Ug=i("zstd_free_ctx"),t.Td=i("zstd_read"),t.Ud=i("zstd_read_free")}function lc(t){t.Ra(),t.Wa=[],t.u.ab&&t.u.ab.reset(),qb(t)}function ge(t,i){1048576>i?i=1048576:0>(0|i)&&(i=Math.pow(2,31)-131072),i=1+(i-1|131071)|0,console.assert(0===t.H[0],"Expected uninitialised memory"),t.H[0]=i;const s=t.Mj(i);t.Na=Q(Uint8Array,t.Ja,s,i),t.vc=Q(Uint32Array,t.Ja,s,i>>2)}function je(t,i){if(8192>i.byteLength){var s=new Int32Array(2048);new Uint8Array(s.buffer).set(new Uint8Array(i))}else s=new Int32Array(i,0,2048);for(var e=0;8192>e;e+=4)if(464367618===s[e>>2]){var h=s[e+4>>2];if(!(464367618+h+s[e+8>>2]|0)){t.D[0]=732803074,t.D[3]=31744,t.Lc(31744,0),t.Ma[0]=1,t.Qa[0]=1,t.flags[0]=2,t.aa[0]=1,t.ub[0]=1;for(var n=0;6>n;n++)t.Sa[n]=0,t.cb[n]=0,t.bb[n]=4294967295,t.tb[n]=45058;if(65536&h){var a=s[e+16>>2];n=s[e+20>>2],h=s[e+28>>2],ra(t,i=new Uint8Array(i,e-(s[e+12>>2]-a),0===n?void 0:n-a),a),t.B[0]=t.Vb()+h|0}else if(1179403647===s[0])for(a of(s=ke(i),t.B[0]=t.Vb()+s.Qh.Gh|0,s.Dj))0!==a.type&&1===a.type&&a.qg+a.Yh<t.H[0]&&a.$f&&ra(t,s=new Uint8Array(i,a.offset,a.$f),a.qg);t.A.Lb(244,t,(function(t){throw console.log("Test exited with code "+yb(t,2)),"HALT"}),(function(){}),(function(){}),(function(){}));for(let r=0;15>=r;r++){function o(t){t?this.Ka(r):Jb(this,r)}L(t.A,8192+r,t,o,o,o)}t.Mg();break}}}function ie(t,i,s){var e=s.oc||531;i.W[56]=1|e>>4&240,i.W[61]=255&e,i.W[21]=128,i.W[22]=2,e=0,1048576<=t.H[0]&&(e=t.H[0]-1048576>>10,e=Math.min(e,65535)),i.W[23]=255&e,i.W[24]=e>>8&255,i.W[48]=255&e,i.W[49]=e>>8&255,e=0,16777216<=t.H[0]&&(e=t.H[0]-16777216>>16,e=Math.min(e,65535)),i.W[52]=255&e,i.W[53]=e>>8&255,i.W[91]=0,i.W[92]=0,i.W[93]=0,i.W[20]=47,i.W[95]=0,s.Hh&&(i.W[63]=1)}function qb(t){var i=t.Bd.kg,s=t.Bd.Sd;if(i){if(ra(t,new Uint8Array(i),1048576-i.byteLength),s){var e=new Uint8Array(s);ra(t,e,786432),hb(t.A,4272947200,1048576,(function(t){return(t=t-4272947200|0)<e.length?e[t]:0}),(function(){}))}hb(t.A,4293918720,1048576,function(t){return this.Na[1048575&t]}.bind(t),function(t,i){this.Na[1048575&t]=i}.bind(t))}}function le(t,i,s,e,h,n){const a=new Uint8Array(t.Ja.buffer,h>>>0,n>>>0);WebAssembly.instantiate(a,{e:t.Wg}).then((h=>{t.xa.Mf.set(i+1024,h.instance.exports.f),t.Nj(i,s,e),t.gh&&t.gh(a)}))}function mb(t){if(512&t.o()){const i=ob(t,nb());return pb(t),i}return 100}function ob(t,i){var s=t.u.Ue.sb(i,!1),e=t.u.Ic.sb(i,!1);let h=100,n=100;return t.F[0]&&(h=t.u.ya.sb(i),n=t.u.Mc.sb(i)),Math.min(s,e,100,h,n)}function pb(t){512&t.o()&&(me(t),t.Xg())}function me(t){t.o(),t.u.jc&&t.u.jc.Vd(),t.u.Mc&&t.u.Mc.Vd()}function Jb(t,i){t.u.jc&&t.u.jc.Wd(i),t.u.yc&&t.u.yc.Wd(i)}function fe(t){var i={};let s,e,h;t.debug=i,i.hb=function(){},i.tk=function(){},i.lk=function(){},i.$=function(){},i.nk=function(){},i.mk=function(){},i.kk=function(){if(32&t.Ma[4])for(var i=0;4>i;i++)t.g(t.Ma[3]+8*i)},i.ik=function(){},i.jk=function(){},i.sk=function(){},i.yk=function(){},i.Gk=function(){},i.ek=function(){},i.hk=function(t,i,h){if(!e){if(void 0===s&&(s="function"==typeof require?require("./capstone-x86.min.js"):window.cs,void 0===s))return;e=[new s.Capstone(s.ARCH_X86,s.MODE_16),new s.Capstone(s.ARCH_X86,s.MODE_32)]}try{e[t].disasm(i,h).forEach((function(t){de(yb(t.dk>>>0)+": "+xb(t.bytes.map((t=>yb(t,2).slice(-2))).join(" "),20)+" "+t.mnemonic+" "+t.op_str)}))}catch(t){de("Could not disassemble: "+Array.from(i).map((t=>yb(t,2))).join(" "))}},i.pk=function(t){if(void 0!==h||(h="function"==typeof require?require("./libwabt.js"):new window.WabtModule,void 0!==h)){t=t.slice();try{var i=h.readWasm(t,{Dk:!1});i.generateNames(),i.applyNames(),i.toText({rk:!0,vk:!0})}catch(i){var s=new Blob([t]),e=document.createElement("a");e.download="failed.wasm",e.href=window.URL.createObjectURL(s),e.dataset.downloadurl=["application/octet-stream",e.download,e.href].join(":"),e.click(),window.URL.revokeObjectURL(e.src),console.log(i.toString())}finally{i&&i.va()}}}}U[0]=0,U[1]=1,U[2]=2,U[3]=3,U[4]=4,U[5]=5,U[8]=6,U[9]=7,U[10]=8,U[11]=9,U[12]=10,U[13]=11,U[16]=12,U[17]=13,U[18]=14,U[19]=15,U[20]=16,U[21]=17,Vd([1],(function(t,i){this.Jh[i]=1&t})),Vd([2]),Vd([3]),Vd([4],(function(){})),Vd([5],(function(){})),Vd([8],(function(){})),Vd(Wd(32,53),(function(){})),Vd(Wd(64,85),(function(){})),Vd(Wd(96,117),(function(){})),Vd(Wd(128,149),(function(){})),Vd(Wd(160,168),(function(){})),Vd(Wd(176,184),(function(){})),Vd([189],(function(){})),Vd(Wd(192,200),(function(){})),Vd(Wd(224,245),(function(){})),Dd.prototype.pa=function(t){t===this.fb&&this.B&&(this.B=!1,this.Ab=this.l,this.Cb=!1,this.v.send("dac-enable"))},Dd.prototype.Aa=function(t){this.Yc[t]=1,this.s.Ka(this.ba)},ka.prototype.$=function(){let t=[];return t[0]=this.B,t[1]=this.i,t[2]=this.l,t[3]=this.h,t[4]=this.C,t[5]=this.j,t[6]=this.F,t[7]=this.D,t[8]=this.hc,t[9]=this.o,t.concat(this.Xa)},ka.prototype.G=function(t){this.B=t[0],this.i=t[1],this.l=t[2],this.h=t[3],this.C=t[4],this.j=t[5],this.F=t[6],this.D=t[7],this.hc=t[8],this.o=t[9];let i=0;for(let s of t.slice(10))this.Xa[i].G(s),i++;this.g=this.Xa[this.o]||null},ka.prototype.reset=function(){this.i=this.B=0,this.h.set(this.l),this.C=!0,this.o=this.j=0,this.g=this.Xa[0];for(const t of this.Xa)t.reset();this.F=!1,this.hc=this.D=0,mc(this.Ha,this.Ia)},ka.prototype.Aa=function(t){this.hc|=t,this.Ha.Aa(this.Ia)},Xd.prototype.$=function(){const t=[];return t[0]=this.size,t[1]=this.Kc,t[2]=this.enabled,t[3]=this.me,t[4]=this.l,t[5]=this.h,t[6]=this.j,t[7]=this.g,t[8]=this.i,t},Xd.prototype.G=function(t){this.size=t[0],this.Kc=t[1],this.enabled=t[2],this.me=t[3],this.l=t[4],this.h=t[5],this.j=t[6],this.g=t[7],this.i=t[8],this.o=this.size-1},Xd.prototype.reset=function(){this.enabled=!1,this.i=this.g=this.j=this.h=this.l=0;var t=this.Kc;this.size=t,this.o=t-1},be.prototype.register=function(t,i,s){var e=this.je[t];void 0===e&&(e=this.je[t]=[]),e.push({Je:i,Gf:s})},be.prototype.unregister=function(t,i){var s=this.je[t];void 0!==s&&(this.je[t]=s.filter((function(t){return t.Je!==i})))},be.prototype.send=function(t,i){if(this.g&&void 0!==(t=this.g.je[t]))for(var s=0;s<t.length;s++){var e=t[s];e.Je.call(e.Gf,i)}},jb.prototype.$=function(){var t=[];t[0]=this.H[0],t[1]=this.Sa,t[2]=this.cb,t[3]=this.bb,t[4]=this.Qa[0],t[5]=this.Wb[0],t[6]=this.Xb[0],t[7]=this.Ub[0],t[8]=this.Ob[0],t[9]=this.wc[0],t[10]=this.Ma,t[11]=this.Pb[0],t[13]=this.aa[0],t[16]=this.ub[0],t[17]=this.h[0],t[18]=this.uc[0],t[19]=this.Rb[0],t[22]=this.ng[0],t[23]=this.pg[0],t[24]=this.Jg[0],t[25]=this.xc[0],t[26]=this.flags[0],t[27]=this.Sb[0],t[28]=this.qc[0],t[30]=this.sc[0],t[37]=this.B[0],t[38]=this.zc[0],t[39]=this.D,t[40]=this.tb,t[41]=this.Qb,t[42]=this.Ac,this.Zg(),t[43]=this.Pj,t[45]=this.u.Lf,t[46]=this.u.Mc,t[47]=this.u.Ic,t[48]=this.u.Ha,t[49]=this.u.eb,t[50]=this.u.ya,t[51]=this.u.gg,t[52]=this.u.Sd,t[53]=this.u.wf,t[54]=this.u.Jf,t[55]=this.u.lf,t[56]=this.u.fa,t[57]=this.u.N,t[58]=this.u.Ue,t[59]=this.u.sf,t[60]=this.u.jc,t[61]=this.u.Af,t[62]=this.Wa,t[63]=this.u.yc,t[64]=this.Kg[0],t[66]=this.$c,t[67]=this.Tb,t[68]=this.X[0],t[69]=this.Y[0],t[70]=this.I[0],t[71]=this.P[0],t[72]=this.T[0],t[73]=this.L[0],t[74]=this.O[0],t[75]=this.V[0];for(var i=this.Na.length>>12,s=[],e=0;e<i;e++){var h=e<<12;h=this.vc.subarray(h>>2,h+4096>>2);let t=!0;for(let i=0;i<h.length;i++)if(0!==h[i]){t=!1;break}t||s.push(e)}i=new Db(i),e=new Uint8Array(s.length<<12);for(let[t,h]of s.entries())i.set(h,1),s=h<<12,e.set(this.Na.subarray(s,s+4096),t<<12);const{bi:n,jh:a}={jh:i,bi:e};return t[77]=n,t[78]=new Uint8Array(a.pb()),t[79]=this.u.ve,t[80]=this.u.we,t[81]=this.u.xe,t},jb.prototype.G=function(t){this.H[0]=t[0],this.Na.length!==this.H[0]&&console.warn("Note: Memory size mismatch. we="+this.Na.length+" state="+this.H[0]),this.Sa.set(t[1]),this.cb.set(t[2]),this.bb.set(t[3]),this.Qa[0]=t[4],this.Wb[0]=t[5],this.Xb[0]=t[6],this.Ub[0]=t[7],this.Ob[0]=t[8],this.wc[0]=t[9],this.Ma.set(t[10]),this.Pb[0]=t[11],this.aa[0]=t[13],this.ub[0]=t[16],this.h[0]=t[17],this.uc[0]=t[18],this.Rb[0]=t[19],this.ng[0]=t[22],this.pg[0]=t[23],this.Jg[0]=t[24],this.xc[0]=t[25],this.flags[0]=t[26],this.Sb[0]=t[27],this.qc[0]=t[28],this.sc[0]=t[30],this.B[0]=t[37],this.zc[0]=t[38],this.D.set(t[39]),this.tb.set(t[40]),this.Qb.set(t[41]),t[42]&&this.Ac.set(t[42]),this.ke(t[43][0],t[43][1]),this.u.Lf&&this.u.Lf.G(t[45]),this.u.Mc&&this.u.Mc.G(t[46]),this.u.Ic&&this.u.Ic.G(t[47]),this.u.Ha&&this.u.Ha.G(t[48]),this.u.eb&&this.u.eb.G(t[49]),this.u.ya&&this.u.ya.G(t[50]),this.u.gg&&this.u.gg.G(t[51]),this.u.Sd&&this.u.Sd.G(t[52]),this.u.wf&&this.u.wf.G(t[53]),this.u.Jf&&this.u.Jf.G(t[54]),this.u.lf&&this.u.lf.G(t[55]),this.u.fa&&this.u.fa.G(t[56]),this.u.N&&this.u.N.G(t[57]),this.u.Ue&&this.u.Ue.G(t[58]),this.u.sf&&this.u.sf.G(t[59]),this.u.jc&&this.u.jc.G(t[60]),this.u.Af&&this.u.Af.G(t[61]),this.u.ve&&this.u.ve.G(t[79]),this.u.we&&this.u.we.G(t[80]),this.u.xe&&this.u.xe.G(t[81]),this.Wa=t[62],this.u.yc&&this.u.yc.G(t[63]),this.Kg[0]=t[64],this.$c.set(t[66]),this.Tb.set(t[67]),this.X[0]=t[68],this.Y[0]=t[69],this.I[0]=t[70],this.P[0]=t[71],this.T[0]=t[72],this.L[0]=t[73],this.O[0]=t[74],this.V[0]=t[75];var i=new Db(t[78].buffer);t=t[77],this.hh(this.H[0]);const s=this.H[0]>>12;let e=0;for(let h=0;h<s;h++)if(i.get(h)){let i=e<<12;this.Na.set(t.subarray(i,i+4096),h<<12),e++}this.Mg(),this.Wj(),this.Xj()},jb.prototype.hb=function(t,i){ge(this,"number"==typeof t.H?t.H:67108864),t.Dd&&this.Yg(t.Dd),this.F[0]=+t.ya,this.Ra();var s=new eb(this);if(this.A=s,this.Bd.kg=t.Bd,this.Bd.Sd=t.Sj,qb(this),t.vb){const{ai:i}=he(this.Na,t.vb,t.Xc,t.Pc||"");i&&this.fd.push(i)}K(s,179,this,(function(){return 0}));var e=0;K(s,146,this,(function(){return e})),L(s,146,this,(function(t){e=t})),K(s,1297,this,(function(){return this.mf<this.Wa.length?this.Wa[this.mf++]:0})),L(s,1296,this,void 0,(function(t){function i(t){return new Uint8Array(new Int32Array([t]).buffer)}function s(t){return t>>8|t<<8&65280}function e(t){return t<<24|t<<8&16711680|t>>8&65280|t>>>24}if(this.mf=0,0===t)this.Wa=i(1431127377);else if(1===t)this.Wa=i(0);else if(3===t)this.Wa=i(this.H[0]);else if(5===t)this.Wa=i(1);else if(15===t)this.Wa=i(1);else if(13===t)this.Wa=new Uint8Array(16);else if(25===t){t=new Int32Array(4+64*this.fd.length);const i=new Uint8Array(t.buffer);t[0]=e(this.fd.length);for(let h=0;h<this.fd.length;h++){const{name:n,data:a}=this.fd[h],r=4+64*h;t[r>>2]=e(a.length),t[r+4>>2]=s(49152+h);for(let t=0;t<n.length;t++)i[r+8+t]=n.charCodeAt(t)}this.Wa=i}else this.Wa=32768<=t&&49152>t?i(0):49152<=t&&t-49152<this.fd.length?this.fd[t-49152].data:i(0)})),this.u={},t.Vh&&(this.u.jc=new Vc(this),this.u.Ha=new hc(this),this.F[0]&&(this.u.yc=new md(this),this.u.Mc=new fd(this),this.u.ya=new dd(this)),this.u.Ic=new Wc(this),ie(this,this.u.Ic,t),this.u.eb=new qc(this),this.u.Sd=new Cc(this,i,t.ha||8388608),this.u.wf=new Rc(this,i),this.u.Jf=new Zc(this,1016,i),t.ve&&(this.u.ve=new Zc(this,760,i)),t.we&&(this.u.we=new Zc(this,1e3,i)),t.xe&&(this.u.xe=new Zc(this,744,i)),this.u.lf=new nc(this,t.ma),s=0,t.N&&(this.u.N=new Hb(this,t.N,t.Ke,!1,s++,i)),t.fa&&(this.u.fa=new Hb(this,t.fa,void 0,!0,s++,i)),this.u.Ue=new vc(this,i),t.Fh&&(this.u.sf=new sd(this,i,t.vf,t.Gb)),t.Db&&(this.u.Lf=new fa(t.Db,this,i)),this.u.Af=new Dd(this,i)),t.ed&&je(this,t.ed)},jb.prototype.Ka=function(t){this.u.jc&&this.u.jc.Rd(t),this.u.yc&&this.u.yc.Rd(t)},"undefined"!=typeof window?window.CPU=jb:"undefined"!=typeof module&&void 0!==module.exports?module.exports.CPU=jb:"function"==typeof importScripts&&(self.CPU=jb);let ne=DataView.prototype,oe={size:1,get:ne.getUint8,set:ne.setUint8},pe={size:2,get:ne.getUint16,set:ne.setUint16},W={size:4,get:ne.getUint32,set:ne.setUint32},re=qe([{Wh:W},{nh:oe},{data:oe},{Qj:oe},{Ak:oe},{$j:oe},{Bk:{size:7,get:()=>-1}},{type:pe},{xk:pe},{Rj:W},{Gh:W},{di:W},{Hj:W},{flags:W},{Bh:pe},{ug:pe},{vg:pe},{Pg:pe},{Qg:pe},{Fk:pe}]);console.assert(52===re.reduce(((t,i)=>t+i.size),0));let se=qe([{type:W},{offset:W},{Hk:W},{qg:W},{$f:W},{Yh:W},{flags:W},{align:W}]);console.assert(32===se.reduce(((t,i)=>t+i.size),0));let te=qe([{name:W},{type:W},{flags:W},{ak:W},{offset:W},{size:W},{link:W},{info:W},{ck:W},{qk:W}]);function qe(t){return t.map((function(t){var i=Object.keys(t);return console.assert(1===i.length),t=t[i=i[0]],console.assert(0<t.size),{name:i,type:t,size:t.size,get:t.get,set:t.set}}))}function ke(t){var i=new DataView(t);let[s,e]=ue(i,re);return console.assert(52===e),console.assert(1179403647===s.Wh,"Bad magic"),console.assert(1===s.nh,"Unimplemented: 64 bit elf"),console.assert(1===s.data,"Unimplemented: big endian"),console.assert(1===s.Qj,"Bad version0"),console.assert(2===s.type,"Unimplemented type"),console.assert(1===s.Rj,"Bad version1"),console.assert(52===s.Bh,"Bad header size"),console.assert(32===s.ug,"Bad program header size"),console.assert(40===s.Pg,"Bad section header size"),[t]=ve(new DataView(i.buffer,i.byteOffset+s.di,s.ug*s.vg),se,s.vg),[i]=ve(new DataView(i.buffer,i.byteOffset+s.Hj,s.Pg*s.Qg),te,s.Qg),{Qh:s,Dj:t,Ek:i}}function ue(t,i){let s={},e=0;for(let h of i)i=h.get.call(t,e,!0),console.assert(void 0===s[h.name]),s[h.name]=i,e+=h.size;return[s,e]}function ve(t,i,s){let e=[],h=0;for(var n=0;n<s;n++){let[s,n]=ue(new DataView(t.buffer,t.byteOffset+h,void 0),i);e.push(s),h+=n}return[e,h]}function he(t,i,s,e){var h=new Uint8Array(i);const n=new Uint16Array(i);var a=new Uint32Array(i),r=h[497]||4;if(43605===n[255]&&1400005704==(n[257]|n[258]<<16)){var o=h[529];for(h[528]=255,h[529]=-97&o|128,n[274]=56832,n[253]=65535,e+="\0",a[138]=581632,h=0;h<e.length;h++)t[581632+h]=e.charCodeAt(h);for(r=512*(r+1),e=new Uint8Array(i,0,r),i=new Uint8Array(i,r),h=r=0,s&&(r=67108864,h=s.byteLength,t.set(new Uint8Array(s),r)),a[134]=r,a[135]=h,t.set(e,524288),t.set(i,1048576),t=new Uint8Array(256),new Uint16Array(t.buffer)[0]=43605,t[2]=1,s=3,t[s++]=250,t[s++]=184,t[s++]=32768,t[s++]=128,t[s++]=142,t[s++]=192,t[s++]=142,t[s++]=216,t[s++]=142,t[s++]=224,t[s++]=142,t[s++]=232,t[s++]=142,t[s++]=208,t[s++]=188,t[s++]=57344,t[s++]=224,t[s++]=234,t[s++]=0,t[s++]=0,t[s++]=32800,t[s++]=128,a=t[s]=0,i=0;i<t.length;i++)a+=t[i];return t[s]=-a,{ai:{name:"genroms/kernel.bin",data:t}}}}console.assert(40===te.reduce(((t,i)=>t+i.size),0));var Ga=16384,La=4;function we(t){this.g=[],this.C=[],this.j=t,this.B={nf:0},this.h={},this.l=274877906944,this.o=0,this.i=[],Fa(this,"",-1)}function Ba(t,i,s){var e=t.g[i];0==e.status||2==e.status?s():5===e.status?Ba(Z(t,e),e.g,s):t.C.push({id:i,Zj:s})}function ye(t,i,s){var e=ze(t);const h=i[0];e.size=i[1],e.ic=i[2],e.Ed=e.ic,e.Oc=e.ic,e.mode=i[3],e.uid=i[4],e.Ga=i[5];var n=61440&e.mode;if(n===Ga)for(Ae(t,e,s,h),s=t.g.length-1,i=i[6],e=0;e<i.length;e++)ye(t,i[e],s);else 32768===n?(e.status=2,e.sd=i[6],Ae(t,e,s,h)):40960===n&&(e.te=i[6],Ae(t,e,s,h))}function Be(t,i,s,e){const h=t.g[s],n=t.g[i];Ce(t,i),n.ia.has(e),n.ia.set(e,s),h.Ua++,Ce(t,s)&&(h.ia.has(".."),h.ia.has(".")||h.Ua++,h.ia.set(".",s),h.ia.set("..",i),n.Ua++)}function De(t,i,s){const e=Sa(t,i,s),h=t.g[e],n=t.g[i];Ce(t,i),n.ia.delete(s)&&(h.Ua--,Ce(t,e)&&(h.ia.get(".."),h.ia.delete(".."),n.Ua--))}function Ae(t,i,s,e){-1!=s?(t.g.push(i),i.dc=t.g.length-1,Be(t,s,i.dc,e)):0==t.g.length&&(t.g.push(i),i.ia.set(".",0),i.ia.set("..",0),i.Ua=2)}function xe(t){this.ia=new Map,this.Pe=this.Oe=this.ic=this.Oc=this.Ed=this.dc=this.Ga=this.uid=this.size=this.status=0,this.te="",this.mode=493,this.za={type:0,version:0,path:t},this.Ua=0,this.sd="",this.h=[],this.g=this.i=-1}function Fe(t,i){Object.assign(i,t,{dc:i.dc,ia:i.ia,Ua:i.Ua})}function ze(t){const i=Math.round(Date.now()/1e3);return(t=new xe(++t.B.nf)).Oc=t.Ed=t.ic=i,t}function Fa(t,i,s){var e=t.g[s];return 0<=s&&5===e.status?(s=e.g,i=Fa(Z(t,e),i,s),Ge(t,e.i,i)):((e=ze(t)).mode=511|Ga,0<=s&&(e.uid=t.g[s].uid,e.Ga=t.g[s].Ga,e.mode=511&t.g[s].mode|Ga),e.za.type=Ga>>8,Ae(t,e,s,i),t.g.length-1)}function Ha(t,i,s){var e=t.g[s];return 5===e.status?(s=e.g,i=Ha(Z(t,e),i,s),Ge(t,e.i,i)):((e=ze(t)).uid=t.g[s].uid,e.Ga=t.g[s].Ga,e.za.type=128,e.mode=438&t.g[s].mode|32768,Ae(t,e,s,i),t.g.length-1)}function Ea(t,i,s,e,h){var n=t.g[s];return 5===n.status?(s=n.g,i=Ea(Z(t,n),i,s,e,h),Ge(t,n.i,i)):((n=ze(t)).Oe=e,n.Pe=h,n.uid=t.g[s].uid,n.Ga=t.g[s].Ga,n.za.type=192,n.mode=438&t.g[s].mode,Ae(t,n,s,i),t.g.length-1)}function Da(t,i,s,e){var h=t.g[s];return 5===h.status?(s=h.g,i=Da(Z(t,h),i,s,e),Ge(t,h.i,i)):((h=ze(t)).uid=t.g[s].uid,h.Ga=t.g[s].Ga,h.za.type=160,h.te=e,h.mode=40960,Ae(t,h,s,i),t.g.length-1)}async function He(t,i,s,e){var h=t.g[s];return 5===h.status?(s=h.g,e=await He(Z(t,h),i,s,e),Ge(t,h.i,e)):(h=Ha(t,i,s),i=t.g[h],(s=new Uint8Array(e.length)).set(e),await Ie(t,h,s),i.size=e.length,h)}function Aa(t,i,s){var e=t.g[i];return 5===e.status?Aa(Z(t,e),e.g,s):((61440&e.mode)==Ga&&Je(t,i),!0)}async function Ua(t,i){var s=t.g[i];if(5===s.status)return await Ua(Z(t,s),s.g);2===s.status&&t.j.g(s.sd),s.status==La&&(s.status=-1,await Ke(t,i))}async function Ra(t,i,s,e,h){if(i==e&&s==h)return 0;var n=Sa(t,i,s);if(-1===n)return-2;var a=i;Ce(t,a);for(var r="";0!=a;)r="/"+Me(t,a)+r,a=Ne(t,a);if(-1!=Sa(t,e,h)&&0>(a=Ta(t,e,h)))return a;r=t.g[n];var o=t.g[i];if(a=t.g[e],5===o.status||5===a.status)if(5===o.status&&o.i===a.i){if(0>(t=await Ra(Z(t,o),o.g,s,a.g,h)))return t}else{if(0===H(t,n).dc||!Ce(t,n)&&1<H(t,n).Ua)return-1;o=Sa(t,i,s);var c=t.g[o],u=new xe(-1);Ce(t,o),Object.assign(u,c);const f=t.g.length;if(t.g.push(u),u.dc=f,5===c.status&&t.i[c.i].g.set(c.g,f),5===c.status&&0!==c.g||(De(t,i,s),Be(t,i,f,s)),Ce(t,o)&&5!==c.status)for(const[i,s]of u.ia)"."!==i&&".."!==i&&Ce(t,s)&&t.g[s].ia.set("..",f);if(t.h[f]=t.h[o],delete t.h[o],c.ia=new Map,c.Ua=0,o=f,c=H(t,n),u=await Oa(t,o,0,c.size),5===a.status?(Fe(c,e=H(e=Z(t,a),h=Ce(t,o)?Fa(e,h,a.g):Ha(e,h,a.g))),Oe(t,n,a.i,h)):(r.status=-1,t.i[r.i].g.delete(r.g),Fe(c,r),Be(t,e,n,h)),await Ma(t,n,c.size),u&&u.length&&await Pa(t,n,0,u.length,u),Ce(t,n))for(const i of Pe(t,o))if(0>(h=await Ra(t,o,i,n,i)))return h;if(await Ke(t,o),0>(t=Ta(t,i,s)))return t}else De(t,i,s),Be(t,e,n,h),r.za.version++;return 0}async function Pa(t,i,s,e,h){var n=t.g[i];if(5===n.status)i=n.g,await Pa(Z(t,n),i,s,e,h);else{var a=await t.pb(i);!a||a.length<s+e?(await Ma(t,i,Math.floor(3*(s+e)/2)),n.size=s+e,a=await t.pb(i)):n.size<s+e&&(n.size=s+e),h&&a.set(h.subarray(0,e),s),await Ie(t,i,a)}}async function Oa(t,i,s,e){const h=t.g[i];return 5===h.status?(i=h.g,await Oa(Z(t,h),i,s,e)):await Qe(t,i,s,e)}function Sa(t,i,s){if(5===(i=t.g[i]).status){const e=i.g;return-1===(s=Sa(Z(t,i),e,s))?-1:Re(t,i.i,s)}return void 0===(t=i.ia.get(s))?-1:t}function xa(t){let i=t.g.length;for(const{h:s,g:e}of t.i)i+=xa(s),i-=e.size;return i}function za(t){let i=1048576;for(const{h:s}of t.i)i+=za(s);return i}function va(t){let i=t.o;for(const{h:s}of t.i)i+=va(s);return i}function wa(t){let i=t.l;for(const{h:s}of t.i)i+=wa(s);return t.l}function Me(t,i){const s=t.g[Ne(t,i)];if(5===s.status)return Me(Z(t,s),t.g[i].g);if(!s)return"";for(const[t,e]of s.ia)if(e===i)return t;return""}function Ca(t,i,s,e){if(Ce(t,s))return-1;const h=t.g[i],n=t.g[s];return 5===h.status?5!==n.status||n.i!==h.i?-1:Ca(Z(t,h),h.g,n.g,e):5===n.status?-1:(Be(t,i,s,e),0)}function Ta(t,i,s){if("."===s||".."===s)return-1;var e=Sa(t,i,s);const h=t.g[e];var n=t.g[i];if(5===n.status)return i=n.g,Ta(Z(t,n),i,s);if(n=Ce(t,e)){t:if(e=t.g[e],5===e.status)var a=Ce(Z(t,e),e.g);else{for(a of e.ia.keys())if("."!==a&&".."!==a){a=!1;break t}a=!0}n=!a}return n?-39:(De(t,i,s),0===h.Ua&&(h.status=La),0)}async function Ke(t,i){const s=t.g[i];5===s.status?await Ke(Z(t,s),s.g):(s.size=0,delete t.h[i])}async function Qe(t,i,s,e){const h=t.g[i];return t.h[i]?t.h[i].subarray(s,s+e):2===h.status?await t.j.read(h.sd,s,e):null}async function Ie(t,i,s){t.h[i]=s,2===t.g[i].status&&(t.g[i].status=0,t.j.g(t.g[i].sd))}function H(t,i){return 5===(i=t.g[i]).status?H(Z(t,i),i.g):i}async function Ma(t,i,s){var e=H(t,i),h=await Qe(t,i,0,e.size);if(s!=e.size){var n=new Uint8Array(s);e.size=s,h&&n.set(h.subarray(0,Math.min(h.length,e.size)),0),await Ie(t,i,n)}}function Se(t,i){0<(i=(i=i.replace("//","/")).split("/")).length&&0===i[i.length-1].length&&i.pop(),0<i.length&&0===i[0].length&&i.shift();const s=i.length;var e=-1,h=0;let n=null;for(var a=0;a<s;a++)if(h=Sa(t,e=h,i[a]),!n&&5===t.g[e].status&&(n="/"+i.slice(a).join("/")),-1==h)return a<s-1?{id:-1,uf:-1,name:i[a],bg:n}:{id:-1,uf:e,name:i[a],bg:n};return{id:h,uf:e,name:i[a],bg:n}}function Je(t,i){var s=t.g[i];if(5===s.status)Je(Z(t,s),s.g);else{var e=0;for(const t of s.ia.keys())e+=24+Te(t);i=t.h[i]=new Uint8Array(e),s.size=e,e=0;for(const[h,n]of s.ia)e+=v(["Q","d","b","s"],[(s=H(t,n)).za,e+13+8+1+2+Te(h),s.mode>>12,h],i,e)}}function Na(t,i,s){if(s>=(t=t.h[i]).length)return t.length;for(i=0;;){const e=E(["Q","d"],t,{offset:i})[1];if(e>s)break;i=e}return i}function Ce(t,i){return 5===(i=t.g[i]).status?Ce(Z(t,i),i.g):(61440&i.mode)===Ga}function Pe(t,i){if(Ce(t,i),5===(i=t.g[i]).status)return Pe(Z(t,i),i.g);t=[];for(const s of i.ia.keys())"."!==s&&".."!==s&&t.push(s);return t}function Ne(t,i){if(Ce(t,i),5!==(i=t.g[i]).status||0===i.g)return i.ia.get("..");const s=Ne(Z(t,i),i.g);return Re(t,i.i,s)}function Oe(t,i,s,e){const h=t.g[i];5===h.status&&t.i[h.i].g.delete(h.g),h.status=5,h.i=s,h.g=e,t.i[s].g.set(e,i)}function Ge(t,i,s){const e=ze(t),h=t.g.length;return t.g.push(e),e.dc=h,Oe(t,h,i,s),h}function Re(t,i,s){const e=t.i[i].g.get(s);return void 0===e?Ge(t,i,s):e}function Z(t,i){return t.i[i.i].h}function Ee(){this.type=2,this.start=0,this.length=1/0,this.h=-1,this.g=""}function Ue(t){const i=new Ee;return i.G(t.$()),i}function Ve(t,i){return i.h===t.h&&i.g===t.g&&i.type===t.type}function We(t,i){return Ve(t,i)&&i.start+i.length===t.start}function Ia(t,i,s,e,h){const n=new Ee;return n.type=t,n.start=i,n.length=s,n.h=e,n.g=h,n}function Ka(t,i,s){if(5===(i=t.g[i]).status){var e=i.g;return Ka(Z(t,i),e,s)}for(e of i.h)if(!(s.h===e.h&&s.g===e.g||2===s.type||2===e.type||1!==s.type&&1!==e.type||s.start+s.length<=e.start||e.start+e.length<=s.start))return Ue(e);return null}function Ja(t,i,s,e){const h=t.g[i];if(5===h.status)return i=h.g,Ja(Z(t,h),i,s,e);if(2!==(s=Ue(s)).type&&Ka(t,i,s))return 1;for(t=0;t<h.h.length;t++){if((e=h.h[t]).start+e.length<=s.start)continue;if(s.start+s.length<=e.start)break;if(e.h!==s.h||e.g!==s.g)continue;i=s.start+s.length;const n=s.start-e.start,a=e.start+e.length-i;if(0<n&&0<a&&e.type===s.type)return 0;if(0<n&&(e.length=n),0>=n&&0<a)e.start=i,e.length=a;else if(0<a){for(;t<h.h.length&&h.h[t].start<i;)t++;h.h.splice(t,0,Ia(e.type,i,a,e.h,e.g))}else 0>=n&&(h.h.splice(t,1),t--)}if(2!==s.type){for(t=s,e=!1,i=0;i<h.h.length&&(We(t,h.h[i])&&(h.h[i].length+=s.length,t=h.h[i],e=!0),!(s.start<=h.h[i].start));i++);for(e||(h.h.splice(i,0,t),i++);i<h.h.length;i++)if(Ve(h.h[i],t)){We(h.h[i],t)&&(t.length+=h.h[i].length,h.h.splice(i,1));break}}return 0}function Xe(t,i){if(-1!==(i=Se(t,i)).id)return t=H(t,i.id),Array.from(t.ia.keys()).filter((t=>"."!==t&&".."!==t))}function v(t,i,s,e){for(var h,n=0,a=0;a<t.length;a++)switch(h=i[a],t[a]){case"w":s[e++]=255&h,s[e++]=h>>8&255,s[e++]=h>>16&255,s[e++]=h>>24&255,n+=4;break;case"d":s[e++]=255&h,s[e++]=h>>8&255,s[e++]=h>>16&255,s[e++]=h>>24&255,s[e++]=0,s[e++]=0,s[e++]=0,s[e++]=0,n+=8;break;case"h":s[e++]=255&h,s[e++]=h>>8,n+=2;break;case"b":s[e++]=h,n+=1;break;case"s":var r=e,o=0;for(var c of(s[e++]=0,s[e++]=0,n+=2,h))Ye(c.charCodeAt(0)).forEach((function(t){s[e++]=t,n+=1,o++}));s[r+0]=255&o,s[r+1]=o>>8&255;break;case"Q":v(["b","w","d"],[h.type,h.version,h.path],s,e),e+=13,n+=13}return n}function E(t,i,s){let e=s.offset;for(var h=[],n=0;n<t.length;n++)switch(t[n]){case"w":var a=i[e++];a+=i[e++]<<8,a+=i[e++]<<16,a+=i[e++]<<24>>>0,h.push(a);break;case"d":a=i[e++],a+=i[e++]<<8,a+=i[e++]<<16,a+=i[e++]<<24>>>0,e+=4,h.push(a);break;case"h":a=i[e++],h.push(a+(i[e++]<<8));break;case"b":h.push(i[e++]);break;case"s":a=i[e++],a+=i[e++]<<8;for(var r="",o=new Ze,c=0;c<a;c++){var u=o.i(i[e++]);-1!=u&&(r+=String.fromCharCode(u))}h.push(r);break;case"Q":s.offset=e,a=E(["b","w","d"],i,s),e=s.offset,h.push({type:a[0],version:a[1],path:a[2]})}return s.offset=e,h}function Ze(){this.g=new Uint8Array(5),this.h=0,this.i=function(t){switch(this.g[this.h]=t,this.h++,this.h){case 1:if(128>this.g[0])return this.h=0,this.g[0];break;case 2:if(192==(224&this.g[0])&&128==(192&this.g[1]))return this.h=0,(31&this.g[0])<<6|63&this.g[1]}return-1}}function Ye(t){return 128>t?[t]:2048>t?[192|t>>6&31,128|63&t]:void 0}function Te(t){for(var i=0,s=0;s<t.length;s++)i+=128>t.charCodeAt(s)?1:2;return i}function $e(t){function i(t){return!t.altKey&&r[56]&&n(56,!1),h(t,!1)}function s(t){return!t.altKey&&r[56]&&n(56,!1),h(t,!0)}function e(){for(var t,i=Object.keys(r),s=0;s<i.length;s++)t=+i[s],r[t]&&n(t,!1);r={}}function h(t,i){if(o.v&&(!t.shiftKey||!t.ctrlKey||73!==t.keyCode&&74!==t.keyCode&&75!==t.keyCode)&&o.Ie&&(!t.target||(t.target.classList.contains("phone_keyboard")||"INPUT"!==t.target.nodeName&&"TEXTAREA"!==t.target.nodeName))){t:{if(void 0!==t.code){var s=d[t.code];if(void 0!==s)break t}s=c[t.keyCode]}if(s)return n(s,i,t.repeat),t.preventDefault&&t.preventDefault(),!1;console.log("Missing char in map: keyCode="+(t.keyCode||-1).toString(16)+" code="+t.code)}}function n(t,i,s){if(i)r[t]&&!s&&n(t,!1);else if(!r[t])return;(r[t]=i)||(t|=128),255<t?(a(t>>8),a(255&t)):a(t)}function a(t){o.v.send("keyboard-code",t)}var r={},o=this;this.Ie=!0;var c=new Uint16Array([0,0,0,0,0,0,0,0,14,15,0,0,0,28,0,0,42,29,56,0,58,0,0,0,0,0,0,1,0,0,0,0,57,57417,57425,57423,57415,57419,57416,57421,80,0,0,0,0,82,83,0,11,2,3,4,5,6,7,8,9,10,0,39,0,13,0,0,0,30,48,46,32,18,33,34,35,23,36,37,38,50,49,24,25,16,19,31,20,22,47,17,45,21,44,57435,57436,57437,0,0,82,79,80,81,75,76,77,71,72,73,0,0,0,0,0,0,59,60,61,62,63,64,65,66,67,68,87,88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,39,13,51,12,52,53,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,43,27,40,0,57435,57400,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),u={8:8,10:13,32:32,39:222,44:188,45:189,46:190,47:191,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,59:186,61:187,91:219,92:220,93:221,96:192,97:65,98:66,99:67,100:68,101:69,102:70,103:71,104:72,105:73,106:74,107:75,108:76,109:77,110:78,111:79,112:80,113:81,114:82,115:83,116:84,117:85,118:86,119:87,120:88,121:89,122:90},f={33:49,34:222,35:51,36:52,37:53,38:55,40:57,41:48,42:56,43:187,58:186,60:188,62:190,63:191,64:50,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,94:54,95:189,123:219,124:220,125:221,126:192},d={Escape:1,Digit1:2,Digit2:3,Digit3:4,Digit4:5,Digit5:6,Digit6:7,Digit7:8,Digit8:9,Digit9:10,Digit0:11,Minus:12,Equal:13,Backspace:14,Tab:15,KeyQ:16,KeyW:17,KeyE:18,KeyR:19,KeyT:20,KeyY:21,KeyU:22,KeyI:23,KeyO:24,KeyP:25,BracketLeft:26,BracketRight:27,Enter:28,ControlLeft:29,KeyA:30,KeyS:31,KeyD:32,KeyF:33,KeyG:34,KeyH:35,KeyJ:36,KeyK:37,KeyL:38,Semicolon:39,Quote:40,Backquote:41,ShiftLeft:42,Backslash:43,KeyZ:44,KeyX:45,KeyC:46,KeyV:47,KeyB:48,KeyN:49,KeyM:50,Comma:51,Period:52,Slash:53,ShiftRight:54,NumpadMultiply:55,AltLeft:56,Space:57,CapsLock:58,F1:59,F2:60,F3:61,F4:62,F5:63,F6:64,F7:65,F8:66,F9:67,F10:68,NumLock:69,ScrollLock:70,Numpad7:71,Numpad8:72,Numpad9:73,NumpadSubtract:74,Numpad4:75,Numpad5:76,Numpad6:77,NumpadAdd:78,Numpad1:79,Numpad2:80,Numpad3:81,Numpad0:82,NumpadDecimal:83,IntlBackslash:86,F11:87,F12:88,NumpadEnter:57372,ControlRight:57373,NumpadDivide:57397,AltRight:57400,Home:57415,ArrowUp:57416,PageUp:57417,ArrowLeft:57419,ArrowRight:57421,End:57423,ArrowDown:57424,PageDown:57425,Insert:57426,Delete:57427,OSLeft:57435,OSRight:57436,ContextMenu:57437};this.v=t,this.va=function(){"undefined"!=typeof window&&(window.removeEventListener("keyup",i,!1),window.removeEventListener("keydown",s,!1),window.removeEventListener("blur",e,!1))},this.hb=function(){"undefined"!=typeof window&&(this.va(),window.addEventListener("keyup",i,!1),window.addEventListener("keydown",s,!1),window.addEventListener("blur",e,!1))},this.hb(),this.g=function(t){h(t={keyCode:t},!0),h(t,!1)},this.Jj=function(t){var i=t.charCodeAt(0);i in u?this.g(u[i]):i in f?(a(42),this.g(f[i]),a(170)):console.log("ascii -> keyCode not found: ",i,t)}}function af(t,i){function s(t){if(!g.enabled||!g.Ie)return!1;var s,e=i||document.body;if(!(s=document.pointerLockElement))t:{for(t=t.target;t.parentNode;){if(t===e){s=!0;break t}t=t.parentNode}s=!1}return s}function e(t){s(t)&&(t=t.changedTouches)&&t.length&&(t=t[t.length-1],l=t.clientX,b=t.clientY)}function h(){(u||d||f)&&(g.v.send("mouse-click",[!1,!1,!1]),u=d=f=!1)}function n(t){if(g.v&&s(t)&&g.Zc){var e=0,h=0,n=t.changedTouches;n?n.length&&(e=(n=n[n.length-1]).clientX-l,h=n.clientY-b,l=n.clientX,b=n.clientY,t.preventDefault()):"number"==typeof t.movementX?(e=t.movementX,h=t.movementY):"number"==typeof t.webkitMovementX?(e=t.webkitMovementX,h=t.webkitMovementY):"number"==typeof t.mozMovementX?(e=t.mozMovementX,h=t.mozMovementY):(e=t.clientX-l,h=t.clientY-b,l=t.clientX,b=t.clientY),g.v.send("mouse-delta",[.15*e,-.15*h]),i&&g.v.send("mouse-absolute",[t.pageX-i.offsetLeft,t.pageY-i.offsetTop,i.offsetWidth,i.offsetHeight])}}function a(t){s(t)&&o(t,!0)}function r(t){s(t)&&o(t,!1)}function o(t,i){g.v&&(1===t.which?u=i:2===t.which?d=i:3===t.which&&(f=i),g.v.send("mouse-click",[u,d,f]),t.preventDefault())}function c(t){if(s(t)){var i=t.wheelDelta||-t.detail;0>i?i=-1:0<i&&(i=1),g.v.send("mouse-wheel",[i,0]),t.preventDefault()}}var u=!1,f=!1,d=!1,l=0,b=0,g=this;this.enabled=!1,this.Ie=!0,this.v=t,this.v.register("mouse-enable",(function(t){this.enabled=t}),this),this.Zc=!1,this.v.register("emulator-stopped",(function(){this.Zc=!1}),this),this.v.register("emulator-started",(function(){this.Zc=!0}),this),this.va=function(){"undefined"!=typeof window&&(window.removeEventListener("touchstart",e,!1),window.removeEventListener("touchend",h,!1),window.removeEventListener("touchmove",n,!1),window.removeEventListener("mousemove",n,!1),window.removeEventListener("mousedown",a,!1),window.removeEventListener("mouseup",r,!1),window.removeEventListener("wheel",c,{passive:!1}))},this.hb=function(){"undefined"!=typeof window&&(this.va(),window.addEventListener("touchstart",e,!1),window.addEventListener("touchend",h,!1),window.addEventListener("touchmove",n,!1),window.addEventListener("mousemove",n,!1),window.addEventListener("mousedown",a,!1),window.addEventListener("mouseup",r,!1),window.addEventListener("wheel",c,{passive:!1}))},this.hb()}function bf(t){if("undefined"!=typeof window)if(window.AudioContext||window.webkitAudioContext){var i=window.AudioWorklet?cf:df;this.v=t,this.U=window.AudioContext?new AudioContext:new webkitAudioContext,this.Qe=new ef(t,this.U),this.h=new ff(t,this.U,this.Qe),this.g=new i(t,this.U,this.Qe),this.h.start(),t.register("emulator-stopped",(function(){this.U.suspend()}),this),t.register("emulator-started",(function(){this.U.resume()}),this),t.register("speaker-confirm-initialized",(function(){t.send("speaker-has-initialized")}),this),t.send("speaker-has-initialized")}else console.warn("Web browser doesn't support Web Audio API")}function ef(t,i){function s(t){return function(i){t.gain.setValueAtTime(i,this.U.currentTime)}}this.U=i,this.sources=new Map,this.eg=this.dg=this.F=this.D=this.B=1,this.i=this.U.createBiquadFilter(),this.j=this.U.createBiquadFilter(),this.i.type="highshelf",this.j.type="highshelf",this.i.frequency.setValueAtTime(2e3,this.U.currentTime),this.j.frequency.setValueAtTime(2e3,this.U.currentTime),this.g=this.U.createBiquadFilter(),this.h=this.U.createBiquadFilter(),this.g.type="lowshelf",this.h.type="lowshelf",this.g.frequency.setValueAtTime(200,this.U.currentTime),this.h.frequency.setValueAtTime(200,this.U.currentTime),this.l=this.U.createGain(),this.o=this.U.createGain(),this.C=this.U.createChannelMerger(2),this.I=this.i,this.L=this.j,this.i.connect(this.g),this.g.connect(this.l),this.l.connect(this.C,0,0),this.j.connect(this.h),this.h.connect(this.o),this.o.connect(this.C,0,1),this.C.connect(this.U.destination),t.register("mixer-connect",(function(t){var i=t[1];void 0===(t=this.sources.get(t[0]))||t.connect(i)}),this),t.register("mixer-disconnect",(function(t){var i=t[1];void 0===(t=this.sources.get(t[0]))||t.disconnect(i)}),this),t.register("mixer-volume",(function(t){var i=t[0],s=t[1];t=Math.pow(10,t[2]/20),void 0===(i=0===i?this:this.sources.get(i))||i.af(t,s)}),this),t.register("mixer-gain-left",(function(t){this.dg=Math.pow(10,t/20),this.update()}),this),t.register("mixer-gain-right",(function(t){this.eg=Math.pow(10,t/20),this.update()}),this),t.register("mixer-treble-left",s(this.i),this),t.register("mixer-treble-right",s(this.j),this),t.register("mixer-bass-left",s(this.g),this),t.register("mixer-bass-right",s(this.h),this)}function gf(t,i,s){return i=new hf(t.U,i,t.I,t.L),t.sources.has(s),t.sources.set(s,i),i}function hf(t,i,s,e){this.U=t,this.o=this.l=!0,this.D=this.C=this.j=this.g=1,this.B=t.createChannelSplitter(2),this.h=t.createGain(),this.i=t.createGain(),i.connect(this.B),this.B.connect(this.h,0),this.h.connect(s),this.B.connect(this.i,1),this.i.connect(e)}function ff(t,i,s){this.Jd=i.createOscillator(),this.Jd.type="square",this.Jd.frequency.setValueAtTime(440,i.currentTime),this.g=gf(s,this.Jd,1),this.g.disconnect(),t.register("pcspeaker-enable",(function(){var t=s.sources.get(1);void 0===t||t.connect(void 0)}),this),t.register("pcspeaker-disable",(function(){var t=s.sources.get(1);void 0===t||t.disconnect(void 0)}),this),t.register("pcspeaker-update",(function(t){var s=t[1],e=0;3===t[0]&&(e=Math.min(1193181.6665999999/s,this.Jd.frequency.maxValue),e=Math.max(e,0)),this.Jd.frequency.setValueAtTime(e,i.currentTime)}),this)}function cf(t,i,s){this.v=t,this.U=i,this.enabled=!1,this.Ya=48e3,i=function(){function t(t){return 0===t?1:(t*=Math.PI,Math.sin(t)/t)}function i(){var t=Reflect.construct(AudioWorkletProcessor,[],i);return t.D=3,t.l=Array(1024),t.B=0,t.I=0,t.o=0,t.F=t.l.length,t.C=0,t.L=s,t.g=s,t.O=1,t.j=0,t.i=0,t.h=0,t.port.onmessage=i=>{switch(i.data.type){case"queue":t.aa(i.data.value);break;case"sampling-rate":t.O=i.data.value/sampleRate}},t}var s=[new Float32Array(256),new Float32Array(256)];Reflect.setPrototypeOf(i.prototype,AudioWorkletProcessor.prototype),Reflect.setPrototypeOf(i,AudioWorkletProcessor),i.prototype.process=i.prototype.process=function(t,i){for(t=0;t<i[0][0].length;t++){for(var s=0,e=0,h=this.h+this.D,n=this.h-this.D+1;n<=h;n++){var a=this.j+n;s+=this.P(a,0)*this.T(this.i-n),e+=this.P(a,1)*this.T(this.i-n)}(isNaN(s)||isNaN(e))&&(s=e=0),i[0][0][t]=s,i[0][1][t]=e,this.i+=this.O,this.h=Math.floor(this.i)}return i=this.h,i+=this.D+2,this.i-=this.h,this.j+=this.h,this.h=0,this.X(i),!0},i.prototype.T=function(i){return t(i)*t(i/this.D)},i.prototype.P=function(t,i){return 0>t?(t+=this.L[0].length,this.L[i][t]):this.g[i][t]},i.prototype.X=function(t){var i=this.g[0].length;i-this.j<t&&(this.Y(),this.j-=i)},i.prototype.Y=function(){this.L=this.g,this.g=this.V();var t=this.g[0].length;if(256>t){for(var i=this.B,s=0;256>t&&s<this.o;)t+=this.l[i][0].length,i=i+1&this.F-1,s++;t=Math.max(t,256),(t=[new Float32Array(t),new Float32Array(t)])[0].set(this.g[0]),t[1].set(this.g[1]),i=this.g[0].length;for(var e=0;e<s;e++){var h=this.V();t[0].set(h[0],i),t[1].set(h[1],i),i+=h[0].length}this.g=t}this.lc()},i.prototype.lc=function(){1024>this.C/this.O&&this.port.postMessage({type:"pump"})},i.prototype.aa=function(t){this.o<this.F&&(this.l[this.I]=t,this.I=this.I+1&this.F-1,this.o++,this.C+=t[0].length,this.lc())},i.prototype.V=function(){if(!this.o)return s;var t=this.l[this.B];return this.l[this.B]=null,this.B=this.B+1&this.F-1,this.o--,this.C-=t[0].length,t},registerProcessor("dac-processor",i)}.toString();var e=URL.createObjectURL(new Blob([i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))],{type:"application/javascript"}));this.Jb=null,this.g=this.U.createGain(),this.U.audioWorklet.addModule(e).then((()=>{URL.revokeObjectURL(e),this.Jb=new AudioWorkletNode(this.U,"dac-processor",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[2],parameterData:{},processorOptions:{}}),this.Jb.port.postMessage({type:"sampling-rate",value:this.Ya}),this.Jb.port.onmessage=t=>{if("pump"===t.data.type)this.lc()},this.Jb.connect(this.g)})),this.h=gf(s,this.g,2),this.h.g=3,t.register("dac-send-data",(function(t){this.yf(t)}),this),t.register("dac-enable",(function(){this.enabled=!0}),this),t.register("dac-disable",(function(){this.enabled=!1}),this),t.register("dac-tell-sampling-rate",(function(t){this.Ya=t,this.Jb&&this.Jb.port.postMessage({type:"sampling-rate",value:t})}),this)}function df(t,i,s){this.v=t,this.U=i,this.enabled=!1,this.Ya=22050,this.g=0,this.pe=1,this.Se=this.U.createBiquadFilter(),this.Se.type="lowpass",this.i=this.Se,this.h=gf(s,this.i,2),this.h.g=3,t.register("dac-send-data",(function(t){this.yf(t)}),this),t.register("dac-enable",(function(){this.enabled=!0,this.lc()}),this),t.register("dac-disable",(function(){this.enabled=!1}),this),t.register("dac-tell-sampling-rate",(function(t){this.Ya=t,this.pe=Math.ceil(8e3/t),this.Se.frequency.setValueAtTime(t/2,this.U.currentTime)}),this)}function jf(t,i){function s(t){a.v&&a.enabled&&(a.h(t.which),t.preventDefault())}function e(t){var i=t.which;8===i?(a.h(127),t.preventDefault()):9===i&&(a.h(9),t.preventDefault())}function h(t){if(a.enabled){for(var i=t.clipboardData.getData("text/plain"),s=0;s<i.length;s++)a.h(i.charCodeAt(s));t.preventDefault()}}function n(i){i.target!==t&&t.blur()}var a=this;this.enabled=!0,this.v=i,this.text="",this.j=!1,this.i=0,this.v.register("serial0-output-char",(function(t){this.Ij(t)}),this),this.va=function(){t.removeEventListener("keypress",s,!1),t.removeEventListener("keydown",e,!1),t.removeEventListener("paste",h,!1),window.removeEventListener("mousedown",n,!1)},this.hb=function(){this.va(),t.style.display="block",t.addEventListener("keypress",s,!1),t.addEventListener("keydown",e,!1),t.addEventListener("paste",h,!1),window.addEventListener("mousedown",n,!1)},this.hb(),this.Ij=function(t){"\b"===t?(this.text=this.text.slice(0,-1),this.update()):"\r"!==t&&(this.text+=t,"\n"===t&&(this.j=!0),this.update())},this.update=function(){var t=Date.now(),i=t-this.i;16>i?void 0===this.g&&(this.g=setTimeout((()=>{this.g=void 0,this.i=Date.now(),this.l()}),16-i)):(void 0!==this.g&&(clearTimeout(this.g),this.g=void 0),this.i=t,this.l())},this.l=function(){t.value=this.text,this.j&&(this.j=!1,t.scrollTop=1e9)},this.h=function(t){a.v&&a.v.send("serial0-input",t)}}function kf(t,i){if(this.element=t,window.Terminal){var s=this.g=new window.Terminal;s.setOption("logLevel","off"),s.write("This is the serial console. Whatever you type or paste here will be sent to COM1");var e=s.onData((function(t){for(let s=0;s<t.length;s++)i.send("serial0-input",t.charCodeAt(s))}));i.register("serial0-output-char",(function(t){s.write(t)}),this),this.va=function(){e.dispose(),s.dispose()}}}function lf(t,i){this.v=i,this.g=void 0,this.h=[],this.url=t,this.i=Date.now()-1e4,this.v.register("net0-send",(function(t){this.send(t)}),this)}function Xa(t){this.Ge=!1;var i,s,e=ce();this.v=e[0],this.Gd=e[1];const h=new WebAssembly.Table({element:"anyfunc",initial:1924});e={cpu_exception_hook:t=>this.cpu_exception_hook&&this.cpu_exception_hook(t),hlt_op:function(){var t=i;0==(512&t.o())&&t.v.send("cpu-event-halt"),t.h[0]=1,mb(t)},abort:function(){},microtick:nb,get_rand_int:function(){return zb()},pic_acknowledge:function(){me(i)},io_port_read8:function(t){return(t=i.A.ports[t]).od.call(t.oa)},io_port_read16:function(t){return(t=i.A.ports[t]).Oa.call(t.oa)},io_port_read32:function(t){return(t=i.A.ports[t]).qe.call(t.oa)},io_port_write8:function(t,s){(t=i.A.ports[t]).df.call(t.oa,s)},io_port_write16:function(t,s){(t=i.A.ports[t]).Ae.call(t.oa,s)},io_port_write32:function(t,s){(t=i.A.ports[t]).Lc.call(t.oa,s)},mmap_read8:function(t){return i.i[t>>>17](t)},mmap_read16:function(t){var s=i.i[t>>>17];return s(t)|s(t+1|0)<<8},mmap_read32:function(t){return i.pa[t>>>17](t)},mmap_write8:function(t,s){i.l[t>>>17](t,s)},mmap_write16:function(t,s){var e=i.l[t>>>17];e(t,255&s),e(t+1|0,s>>8)},mmap_write32:function(t,s){i.j[t>>>17](t,s)},mmap_write64:function(t,s,e){var h=i.j[t>>>17];h(t,s),h(t+4,e)},mmap_write128:function(t,s,e,h,n){var a=i.j[t>>>17];a(t,s),a(t+4,e),a(t+8,h),a(t+12,n)},log_from_wasm:function(t,i){new Uint8Array(s.buffer,t>>>0,i>>>0)},console_log_from_wasm:function(t,i){t=String.fromCharCode(...new Uint8Array(s.buffer,t>>>0,i>>>0)),console.error(t)},dbg_trace_from_wasm:function(){},codegen_finalize:(t,s,e,h,n)=>{le(i,t,s,e,h,n)},jit_clear_func:t=>{i.xa.Mf.set(t+1024,null)},jit_clear_all_funcs:()=>{const t=i.xa.Mf;for(let i=0;900>i;i++)t.set(1024+i,null)},__indirect_function_table:h};let n=t.wasm_fn;n||(n=i=>new Promise((s=>{let e="v86.wasm",h="v86-fallback.wasm";if(t.wasm_path){e=t.wasm_path;const i=e.lastIndexOf("/");h=(-1===i?"":e.substr(0,i))+"/"+h}else"undefined"==typeof window&&"string"==typeof __dirname?(e=__dirname+"/"+e,h=__dirname+"/"+h):(e="build/"+e,h="build/"+h);Gb(e,{done:async t=>{try{const{instance:e}=await WebAssembly.instantiate(t,i);this.D=t,s(e.exports)}catch(t){Gb(h,{done:async t=>{const{instance:e}=await WebAssembly.instantiate(t,i);this.D=t,s(e.exports)}})}},progress:t=>{this.Gd.send("download-progress",{ge:0,fe:1,he:e,lengthComputable:t.lengthComputable,total:t.total,loaded:t.loaded})}})}))),n({env:e}).then((e=>{s=e.memory,e.rust_init(),e=this.g=new ib(this.Gd,{exports:e,Mf:h}),i=e.s,mf(this,e,t)})),this.i=null,this.F=0}async function mf(t,i,s){function e(t,i){switch(t){case"hda":n.N=this.ac.hda=i;break;case"hdb":n.Ke=this.ac.hdb=i;break;case"cdrom":n.fa=this.ac.cdrom=i;break;case"fda":n.ma=this.ac.fda=i;break;case"fdb":n.Zf=this.ac.fdb=i;break;case"multiboot":n.ed=this.ac.multiboot=i.buffer;break;case"bzimage":n.vb=this.ac.bzimage=i.buffer;break;case"initrd":n.Xc=this.ac.initrd=i.buffer;break;case"bios":n.Bd=i.buffer;break;case"vga_bios":n.Sj=i.buffer;break;case"initial_state":n.Wc=i.buffer;break;case"fs9p_json":n.cg=i}}async function h(){if(n.Db&&n.cg){if(!n.Wc){var t=n.Db,h=n.cg;if(3!==h.version)throw"The filesystem JSON format has changed. Please update your fs2json (https://github.com/copy/fs2json) and recreate the filesystem JSON.";var a=h.fsroot;for(t.o=h.size,h=0;h<a.length;h++)ye(t,a[h],0)}if(s.bzimage_initrd_from_filesystem){const{kh:t,Sh:i}=nf(n.Db),[s,h]=await Promise.all([n.Db.re(i),n.Db.re(t)]);e.call(this,"initrd",new tb(s.buffer)),e.call(this,"bzimage",new tb(h.buffer))}}this.Qd&&this.Qd.show&&this.Qd.show(),this.v.send("cpu-init",n),n.Wc&&(i.Nd(n.Wc),n.Wc=void 0),s.autostart&&this.v.send("cpu-run"),this.Gd.send("emulator-loaded")}t.v.register("emulator-stopped",(function(){this.Ge=!1}),t),t.v.register("emulator-started",(function(){this.Ge=!0}),t);var n={};t.ac={fda:void 0,fdb:void 0,hda:void 0,hdb:void 0,cdrom:void 0},n.ya=s.acpi,n.Vh=!0,n.wk=s.log_level,n.H=s.memory_size||67108864,n.ha=s.vga_memory_size||8388608,n.oc=s.boot_order||531,n.Hh=s.fastboot||!1,n.ma=void 0,n.Zf=void 0,n.ve=s.uart1,n.we=s.uart2,n.xe=s.uart3,n.Pc=s.cmdline,n.vf=s.preserve_mac_from_state_image,n.Gb=s.mac_address_translation,n.Dd=s.cpuid_level,s.network_adapter?t.C=s.network_adapter(t.v):s.network_relay_url&&(t.C=new lf(s.network_relay_url,t.v)),n.Fh=!0,s.disable_keyboard||(t.B=new $e(t.v)),s.disable_mouse||(t.l=new af(t.v,s.screen_container)),s.screen_container?t.h=new Va(s.screen_container,t.v):s.screen_dummy&&(t.h=new of(t.v)),s.serial_container&&(t.Qd=new jf(s.serial_container,t.v)),s.serial_container_xtermjs&&(t.Qd=new kf(s.serial_container_xtermjs,t.v)),s.disable_speaker||(t.j=new bf(t.v));var a=[],r=(i,s)=>{s&&(s.get&&s.set&&s.load?a.push({name:i,bd:s}):("bios"!==i&&"vga_bios"!==i&&"initial_state"!==i&&"multiboot"!==i&&"bzimage"!==i&&"initrd"!==i||(s.async=!1),s.buffer instanceof ArrayBuffer?(s=new tb(s.buffer),a.push({name:i,bd:s})):"undefined"!=typeof File&&s.buffer instanceof File?(void 0===s.async&&(s.async=268435456<=s.buffer.size),s=s.async?new wb(s.buffer):new db(s.buffer),a.push({name:i,bd:s})):s.url&&(s.async?(s=s.ca?new vb(s.url,s.size,s.J,!1,t.Yj.bind(t)):new ub(s.url,s.size,s.J),a.push({name:i,bd:s})):a.push({name:i,url:s.url,size:s.size}))))};s.state&&console.warn("Warning: Unknown option 'state'. Did you mean 'initial_state'?");for(var o="bios vga_bios cdrom hda hdb fda fdb initial_state multiboot bzimage initrd".split(" "),c=0;c<o.length;c++)r(o[c],s[o[c]]);if(s.filesystem&&(r=s.filesystem.ih,o=s.filesystem.Ce,c=new pf,o&&(c=new qf(c,o)),n.Db=t.Db=new we(c),r)){if("object"==typeof r){var u=r.size;r=r.url}a.push({name:"fs9p_json",url:r,size:u,zd:!0})}var f=a.length,d=function(i){if(i===f)setTimeout(h.bind(this),0);else{var s=a[i];s.bd?(s.bd.onload=function(){e.call(this,s.name,s.bd),d(i+1)}.bind(this),s.bd.load()):Gb(s.url,{done:function(t){if(s.url.endsWith(".zst")&&"initial_state"!==s.name){var h=s.size,n=new Uint8Array(t);t=this.g.s,this.o=t.Tg(n.length),new Uint8Array(t.Ja.buffer).set(n,t.Vg(this.o)),n=t.Td(this.o,h);const i=t.Ja.buffer.slice(n,n+h);t.Ud(n,h),t.Ug(this.o),this.o=null,t=i}e.call(this,s.name,s.zd?t:new tb(t)),d(i+1)}.bind(this),progress:function(e){200===e.target.status?t.Gd.send("download-progress",{ge:i,fe:f,he:s.url,lengthComputable:e.lengthComputable,total:e.total||s.size,loaded:e.loaded}):t.Gd.send("download-error",{ge:i,fe:f,he:s.url,request:e.target})},zd:s.zd})}}.bind(t);d(0)}function nf(t){const i=(Xe(t,"/")||[]).map((t=>"/"+t));let s,e;t=(Xe(t,"/boot/")||[]).map((t=>"/boot/"+t));for(let h of[].concat(i,t)){const t=/old/i.test(h)||/fallback/i.test(h),i=/initrd/i.test(h)||/initramfs/i.test(h);!/vmlinuz/i.test(h)&&!/bzimage/i.test(h)||e&&t||(e=h),!i||s&&t||(s=h)}return s&&e||(console.log("Failed to find bzimage or initrd in filesystem. Files:"),console.log(i.join(" ")),console.log(t.join(" "))),{Sh:s,kh:e}}function J(t,i,s){t.v.register(i,s,t)}function Za(t,i){for(var s=0;s<i.length;s++)t.v.send("keyboard-code",i[s])}function Wa(t,i){for(var s=0;s<i.length;s++)t.B.Jj(i[s])}function cb(){var t=document.body,i=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock;i&&i.call(t)}function rf(){this.message="File not found"}function of(t){var i,s,e,h,n;this.v=t,t.register("screen-set-mode",(function(t){this.Df(t)}),this),t.register("screen-fill-buffer-end",(function(t){this.Kf(t[0])}),this),t.register("screen-put-char",(function(t){this.xf(t[0],t[1],t[2],t[3],t[4])}),this),t.register("screen-text-scroll",(function(t){console.log("scroll",t)}),this),t.register("screen-update-cursor",(function(t){this.wd(t[0],t[1])}),this),t.register("screen-update-cursor-scanline",(function(t){this.xd(t[0],t[1])}),this),t.register("screen-set-size-text",(function(t){this.rd(t[0],t[1])}),this),t.register("screen-set-size-graphical",(function(t){this.qd(t[0],t[1])}),this),this.xf=function(t,i,s,a,r){t<n&&i<h&&(e[t=3*(t*h+i)]=s,e[t+1]=a,e[t+2]=r)},this.va=function(){},this.Df=function(){},this.Sf=function(){},this.rd=function(t,i){t===h&&i===n||(e=new Int32Array(t*i*3),h=t,n=i)},this.qd=function(){},this.Ef=function(){},this.xd=function(){},this.wd=function(t,e){t===i&&e===s||(i=t,s=e)},this.Kf=function(){}}we.prototype.$=function(){let t=[];t[0]=this.g,t[1]=this.B.nf,t[2]=[];for(const[i,s]of Object.entries(this.h))0==(this.g[i].mode&Ga)&&t[2].push([i,s]);return t[3]=this.l,t[4]=this.o,t.concat(this.i)},we.prototype.G=function(t){this.g=t[0].map((t=>{const i=new xe(0);return i.G(t),i})),this.B.nf=t[1],this.h={};for(let[i,s]of t[2])s.buffer.byteLength!==s.byteLength&&(s=s.slice()),this.h[i]=s;this.l=t[3],this.o=t[4],this.i=t.slice(5)},xe.prototype.$=function(){const t=[];return t[0]=this.mode,t[1]=(61440&this.mode)===Ga?[...this.ia]:32768==(61440&this.mode)?this.sd:40960==(61440&this.mode)?this.te:49152==(61440&this.mode)?[this.Pe,this.Oe]:null,t[2]=this.h,t[3]=this.status,t[4]=this.size,t[5]=this.uid,t[6]=this.Ga,t[7]=this.dc,t[8]=this.Ed,t[9]=this.Oc,t[10]=this.ic,t[11]=this.za.version,t[12]=this.za.path,t[13]=this.Ua,t},xe.prototype.G=function(t){if(this.mode=t[0],(61440&this.mode)===Ga){this.ia=new Map;for(const[i,s]of t[1])this.ia.set(i,s)}else 32768==(61440&this.mode)?this.sd=t[1]:40960==(61440&this.mode)?this.te=t[1]:49152==(61440&this.mode)&&([this.Pe,this.Oe]=t[1]);this.h=[];for(const i of t[2]){const t=new Ee;t.G(i),this.h.push(t)}this.status=t[3],this.size=t[4],this.uid=t[5],this.Ga=t[6],this.dc=t[7],this.Ed=t[8],this.Oc=t[9],this.ic=t[10],this.za.type=(61440&this.mode)>>8,this.za.version=t[11],this.za.path=t[12],this.Ua=t[13]},we.prototype.pb=async function(t){const i=this.g[t];return this.h[t]?this.h[t]:2===i.status?await this.j.read(i.sd,0,i.size):null},Ee.prototype.$=function(){const t=[];return t[0]=this.type,t[1]=this.start,t[2]=1/0===this.length?0:this.length,t[3]=this.h,t[4]=this.g,t},Ee.prototype.G=function(t){this.type=t[0],this.start=t[1],this.length=0===t[2]?1/0:t[2],this.h=t[3],this.g=t[4]},we.prototype.re=function(t){if(-1===(t=Se(this,t)).id)return Promise.resolve(null);const i=H(this,t.id);return Oa(this,t.id,0,i.size)},bf.prototype.va=function(){this.U&&this.U.close(),this.g&&this.g.Jb&&this.g.Jb.port.close()},ef.prototype.af=function(t,i){switch(void 0===i&&(i=2),i){case 0:this.D=t;break;case 1:this.F=t;break;case 2:this.B=t;break;default:return}this.update()},ef.prototype.update=function(){var t=this.B*this.F*this.eg;this.l.gain.setValueAtTime(this.B*this.D*this.dg,this.U.currentTime),this.o.gain.setValueAtTime(t,this.U.currentTime)},hf.prototype.update=function(){var t=this.o*this.g*this.j*this.D;this.h.gain.setValueAtTime(this.l*this.g*this.j*this.C,this.U.currentTime),this.i.gain.setValueAtTime(t,this.U.currentTime)},hf.prototype.connect=function(t){var i=!t||2===t;(i||0===t)&&(this.l=!0),(i||1===t)&&(this.o=!0),this.update()},hf.prototype.disconnect=function(t){var i=!t||2===t;(i||0===t)&&(this.l=!1),(i||1===t)&&(this.o=!1),this.update()},hf.prototype.af=function(t,i){switch(void 0===i&&(i=2),i){case 0:this.C=t;break;case 1:this.D=t;break;case 2:this.j=t;break;default:return}this.update()},ff.prototype.start=function(){this.Jd.start()},cf.prototype.yf=function(t){this.Jb&&this.Jb.port.postMessage({type:"queue",value:t},[t[0].buffer,t[1].buffer])},cf.prototype.lc=function(){this.enabled&&this.v.send("dac-request-data")},df.prototype.yf=function(t){var i=t[0].length,s=i/this.Ya;if(1<this.pe)for(var e=this.U.createBuffer(2,i*this.pe,this.Ya*this.pe),h=e.getChannelData(0),n=e.getChannelData(1),a=0,r=0;r<i;r++)for(var o=0;o<this.pe;o++,a++)h[a]=t[0][r],n[a]=t[1][r];else(e=this.U.createBuffer(2,i,this.Ya)).copyToChannel?(e.copyToChannel(t[0],0),e.copyToChannel(t[1],1)):(e.getChannelData(0).set(t[0]),e.getChannelData(1).set(t[1]));if((t=this.U.createBufferSource()).buffer=e,t.connect(this.Se),t.addEventListener("ended",this.lc.bind(this)),e=this.U.currentTime,this.g<e)for(this.g=e,e=.2-s,i=0;i<=e;)i+=s,this.g+=s,setTimeout((()=>this.lc()),1e3*i);t.start(this.g),this.g+=s,setTimeout((()=>this.lc()),0)},df.prototype.lc=function(){this.enabled&&(.2<this.g-this.U.currentTime||this.v.send("dac-request-data"))},kf.prototype.show=function(){this.g&&this.g.open(this.element)},(p=lf.prototype).Mh=function(t){this.v&&this.v.send("net0-receive",new Uint8Array(t.data))},p.Kh=function(){this.connect(),setTimeout(this.connect.bind(this),1e4)},p.Nh=function(){for(var t=0;t<this.h.length;t++)this.send(this.h[t]);this.h=[]},p.Lh=function(){},p.va=function(){this.g&&this.g.close()},p.connect=function(){if("undefined"!=typeof WebSocket){if(this.g){var t=this.g.readyState;if(0===t||1===t)return}this.i+1e4>Date.now()||(this.i=Date.now(),this.g=new WebSocket(this.url),this.g.binaryType="arraybuffer",this.g.onopen=this.Nh.bind(this),this.g.onmessage=this.Mh.bind(this),this.g.onclose=this.Kh.bind(this),this.g.onerror=this.Lh.bind(this))}},p.send=function(t){this.g&&1===this.g.readyState?this.g.send(t):(this.h.push(t),128<this.h.length&&(this.h=this.h.slice(-64)),this.connect())},(p=Xa.prototype).Yj=async function(t,i){if(!this.i){const t=URL.createObjectURL(new Blob(["("+function(){let t;globalThis.onmessage=function(i){if(t){var s=i.data.src,e=i.data.uh;i=i.data.id;var h=t.exports,n=h.zstd_create_ctx(s.length);new Uint8Array(h.memory.buffer).set(s,h.zstd_get_src_ptr(n)),s=h.zstd_read(n,e);var a=h.memory.buffer.slice(s,s+e);h.zstd_read_free(s,e),h.zstd_free_ctx(n),postMessage({result:a,id:i},[a])}else(e=Object.fromEntries("cpu_exception_hook hlt_op microtick get_rand_int pic_acknowledge io_port_read8 io_port_read16 io_port_read32 io_port_write8 io_port_write16 io_port_write32 mmap_read8 mmap_read16 mmap_read32 mmap_write8 mmap_write16 mmap_write32 mmap_write64 mmap_write128 codegen_finalize jit_clear_func jit_clear_all_funcs".split(" ").map((t=>[t,()=>console.error("zstd worker unexpectedly called "+t)])))).__indirect_function_table=new WebAssembly.Table({element:"anyfunc",initial:1024}),e.abort=()=>{throw Error("zstd worker aborted")},e.log_from_wasm=e.console_log_from_wasm=(i,s)=>{console.log(String.fromCharCode(...new Uint8Array(t.exports.memory.buffer,i,s)))},e.dbg_trace_from_wasm=()=>console.trace(),t=new WebAssembly.Instance(new WebAssembly.Module(i.data),{env:e})}}.toString()+")()"],{type:"text/javascript"}));this.i=new Worker(t),URL.revokeObjectURL(t),this.i.postMessage(this.D,[this.D])}return new Promise((s=>{const e=this.F++,h=async t=>{t.data.id===e&&(this.i.removeEventListener("message",h),s(t.data.result))};this.i.addEventListener("message",h),this.i.postMessage({src:i,uh:t,id:e},[i.buffer])}))},p.Ze=async function(){this.v.send("cpu-run")},p.stop=async function(){this.Ge&&await new Promise((t=>{const i=()=>{this.v.unregister("emulator-stopped",i),t()};J(this,"emulator-stopped",i),this.v.send("cpu-stop")}))},p.va=async function(){await this.stop(),this.g.va(),this.B&&this.B.va(),this.C&&this.C.va(),this.l&&this.l.va(),this.h&&this.h.va(),this.Qd&&this.Qd.va(),this.j&&this.j.va()},p.zf=function(){this.v.send("cpu-restart")},p.Nd=async function(t){this.g.Nd(t)},p.se=async function(){return this.g.se()},p.Zc=function(){return this.Ge},p.qh=async function(t,i){var s=this.Db;if(s){var e=t.split("/");if(e=e[e.length-1],t=Se(s,t).uf,""===e||-1===t)return Promise.reject(new rf);await He(s,e,t,i)}},p.re=async function(t){var i=this.Db;if(i)return(t=await i.re(t))?t:Promise.reject(new rf)},rf.prototype=Error.prototype,"undefined"!=typeof window?(window.V86Starter=Xa,window.V86=Xa):"undefined"!=typeof module&&void 0!==module.exports?(module.exports.V86Starter=Xa,module.exports.V86=Xa):"function"==typeof importScripts&&(self.V86Starter=Xa,self.V86=Xa);const Ya={Lj:function(t){return Ya.Cj(t)+Ya.Bj(t)},Cj:function(t){let i="";var s="COMPILE COMPILE_SKIPPED_NO_NEW_ENTRY_POINTS COMPILE_WRONG_ADDRESS_SPACE COMPILE_CUT_OFF_AT_END_OF_PAGE COMPILE_WITH_LOOP_SAFETY COMPILE_PAGE COMPILE_PAGE/COMPILE COMPILE_BASIC_BLOCK COMPILE_DUPLICATED_BASIC_BLOCK COMPILE_WASM_BLOCK COMPILE_WASM_LOOP COMPILE_DISPATCHER COMPILE_ENTRY_POINT COMPILE_WASM_TOTAL_BYTES COMPILE_WASM_TOTAL_BYTES/COMPILE_PAGE RUN_INTERPRETED RUN_INTERPRETED_NEW_PAGE RUN_INTERPRETED_PAGE_HAS_CODE RUN_INTERPRETED_PAGE_HAS_ENTRY_AFTER_PAGE_WALK RUN_INTERPRETED_NEAR_END_OF_PAGE RUN_INTERPRETED_DIFFERENT_STATE RUN_INTERPRETED_DIFFERENT_STATE_CPL3 RUN_INTERPRETED_DIFFERENT_STATE_FLAT RUN_INTERPRETED_DIFFERENT_STATE_IS32 RUN_INTERPRETED_DIFFERENT_STATE_SS32 RUN_INTERPRETED_MISSED_COMPILED_ENTRY_RUN_INTERPRETED RUN_INTERPRETED_STEPS RUN_FROM_CACHE RUN_FROM_CACHE_STEPS RUN_FROM_CACHE_STEPS/RUN_FROM_CACHE RUN_FROM_CACHE_STEPS/RUN_INTERPRETED_STEPS DIRECT_EXIT INDIRECT_JUMP INDIRECT_JUMP_NO_ENTRY NORMAL_PAGE_CHANGE NORMAL_FALLTHRU NORMAL_FALLTHRU_WITH_TARGET_BLOCK NORMAL_BRANCH NORMAL_BRANCH_WITH_TARGET_BLOCK CONDITIONAL_JUMP CONDITIONAL_JUMP_PAGE_CHANGE CONDITIONAL_JUMP_EXIT CONDITIONAL_JUMP_FALLTHRU CONDITIONAL_JUMP_FALLTHRU_WITH_TARGET_BLOCK CONDITIONAL_JUMP_BRANCH CONDITIONAL_JUMP_BRANCH_WITH_TARGET_BLOCK DISPATCHER_SMALL DISPATCHER_LARGE LOOP LOOP_SAFETY CONDITION_OPTIMISED CONDITION_UNOPTIMISED CONDITION_UNOPTIMISED_PF CONDITION_UNOPTIMISED_UNHANDLED_L CONDITION_UNOPTIMISED_UNHANDLED_LE FAILED_PAGE_CHANGE SAFE_READ_FAST SAFE_READ_SLOW_PAGE_CROSSED SAFE_READ_SLOW_NOT_VALID SAFE_READ_SLOW_NOT_USER SAFE_READ_SLOW_IN_MAPPED_RANGE SAFE_WRITE_FAST SAFE_WRITE_SLOW_PAGE_CROSSED SAFE_WRITE_SLOW_NOT_VALID SAFE_WRITE_SLOW_NOT_USER SAFE_WRITE_SLOW_IN_MAPPED_RANGE SAFE_WRITE_SLOW_READ_ONLY SAFE_WRITE_SLOW_HAS_CODE SAFE_READ_WRITE_FAST SAFE_READ_WRITE_SLOW_PAGE_CROSSED SAFE_READ_WRITE_SLOW_NOT_VALID SAFE_READ_WRITE_SLOW_NOT_USER SAFE_READ_WRITE_SLOW_IN_MAPPED_RANGE SAFE_READ_WRITE_SLOW_READ_ONLY SAFE_READ_WRITE_SLOW_HAS_CODE PAGE_FAULT TLB_MISS DO_MANY_CYCLES CYCLE_INTERNAL INVALIDATE_ALL_MODULES_NO_FREE_WASM_INDICES INVALIDATE_MODULE_WRITTEN_WHILE_COMPILED INVALIDATE_MODULE_UNUSED_AFTER_OVERWRITE INVALIDATE_MODULE_DIRTY_PAGE INVALIDATE_PAGE_HAD_CODE INVALIDATE_PAGE_HAD_ENTRY_POINTS DIRTY_PAGE_DID_NOT_HAVE_CODE RUN_FROM_CACHE_EXIT_SAME_PAGE RUN_FROM_CACHE_EXIT_NEAR_END_OF_PAGE RUN_FROM_CACHE_EXIT_DIFFERENT_PAGE CLEAR_TLB FULL_CLEAR_TLB TLB_FULL TLB_GLOBAL_FULL MODRM_SIMPLE_REG MODRM_SIMPLE_REG_WITH_OFFSET MODRM_SIMPLE_CONST_OFFSET MODRM_COMPLEX SEG_OFFSET_OPTIMISED SEG_OFFSET_NOT_OPTIMISED SEG_OFFSET_NOT_OPTIMISED_ES SEG_OFFSET_NOT_OPTIMISED_FS SEG_OFFSET_NOT_OPTIMISED_GS SEG_OFFSET_NOT_OPTIMISED_NOT_FLAT".split(" "),e=0;const h={};for(let a=0;a<s.length;a++){const r=s[a];var n=void 0;if(r.includes("/")){e++;const[t,i]=r.split("/");n=h[t]/h[i]}else n=1e8<=(n=h[r]=t.xa.exports.profiler_stat_get(a-e))?Math.round(n/1e6)+"m":1e5<=n?Math.round(n/1e3)+"k":n;i+=r+"="+n+"\n"}return i+="\n",i=i+"TLB_ENTRIES="+(s=t.xa.exports.get_valid_tlb_entries_count())+" ("+(e=t.xa.exports.get_valid_global_tlb_entries_count())+" global, "+(s-e)+" non-global)\nWASM_TABLE_FREE="+t.xa.exports.jit_get_wasm_table_index_free_list_count()+"\n",i+="JIT_CACHE_SIZE="+t.xa.exports.jit_get_cache_size()+"\n",i+="FLAT_SEGMENTS="+t.xa.exports.has_flat_segmentation()+"\n",i+="do_many_cycles avg: "+(t.gk/t.fk||0)+"\n",i+="wasm memory size: "+(t.Ja.buffer.byteLength>>20)+"m\n",i=i+"Config:\nMAX_PAGES="+t.xa.exports.get_jit_config(0)+"\n",i+="JIT_USE_LOOP_SAFETY="+!!t.xa.exports.get_jit_config(1)+"\n",i+"MAX_EXTRA_BASIC_BLOCKS="+t.xa.exports.get_jit_config(2)+"\n"},Bj:function(t){return[Ya.oe(t,!1,!1,!1,!1),Ya.oe(t,!0,!1,!1,!1),Ya.oe(t,!1,!0,!1,!1),Ya.oe(t,!1,!1,!0,!1),Ya.oe(t,!1,!1,!1,!0)].join("\n\n")},oe:function(t,i,s,e,h){let n="";var a=[],r=i?"compiled":s?"jit exit":e?"unguarded register":h?"wasm size":"executed";for(let n=0;256>n;n++)for(let r=0;8>r;r++)for(let c of[!1,!0]){var o=t.xa.exports.get_opstats_buffer(i,s,e,h,n,!1,c,r);a.push({Te:n,count:o,ig:c,ag:r}),o=t.xa.exports.get_opstats_buffer(i,s,e,h,n,!0,c,r),a.push({Te:3840|n,count:o,ig:c,ag:r})}t=0,i=new Set([38,46,54,62,100,101,102,103,240,242,243]);for(let{count:s,Te:e}of a)i.has(e)||(t+=s);if(0===t)return"";s=new Uint32Array(256),i=new Uint32Array(256);for(let{Te:t,count:e}of a)3840==(65280&t)?i[255&t]+=e:s[255&t]+=e;n=n+"------------------\nTotal: "+t+"\n";const c=1e7<t?1e3:1;for(e=Math.max.apply(Math,a.map((({count:t})=>Math.round(t/c)))),e=String(e).length,n+=`Instruction counts ${r} (in ${c}):\n`,h=0;256>h;h++)n+=h.toString(16).padStart(2,"0")+":"+xb(Math.round(s[h]/c),e),n=15==h%16?n+"\n":n+" ";for(n=n+"\n"+`Instruction counts ${r} (0f, in ${c}):\n`,r=0;256>r;r++)n+=(255&r).toString(16).padStart(2,"0")+":"+xb(Math.round(i[r]/c),e),n=15==r%16?n+"\n":n+" ";n+="\n",a=a.filter((({count:t})=>t)).sort((({count:t},{count:i})=>i-t));for(let{Te:i,ig:s,ag:e,count:h}of a.slice(0,200))n+=i.toString(16)+"_"+e+(s?"_m":"_r")+":"+(h/t*100).toFixed(2)+" ";return n+"\n"}};function pf(){this.h=new Map}function qf(t,i){this.h=t,this.Ce=i}function sf(t,i){return new Promise((s=>{Gb(t.Ce+i,{done:async e=>{e=new Uint8Array(e),await t.cache(i,e),s(e)}})}))}"undefined"!=typeof module&&void 0!==module.exports&&(module.exports.print_stats=Ya),pf.prototype.read=async function(t,i,s){return(t=this.h.get(t))?t.subarray(i,i+s):null},pf.prototype.cache=async function(t,i){this.h.set(t,i)},pf.prototype.g=function(t){this.h.delete(t)},qf.prototype.read=async function(t,i,s){const e=await this.h.read(t,i,s);return e||(await sf(this,t)).subarray(i,i+s)},qf.prototype.cache=async function(t,i){return await this.h.cache(t,i)},qf.prototype.g=function(t){this.h.g(t)},"undefined"!=typeof window?(window.MemoryFileStorage=pf,window.ServerFileStorageWrapper=qf):"undefined"!=typeof module&&void 0!==module.exports?(module.exports.MemoryFileStorage=pf,module.exports.ServerFileStorageWrapper=qf):"function"==typeof importScripts&&(self.MemoryFileStorage=pf,self.ServerFileStorageWrapper=qf);
