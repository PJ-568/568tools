var initAll=function(){var e=window.location.pathname;if(e.endsWith("/print.html"))return;var t=document.querySelectorAll("main img");Array.prototype.forEach.call(t,(function(e){e.addEventListener("click",(function(){BigPicture({el:e})}))})),Array.prototype.forEach.call(document.getElementsByClassName("pagetoc")[0].children,(function(e){e.addEventHandler("click",(function(){Array.prototype.forEach.call(document.getElementsByClassName("pagetoc")[0].children,(function(e){e.classList.remove("active")})),e.classList.add("active")}))}));var a=function(){var e=null,t=document.getElementsByClassName("header");Array.prototype.forEach.call(t,(function(t){window.pageYOffset>=t.offsetTop&&(e=t)})),Array.prototype.forEach.call(document.getElementsByClassName("pagetoc")[0].children,(function(e){e.classList.remove("active")})),Array.prototype.forEach.call(document.getElementsByClassName("pagetoc")[0].children,(function(t){null!=e&&0==e.href.localeCompare(t.href)&&t.classList.add("active")}))},n=document.getElementsByClassName("pagetoc")[0],r=document.getElementsByClassName("header");Array.prototype.forEach.call(r,(function(e){var t=document.createElement("a"),a="";switch(e.parentElement.tagName){case"H1":return;case"H3":a="20px";break;case"H4":a="40px"}t.appendChild(document.createTextNode(e.text)),t.style.paddingLeft=a,t.href=e.href,n.appendChild(t)})),a.call(),window.addEventListener("scroll",a),document.getElementById("theme-list").addEventListener("click",(function(e){var t,a=document.querySelector(".giscus-frame");if(a&&"theme"===e.target.className){var n="light";"light"!=(t=e.target.id)&&"rust"!=t&&(n="transparent_dark");var r={setConfig:{theme:n}};a.contentWindow.postMessage({giscus:r},"https://giscus.app")}})),pagePath=pagePath.replace("index.md",""),pagePath=pagePath.replace(".md",""),pagePath.length>0?"/"==pagePath.charAt(pagePath.length-1)&&(pagePath=pagePath.substring(0,pagePath.length-1)):pagePath="index";var c=document.createElement("div");c.setAttribute("align","center");var i=document.createElement("img");i.setAttribute("src","https://visitor-badge.glitch.me/badge?page_id="+e),c.appendChild(i);var s=document.createElement("hr");document.getElementById("giscus-container").appendChild(c),document.getElementById("giscus-container").appendChild(s);var l="transparent_dark";const o=document.getElementsByTagName("html")[0].className;-1==o.indexOf("light")&&-1==o.indexOf("rust")||(l="light");var d=document.createElement("script");d.type="text/javascript",d.src="https://giscus.app/client.js",d.async=!0,d.crossOrigin="anonymous",d.setAttribute("data-repo","sunface/rust-course"),d.setAttribute("data-repo-id","MDEwOlJlcG9zaXRvcnkxNDM4MjIwNjk="),d.setAttribute("data-category","章节评论区"),d.setAttribute("data-category-id","DIC_kwDOCJKM9c4COQcP"),d.setAttribute("data-mapping","specific"),d.setAttribute("data-term",pagePath),d.setAttribute("data-reactions-enabled","1"),d.setAttribute("data-emit-metadata","0"),d.setAttribute("data-input-position","top"),d.setAttribute("data-theme",l),document.getElementById("giscus-container").appendChild(d)};window.addEventListener("load",initAll);
