var dwvdecoder=dwvdecoder||{};dwvdecoder.RleDecoder=function(){},dwvdecoder.RleDecoder.prototype.decode=function(e,r,n,t,a,f){var d=r/8,o=new DataView(e.buffer,e.byteOffset),v=new Int8Array(e.buffer,e.byteOffset),w=new ArrayBuffer(t*a*d),y=new Int8Array(w),c=o.getInt32(0,!0),i=1,u=1;1!==a&&0===f&&(u*=a),1!==d&&(u*=d),i*=u;for(var A=0,I=0,l=0,b=0,g=0,s=0;s<c;++s){1!==u&&(0===(l=s%u)&&(g=b),A=g+l,2===d&&(A+=l%d?-1:1));var D=o.getInt32(4*(s+1),!0),p=o.getInt32(4*(s+2),!0);s!==c-1&&0!==p||(p=e.length),I=D;for(var O=0;I<p;)if(O=v[I],++I,O>=0&&O<=127)for(var R=0;R<O+1;++R)y[A]=v[I],++I,A+=i;else if(O<=-1&&O>=-127){var U=v[I];++I;for(var h=0;h<1-O;++h)y[A]=U,A+=i}A>b&&(b=A)}var B=null;return 8===r?B=n?new Int8Array(w):new Uint8Array(w):16===r&&(B=n?new Int16Array(w):new Uint16Array(w)),B};
