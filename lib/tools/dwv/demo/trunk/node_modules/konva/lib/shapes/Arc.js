import{Factory}from"../Factory.js";import{Shape}from"../Shape.js";import{Konva}from"../Global.js";import{getNumberValidator,getBooleanValidator}from"../Validators.js";import{_registerNode}from"../Global.js";export class Arc extends Shape{_sceneFunc(t){var e=Konva.getAngle(this.angle()),r=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,r),t.arc(0,0,this.innerRadius(),e,0,!r),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),e=this.outerRadius(),r=this.clockwise(),a=Konva.getAngle(r?360-this.angle():this.angle()),i=Math.cos(Math.min(a,Math.PI)),o=Math.sin(Math.min(Math.max(Math.PI,a),3*Math.PI/2)),s=Math.sin(Math.min(a,Math.PI/2)),h=i*(i>0?t:e),c=o*(o>0?t:e),d=s*(s>0?e:t);return{x:h,y:r?-1*d:c,width:1*e-h,height:d-c}}}Arc.prototype._centroid=!0,Arc.prototype.className="Arc",Arc.prototype._attrsAffectingSize=["innerRadius","outerRadius"],_registerNode(Arc),Factory.addGetterSetter(Arc,"innerRadius",0,getNumberValidator()),Factory.addGetterSetter(Arc,"outerRadius",0,getNumberValidator()),Factory.addGetterSetter(Arc,"angle",0,getNumberValidator()),Factory.addGetterSetter(Arc,"clockwise",!1,getBooleanValidator());
