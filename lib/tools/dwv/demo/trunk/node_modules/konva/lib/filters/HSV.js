import{Factory}from"../Factory.js";import{Node}from"../Node.js";import{getNumberValidator}from"../Validators.js";export const HSV=function(t){var a,e,r,o,i,d=t.data,h=d.length,s=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=s*c*Math.cos(l*Math.PI/180),F=s*c*Math.sin(l*Math.PI/180),m=.299*s+.701*u+.167*F,N=.587*s-.587*u+.33*F,f=.114*s-.114*u-.497*F,y=.299*s-.299*u-.328*F,n=.587*s+.413*u+.035*F,M=.114*s-.114*u+.293*F,S=.299*s-.3*u+1.25*F,p=.587*s-.586*u-1.05*F,V=.114*s+.886*u-.2*F;for(a=0;a<h;a+=4)e=d[a+0],r=d[a+1],o=d[a+2],i=d[a+3],d[a+0]=m*e+N*r+f*o,d[a+1]=y*e+n*r+M*o,d[a+2]=S*e+p*r+V*o,d[a+3]=i};Factory.addGetterSetter(Node,"hue",0,getNumberValidator(),Factory.afterSetFilter),Factory.addGetterSetter(Node,"saturation",0,getNumberValidator(),Factory.afterSetFilter),Factory.addGetterSetter(Node,"value",0,getNumberValidator(),Factory.afterSetFilter);
