"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Factory=void 0;const Util_1=require("./Util"),Validators_1=require("./Validators");var GET="get",SET="set";exports.Factory={addGetterSetter(t,e,r,i,o){exports.Factory.addGetter(t,e,r),exports.Factory.addSetter(t,e,i,o),exports.Factory.addOverloadedGetterSetter(t,e)},addGetter(t,e,r){var i=GET+Util_1.Util._capitalize(e);t.prototype[i]=t.prototype[i]||function(){var t=this.attrs[e];return void 0===t?r:t}},addSetter(t,e,r,i){var o=SET+Util_1.Util._capitalize(e);t.prototype[o]||exports.Factory.overWriteSetter(t,e,r,i)},overWriteSetter(t,e,r,i){var o=SET+Util_1.Util._capitalize(e);t.prototype[o]=function(t){return r&&null!=t&&(t=r.call(this,t,e)),this._setAttr(e,t),i&&i.call(this),this}},addComponentsGetterSetter(t,e,r,i,o){var a,l,d=r.length,p=Util_1.Util._capitalize,s=GET+p(e),n=SET+p(e);t.prototype[s]=function(){var t={};for(a=0;a<d;a++)t[l=r[a]]=this.getAttr(e+p(l));return t};var c=(0,Validators_1.getComponentValidator)(r);t.prototype[n]=function(t){var a,l=this.attrs[e];for(a in i&&(t=i.call(this,t)),c&&c.call(this,t,e),t)t.hasOwnProperty(a)&&this._setAttr(e+p(a),t[a]);return t||r.forEach((t=>{this._setAttr(e+p(t),void 0)})),this._fireChangeEvent(e,l,t),o&&o.call(this),this},exports.Factory.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var r=Util_1.Util._capitalize(e),i=SET+r,o=GET+r;t.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[o]()}},addDeprecatedGetterSetter(t,e,r,i){Util_1.Util.error("Adding deprecated "+e);var o=GET+Util_1.Util._capitalize(e),a=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[o]=function(){Util_1.Util.error(a);var t=this.attrs[e];return void 0===t?r:t},exports.Factory.addSetter(t,e,i,(function(){Util_1.Util.error(a)})),exports.Factory.addOverloadedGetterSetter(t,e)},backCompat(t,e){Util_1.Util.each(e,(function(e,r){var i=t.prototype[r],o=GET+Util_1.Util._capitalize(e),a=SET+Util_1.Util._capitalize(e);function l(){i.apply(this,arguments),Util_1.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[e]=l,t.prototype[o]=l,t.prototype[a]=l}))},afterSetFilter(){this._filterUpToDate=!1}};
