"use strict";var Readable=require("readable-stream").Readable,utils=require("../utils");function NodejsStreamOutputAdapter(e,t,r){Readable.call(this,t),this._helper=e;var a=this;e.on("data",(function(e,t){a.push(e)||a._helper.pause(),r&&r(t)})).on("error",(function(e){a.emit("error",e)})).on("end",(function(){a.push(null)}))}utils.inherits(NodejsStreamOutputAdapter,Readable),NodejsStreamOutputAdapter.prototype._read=function(){this._helper.resume()},module.exports=NodejsStreamOutputAdapter;
