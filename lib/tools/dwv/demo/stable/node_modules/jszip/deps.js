"use strict";const madge=require("madge"),path=require("path"),ts=require("typescript"),DIR="./lib";async function main(){const e=ts.findConfigFile("./",ts.sys.fileExists),o=ts.readConfigFile(e,ts.sys.readFile).config,n=ts.parseJsonConfigFileContent(o,ts.sys,"./").fileNames.map((e=>path.resolve("./",e))),t=e=>!n.includes(e),s=await madge(DIR,{dependencyFilter:t}),i=s.leaves().map((e=>path.resolve(DIR,e))).filter(t);if(i.length)console.log("Convert next:"),console.log(i.join("\n"));else{console.log("No untyped leaf dependencies found."),console.log("Try looking at circular dependencies, or the image to decide what to convert next:");const e=s.circular().flat().map((e=>path.resolve(DIR,e))).filter(t);console.log(e.join("\n"))}const l=await s.image("graph.svg");console.log(),console.log("Image written to "+l)}main();
