var initAll=function(){var t=window.location.pathname;if(t.endsWith("/print.html"))return;var e=document.querySelectorAll("main img");Array.prototype.forEach.call(e,(function(t){t.addEventListener("click",(function(){BigPicture({el:t})}))})),Array.prototype.forEach.call(document.getElementsByClassName("pagetoc")[0].children,(function(t){t.addEventHandler("click",(function(){Array.prototype.forEach.call(document.getElementsByClassName("pagetoc")[0].children,(function(t){t.classList.remove("active")})),t.classList.add("active")}))}));var a=function(){var t=null,e=document.getElementsByClassName("header");Array.prototype.forEach.call(e,(function(e){window.pageYOffset>=e.offsetTop&&(t=e)})),Array.prototype.forEach.call(document.getElementsByClassName("pagetoc")[0].children,(function(t){t.classList.remove("active")})),Array.prototype.forEach.call(document.getElementsByClassName("pagetoc")[0].children,(function(e){null!=t&&0==t.href.localeCompare(e.href)&&e.classList.add("active")}))},n=document.getElementsByClassName("pagetoc")[0],r=document.getElementsByClassName("header");Array.prototype.forEach.call(r,(function(t){var e=document.createElement("a"),a="";switch(t.parentElement.tagName){case"H1":return;case"H3":a="20px";break;case"H4":a="40px"}e.appendChild(document.createTextNode(t.text)),e.style.paddingLeft=a,e.href=t.href,n.appendChild(e)})),a.call(),window.addEventListener("scroll",a),document.getElementById("theme-list").addEventListener("click",(function(t){var e,a=document.querySelector(".giscus-frame");if(a&&"theme"===t.target.className){var n="light";"light"!=(e=t.target.id)&&"rust"!=e&&(n="transparent_dark");var r={setConfig:{theme:n}};a.contentWindow.postMessage({giscus:r},"https://giscus.app")}})),pagePath=pagePath.replace("index.md",""),pagePath=pagePath.replace(".md",""),pagePath.length>0?"/"==pagePath.charAt(pagePath.length-1)&&(pagePath=pagePath.substring(0,pagePath.length-1)):pagePath="index";var c=document.createElement("div");c.setAttribute("align","center");var i=document.createElement("img");i.setAttribute("src","https://visitor-badge.glitch.me/badge?page_id="+t),c.appendChild(i);var s=document.createElement("hr");document.getElementById("giscus-container").appendChild(c),document.getElementById("giscus-container").appendChild(s);const o=navigator.language||navigator.userLanguage;var l="transparent_dark";const d=document.getElementsByTagName("html")[0].className;-1==d.indexOf("light")&&-1==d.indexOf("rust")||(l="light");var p=document.createElement("script");p.type="text/javascript",p.src="https://giscus.app/client.js",p.async=!0,p.crossOrigin="anonymous",p.setAttribute("data-repo","studyrs/rusty-book"),p.setAttribute("data-repo-id","R_kgDOGmKA_Q"),p.setAttribute("data-category","giscus"),p.setAttribute("data-category-id","DIC_kwDOHH0skM4COa8c"),p.setAttribute("data-mapping","specific"),p.setAttribute("data-term",pagePath),p.setAttribute("data-reactions-enabled","1"),p.setAttribute("data-emit-metadata","0"),p.setAttribute("data-input-position","top"),p.setAttribute("data-theme",l),p.setAttribute("data-lang",o),document.getElementById("giscus-container").appendChild(p)};window.addEventListener("load",initAll);
