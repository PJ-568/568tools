import{nextTick}from".";class BatchExecution{constructor(){this.has={},this.queue=[],this.nextTick=nextTick(this.flush,this)}push(t,s){this.has[t]||(this.has[t]=!0,this.queue.push({name:t,fn:s}),this.nextTick())}flush(){let t=this.queue.slice(0);this.queue=[],t.forEach((({name:t,fn:s})=>{this.has[t]=!1,s()}))}}export default BatchExecution;
