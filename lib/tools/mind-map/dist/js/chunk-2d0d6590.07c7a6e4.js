(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6590"],{"71bb":function(s,_,v){"use strict";v.r(_);var e=function(){var s=this;s._self._c;return s._m(0)},t=[function(){var s=this,_=s._self._c;return _("div",[_("h1",[s._v("部署")]),_("p",[s._v("本项目的"),_("code",[s._v("web")]),s._v("目录下提供了一个基于"),_("code",[s._v("simple-mind-map")]),s._v("库、"),_("code",[s._v("Vue2.x")]),s._v("、"),_("code",[s._v("ElementUI")]),s._v("开发的完整项目，数据默认存储在电脑本地，此外可以操作电脑本地文件，原意是作为一个线上"),_("code",[s._v("demo")]),s._v("，但是也完全可以直接把它当做一个在线版思维导图应用使用，在线地址："),_("a",{attrs:{href:"https://wanglin2.github.io/mind-map/"}},[s._v("https://wanglin2.github.io/mind-map/")]),s._v("。")]),_("p",[s._v("如果你的网络环境访问"),_("code",[s._v("GitHub")]),s._v("服务很慢，你也可以部署到你的服务器上。")]),_("h2",[s._v("部署到静态文件服务器")]),_("p",[s._v("项目本身不依赖后端，所以完全可以部署到一个静态文件服务器上，可以依次执行如下命令：")]),_("pre",{staticClass:"hljs"},[_("code",[s._v("git "),_("span",{staticClass:"hljs-built_in"},[s._v("clone")]),s._v(" https://github.com/wanglin2/mind-map.git\n"),_("span",{staticClass:"hljs-built_in"},[s._v("cd")]),s._v(" mind-map\n"),_("span",{staticClass:"hljs-built_in"},[s._v("cd")]),s._v(" simple-mind-map\nnpm i\nnpm link\n"),_("span",{staticClass:"hljs-built_in"},[s._v("cd")]),s._v(" ..\n"),_("span",{staticClass:"hljs-built_in"},[s._v("cd")]),s._v(" web\nnpm i\nnpm link simple-mind-map\n")])]),_("p",[s._v("然后你可以选择启动本地服务：")]),_("pre",{staticClass:"hljs"},[_("code",[s._v("npm run serve\n")])]),_("p",[s._v("也可以直接打包生成构建产物：")]),_("pre",{staticClass:"hljs"},[_("code",[s._v("npm run build\n")])]),_("p",[s._v("打包完后的入口页面"),_("code",[s._v("index.html")]),s._v("可以在项目根目录找到，对应的静态资源在根目录下的"),_("code",[s._v("dist")]),s._v("目录，"),_("code",[s._v("html")]),s._v("文件中会通过相对路径访问"),_("code",[s._v("dist")]),s._v("目录的资源，比如"),_("code",[s._v("dist/xxx")]),s._v("。你可以直接把这两个文件或目录上传到你的静态文件服务器，事实上，本项目就是这样部署到"),_("code",[s._v("GitHub Pages")]),s._v("上的。")]),_("p",[s._v("如果你没有代码修改需求的话，直接从本仓库复制这些文件也是可以的。")]),_("p",[s._v("如果你想把"),_("code",[s._v("index.html")]),s._v("也打包进"),_("code",[s._v("dist")]),s._v("目录，可以修改"),_("code",[s._v("web/package.json")]),s._v("文件的"),_("code",[s._v("scripts.build")]),s._v("命令，把"),_("code",[s._v("vue-cli-service build && node ../copy.js")]),s._v("中的"),_("code",[s._v(" && node ../copy.js")]),s._v("删除即可。")]),_("p",[s._v("如果你想修改打包输出的目录，可以修改"),_("code",[s._v("web/vue.config.js")]),s._v("文件的"),_("code",[s._v("outputDir")]),s._v("配置，改成你想要输出的路径即可。")]),_("p",[s._v("如果你想修改"),_("code",[s._v("index.html")]),s._v("文件引用静态资源的路径的话可以修改"),_("code",[s._v("web/vue.config.js")]),s._v("文件的"),_("code",[s._v("publicPath")]),s._v("配置。")]),_("p",[s._v("另外默认使用的是"),_("code",[s._v("hash")]),s._v("路由，也就是路径中会在"),_("code",[s._v("#")]),s._v("，如果你想使用"),_("code",[s._v("history")]),s._v("路由，可以修改"),_("code",[s._v("web/src/router.js")]),s._v("文件，将：")]),_("pre",{staticClass:"hljs"},[_("code",[_("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" router = "),_("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" VueRouter({\n  routes\n})\n")])]),_("p",[s._v("改成：")]),_("pre",{staticClass:"hljs"},[_("code",[_("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" router = "),_("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" VueRouter({\n  "),_("span",{staticClass:"hljs-attr"},[s._v("mode")]),s._v(": "),_("span",{staticClass:"hljs-string"},[s._v("'history'")]),s._v(",\n  routes\n})\n")])]),_("p",[s._v("不过这需要后台支持，因为我们的应用是个单页客户端应用，如果后台没有正确的配置，当用户在浏览器直接访问子路由时会返回404，所以呢你要在服务端增加一个覆盖所有情况的候选资源：如果"),_("code",[s._v("URL")]),s._v("匹配不到任何静态资源，则应该返回同一个"),_("code",[s._v("index.html")]),s._v("页面。")]),_("h2",[s._v("Docker")]),_("p",[s._v("编写中。。。")])])}],n={},i=n,c=v("2877"),o=Object(c["a"])(i,e,t,!1,null,null,null);_["default"]=o.exports}}]);