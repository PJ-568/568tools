const chokidar=require("chokidar"),path=require("path"),fs=require("fs"),{exec:exec}=require("node:child_process"),{transformMdToVue:transformMdToVue}=require("./transformMdToVue"),reBuildAll=()=>{exec("node ./buildDoc.js",{cwd:path.resolve(__dirname)},((e,r)=>{console.log(e,r)}))},buildOne=e=>{let r=fs.readFileSync(e,"utf-8"),o=transformMdToVue(r),i=path.join(path.dirname(e),"./index.vue");fs.writeFileSync(i,o)};chokidar.watch(path.join(__dirname,"../src/pages/Doc/"),{ignoreInitial:!0}).on("all",((e,r)=>{/\.md$/.test(r)&&("change"===e?buildOne(r):exec("node ./buildDoc.js",{cwd:path.resolve(__dirname)},((e,r)=>{console.log(e,r)})))}));
